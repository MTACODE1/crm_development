"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[492],{4492:(l,r,e)=>{e.r(r),e.d(r,{AgGridJobManagerModule:()=>pe});var i=e(6895),a=e(5653),s=e(2510),d=e(655),h=e(4650),v=e(5898);let _=(()=>{class z{hasChildColumns(){return!(!(this.childColumns&&this.childColumns.length>0)||1===this.childColumns.length&&this.childColumns.first===this)}toColDef(){let X=this.createColDefFromGridColumn(this);return this.hasChildColumns()&&(X.children=this.getChildColDefs(this.childColumns)),X}getChildColDefs(X){return X.filter(ne=>!ne.hasChildColumns()).map(ne=>ne.toColDef())}createColDefFromGridColumn(X){return(0,d._T)(X,["childColumns"])}}return z.\u0275fac=function(X){return new(X||z)},z.\u0275cmp=h.Xpm({type:z,selectors:[["ag-grid-column"]],contentQueries:function(X,ne,we){if(1&X&&h.Suo(we,z,4),2&X){let he;h.iGM(he=h.CRH())&&(ne.childColumns=he)}},inputs:{filterFramework:"filterFramework",filterParams:"filterParams",floatingFilterComponent:"floatingFilterComponent",floatingFilterComponentParams:"floatingFilterComponentParams",floatingFilterComponentFramework:"floatingFilterComponentFramework",floatingFilterFramework:"floatingFilterFramework",filter:"filter",headerName:"headerName",headerValueGetter:"headerValueGetter",headerTooltip:"headerTooltip",headerClass:"headerClass",suppressHeaderKeyboardEvent:"suppressHeaderKeyboardEvent",columnGroupShow:"columnGroupShow",toolPanelClass:"toolPanelClass",suppressColumnsToolPanel:"suppressColumnsToolPanel",suppressFiltersToolPanel:"suppressFiltersToolPanel",tooltipComponent:"tooltipComponent",tooltipComponentFramework:"tooltipComponentFramework",tooltipComponentParams:"tooltipComponentParams",children:"children",groupId:"groupId",openByDefault:"openByDefault",marryChildren:"marryChildren",headerGroupComponent:"headerGroupComponent",headerGroupComponentFramework:"headerGroupComponentFramework",headerGroupComponentParams:"headerGroupComponentParams",colId:"colId",field:"field",type:"type",valueGetter:"valueGetter",valueFormatter:"valueFormatter",refData:"refData",keyCreator:"keyCreator",equals:"equals",tooltipField:"tooltipField",tooltipValueGetter:"tooltipValueGetter",checkboxSelection:"checkboxSelection",showDisabledCheckboxes:"showDisabledCheckboxes",icons:"icons",suppressNavigable:"suppressNavigable",suppressKeyboardEvent:"suppressKeyboardEvent",suppressPaste:"suppressPaste",suppressFillHandle:"suppressFillHandle",hide:"hide",initialHide:"initialHide",lockVisible:"lockVisible",lockPosition:"lockPosition",suppressMovable:"suppressMovable",editable:"editable",valueSetter:"valueSetter",valueParser:"valueParser",cellEditor:"cellEditor",cellEditorFramework:"cellEditorFramework",cellEditorParams:"cellEditorParams",cellEditorSelector:"cellEditorSelector",singleClickEdit:"singleClickEdit",newValueHandler:"newValueHandler",cellEditorPopup:"cellEditorPopup",cellEditorPopupPosition:"cellEditorPopupPosition",onCellValueChanged:"onCellValueChanged",onCellClicked:"onCellClicked",onCellDoubleClicked:"onCellDoubleClicked",onCellContextMenu:"onCellContextMenu",getQuickFilterText:"getQuickFilterText",filterValueGetter:"filterValueGetter",floatingFilter:"floatingFilter",wrapHeaderText:"wrapHeaderText",autoHeaderHeight:"autoHeaderHeight",headerComponent:"headerComponent",headerComponentFramework:"headerComponentFramework",headerComponentParams:"headerComponentParams",menuTabs:"menuTabs",columnsMenuParams:"columnsMenuParams",suppressMenu:"suppressMenu",headerCheckboxSelection:"headerCheckboxSelection",headerCheckboxSelectionFilteredOnly:"headerCheckboxSelectionFilteredOnly",chartDataType:"chartDataType",pinned:"pinned",initialPinned:"initialPinned",lockPinned:"lockPinned",pinnedRowCellRenderer:"pinnedRowCellRenderer",pinnedRowCellRendererFramework:"pinnedRowCellRendererFramework",pinnedRowCellRendererParams:"pinnedRowCellRendererParams",pinnedRowValueFormatter:"pinnedRowValueFormatter",pivot:"pivot",initialPivot:"initialPivot",pivotIndex:"pivotIndex",initialPivotIndex:"initialPivotIndex",pivotComparator:"pivotComparator",enablePivot:"enablePivot",cellStyle:"cellStyle",cellClass:"cellClass",cellClassRules:"cellClassRules",cellRenderer:"cellRenderer",cellRendererFramework:"cellRendererFramework",cellRendererParams:"cellRendererParams",cellRendererSelector:"cellRendererSelector",autoHeight:"autoHeight",wrapText:"wrapText",enableCellChangeFlash:"enableCellChangeFlash",suppressCellFlash:"suppressCellFlash",rowDrag:"rowDrag",rowDragText:"rowDragText",dndSource:"dndSource",dndSourceOnRowDrag:"dndSourceOnRowDrag",rowGroup:"rowGroup",initialRowGroup:"initialRowGroup",rowGroupIndex:"rowGroupIndex",initialRowGroupIndex:"initialRowGroupIndex",enableRowGroup:"enableRowGroup",enableValue:"enableValue",aggFunc:"aggFunc",initialAggFunc:"initialAggFunc",defaultAggFunc:"defaultAggFunc",allowedAggFuncs:"allowedAggFuncs",showRowGroup:"showRowGroup",sortable:"sortable",sort:"sort",initialSort:"initialSort",sortIndex:"sortIndex",initialSortIndex:"initialSortIndex",sortingOrder:"sortingOrder",comparator:"comparator",unSortIcon:"unSortIcon",sortedAt:"sortedAt",colSpan:"colSpan",rowSpan:"rowSpan",width:"width",initialWidth:"initialWidth",minWidth:"minWidth",maxWidth:"maxWidth",flex:"flex",initialFlex:"initialFlex",resizable:"resizable",suppressSizeToFit:"suppressSizeToFit",suppressAutoSize:"suppressAutoSize"},decls:0,vars:0,template:function(X,ne){},encapsulation:2}),z})(),y=(()=>{class z extends v.vA3{constructor(X){super(),this._ngZone=X}setEmitterUsedCallback(X){this.isEmitterUsed=X}setTimeout(X,ne){this._ngZone?this._ngZone.runOutsideAngular(()=>{window.setTimeout(()=>{X()},ne)}):window.setTimeout(()=>{X()},ne)}setInterval(X,ne){return new v.j_S(we=>{this._ngZone?this._ngZone.runOutsideAngular(()=>{we(window.setInterval(()=>{X()},ne))}):we(window.setInterval(()=>{X()},ne))})}addEventListener(X,ne,we,he){this.isOutsideAngular(ne)&&this._ngZone?this._ngZone.runOutsideAngular(()=>{X.addEventListener(ne,we,he)}):X.addEventListener(ne,we,he)}dispatchEvent(X,ne,we=!1){this.isOutsideAngular(X)?this._ngZone?this._ngZone.runOutsideAngular(ne):ne():(this.isEmitterUsed(X)||we)&&(!h.R0b.isInAngularZone()&&this._ngZone?this._ngZone.run(ne):ne())}isFrameworkComponent(X){if(!X)return!1;const ne=X.prototype;return ne&&"agInit"in ne}}return z.\u0275fac=function(X){return new(X||z)(h.LFG(h.R0b))},z.\u0275prov=h.Yz7({token:z,factory:z.\u0275fac}),z})(),m=(()=>{class z extends v.Nk3{setViewContainerRef(X){this.viewContainerRef=X}setComponentFactoryResolver(X){this.componentFactoryResolver=X}createWrapper(X){let ne=this,he=new class we extends class E{init(le){this._params=le,this._componentRef=this.createComponent(),this._agAwareComponent=this._componentRef.instance,this._frameworkComponentInstance=this._componentRef.instance,this._eGui=this._componentRef.location.nativeElement,this._agAwareComponent.agInit(this._params)}getGui(){return this._eGui}destroy(){this._frameworkComponentInstance&&"function"==typeof this._frameworkComponentInstance.destroy&&this._frameworkComponentInstance.destroy(),this._componentRef&&this._componentRef.destroy()}getFrameworkComponentInstance(){return this._frameworkComponentInstance}}{init(ve){super.init(ve),this._componentRef.changeDetectorRef.detectChanges()}createComponent(){return ne.createComponent(X)}hasMethod(ve){return null!=he.getFrameworkComponentInstance()[ve]}callMethod(ve,De){const Le=this.getFrameworkComponentInstance();return he.getFrameworkComponentInstance()[ve].apply(Le,De)}addMethod(ve,De){he[ve]=De}};return he}createComponent(X){let ne=this.componentFactoryResolver.resolveComponentFactory(X);return this.viewContainerRef.createComponent(ne)}}return z.\u0275fac=function(){let le;return function(ne){return(le||(le=h.n5z(z)))(ne||z)}}(),z.\u0275prov=h.Yz7({token:z,factory:z.\u0275fac}),z})(),w=(()=>{class z{constructor(X,ne,we,he,be){this.viewContainerRef=ne,this.angularFrameworkOverrides=we,this.frameworkComponentWrapper=he,this.componentFactoryResolver=be,this._initialised=!1,this._destroyed=!1,this._fullyReady=v.j_S.resolve(!0),this.statusBar=void 0,this.sideBar=void 0,this.suppressContextMenu=void 0,this.preventDefaultOnContextMenu=void 0,this.allowContextMenuWithControlKey=void 0,this.suppressMenuHide=void 0,this.enableBrowserTooltips=void 0,this.tooltipShowDelay=void 0,this.tooltipHideDelay=void 0,this.tooltipMouseTrack=void 0,this.popupParent=void 0,this.copyHeadersToClipboard=void 0,this.copyGroupHeadersToClipboard=void 0,this.clipboardDelimiter=void 0,this.suppressCopyRowsToClipboard=void 0,this.suppressCopySingleCellRanges=void 0,this.suppressLastEmptyLineOnPaste=void 0,this.suppressClipboardPaste=void 0,this.suppressClipboardApi=void 0,this.columnDefs=void 0,this.defaultColDef=void 0,this.defaultColGroupDef=void 0,this.columnTypes=void 0,this.maintainColumnOrder=void 0,this.suppressFieldDotNotation=void 0,this.deltaColumnMode=void 0,this.applyColumnDefOrder=void 0,this.immutableColumns=void 0,this.suppressSetColumnStateEvents=void 0,this.suppressColumnStateEvents=void 0,this.colWidth=void 0,this.minColWidth=void 0,this.maxColWidth=void 0,this.headerHeight=void 0,this.groupHeaderHeight=void 0,this.floatingFiltersHeight=void 0,this.pivotHeaderHeight=void 0,this.pivotGroupHeaderHeight=void 0,this.allowDragFromColumnsToolPanel=void 0,this.suppressMovableColumns=void 0,this.suppressColumnMoveAnimation=void 0,this.suppressDragLeaveHidesColumns=void 0,this.suppressRowGroupHidesColumns=void 0,this.colResizeDefault=void 0,this.suppressAutoSize=void 0,this.autoSizePadding=void 0,this.skipHeaderOnAutoSize=void 0,this.components=void 0,this.frameworkComponents=void 0,this.editType=void 0,this.singleClickEdit=void 0,this.suppressClickEdit=void 0,this.readOnlyEdit=void 0,this.stopEditingWhenCellsLoseFocus=void 0,this.enterMovesDown=void 0,this.enterMovesDownAfterEdit=void 0,this.undoRedoCellEditing=void 0,this.undoRedoCellEditingLimit=void 0,this.stopEditingWhenGridLosesFocus=void 0,this.defaultCsvExportParams=void 0,this.suppressCsvExport=void 0,this.defaultExcelExportParams=void 0,this.suppressExcelExport=void 0,this.excelStyles=void 0,this.defaultExportParams=void 0,this.quickFilterText=void 0,this.cacheQuickFilter=void 0,this.excludeChildrenWhenTreeDataFiltering=void 0,this.enableCharts=void 0,this.chartThemes=void 0,this.customChartThemes=void 0,this.chartThemeOverrides=void 0,this.loadingCellRenderer=void 0,this.loadingCellRendererFramework=void 0,this.loadingCellRendererParams=void 0,this.loadingCellRendererSelector=void 0,this.localeText=void 0,this.masterDetail=void 0,this.keepDetailRows=void 0,this.keepDetailRowsCount=void 0,this.detailCellRenderer=void 0,this.detailCellRendererFramework=void 0,this.detailCellRendererParams=void 0,this.detailRowHeight=void 0,this.detailRowAutoHeight=void 0,this.groupRowsSticky=void 0,this.context=void 0,this.alignedGrids=void 0,this.tabIndex=void 0,this.rowBuffer=void 0,this.valueCache=void 0,this.valueCacheNeverExpires=void 0,this.enableCellExpressions=void 0,this.suppressParentsInRowNodes=void 0,this.suppressTouch=void 0,this.suppressFocusAfterRefresh=void 0,this.suppressAsyncEvents=void 0,this.suppressBrowserResizeObserver=void 0,this.suppressPropertyNamesCheck=void 0,this.suppressChangeDetection=void 0,this.debug=void 0,this.overlayLoadingTemplate=void 0,this.loadingOverlayComponent=void 0,this.loadingOverlayComponentFramework=void 0,this.loadingOverlayComponentParams=void 0,this.suppressLoadingOverlay=void 0,this.overlayNoRowsTemplate=void 0,this.noRowsOverlayComponent=void 0,this.noRowsOverlayComponentFramework=void 0,this.noRowsOverlayComponentParams=void 0,this.suppressNoRowsOverlay=void 0,this.pagination=void 0,this.paginationPageSize=void 0,this.paginationAutoPageSize=void 0,this.paginateChildRows=void 0,this.suppressPaginationPanel=void 0,this.pivotMode=void 0,this.pivotPanelShow=void 0,this.pivotColumnGroupTotals=void 0,this.pivotRowTotals=void 0,this.pivotSuppressAutoColumn=void 0,this.suppressExpandablePivotGroups=void 0,this.functionsReadOnly=void 0,this.aggFuncs=void 0,this.suppressAggFuncInHeader=void 0,this.suppressAggAtRootLevel=void 0,this.aggregateOnlyChangedColumns=void 0,this.suppressAggFilteredOnly=void 0,this.removePivotHeaderRowWhenSingleValueColumn=void 0,this.animateRows=void 0,this.enableCellChangeFlash=void 0,this.cellFlashDelay=void 0,this.cellFadeDelay=void 0,this.domLayout=void 0,this.ensureDomOrder=void 0,this.enableRtl=void 0,this.suppressColumnVirtualisation=void 0,this.suppressMaxRenderedRowRestriction=void 0,this.suppressRowVirtualisation=void 0,this.rowDragManaged=void 0,this.suppressRowDrag=void 0,this.suppressMoveWhenRowDragging=void 0,this.rowDragEntireRow=void 0,this.rowDragMultiRow=void 0,this.fullWidthCellRenderer=void 0,this.fullWidthCellRendererFramework=void 0,this.fullWidthCellRendererParams=void 0,this.embedFullWidthRows=void 0,this.deprecatedEmbedFullWidthRows=void 0,this.groupDisplayType=void 0,this.groupDefaultExpanded=void 0,this.autoGroupColumnDef=void 0,this.groupMaintainOrder=void 0,this.groupSelectsChildren=void 0,this.groupAggFiltering=void 0,this.groupIncludeFooter=void 0,this.groupIncludeTotalFooter=void 0,this.groupSuppressBlankHeader=void 0,this.groupSelectsFiltered=void 0,this.showOpenedGroup=void 0,this.groupRemoveSingleChildren=void 0,this.groupRemoveLowestSingleChildren=void 0,this.groupHideOpenParents=void 0,this.rowGroupPanelShow=void 0,this.groupRowRenderer=void 0,this.groupRowRendererFramework=void 0,this.groupRowRendererParams=void 0,this.suppressMakeColumnVisibleAfterUnGroup=void 0,this.treeData=void 0,this.groupRowInnerRenderer=void 0,this.groupRowInnerRendererFramework=void 0,this.groupMultiAutoColumn=void 0,this.groupUseEntireRow=void 0,this.groupSuppressAutoColumn=void 0,this.rememberGroupStateWhenNewData=void 0,this.pinnedTopRowData=void 0,this.pinnedBottomRowData=void 0,this.rowModelType=void 0,this.rowData=void 0,this.immutableData=void 0,this.asyncTransactionWaitMillis=void 0,this.suppressModelUpdateAfterUpdateTransaction=void 0,this.deltaRowDataMode=void 0,this.batchUpdateWaitMillis=void 0,this.datasource=void 0,this.cacheOverflowSize=void 0,this.infiniteInitialRowCount=void 0,this.serverSideInitialRowCount=void 0,this.serverSideStoreType=void 0,this.serverSideInfiniteScroll=void 0,this.cacheBlockSize=void 0,this.maxBlocksInCache=void 0,this.maxConcurrentDatasourceRequests=void 0,this.blockLoadDebounceMillis=void 0,this.purgeClosedRowNodes=void 0,this.serverSideDatasource=void 0,this.serverSideSortAllLevels=void 0,this.serverSideFilterAllLevels=void 0,this.serverSideSortOnServer=void 0,this.serverSideFilterOnServer=void 0,this.serverSideSortingAlwaysResets=void 0,this.serverSideFilteringAlwaysResets=void 0,this.suppressEnterpriseResetOnNewColumns=void 0,this.viewportDatasource=void 0,this.viewportRowModelPageSize=void 0,this.viewportRowModelBufferSize=void 0,this.alwaysShowHorizontalScroll=void 0,this.alwaysShowVerticalScroll=void 0,this.debounceVerticalScrollbar=void 0,this.suppressHorizontalScroll=void 0,this.suppressScrollOnNewData=void 0,this.suppressScrollWhenPopupsAreOpen=void 0,this.suppressAnimationFrame=void 0,this.suppressMiddleClickScrolls=void 0,this.suppressPreventDefaultOnMouseWheel=void 0,this.scrollbarWidth=void 0,this.rowSelection=void 0,this.rowMultiSelectWithClick=void 0,this.suppressRowDeselection=void 0,this.suppressRowClickSelection=void 0,this.suppressCellSelection=void 0,this.suppressCellFocus=void 0,this.suppressMultiRangeSelection=void 0,this.enableCellTextSelection=void 0,this.enableRangeSelection=void 0,this.enableRangeHandle=void 0,this.enableFillHandle=void 0,this.fillHandleDirection=void 0,this.suppressClearOnFillReduction=void 0,this.sortingOrder=void 0,this.accentedSort=void 0,this.unSortIcon=void 0,this.suppressMultiSort=void 0,this.alwaysMultiSort=void 0,this.multiSortKey=void 0,this.suppressMaintainUnsortedOrder=void 0,this.icons=void 0,this.rowHeight=void 0,this.rowStyle=void 0,this.rowClass=void 0,this.rowClassRules=void 0,this.suppressRowHoverHighlight=void 0,this.suppressRowTransform=void 0,this.columnHoverHighlight=void 0,this.deltaSort=void 0,this.treeDataDisplayType=void 0,this.angularCompileRows=void 0,this.angularCompileFilters=void 0,this.functionsPassive=void 0,this.enableGroupEdit=void 0,this.getContextMenuItems=void 0,this.getMainMenuItems=void 0,this.postProcessPopup=void 0,this.processCellForClipboard=void 0,this.processHeaderForClipboard=void 0,this.processGroupHeaderForClipboard=void 0,this.processCellFromClipboard=void 0,this.sendToClipboard=void 0,this.processDataFromClipboard=void 0,this.isExternalFilterPresent=void 0,this.doesExternalFilterPass=void 0,this.getChartToolbarItems=void 0,this.createChartContainer=void 0,this.navigateToNextHeader=void 0,this.tabToNextHeader=void 0,this.navigateToNextCell=void 0,this.tabToNextCell=void 0,this.suppressKeyboardEvent=void 0,this.localeTextFunc=void 0,this.getLocaleText=void 0,this.getDocument=void 0,this.paginationNumberFormatter=void 0,this.groupRowAggNodes=void 0,this.getGroupRowAgg=void 0,this.isGroupOpenByDefault=void 0,this.initialGroupOrderComparator=void 0,this.defaultGroupOrderComparator=void 0,this.processSecondaryColDef=void 0,this.processSecondaryColGroupDef=void 0,this.processPivotResultColDef=void 0,this.processPivotResultColGroupDef=void 0,this.getDataPath=void 0,this.defaultGroupSortComparator=void 0,this.getChildCount=void 0,this.getServerSideGroupLevelParams=void 0,this.getServerSideStoreParams=void 0,this.isServerSideGroupOpenByDefault=void 0,this.isApplyServerSideTransaction=void 0,this.isServerSideGroup=void 0,this.getServerSideGroupKey=void 0,this.getBusinessKeyForNode=void 0,this.getRowNodeId=void 0,this.getRowId=void 0,this.resetRowDataOnUpdate=void 0,this.processRowPostCreate=void 0,this.isRowSelectable=void 0,this.isRowMaster=void 0,this.fillOperation=void 0,this.postSort=void 0,this.postSortRows=void 0,this.getRowStyle=void 0,this.getRowClass=void 0,this.getRowHeight=void 0,this.isFullWidthCell=void 0,this.isFullWidthRow=void 0,this.toolPanelVisibleChanged=new h.vpe,this.pasteStart=new h.vpe,this.pasteEnd=new h.vpe,this.columnVisible=new h.vpe,this.columnPinned=new h.vpe,this.columnResized=new h.vpe,this.columnMoved=new h.vpe,this.columnValueChanged=new h.vpe,this.columnPivotModeChanged=new h.vpe,this.columnPivotChanged=new h.vpe,this.columnGroupOpened=new h.vpe,this.newColumnsLoaded=new h.vpe,this.gridColumnsChanged=new h.vpe,this.displayedColumnsChanged=new h.vpe,this.virtualColumnsChanged=new h.vpe,this.columnEverythingChanged=new h.vpe,this.componentStateChanged=new h.vpe,this.cellValueChanged=new h.vpe,this.cellEditRequest=new h.vpe,this.rowValueChanged=new h.vpe,this.cellEditingStarted=new h.vpe,this.cellEditingStopped=new h.vpe,this.rowEditingStarted=new h.vpe,this.rowEditingStopped=new h.vpe,this.filterOpened=new h.vpe,this.filterChanged=new h.vpe,this.filterModified=new h.vpe,this.chartCreated=new h.vpe,this.chartRangeSelectionChanged=new h.vpe,this.chartOptionsChanged=new h.vpe,this.chartDestroyed=new h.vpe,this.cellKeyDown=new h.vpe,this.cellKeyPress=new h.vpe,this.gridReady=new h.vpe,this.firstDataRendered=new h.vpe,this.gridSizeChanged=new h.vpe,this.modelUpdated=new h.vpe,this.virtualRowRemoved=new h.vpe,this.viewportChanged=new h.vpe,this.bodyScroll=new h.vpe,this.bodyScrollEnd=new h.vpe,this.dragStarted=new h.vpe,this.dragStopped=new h.vpe,this.paginationChanged=new h.vpe,this.rowDragEnter=new h.vpe,this.rowDragMove=new h.vpe,this.rowDragLeave=new h.vpe,this.rowDragEnd=new h.vpe,this.columnRowGroupChanged=new h.vpe,this.rowGroupOpened=new h.vpe,this.expandOrCollapseAll=new h.vpe,this.pinnedRowDataChanged=new h.vpe,this.rowDataChanged=new h.vpe,this.rowDataUpdated=new h.vpe,this.asyncTransactionsFlushed=new h.vpe,this.cellClicked=new h.vpe,this.cellDoubleClicked=new h.vpe,this.cellFocused=new h.vpe,this.cellMouseOver=new h.vpe,this.cellMouseOut=new h.vpe,this.cellMouseDown=new h.vpe,this.rowClicked=new h.vpe,this.rowDoubleClicked=new h.vpe,this.rowSelected=new h.vpe,this.selectionChanged=new h.vpe,this.cellContextMenu=new h.vpe,this.rangeSelectionChanged=new h.vpe,this.sortChanged=new h.vpe,this.columnRowGroupChangeRequest=new h.vpe,this.columnPivotChangeRequest=new h.vpe,this.columnValueChangeRequest=new h.vpe,this.columnAggFuncChangeRequest=new h.vpe,this._nativeElement=X.nativeElement}ngAfterViewInit(){this.frameworkComponentWrapper.setViewContainerRef(this.viewContainerRef),this.frameworkComponentWrapper.setComponentFactoryResolver(this.componentFactoryResolver),this.angularFrameworkOverrides.setEmitterUsedCallback(this.isEmitterUsed.bind(this)),this.gridOptions=v.plv.copyAttributesToGridOptions(this.gridOptions,this,!0),this.gridParams={globalEventListener:this.globalEventListener.bind(this),frameworkOverrides:this.angularFrameworkOverrides,providedBeanInstances:{frameworkComponentWrapper:this.frameworkComponentWrapper},modules:this.modules||[]},this.columns&&this.columns.length>0&&(this.gridOptions.columnDefs=this.columns.map(X=>X.toColDef())),new v.rjZ(this._nativeElement,this.gridOptions,this.gridParams),this.gridOptions.api&&(this.api=this.gridOptions.api),this.gridOptions.columnApi&&(this.columnApi=this.gridOptions.columnApi),this._initialised=!0,this._fullyReady.resolveNow(null,X=>X)}ngOnChanges(X){this._initialised&&v.plv.processOnChange(X,this.gridOptions,this.api,this.columnApi)}ngOnDestroy(){this._initialised&&(this._destroyed=!0,this.api&&this.api.destroy())}isEmitterUsed(X){const ne=this[X],we=!!ne&&ne.observers&&ne.observers.length>0,he=`on${X.charAt(0).toUpperCase()}${X.substring(1)}`;return we||!!this.gridOptions&&!!this.gridOptions[he]}globalEventListener(X,ne){if(this._destroyed)return;const we=this[X];we&&this.isEmitterUsed(X)&&("gridReady"===X?this._fullyReady.then(he=>{we.emit(ne)}):we.emit(ne))}}return z.\u0275fac=function(X){return new(X||z)(h.Y36(h.SBq),h.Y36(h.s_b),h.Y36(y),h.Y36(m),h.Y36(h._Vd))},z.\u0275cmp=h.Xpm({type:z,selectors:[["ag-grid-angular"]],contentQueries:function(X,ne,we){if(1&X&&h.Suo(we,_,4),2&X){let he;h.iGM(he=h.CRH())&&(ne.columns=he)}},inputs:{gridOptions:"gridOptions",modules:"modules",statusBar:"statusBar",sideBar:"sideBar",suppressContextMenu:"suppressContextMenu",preventDefaultOnContextMenu:"preventDefaultOnContextMenu",allowContextMenuWithControlKey:"allowContextMenuWithControlKey",suppressMenuHide:"suppressMenuHide",enableBrowserTooltips:"enableBrowserTooltips",tooltipShowDelay:"tooltipShowDelay",tooltipHideDelay:"tooltipHideDelay",tooltipMouseTrack:"tooltipMouseTrack",popupParent:"popupParent",copyHeadersToClipboard:"copyHeadersToClipboard",copyGroupHeadersToClipboard:"copyGroupHeadersToClipboard",clipboardDelimiter:"clipboardDelimiter",suppressCopyRowsToClipboard:"suppressCopyRowsToClipboard",suppressCopySingleCellRanges:"suppressCopySingleCellRanges",suppressLastEmptyLineOnPaste:"suppressLastEmptyLineOnPaste",suppressClipboardPaste:"suppressClipboardPaste",suppressClipboardApi:"suppressClipboardApi",columnDefs:"columnDefs",defaultColDef:"defaultColDef",defaultColGroupDef:"defaultColGroupDef",columnTypes:"columnTypes",maintainColumnOrder:"maintainColumnOrder",suppressFieldDotNotation:"suppressFieldDotNotation",deltaColumnMode:"deltaColumnMode",applyColumnDefOrder:"applyColumnDefOrder",immutableColumns:"immutableColumns",suppressSetColumnStateEvents:"suppressSetColumnStateEvents",suppressColumnStateEvents:"suppressColumnStateEvents",colWidth:"colWidth",minColWidth:"minColWidth",maxColWidth:"maxColWidth",headerHeight:"headerHeight",groupHeaderHeight:"groupHeaderHeight",floatingFiltersHeight:"floatingFiltersHeight",pivotHeaderHeight:"pivotHeaderHeight",pivotGroupHeaderHeight:"pivotGroupHeaderHeight",allowDragFromColumnsToolPanel:"allowDragFromColumnsToolPanel",suppressMovableColumns:"suppressMovableColumns",suppressColumnMoveAnimation:"suppressColumnMoveAnimation",suppressDragLeaveHidesColumns:"suppressDragLeaveHidesColumns",suppressRowGroupHidesColumns:"suppressRowGroupHidesColumns",colResizeDefault:"colResizeDefault",suppressAutoSize:"suppressAutoSize",autoSizePadding:"autoSizePadding",skipHeaderOnAutoSize:"skipHeaderOnAutoSize",components:"components",frameworkComponents:"frameworkComponents",editType:"editType",singleClickEdit:"singleClickEdit",suppressClickEdit:"suppressClickEdit",readOnlyEdit:"readOnlyEdit",stopEditingWhenCellsLoseFocus:"stopEditingWhenCellsLoseFocus",enterMovesDown:"enterMovesDown",enterMovesDownAfterEdit:"enterMovesDownAfterEdit",undoRedoCellEditing:"undoRedoCellEditing",undoRedoCellEditingLimit:"undoRedoCellEditingLimit",stopEditingWhenGridLosesFocus:"stopEditingWhenGridLosesFocus",defaultCsvExportParams:"defaultCsvExportParams",suppressCsvExport:"suppressCsvExport",defaultExcelExportParams:"defaultExcelExportParams",suppressExcelExport:"suppressExcelExport",excelStyles:"excelStyles",defaultExportParams:"defaultExportParams",quickFilterText:"quickFilterText",cacheQuickFilter:"cacheQuickFilter",excludeChildrenWhenTreeDataFiltering:"excludeChildrenWhenTreeDataFiltering",enableCharts:"enableCharts",chartThemes:"chartThemes",customChartThemes:"customChartThemes",chartThemeOverrides:"chartThemeOverrides",loadingCellRenderer:"loadingCellRenderer",loadingCellRendererFramework:"loadingCellRendererFramework",loadingCellRendererParams:"loadingCellRendererParams",loadingCellRendererSelector:"loadingCellRendererSelector",localeText:"localeText",masterDetail:"masterDetail",keepDetailRows:"keepDetailRows",keepDetailRowsCount:"keepDetailRowsCount",detailCellRenderer:"detailCellRenderer",detailCellRendererFramework:"detailCellRendererFramework",detailCellRendererParams:"detailCellRendererParams",detailRowHeight:"detailRowHeight",detailRowAutoHeight:"detailRowAutoHeight",groupRowsSticky:"groupRowsSticky",context:"context",alignedGrids:"alignedGrids",tabIndex:"tabIndex",rowBuffer:"rowBuffer",valueCache:"valueCache",valueCacheNeverExpires:"valueCacheNeverExpires",enableCellExpressions:"enableCellExpressions",suppressParentsInRowNodes:"suppressParentsInRowNodes",suppressTouch:"suppressTouch",suppressFocusAfterRefresh:"suppressFocusAfterRefresh",suppressAsyncEvents:"suppressAsyncEvents",suppressBrowserResizeObserver:"suppressBrowserResizeObserver",suppressPropertyNamesCheck:"suppressPropertyNamesCheck",suppressChangeDetection:"suppressChangeDetection",debug:"debug",overlayLoadingTemplate:"overlayLoadingTemplate",loadingOverlayComponent:"loadingOverlayComponent",loadingOverlayComponentFramework:"loadingOverlayComponentFramework",loadingOverlayComponentParams:"loadingOverlayComponentParams",suppressLoadingOverlay:"suppressLoadingOverlay",overlayNoRowsTemplate:"overlayNoRowsTemplate",noRowsOverlayComponent:"noRowsOverlayComponent",noRowsOverlayComponentFramework:"noRowsOverlayComponentFramework",noRowsOverlayComponentParams:"noRowsOverlayComponentParams",suppressNoRowsOverlay:"suppressNoRowsOverlay",pagination:"pagination",paginationPageSize:"paginationPageSize",paginationAutoPageSize:"paginationAutoPageSize",paginateChildRows:"paginateChildRows",suppressPaginationPanel:"suppressPaginationPanel",pivotMode:"pivotMode",pivotPanelShow:"pivotPanelShow",pivotColumnGroupTotals:"pivotColumnGroupTotals",pivotRowTotals:"pivotRowTotals",pivotSuppressAutoColumn:"pivotSuppressAutoColumn",suppressExpandablePivotGroups:"suppressExpandablePivotGroups",functionsReadOnly:"functionsReadOnly",aggFuncs:"aggFuncs",suppressAggFuncInHeader:"suppressAggFuncInHeader",suppressAggAtRootLevel:"suppressAggAtRootLevel",aggregateOnlyChangedColumns:"aggregateOnlyChangedColumns",suppressAggFilteredOnly:"suppressAggFilteredOnly",removePivotHeaderRowWhenSingleValueColumn:"removePivotHeaderRowWhenSingleValueColumn",animateRows:"animateRows",enableCellChangeFlash:"enableCellChangeFlash",cellFlashDelay:"cellFlashDelay",cellFadeDelay:"cellFadeDelay",domLayout:"domLayout",ensureDomOrder:"ensureDomOrder",enableRtl:"enableRtl",suppressColumnVirtualisation:"suppressColumnVirtualisation",suppressMaxRenderedRowRestriction:"suppressMaxRenderedRowRestriction",suppressRowVirtualisation:"suppressRowVirtualisation",rowDragManaged:"rowDragManaged",suppressRowDrag:"suppressRowDrag",suppressMoveWhenRowDragging:"suppressMoveWhenRowDragging",rowDragEntireRow:"rowDragEntireRow",rowDragMultiRow:"rowDragMultiRow",fullWidthCellRenderer:"fullWidthCellRenderer",fullWidthCellRendererFramework:"fullWidthCellRendererFramework",fullWidthCellRendererParams:"fullWidthCellRendererParams",embedFullWidthRows:"embedFullWidthRows",deprecatedEmbedFullWidthRows:"deprecatedEmbedFullWidthRows",groupDisplayType:"groupDisplayType",groupDefaultExpanded:"groupDefaultExpanded",autoGroupColumnDef:"autoGroupColumnDef",groupMaintainOrder:"groupMaintainOrder",groupSelectsChildren:"groupSelectsChildren",groupAggFiltering:"groupAggFiltering",groupIncludeFooter:"groupIncludeFooter",groupIncludeTotalFooter:"groupIncludeTotalFooter",groupSuppressBlankHeader:"groupSuppressBlankHeader",groupSelectsFiltered:"groupSelectsFiltered",showOpenedGroup:"showOpenedGroup",groupRemoveSingleChildren:"groupRemoveSingleChildren",groupRemoveLowestSingleChildren:"groupRemoveLowestSingleChildren",groupHideOpenParents:"groupHideOpenParents",rowGroupPanelShow:"rowGroupPanelShow",groupRowRenderer:"groupRowRenderer",groupRowRendererFramework:"groupRowRendererFramework",groupRowRendererParams:"groupRowRendererParams",suppressMakeColumnVisibleAfterUnGroup:"suppressMakeColumnVisibleAfterUnGroup",treeData:"treeData",groupRowInnerRenderer:"groupRowInnerRenderer",groupRowInnerRendererFramework:"groupRowInnerRendererFramework",groupMultiAutoColumn:"groupMultiAutoColumn",groupUseEntireRow:"groupUseEntireRow",groupSuppressAutoColumn:"groupSuppressAutoColumn",rememberGroupStateWhenNewData:"rememberGroupStateWhenNewData",pinnedTopRowData:"pinnedTopRowData",pinnedBottomRowData:"pinnedBottomRowData",rowModelType:"rowModelType",rowData:"rowData",immutableData:"immutableData",asyncTransactionWaitMillis:"asyncTransactionWaitMillis",suppressModelUpdateAfterUpdateTransaction:"suppressModelUpdateAfterUpdateTransaction",deltaRowDataMode:"deltaRowDataMode",batchUpdateWaitMillis:"batchUpdateWaitMillis",datasource:"datasource",cacheOverflowSize:"cacheOverflowSize",infiniteInitialRowCount:"infiniteInitialRowCount",serverSideInitialRowCount:"serverSideInitialRowCount",serverSideStoreType:"serverSideStoreType",serverSideInfiniteScroll:"serverSideInfiniteScroll",cacheBlockSize:"cacheBlockSize",maxBlocksInCache:"maxBlocksInCache",maxConcurrentDatasourceRequests:"maxConcurrentDatasourceRequests",blockLoadDebounceMillis:"blockLoadDebounceMillis",purgeClosedRowNodes:"purgeClosedRowNodes",serverSideDatasource:"serverSideDatasource",serverSideSortAllLevels:"serverSideSortAllLevels",serverSideFilterAllLevels:"serverSideFilterAllLevels",serverSideSortOnServer:"serverSideSortOnServer",serverSideFilterOnServer:"serverSideFilterOnServer",serverSideSortingAlwaysResets:"serverSideSortingAlwaysResets",serverSideFilteringAlwaysResets:"serverSideFilteringAlwaysResets",suppressEnterpriseResetOnNewColumns:"suppressEnterpriseResetOnNewColumns",viewportDatasource:"viewportDatasource",viewportRowModelPageSize:"viewportRowModelPageSize",viewportRowModelBufferSize:"viewportRowModelBufferSize",alwaysShowHorizontalScroll:"alwaysShowHorizontalScroll",alwaysShowVerticalScroll:"alwaysShowVerticalScroll",debounceVerticalScrollbar:"debounceVerticalScrollbar",suppressHorizontalScroll:"suppressHorizontalScroll",suppressScrollOnNewData:"suppressScrollOnNewData",suppressScrollWhenPopupsAreOpen:"suppressScrollWhenPopupsAreOpen",suppressAnimationFrame:"suppressAnimationFrame",suppressMiddleClickScrolls:"suppressMiddleClickScrolls",suppressPreventDefaultOnMouseWheel:"suppressPreventDefaultOnMouseWheel",scrollbarWidth:"scrollbarWidth",rowSelection:"rowSelection",rowMultiSelectWithClick:"rowMultiSelectWithClick",suppressRowDeselection:"suppressRowDeselection",suppressRowClickSelection:"suppressRowClickSelection",suppressCellSelection:"suppressCellSelection",suppressCellFocus:"suppressCellFocus",suppressMultiRangeSelection:"suppressMultiRangeSelection",enableCellTextSelection:"enableCellTextSelection",enableRangeSelection:"enableRangeSelection",enableRangeHandle:"enableRangeHandle",enableFillHandle:"enableFillHandle",fillHandleDirection:"fillHandleDirection",suppressClearOnFillReduction:"suppressClearOnFillReduction",sortingOrder:"sortingOrder",accentedSort:"accentedSort",unSortIcon:"unSortIcon",suppressMultiSort:"suppressMultiSort",alwaysMultiSort:"alwaysMultiSort",multiSortKey:"multiSortKey",suppressMaintainUnsortedOrder:"suppressMaintainUnsortedOrder",icons:"icons",rowHeight:"rowHeight",rowStyle:"rowStyle",rowClass:"rowClass",rowClassRules:"rowClassRules",suppressRowHoverHighlight:"suppressRowHoverHighlight",suppressRowTransform:"suppressRowTransform",columnHoverHighlight:"columnHoverHighlight",deltaSort:"deltaSort",treeDataDisplayType:"treeDataDisplayType",angularCompileRows:"angularCompileRows",angularCompileFilters:"angularCompileFilters",functionsPassive:"functionsPassive",enableGroupEdit:"enableGroupEdit",getContextMenuItems:"getContextMenuItems",getMainMenuItems:"getMainMenuItems",postProcessPopup:"postProcessPopup",processCellForClipboard:"processCellForClipboard",processHeaderForClipboard:"processHeaderForClipboard",processGroupHeaderForClipboard:"processGroupHeaderForClipboard",processCellFromClipboard:"processCellFromClipboard",sendToClipboard:"sendToClipboard",processDataFromClipboard:"processDataFromClipboard",isExternalFilterPresent:"isExternalFilterPresent",doesExternalFilterPass:"doesExternalFilterPass",getChartToolbarItems:"getChartToolbarItems",createChartContainer:"createChartContainer",navigateToNextHeader:"navigateToNextHeader",tabToNextHeader:"tabToNextHeader",navigateToNextCell:"navigateToNextCell",tabToNextCell:"tabToNextCell",suppressKeyboardEvent:"suppressKeyboardEvent",localeTextFunc:"localeTextFunc",getLocaleText:"getLocaleText",getDocument:"getDocument",paginationNumberFormatter:"paginationNumberFormatter",groupRowAggNodes:"groupRowAggNodes",getGroupRowAgg:"getGroupRowAgg",isGroupOpenByDefault:"isGroupOpenByDefault",initialGroupOrderComparator:"initialGroupOrderComparator",defaultGroupOrderComparator:"defaultGroupOrderComparator",processSecondaryColDef:"processSecondaryColDef",processSecondaryColGroupDef:"processSecondaryColGroupDef",processPivotResultColDef:"processPivotResultColDef",processPivotResultColGroupDef:"processPivotResultColGroupDef",getDataPath:"getDataPath",defaultGroupSortComparator:"defaultGroupSortComparator",getChildCount:"getChildCount",getServerSideGroupLevelParams:"getServerSideGroupLevelParams",getServerSideStoreParams:"getServerSideStoreParams",isServerSideGroupOpenByDefault:"isServerSideGroupOpenByDefault",isApplyServerSideTransaction:"isApplyServerSideTransaction",isServerSideGroup:"isServerSideGroup",getServerSideGroupKey:"getServerSideGroupKey",getBusinessKeyForNode:"getBusinessKeyForNode",getRowNodeId:"getRowNodeId",getRowId:"getRowId",resetRowDataOnUpdate:"resetRowDataOnUpdate",processRowPostCreate:"processRowPostCreate",isRowSelectable:"isRowSelectable",isRowMaster:"isRowMaster",fillOperation:"fillOperation",postSort:"postSort",postSortRows:"postSortRows",getRowStyle:"getRowStyle",getRowClass:"getRowClass",getRowHeight:"getRowHeight",isFullWidthCell:"isFullWidthCell",isFullWidthRow:"isFullWidthRow"},outputs:{toolPanelVisibleChanged:"toolPanelVisibleChanged",pasteStart:"pasteStart",pasteEnd:"pasteEnd",columnVisible:"columnVisible",columnPinned:"columnPinned",columnResized:"columnResized",columnMoved:"columnMoved",columnValueChanged:"columnValueChanged",columnPivotModeChanged:"columnPivotModeChanged",columnPivotChanged:"columnPivotChanged",columnGroupOpened:"columnGroupOpened",newColumnsLoaded:"newColumnsLoaded",gridColumnsChanged:"gridColumnsChanged",displayedColumnsChanged:"displayedColumnsChanged",virtualColumnsChanged:"virtualColumnsChanged",columnEverythingChanged:"columnEverythingChanged",componentStateChanged:"componentStateChanged",cellValueChanged:"cellValueChanged",cellEditRequest:"cellEditRequest",rowValueChanged:"rowValueChanged",cellEditingStarted:"cellEditingStarted",cellEditingStopped:"cellEditingStopped",rowEditingStarted:"rowEditingStarted",rowEditingStopped:"rowEditingStopped",filterOpened:"filterOpened",filterChanged:"filterChanged",filterModified:"filterModified",chartCreated:"chartCreated",chartRangeSelectionChanged:"chartRangeSelectionChanged",chartOptionsChanged:"chartOptionsChanged",chartDestroyed:"chartDestroyed",cellKeyDown:"cellKeyDown",cellKeyPress:"cellKeyPress",gridReady:"gridReady",firstDataRendered:"firstDataRendered",gridSizeChanged:"gridSizeChanged",modelUpdated:"modelUpdated",virtualRowRemoved:"virtualRowRemoved",viewportChanged:"viewportChanged",bodyScroll:"bodyScroll",bodyScrollEnd:"bodyScrollEnd",dragStarted:"dragStarted",dragStopped:"dragStopped",paginationChanged:"paginationChanged",rowDragEnter:"rowDragEnter",rowDragMove:"rowDragMove",rowDragLeave:"rowDragLeave",rowDragEnd:"rowDragEnd",columnRowGroupChanged:"columnRowGroupChanged",rowGroupOpened:"rowGroupOpened",expandOrCollapseAll:"expandOrCollapseAll",pinnedRowDataChanged:"pinnedRowDataChanged",rowDataChanged:"rowDataChanged",rowDataUpdated:"rowDataUpdated",asyncTransactionsFlushed:"asyncTransactionsFlushed",cellClicked:"cellClicked",cellDoubleClicked:"cellDoubleClicked",cellFocused:"cellFocused",cellMouseOver:"cellMouseOver",cellMouseOut:"cellMouseOut",cellMouseDown:"cellMouseDown",rowClicked:"rowClicked",rowDoubleClicked:"rowDoubleClicked",rowSelected:"rowSelected",selectionChanged:"selectionChanged",cellContextMenu:"cellContextMenu",rangeSelectionChanged:"rangeSelectionChanged",sortChanged:"sortChanged",columnRowGroupChangeRequest:"columnRowGroupChangeRequest",columnPivotChangeRequest:"columnPivotChangeRequest",columnValueChangeRequest:"columnValueChangeRequest",columnAggFuncChangeRequest:"columnAggFuncChangeRequest"},features:[h._Bn([y,m]),h.TTD],decls:0,vars:0,template:function(X,ne){},encapsulation:2}),z})(),S=(()=>{class z{}return z.\u0275fac=function(X){return new(X||z)},z.\u0275mod=h.oAB({type:z}),z.\u0275inj=h.cJS({imports:[[]]}),z})();var D=e(8845);let T=(()=>{class z{constructor(){this.ProcessTypeEnum=D.xz}agInit(X){this.params=X,this.data=X.api.getDisplayedRowAtIndex(X.rowIndex).data}}return z.\u0275fac=function(X){return new(X||z)},z.\u0275cmp=h.Xpm({type:z,selectors:[["tooltip-component"]],decls:4,vars:1,consts:[[1,"custom-tooltip","bg-gray-600"],[1,"p-3","whitespace-nowrap","font-bold","text-white"]],template:function(X,ne){1&X&&(h.TgZ(0,"div",0)(1,"p",1)(2,"span"),h._uU(3),h.qZA()()()),2&X&&(h.xp6(3),h.Oqu(ne.ProcessTypeEnum[ne.data.job_type]))},styles:["[_nghost-%COMP%]{position:absolute;height:70px;pointer-events:none;transition:opacity 1s}.ag-tooltip-hiding[_nghost-%COMP%]{opacity:0}"]}),z})();var b=e(2340),M=e(7392);function A(z,le){1&z&&(h.TgZ(0,"div",1)(1,"span"),h._uU(2,"-"),h.qZA()())}function L(z,le){if(1&z){const X=h.EpF();h.TgZ(0,"div",1)(1,"div",2)(2,"span"),h._uU(3),h.qZA()(),h.TgZ(4,"div",3),h.NdJ("click",function(){h.CHM(X);const we=h.oxw();return h.KtG(we.onCurrentTaskChange(we.params.data))}),h._UZ(5,"mat-icon",4),h.qZA()()}if(2&z){const X=h.oxw();h.xp6(1),h.Q6J("value",X.params.data.current_task),h.xp6(2),h.Oqu(X.params.data.current_task)}}let N=(()=>{class z{constructor(X){this.agGridService=X}isFilterActive(){throw new Error("Method not implemented.")}doesFilterPass(X){throw new Error("Method not implemented.")}getModel(){throw new Error("Method not implemented.")}setModel(X){throw new Error("Method not implemented.")}onNewRowsLoaded(){throw new Error("Method not implemented.")}onAnyFilterChanged(){throw new Error("Method not implemented.")}getModelAsString(X){throw new Error("Method not implemented.")}afterGuiAttached(X){throw new Error("Method not implemented.")}agInit(X){this.params=X}onCurrentTaskChange(X){let ne={job_id:X.job_id,p_status:Number(X.p_status)+1};this.agGridService.updateJobmanagerStatus(ne).subscribe(we=>{"success"==we.message&&(this.params.data=we.job)},we=>{})}}return z.\u0275fac=function(X){return new(X||z)(h.Y36(j))},z.\u0275cmp=h.Xpm({type:z,selectors:[["current-task"]],decls:2,vars:2,consts:[["class","flex",4,"ngIf"],[1,"flex"],[3,"value"],[1,"pt-2",3,"click"],["svgIcon","heroicons_outline:arrow-sm-right",1,"text-green-600"]],template:function(X,ne){1&X&&(h.YNc(0,A,3,0,"div",0),h.YNc(1,L,6,2,"div",0)),2&X&&(h.Q6J("ngIf","-"==ne.params.data.current_task),h.xp6(1),h.Q6J("ngIf",ne.params.data.current_task&&"-"!=ne.params.data.current_task))},dependencies:[i.O5,M.Hw],encapsulation:2}),z})();function G(z,le){if(1&z&&(h.TgZ(0,"a",2),h._UZ(1,"img",3),h.qZA()),2&z){const X=h.oxw();h.MGl("href","https://go.xero.com/organisationlogin/default.aspx?shortcode=",X.params.data.xero,"",h.LSH)}}function k(z,le){if(1&z&&(h.TgZ(0,"a",2),h._UZ(1,"img",4),h.qZA()),2&z){const X=h.oxw();h.MGl("href","https://app.dext.com/clients/",X.params.data.dext,"/gamma/costs/inbox",h.LSH)}}let K=(()=>{class z{isFilterActive(){throw new Error("Method not implemented.")}doesFilterPass(X){throw new Error("Method not implemented.")}getModel(){throw new Error("Method not implemented.")}setModel(X){throw new Error("Method not implemented.")}onNewRowsLoaded(){throw new Error("Method not implemented.")}onAnyFilterChanged(){throw new Error("Method not implemented.")}getModelAsString(X){throw new Error("Method not implemented.")}afterGuiAttached(X){throw new Error("Method not implemented.")}agInit(X){this.params=X}}return z.\u0275fac=function(X){return new(X||z)},z.\u0275cmp=h.Xpm({type:z,selectors:[["logo-images-component"]],decls:3,vars:2,consts:[[1,"logo-container","flex","items-center","pt-2"],["class","cursor-pointer","target","_blank",3,"href",4,"ngIf"],["target","_blank",1,"cursor-pointer",3,"href"],["src","assets/images/logo/bespoke.png","alt","bespoke",1,"h-auto","w-7","mx-1"],["src","assets/images/logo/dext.png","alt","dext",1,"h-auto","w-7","mx-1"]],template:function(X,ne){1&X&&(h.TgZ(0,"div",0),h.YNc(1,G,2,1,"a",1),h.YNc(2,k,2,1,"a",1),h.qZA()),2&X&&(h.xp6(1),h.Q6J("ngIf",ne.params.data.xero&&"-"!=ne.params.data.xero),h.xp6(1),h.Q6J("ngIf",ne.params.data.dext&&"-"!=ne.params.data.dext))},dependencies:[i.O5],encapsulation:2}),z})();var $=e(529);let j=(()=>{class z{constructor(X){this.http=X,this.columnDefs=[{headerName:"Job Type",field:"job_type",checkboxSelection:!0,headerCheckboxSelection:!0,tooltipField:"job_type",width:150,filter:"agMultiColumnFilter"},{headerName:"Client Name",field:"client_name",filter:"agMultiColumnFilter",width:200},{headerName:"",field:"Image",floatingFilter:!1,filter:!1,sortable:!1,cellRenderer:K,width:160},{headerName:"Period End",field:"period_end",filter:"agMultiColumnFilter",width:120},{headerName:"MTA Deadline",field:"mta_deadline",filter:"agMultiColumnFilter",width:200},{headerName:"Statutory Date",field:"statutory_deadline",filter:"agDateColumnFilter",width:200,filterParams:{comparator:(ne,we)=>{if(null==we)return-1;var be=we.split("-"),ve=new Date(Number(be[2]),Number(be[1])-1,Number(be[0]));return ne.getTime()===ve.getTime()?0:ve<ne?-1:ve>ne?1:void 0},browserDatePicker:!0,minValidYear:2e3,maxValidYear:2050,inRangeFloatingFilterDateFormat:"Do MM YYYY"}},{headerName:"Job Stage",field:"job_stage",filter:"agMultiColumnFilter"},{headerName:"Current Task",field:"current_task",filter:"agMultiColumnFilter",width:300,cellRenderer:N},{headerName:"Client Manager",field:"client_manager",filter:"agMultiColumnFilter",width:180},{headerName:"Job Assignee",field:"job_assignee",filter:"agMultiColumnFilter",width:180},{headerName:"Free From Notes",field:"notes",filter:"agMultiColumnFilter",editable:!0,width:180}]}getJobManagerData(X){return this.http.post(`${b.N.baseUrl}/job_manager`,X)}updateJobManagerNote(X){return this.http.post(`${b.N.baseUrl}/job_notes`,X)}updateJobmanagerStatus(X){return this.http.post(`${b.N.baseUrl}/process_status`,X)}themes(){return[{id:1,name:"Alpine",value:"ag-theme-alpine"},{id:2,name:"Alpine Dark",value:"ag-theme-alpine-dark"},{id:3,name:"Balham",value:"ag-theme-balham"},{id:4,name:"Balham Dark",value:"ag-theme-balham-dark"},{id:5,name:"Material",value:"ag-theme-material"}]}}return z.\u0275fac=function(X){return new(X||z)(h.LFG($.eN))},z.\u0275prov=h.Yz7({token:z,factory:z.\u0275fac,providedIn:"root"}),z})();var Y=e(9549),ie=e(4385),re=e(3238),J=e(4859);function Q(z,le){if(1&z&&(h.TgZ(0,"mat-option",15),h.ynx(1),h._uU(2),h.BQk(),h.qZA()),2&z){const X=le.$implicit;h.Q6J("value",X.value),h.xp6(2),h.hij(" ",X.name," ")}}const fe=[{path:"",component:(()=>{class z{constructor(X,ne){this.agGridService=X,this.datePipe=ne,this.tooltipShowDelay=0,this.tooltipHideDelay=2e3,this.defaultColDef={sortable:!0,filter:!0,floatingFilter:!0,tooltipComponent:T},this.rowSelection="multiple",this.rowData=[{}],this.rowGroupPanelShow="always",this.pivotPanelShow="always",this.themesList=[]}ngOnInit(){this.getJobMangerList(),this.columnDefs=this.agGridService.columnDefs,this.themesList=this.agGridService.themes()}onFilterTextBoxChanged(){this.gridApi.setQuickFilter(document.getElementById("filter-text-box").value)}onBtExport(){this.gridApi.exportDataAsExcel()}onGridReady(X){this.gridApi=X.api}getJobMangerList(){this.agGridService.getJobManagerData({sort_by:"mta_deadline",sort_order:"asc"}).subscribe(ne=>{this.rowData=ne.rows},ne=>{})}onCellEditingStopped(X){"cellEditingStopped"==X.type&&this.agGridService.updateJobManagerNote({job_id:X.data.job_id,notes:X.newValue}).subscribe(we=>{we.message="success"},we=>{})}onThemeChange(X){const ne=document.getElementById("ag-grid");ne.classList.remove(ne.classList.value),ne.classList.add(X.value)}}return z.\u0275fac=function(X){return new(X||z)(h.Y36(j),h.Y36(i.uU))},z.\u0275cmp=h.Xpm({type:z,selectors:[["app-ag-grid-job-manager"]],viewQuery:function(X,ne){if(1&X&&h.Gf(w,5),2&X){let we;h.iGM(we=h.CRH())&&(ne.agGrid=we.first)}},decls:18,vars:13,consts:[[1,"flex","flex-col","flex-auto","min-w-0","p-8"],[1,"sm:col-span-6","flex","flex-col","p-6","bg-card","shadow","rounded-2xl","overflow-hidden","mb-3"],[1,"font-bold"],[1,"text-lg","font-medium","tracking-tight","leading-6","truncate","mb-2"],[1,"flex","items-center","justify-between","flex-wrap","pb-2","full-width"],[1,"mt-4"],["appearance","fill","id","status",1,"w-50"],["placeholder","Select Theme","disableOptionCentering","",1,"text-lg","text-gray-500",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],[1,"search","relative"],["id","filter-text-box","type","text","placeholder","Filter any column",1,"rounded-full","text-lg","h-10",3,"input"],[1,"flex","justify-end","download-button","full-width"],["mat-stroked-button","","color","primary",3,"click"],["aria-hidden","true",1,"fa","fa-file-excel-o"],["id","ag-grid",1,"ag-theme-alpine",2,"width","100%","height","550px","padding-top","10px",3,"defaultColDef","animateRows","rowData","columnDefs","pagination","tooltipShowDelay","tooltipHideDelay","paginationPageSize","pivotPanelShow","debug","sideBar","cacheQuickFilter","cellEditingStopped","gridReady"],[3,"value"]],template:function(X,ne){1&X&&(h.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),h._uU(3,"Job Manager"),h.qZA(),h.TgZ(4,"div",3)(5,"div",4)(6,"div",5)(7,"mat-form-field",6)(8,"mat-select",7),h.NdJ("selectionChange",function(he){return ne.onThemeChange(he)}),h.YNc(9,Q,3,2,"mat-option",8),h.qZA()()(),h.TgZ(10,"div",9)(11,"input",10),h.NdJ("input",function(){return ne.onFilterTextBoxChanged()}),h.qZA()()()(),h.TgZ(12,"div",11)(13,"button",12),h.NdJ("click",function(){return ne.onBtExport()}),h._UZ(14,"i",13),h._uU(15,"\xa0 Download"),h.qZA()(),h.TgZ(16,"div")(17,"ag-grid-angular",14),h.NdJ("cellEditingStopped",function(he){return ne.onCellEditingStopped(he)})("gridReady",function(he){return ne.onGridReady(he)}),h.qZA()()()()),2&X&&(h.xp6(9),h.Q6J("ngForOf",ne.themesList),h.xp6(8),h.Q6J("defaultColDef",ne.defaultColDef)("animateRows",!0)("rowData",ne.rowData)("columnDefs",ne.columnDefs)("pagination",!0)("tooltipShowDelay",ne.tooltipShowDelay)("tooltipHideDelay",ne.tooltipHideDelay)("paginationPageSize",10)("pivotPanelShow",ne.pivotPanelShow)("debug",!0)("sideBar",!0)("cacheQuickFilter",!0))},dependencies:[i.sg,Y.KE,ie.gD,re.ey,J.lW,w],styles:[".search[_ngcontent-%COMP%]   input[id=filter-text-box][_ngcontent-%COMP%]{color:gray;padding:13px 10px 13px 15px;border:1px solid gray;width:200px}@media (min-width: 425px) and (max-width: 767px){.search[_ngcontent-%COMP%]   input[id=filter-text-box][_ngcontent-%COMP%]{width:200px}}@media (max-width: 320px){.search[_ngcontent-%COMP%]   input[id=filter-text-box][_ngcontent-%COMP%]{width:205px}.full-width[_ngcontent-%COMP%]{display:block!important;text-align:center!important}.full-width[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%!important}}@media (min-width: 360px) and (max-width: 426px){.search[_ngcontent-%COMP%]   input[id=filter-text-box][_ngcontent-%COMP%]{width:200px}.full-width[_ngcontent-%COMP%]{display:block!important;text-align:center!important}.full-width[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .full-width[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%!important}.full-width[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%!important}}"]}),z})()}];let ge=(()=>{class z{}return z.\u0275fac=function(X){return new(X||z)},z.\u0275mod=h.oAB({type:z}),z.\u0275inj=h.cJS({imports:[s.Bz.forChild(fe),s.Bz]}),z})();e(9241).WNq.setLicenseKey(b.N.agGridLicensedKey);let pe=(()=>{class z{}return z.\u0275fac=function(X){return new(X||z)},z.\u0275mod=h.oAB({type:z}),z.\u0275inj=h.cJS({imports:[i.ez,a.m,J.ot,ge,S,M.Ps]}),z})()},5898:(l,r,e)=>{function i(p){return null==p||""===p?null:p}function a(p,n){return void 0===n&&(n=!1),null!=p&&(""!==p||n)}function s(p){return!a(p)}function d(p){return null==p||0===p.length}function h(p){return null!=p&&"function"==typeof p.toString?p.toString():null}function v(p){if(void 0!==p){if(null===p||""===p)return null;if("number"==typeof p)return isNaN(p)?void 0:p;var n=parseInt(p,10);return isNaN(n)?void 0:n}}function _(p){if(void 0!==p)return null!==p&&""!==p&&("boolean"==typeof p?p:/true/i.test(p))}function S(p){if(p instanceof Set||p instanceof Map){var n=[];return p.forEach(function(t){return n.push(t)}),n}return Object.values(p)}e.d(r,{$j7:()=>qe,$zI:()=>Ja,AGU:()=>qi,AS9:()=>Se,BxR:()=>cn,CPJ:()=>t_,Cvn:()=>Nl,D_6:()=>pr,Dkq:()=>io,EHG:()=>Cm,F$j:()=>Lu,FXL:()=>Pe,FiY:()=>xe,Fxk:()=>Ke,GXE:()=>Fe,Gxm:()=>Ql,H1u:()=>lu,IFn:()=>Au,IUB:()=>_m,Ilk:()=>hi,J8Z:()=>nr,KTm:()=>ot,LQq:()=>iu,Lm6:()=>Ci,Nk3:()=>ky,NlK:()=>no,NqP:()=>Ee,O3h:()=>Ne,O_3:()=>pu,POd:()=>Bt,QVL:()=>Nn,Qk6:()=>ro,RXH:()=>_i,StC:()=>Pr,VDZ:()=>ye,Vu6:()=>me,WD6:()=>Bg,WKU:()=>Tu,YaM:()=>xu,_:()=>Ge,aCu:()=>Eo,aVm:()=>bu,at1:()=>Ur,cqo:()=>_e,fQL:()=>Fa,fsG:()=>I,gTE:()=>ee,h7_:()=>au,jMC:()=>Iu,jUB:()=>Ot,j_S:()=>Ft,jkc:()=>Oi,nN0:()=>nu,nPL:()=>Yr,nv3:()=>su,plv:()=>mr,qaB:()=>tt,rjZ:()=>Wy,rvo:()=>Tt,rwP:()=>Kt,sJC:()=>Si,sgG:()=>$e,vA3:()=>hu,wA2:()=>je,wGv:()=>va,wSp:()=>Za,z0n:()=>Ru,zW2:()=>V});var D=Object.freeze({__proto__:null,makeNull:i,exists:a,missing:s,missingOrEmpty:d,toStringOrNull:h,attrToNumber:v,attrToBoolean:_,attrToString:function y(p){if(null!=p&&""!==p)return p},referenceCompare:function m(p,n){return null==p&&null==n||!(null==p&&null!=n||null!=p&&null==n)&&p===n},jsonEquals:function E(p,n){return(p?JSON.stringify(p):null)===(n?JSON.stringify(n):null)},defaultComparator:function w(p,n,t){void 0===t&&(t=!1);var o=null==p,u=null==n;if(p&&p.toNumber&&(p=p.toNumber()),n&&n.toNumber&&(n=n.toNumber()),o&&u)return 0;if(o)return-1;if(u)return 1;function c(f,g){return f>g?1:f<g?-1:0}if("string"!=typeof p||!t)return c(p,n);try{return p.localeCompare(n)}catch{return c(p,n)}},values:S}),T=function(){function p(){this.existingKeys={}}return p.prototype.addExistingKeys=function(n){for(var t=0;t<n.length;t++)this.existingKeys[n[t]]=!0},p.prototype.getUniqueKey=function(n,t){n=h(n);for(var o=0;;){var u=void 0;if(n?(u=n,0!==o&&(u+="_"+o)):t?(u=t,0!==o&&(u+="_"+o)):u=""+o,!this.existingKeys[u])return this.existingKeys[u]=!0,u;o++}},p}();function b(p,n){null!=p&&(Array.isArray(p)?p.forEach(function(t,o){return n(""+o,t)}):Object.keys(p).forEach(function(t){return n(t,p[t])}))}function M(p){for(var n={},t=Object.keys(p),o=0;o<t.length;o++){var u=t[o];n[u]=p[u]}return n}function L(p,n){if(p){var t=p,o={};return Object.keys(t).forEach(function(u){if(!(n&&n.indexOf(u)>=0)){var c=t[u],f=ge(c)&&c.constructor===Object;o[u]=f?L(c):c}}),o}}function N(p,n){return p[n]}function G(p,n,t){p[n]=t}function K(p,n,t,o){var u=N(p,t);void 0!==u&&G(n,t,o?o(u):u)}function $(p){var n={};return p.filter(function(t){return null!=t}).forEach(function(t){Object.keys(t).forEach(function(o){return n[o]=null})}),Object.keys(n)}function j(p){if(!p)return[];var n=Object;if("function"==typeof n.values)return n.values(p);var t=[];for(var o in p)p.hasOwnProperty(o)&&p.propertyIsEnumerable(o)&&t.push(p[o]);return t}function Y(p,n,t,o){void 0===t&&(t=!0),void 0===o&&(o=!1),a(n)&&b(n,function(u,c){var f=p[u];f!==c&&(o&&null==f&&null!=c&&"object"==typeof c&&c.constructor===Object&&(p[u]=f={}),ge(c)&&ge(f)&&!Array.isArray(f)?Y(f,c,t,o):(t||void 0!==c)&&(p[u]=c))})}function oe(p,n,t){if(n&&p){if(!t)return p[n];for(var o=n.split("."),u=p,c=0;c<o.length;c++){if(null==u)return;u=u[o[c]]}return u}}function fe(p,n){Object.keys(p).forEach(function(u){"object"==typeof p[u]&&(p[u]=void 0)});var t=Object.getPrototypeOf(p),o={};Object.keys(t).forEach(function(u){"function"==typeof t[u]&&(o[u]={value:function(){console.warn("AG Grid: "+n+" function "+u+"() cannot be called as the grid has been destroyed.\n                     Please don't call grid API functions on destroyed grids - as a matter of fact you shouldn't\n                     be keeping the API reference, your application has a memory leak! Remove the API reference\n                     when the grid is destroyed.")},writable:!0})}),Object.defineProperties(p,o)}function ge(p){return"object"==typeof p&&null!==p}var ce=Object.freeze({__proto__:null,iterateObject:b,cloneObject:M,deepCloneObject:function A(p){return JSON.parse(JSON.stringify(p))},deepCloneDefinition:L,getProperty:N,setProperty:G,copyPropertiesIfPresent:function k(p,n){for(var t=[],o=2;o<arguments.length;o++)t[o-2]=arguments[o];t.forEach(function(u){return K(p,n,u)})},copyPropertyIfPresent:K,getAllKeysInObjects:$,getAllValuesInObject:j,mergeDeep:Y,missingOrEmptyObject:function ie(p){return s(p)||0===Object.keys(p).length},get:function re(p,n,t){if(null==p)return t;for(var o=n.split("."),u=p;o.length>1;)if(null==(u=u[o.shift()]))return t;return u[o[0]]??t},set:function J(p,n,t){if(null!=p){for(var o=n.split("."),u=p;o.length>1;)if(null==(u=u[o.shift()]))return;u[o[0]]=t}},deepFreeze:function Q(p){return Object.freeze(p),S(p).forEach(function(n){(ge(n)||"function"==typeof n)&&Q(n)}),p},getValueUsingField:oe,removeAllReferences:fe,isNonNullObject:ge}),pe={};function z(p,n){pe[n]||(p(),pe[n]=!0)}function le(p){if(p.name)return p.name;var n=/function\s+([^\(]+)/.exec(p.toString());return n&&2===n.length?n[1].trim():null}function X(p){return!!(p&&p.constructor&&p.call&&p.apply)}function ne(p){ve(p,400)}var we=[],he=!1;function be(p){we.push(p),!he&&(he=!0,window.setTimeout(function(){var n=we.slice();we.length=0,he=!1,n.forEach(function(t){return t()})},0))}function ve(p,n){void 0===n&&(n=0),p.length>0&&window.setTimeout(function(){return p.forEach(function(t){return t()})},n)}function De(p,n,t){var o;return void 0===t&&(t=!1),function(){for(var u=[],c=0;c<arguments.length;c++)u[c]=arguments[c];var f=this,g=t&&!o;window.clearTimeout(o),o=window.setTimeout(function(){o=null,t||p.apply(f,u)},n),g&&p.apply(f,u)}}function Le(p,n){var t=0;return function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];var c=this,f=(new Date).getTime();f-t<n||(t=f,p.apply(c,o))}}function Te(p,n,t,o){void 0===t&&(t=100);var u=(new Date).getTime(),c=null,f=!1,g=function(){var C=(new Date).getTime()-u>t;(p()||C)&&(n(),f=!0,null!=c&&(window.clearInterval(c),c=null),C&&o&&console.warn(o))};g(),f||(c=window.setInterval(g,10))}function We(p){p&&p()}var it=Object.freeze({__proto__:null,doOnce:z,getFunctionName:le,isFunction:X,executeInAWhile:ne,executeNextVMTurn:be,executeAfter:ve,debounce:De,throttle:Le,waitUntil:Te,compose:function Ue(){for(var p=[],n=0;n<arguments.length;n++)p[n]=arguments[n];return function(t){return p.reduce(function(o,u){return u(o)},t)}},callIfPresent:We,noop:function(){}}),Xe=function(){function p(n,t){if(this.beanWrappers={},this.destroyed=!1,n&&n.beanClasses){this.contextParams=n,this.logger=t,this.logger.log(">> creating ag-Application Context"),this.createBeans();var o=this.getBeanInstances();this.wireBeans(o),this.logger.log(">> ag-Application Context ready - component is alive")}}return p.prototype.getBeanInstances=function(){return S(this.beanWrappers).map(function(n){return n.beanInstance})},p.prototype.createBean=function(n,t){if(!n)throw Error("Can't wire to bean since it is null");return this.wireBeans([n],t),n},p.prototype.wireBeans=function(n,t){this.autoWireBeans(n),this.methodWireBeans(n),this.callLifeCycleMethods(n,"preConstructMethods"),a(t)&&n.forEach(t),this.callLifeCycleMethods(n,"postConstructMethods")},p.prototype.createBeans=function(){var n=this;this.contextParams.beanClasses.forEach(this.createBeanWrapper.bind(this)),b(this.beanWrappers,function(o,u){var c;u.bean.__agBeanMetaData&&u.bean.__agBeanMetaData.autowireMethods&&u.bean.__agBeanMetaData.autowireMethods.agConstructor&&(c=u.bean.__agBeanMetaData.autowireMethods.agConstructor);var f=n.getBeansForParameters(c,u.bean.name),g=function nt(p,n){var t=[null].concat(n);return new(p.bind.apply(p,t))}(u.bean,f);u.beanInstance=g});var t=Object.keys(this.beanWrappers).join(", ");this.logger.log("created beans: "+t)},p.prototype.createBeanWrapper=function(n){var t=n.__agBeanMetaData;if(!t){var o;return o=n.prototype.constructor?le(n.prototype.constructor):""+n,void console.error("Context item "+o+" is not a bean")}this.beanWrappers[t.beanName]={bean:n,beanInstance:null,beanName:t.beanName}},p.prototype.autoWireBeans=function(n){var t=this;n.forEach(function(o){t.forEachMetaDataInHierarchy(o,function(u,c){var f=u.agClassAttributes;!f||f.forEach(function(g){var C=t.lookupBeanInstance(c,g.beanName,g.optional);o[g.attributeName]=C})})})},p.prototype.methodWireBeans=function(n){var t=this;n.forEach(function(o){t.forEachMetaDataInHierarchy(o,function(u,c){b(u.autowireMethods,function(f,g){if("agConstructor"!==f){var C=t.getBeansForParameters(g,c);o[f].apply(o,C)}})})})},p.prototype.forEachMetaDataInHierarchy=function(n,t){for(var o=Object.getPrototypeOf(n);null!=o;){var u=o.constructor;u.hasOwnProperty("__agBeanMetaData")&&t(u.__agBeanMetaData,this.getBeanName(u)),o=Object.getPrototypeOf(o)}},p.prototype.getBeanName=function(n){if(n.__agBeanMetaData&&n.__agBeanMetaData.beanName)return n.__agBeanMetaData.beanName;var t=n.toString();return t.substring(9,t.indexOf("("))},p.prototype.getBeansForParameters=function(n,t){var o=this,u=[];return n&&b(n,function(c,f){var g=o.lookupBeanInstance(t,f);u[Number(c)]=g}),u},p.prototype.lookupBeanInstance=function(n,t,o){if(void 0===o&&(o=!1),"context"===t)return this;if(this.contextParams.providedBeanInstances&&this.contextParams.providedBeanInstances.hasOwnProperty(t))return this.contextParams.providedBeanInstances[t];var u=this.beanWrappers[t];return u?u.beanInstance:(o||console.error("AG Grid: unable to find bean reference "+t+" while initialising "+n),null)},p.prototype.callLifeCycleMethods=function(n,t){var o=this;n.forEach(function(u){return o.callLifeCycleMethodsOnBean(u,t)})},p.prototype.callLifeCycleMethodsOnBean=function(n,t,o){var u={};this.forEachMetaDataInHierarchy(n,function(f){var g=f[t];g&&g.forEach(function(C){C!=o&&(u[C]=!0)})}),Object.keys(u).forEach(function(f){return n[f]()})},p.prototype.getBean=function(n){return this.lookupBeanInstance("getBean",n,!0)},p.prototype.destroy=function(){if(!this.destroyed){this.logger.log(">> Shutting down ag-Application Context");var n=this.getBeanInstances();this.destroyBeans(n),this.contextParams.providedBeanInstances=null,this.destroyed=!0,this.logger.log(">> ag-Application Context shut down - component is dead")}},p.prototype.destroyBean=function(n){!n||this.destroyBeans([n])},p.prototype.destroyBeans=function(n){var t=this;return n?(n.forEach(function(o){t.callLifeCycleMethodsOnBean(o,"preDestroyMethods","destroy"),"function"==typeof o.destroy&&o.destroy()}),[]):[]},p}();function qe(p,n,t){var o=wt(p.constructor);o.preConstructMethods||(o.preConstructMethods=[]),o.preConstructMethods.push(n)}function Ee(p,n,t){var o=wt(p.constructor);o.postConstructMethods||(o.postConstructMethods=[]),o.postConstructMethods.push(n)}function Pe(p,n,t){var o=wt(p.constructor);o.preDestroyMethods||(o.preDestroyMethods=[]),o.preDestroyMethods.push(n)}function me(p){return function(n){wt(n).beanName=p}}function I(p){return function(n,t,o){ct(n,p,!1,0,t,null)}}function xe(p){return function(n,t,o){ct(n,p,!0,0,t,null)}}function ct(p,n,t,o,u,c){if(null!==n)if("number"!=typeof c){var f=wt(p.constructor);f.agClassAttributes||(f.agClassAttributes=[]),f.agClassAttributes.push({attributeName:u,beanName:n,optional:t})}else console.error("AG Grid: Autowired should be on an attribute");else console.error("AG Grid: Autowired name should not be null")}function tt(p){return function(n,t,o){var c,u="function"==typeof n?n:n.constructor;if("number"==typeof o){var f=void 0;t?(c=wt(u),f=t):(c=wt(u),f="agConstructor"),c.autowireMethods||(c.autowireMethods={}),c.autowireMethods[f]||(c.autowireMethods[f]={}),c.autowireMethods[f][o]=p}}}function wt(p){return p.hasOwnProperty("__agBeanMetaData")||(p.__agBeanMetaData={}),p.__agBeanMetaData}var tr=function(){return tr=Object.assign||function(p){for(var n,t=1,o=arguments.length;t<o;t++)for(var u in n=arguments[t])Object.prototype.hasOwnProperty.call(n,u)&&(p[u]=n[u]);return p},tr.apply(this,arguments)},oi=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},_r=function(p,n){return function(t,o){n(t,o,p)}},Bt=function(){function p(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}return p.prototype.setBeans=function(n,t,o,u){if(void 0===u&&(u=null),this.frameworkOverrides=o,this.gridOptionsWrapper=t,u){var c=t.useAsyncEvents();this.addGlobalListener(u,c)}},p.prototype.getListeners=function(n,t,o){var u=t?this.allAsyncListeners:this.allSyncListeners,c=u.get(n);return!c&&o&&u.set(n,c=new Set),c},p.prototype.noRegisteredListenersExist=function(){return 0===this.allSyncListeners.size&&0===this.allAsyncListeners.size&&0===this.globalSyncListeners.size&&0===this.globalAsyncListeners.size},p.prototype.addEventListener=function(n,t,o){void 0===o&&(o=!1),this.getListeners(n,o,!0).add(t)},p.prototype.removeEventListener=function(n,t,o){void 0===o&&(o=!1);var u=this.getListeners(n,o,!1);u&&(u.delete(t),0===u.size)&&(o?this.allAsyncListeners:this.allSyncListeners).delete(n)},p.prototype.addGlobalListener=function(n,t){void 0===t&&(t=!1),(t?this.globalAsyncListeners:this.globalSyncListeners).add(n)},p.prototype.removeGlobalListener=function(n,t){void 0===t&&(t=!1),(t?this.globalAsyncListeners:this.globalSyncListeners).delete(n)},p.prototype.dispatchEvent=function(n){var t=n;this.gridOptionsWrapper&&(t=tr(tr({},n),{api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()})),this.dispatchToListeners(t,!0),this.dispatchToListeners(t,!1),this.firedEvents[t.type]=!0},p.prototype.dispatchEventOnce=function(n){this.firedEvents[n.type]||this.dispatchEvent(n)},p.prototype.dispatchToListeners=function(n,t){var o=this,u=n.type,f=this.getListeners(u,t,!1);f&&f.forEach(function(O){t?o.dispatchAsync(function(){return O(n)}):O(n)}),(t?this.globalAsyncListeners:this.globalSyncListeners).forEach(function(C){t?o.dispatchAsync(function(){return o.frameworkOverrides.dispatchEvent(u,function(){return C(u,n)},!0)}):o.frameworkOverrides.dispatchEvent(u,function(){return C(u,n)},!0)})},p.prototype.dispatchAsync=function(n){this.asyncFunctionsQueue.push(n),this.scheduled||(window.setTimeout(this.flushAsyncQueue.bind(this),0),this.scheduled=!0)},p.prototype.flushAsyncQueue=function(){this.scheduled=!1;var n=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],n.forEach(function(t){return t()})},oi([_r(0,tt("loggerFactory")),_r(1,tt("gridOptionsWrapper")),_r(2,tt("frameworkOverrides")),_r(3,tt("globalEventListener"))],p.prototype,"setBeans",null),oi([me("eventService")],p)}(),ee=function(){function p(){}return p.ROW_BUFFER_SIZE=10,p.LAYOUT_INTERVAL=500,p.BATCH_WAIT_MILLIS=50,p.EXPORT_TYPE_DRAG_COPY="dragCopy",p.EXPORT_TYPE_CLIPBOARD="clipboard",p.EXPORT_TYPE_EXCEL="excel",p.EXPORT_TYPE_CSV="csv",p.ROW_MODEL_TYPE_INFINITE="infinite",p.ROW_MODEL_TYPE_VIEWPORT="viewport",p.ROW_MODEL_TYPE_CLIENT_SIDE="clientSide",p.ROW_MODEL_TYPE_SERVER_SIDE="serverSide",p.ALWAYS="always",p.ONLY_WHEN_GROUPING="onlyWhenGrouping",p.PINNED_TOP="top",p.PINNED_BOTTOM="bottom",p.DOM_LAYOUT_NORMAL="normal",p.DOM_LAYOUT_PRINT="print",p.DOM_LAYOUT_AUTO_HEIGHT="autoHeight",p.GROUP_AUTO_COLUMN_ID="ag-Grid-AutoColumn",p.SOURCE_PASTE="paste",p.PINNED_RIGHT="right",p.PINNED_LEFT="left",p.SORT_ASC="asc",p.SORT_DESC="desc",p.INPUT_SELECTOR="input, select, button, textarea",p.FOCUSABLE_SELECTOR="[tabindex], input, select, button, textarea",p.FOCUSABLE_EXCLUDE=".ag-hidden, .ag-hidden *, [disabled], .ag-disabled, .ag-disabled *",p}(),Fe=(()=>{return(p=Fe||(Fe={})).CommunityCoreModule="@ag-grid-community/core",p.CommunityAllModules="@ag-grid-community/all",p.InfiniteRowModelModule="@ag-grid-community/infinite-row-model",p.ClientSideRowModelModule="@ag-grid-community/client-side-row-model",p.CsvExportModule="@ag-grid-community/csv-export",p.EnterpriseCoreModule="@ag-grid-enterprise/core",p.EnterpriseAllModules="@ag-grid-enterprise/all",p.RowGroupingModule="@ag-grid-enterprise/row-grouping",p.ColumnToolPanelModule="@ag-grid-enterprise/column-tool-panel",p.FiltersToolPanelModule="@ag-grid-enterprise/filter-tool-panel",p.MenuModule="@ag-grid-enterprise/menu",p.SetFilterModule="@ag-grid-enterprise/set-filter",p.MultiFilterModule="@ag-grid-enterprise/multi-filter",p.StatusBarModule="@ag-grid-enterprise/status-bar",p.SideBarModule="@ag-grid-enterprise/side-bar",p.RangeSelectionModule="@ag-grid-enterprise/range-selection",p.MasterDetailModule="@ag-grid-enterprise/master-detail",p.RichSelectModule="@ag-grid-enterprise/rich-select",p.GridChartsModule="@ag-grid-enterprise/charts",p.ViewportRowModelModule="@ag-grid-enterprise/viewport-row-model",p.ServerSideRowModelModule="@ag-grid-enterprise/server-side-row-model",p.ExcelExportModule="@ag-grid-enterprise/excel-export",p.ClipboardModule="@ag-grid-enterprise/clipboard",p.SparklinesModule="@ag-grid-enterprise/sparklines",p.AngularModule="@ag-grid-community/angular",p.ReactModule="@ag-grid-community/react",p.VueModule="@ag-grid-community/vue",p.PolymerModule="@ag-grid-community/polymer",Fe;var p})(),Ne=function(){function p(){}return p.register=function(n,t){void 0===t&&(t=!0),p.modulesMap[n.moduleName]=n,void 0===p.moduleBased?p.moduleBased=t:p.moduleBased!==t&&z(function(){console.warn("AG Grid: You are mixing modules (i.e. @ag-grid-community/core) and packages (ag-grid-community) - you can only use one or the other of these mechanisms."),console.warn("Please see https://www.ag-grid.com/javascript-grid/packages-modules/ for more information.")},"ModulePackageCheck")},p.registerModules=function(n,t){void 0===t&&(t=!0),n&&n.forEach(function(o){return p.register(o,t)})},p.assertRegistered=function(n,t){return!!this.isRegistered(n)||(u=p.moduleBased?"AG Grid: unable to use "+t+" as module "+n+" is not present. Please see: https://www.ag-grid.com/javascript-grid/modules/":"AG Grid: unable to use "+t+" as package 'ag-grid-enterprise' is not present. Please see: https://www.ag-grid.com/javascript-grid/packages/",z(function(){console.warn(u)},t+n),!1);var u},p.isRegistered=function(n){return!!p.modulesMap[n]},p.getRegisteredModules=function(){return S(p.modulesMap)},p.isPackageBased=function(){return!p.moduleBased},p.modulesMap={},p}(),lr=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},Mr=0,$e=function(){function p(n,t,o,u){this.instanceId=Mr++,this.autoHeaderHeight=null,this.moving=!1,this.menuVisible=!1,this.filterActive=!1,this.eventService=new Bt,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.colDef=n,this.userProvidedColDef=t,this.colId=o,this.primary=u,this.setState(n)}return p.prototype.getInstanceId=function(){return this.instanceId},p.prototype.setState=function(n){void 0!==n.sort?(n.sort===ee.SORT_ASC||n.sort===ee.SORT_DESC)&&(this.sort=n.sort):(n.initialSort===ee.SORT_ASC||n.initialSort===ee.SORT_DESC)&&(this.sort=n.initialSort);var t=v(n.sortIndex),o=v(n.initialSortIndex);void 0!==t?null!==t&&(this.sortIndex=t):null!==o&&(this.sortIndex=o);var u=_(n.hide),c=_(n.initialHide);this.visible=void 0!==u?!u:!c,this.setPinned(void 0!==n.pinned?n.pinned:n.initialPinned);var f=v(n.flex),g=v(n.initialFlex);void 0!==f?this.flex=f:void 0!==g&&(this.flex=g)},p.prototype.setColDef=function(n,t){this.colDef=n,this.userProvidedColDef=t,this.initMinAndMaxWidths(),this.initDotNotation(),this.eventService.dispatchEvent(this.createColumnEvent(p.EVENT_COL_DEF_CHANGED,"api"))},p.prototype.getUserProvidedColDef=function(){return this.userProvidedColDef},p.prototype.setParent=function(n){this.parent=n},p.prototype.getParent=function(){return this.parent},p.prototype.setOriginalParent=function(n){this.originalParent=n},p.prototype.getOriginalParent=function(){return this.originalParent},p.prototype.initialise=function(){this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.validate()},p.prototype.initDotNotation=function(){var n=this.gridOptionsWrapper.isSuppressFieldDotNotation();this.fieldContainsDots=a(this.colDef.field)&&this.colDef.field.indexOf(".")>=0&&!n,this.tooltipFieldContainsDots=a(this.colDef.tooltipField)&&this.colDef.tooltipField.indexOf(".")>=0&&!n},p.prototype.initMinAndMaxWidths=function(){var n=this.colDef;this.minWidth=this.columnUtils.calculateColMinWidth(n),this.maxWidth=this.columnUtils.calculateColMaxWidth(n)},p.prototype.resetActualWidth=function(n){void 0===n&&(n="api");var t=this.columnUtils.calculateColInitialWidth(this.colDef);this.setActualWidth(t,n,!0)},p.prototype.isEmptyGroup=function(){return!1},p.prototype.isRowGroupDisplayed=function(n){return!(s(this.colDef)||s(this.colDef.showRowGroup)||!0!==this.colDef.showRowGroup&&this.colDef.showRowGroup!==n)},p.prototype.isPrimary=function(){return this.primary},p.prototype.isFilterAllowed=function(){return!!this.colDef.filter||!!this.colDef.filterFramework},p.prototype.isFieldContainsDots=function(){return this.fieldContainsDots},p.prototype.isTooltipFieldContainsDots=function(){return this.tooltipFieldContainsDots},p.prototype.validate=function(){var n=this.colDef;function t(f,g,C){z(function(){C?console.warn(f,C):z(function(){return console.warn(f)},g)},g)}this.gridOptionsWrapper.isRowModelDefault()&&!Ne.isRegistered(Fe.RowGroupingModule)&&["enableRowGroup","rowGroup","rowGroupIndex","enablePivot","enableValue","pivot","pivotIndex","aggFunc"].forEach(function(f){a(n[f])&&(Ne.isPackageBased()?t("AG Grid: "+f+" is only valid in ag-grid-enterprise, your column definition should not have "+f,"ColumnRowGroupingMissing"+f):t("AG Grid: "+f+" is only valid with AG Grid Enterprise Module "+Fe.RowGroupingModule+" - your column definition should not have "+f,"ColumnRowGroupingMissing"+f))}),Ne.isRegistered(Fe.RichSelectModule)||("agRichSelect"===this.colDef.cellEditor||"agRichSelectCellEditor"===this.colDef.cellEditor)&&(Ne.isPackageBased()?t("AG Grid: "+this.colDef.cellEditor+" can only be used with ag-grid-enterprise","ColumnRichSelectMissing"):t("AG Grid: "+this.colDef.cellEditor+" can only be used with AG Grid Enterprise Module "+Fe.RichSelectModule,"ColumnRichSelectMissing")),this.gridOptionsWrapper.isTreeData()&&["rowGroup","rowGroupIndex","pivot","pivotIndex"].forEach(function(f){a(n[f])&&t("AG Grid: "+f+" is not possible when doing tree data, your column definition should not have "+f,"TreeDataCannotRowGroup")}),a(this.colDef.width)&&"number"!=typeof this.colDef.width&&t("AG Grid: colDef.width should be a number, not "+typeof this.colDef.width,"ColumnCheck_asdfawef"),n.pinnedRowCellRenderer&&t("AG Grid: pinnedRowCellRenderer no longer exists, use cellRendererSelector if you want a different Cell Renderer for pinned rows. Check params.node.rowPinned. This was an unfortunate (but necessary) change we had to do to allow future plans we have of re-skinng the data grid in frameworks such as React, Angular and Vue. See https://www.ag-grid.com/javascript-grid/cell-rendering/#many-renderers-one-column","colDef.pinnedRowCellRenderer-deprecated"),n.pinnedRowCellRendererParams&&t("AG Grid: pinnedRowCellRenderer no longer exists, use cellRendererSelector if you want a different Cell Renderer for pinned rows. Check params.node.rowPinned. This was an unfortunate (but necessary) change we had to do to allow future plans we have of re-skinng the data grid in frameworks such as React, Angular and Vue. See https://www.ag-grid.com/javascript-grid/cell-rendering/#many-renderers-one-column","colDef.pinnedRowCellRenderer-deprecated"),n.pinnedRowCellRendererFramework&&t("AG Grid: pinnedRowCellRenderer no longer exists, use cellRendererSelector if you want a different Cell Renderer for pinned rows. Check params.node.rowPinned. This was an unfortunate (but necessary) change we had to do to allow future plans we have of re-skinng the data grid in frameworks such as React, Angular and Vue. See https://www.ag-grid.com/javascript-grid/cell-rendering/#many-renderers-one-column","colDef.pinnedRowCellRenderer-deprecated"),n.pinnedRowValueGetter&&t("AG Grid: pinnedRowCellRenderer is deprecated, use cellRendererSelector if you want a different Cell Renderer for pinned rows. Check params.node.rowPinned. This was an unfortunate (but necessary) change we had to do to allow future plans we have of re-skinng the data grid in frameworks such as React, Angular and Vue.","colDef.pinnedRowCellRenderer-deprecated")},p.prototype.addEventListener=function(n,t){this.eventService.addEventListener(n,t)},p.prototype.removeEventListener=function(n,t){this.eventService.removeEventListener(n,t)},p.prototype.createColumnFunctionCallbackParams=function(n){return{node:n,data:n.data,column:this,colDef:this.colDef,context:this.gridOptionsWrapper.getContext(),api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()}},p.prototype.isSuppressNavigable=function(n){if("boolean"==typeof this.colDef.suppressNavigable)return this.colDef.suppressNavigable;if("function"==typeof this.colDef.suppressNavigable){var t=this.createColumnFunctionCallbackParams(n);return(0,this.colDef.suppressNavigable)(t)}return!1},p.prototype.isCellEditable=function(n){return!(n.group&&!this.gridOptionsWrapper.isEnableGroupEdit())&&this.isColumnFunc(n,this.colDef.editable)},p.prototype.isSuppressFillHandle=function(){return!!_(this.colDef.suppressFillHandle)},p.prototype.isAutoHeight=function(){return!!_(this.colDef.autoHeight)},p.prototype.isAutoHeaderHeight=function(){return!!_(this.colDef.autoHeaderHeight)},p.prototype.isRowDrag=function(n){return this.isColumnFunc(n,this.colDef.rowDrag)},p.prototype.isDndSource=function(n){return this.isColumnFunc(n,this.colDef.dndSource)},p.prototype.isCellCheckboxSelection=function(n){return this.isColumnFunc(n,this.colDef.checkboxSelection)},p.prototype.isSuppressPaste=function(n){return this.isColumnFunc(n,this.colDef?this.colDef.suppressPaste:null)},p.prototype.isResizable=function(){return!!_(this.colDef.resizable)},p.prototype.isColumnFunc=function(n,t){return"boolean"==typeof t?t:"function"==typeof t&&t(this.createColumnFunctionCallbackParams(n))},p.prototype.setMoving=function(n,t){void 0===t&&(t="api"),this.moving=n,this.eventService.dispatchEvent(this.createColumnEvent(p.EVENT_MOVING_CHANGED,t))},p.prototype.createColumnEvent=function(n,t){return{type:n,column:this,columns:[this],source:t,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()}},p.prototype.isMoving=function(){return this.moving},p.prototype.getSort=function(){return this.sort},p.prototype.setSort=function(n,t){void 0===t&&(t="api"),this.sort!==n&&(this.sort=n,this.eventService.dispatchEvent(this.createColumnEvent(p.EVENT_SORT_CHANGED,t)))},p.prototype.setMenuVisible=function(n,t){void 0===t&&(t="api"),this.menuVisible!==n&&(this.menuVisible=n,this.eventService.dispatchEvent(this.createColumnEvent(p.EVENT_MENU_VISIBLE_CHANGED,t)))},p.prototype.isMenuVisible=function(){return this.menuVisible},p.prototype.isSortAscending=function(){return this.sort===ee.SORT_ASC},p.prototype.isSortDescending=function(){return this.sort===ee.SORT_DESC},p.prototype.isSortNone=function(){return s(this.sort)},p.prototype.isSorting=function(){return a(this.sort)},p.prototype.getSortIndex=function(){return this.sortIndex},p.prototype.setSortIndex=function(n){this.sortIndex=n},p.prototype.setAggFunc=function(n){this.aggFunc=n},p.prototype.getAggFunc=function(){return this.aggFunc},p.prototype.getLeft=function(){return this.left},p.prototype.getOldLeft=function(){return this.oldLeft},p.prototype.getRight=function(){return this.left+this.actualWidth},p.prototype.setLeft=function(n,t){void 0===t&&(t="api"),this.oldLeft=this.left,this.left!==n&&(this.left=n,this.eventService.dispatchEvent(this.createColumnEvent(p.EVENT_LEFT_CHANGED,t)))},p.prototype.isFilterActive=function(){return this.filterActive},p.prototype.setFilterActive=function(n,t,o){void 0===t&&(t="api"),this.filterActive!==n&&(this.filterActive=n,this.eventService.dispatchEvent(this.createColumnEvent(p.EVENT_FILTER_ACTIVE_CHANGED,t)));var u=this.createColumnEvent(p.EVENT_FILTER_CHANGED,t);o&&Y(u,o),this.eventService.dispatchEvent(u)},p.prototype.setPinned=function(n){this.pinned=!0===n||n===ee.PINNED_LEFT?ee.PINNED_LEFT:n===ee.PINNED_RIGHT?ee.PINNED_RIGHT:null},p.prototype.setFirstRightPinned=function(n,t){void 0===t&&(t="api"),this.firstRightPinned!==n&&(this.firstRightPinned=n,this.eventService.dispatchEvent(this.createColumnEvent(p.EVENT_FIRST_RIGHT_PINNED_CHANGED,t)))},p.prototype.setLastLeftPinned=function(n,t){void 0===t&&(t="api"),this.lastLeftPinned!==n&&(this.lastLeftPinned=n,this.eventService.dispatchEvent(this.createColumnEvent(p.EVENT_LAST_LEFT_PINNED_CHANGED,t)))},p.prototype.isFirstRightPinned=function(){return this.firstRightPinned},p.prototype.isLastLeftPinned=function(){return this.lastLeftPinned},p.prototype.isPinned=function(){return this.pinned===ee.PINNED_LEFT||this.pinned===ee.PINNED_RIGHT},p.prototype.isPinnedLeft=function(){return this.pinned===ee.PINNED_LEFT},p.prototype.isPinnedRight=function(){return this.pinned===ee.PINNED_RIGHT},p.prototype.getPinned=function(){return this.pinned},p.prototype.setVisible=function(n,t){void 0===t&&(t="api");var o=!0===n;this.visible!==o&&(this.visible=o,this.eventService.dispatchEvent(this.createColumnEvent(p.EVENT_VISIBLE_CHANGED,t)))},p.prototype.isVisible=function(){return this.visible},p.prototype.getColDef=function(){return this.colDef},p.prototype.getColumnGroupShow=function(){return this.colDef.columnGroupShow},p.prototype.getColId=function(){return this.colId},p.prototype.getId=function(){return this.getColId()},p.prototype.getUniqueId=function(){return this.getId()},p.prototype.getDefinition=function(){return this.colDef},p.prototype.getActualWidth=function(){return this.actualWidth},p.prototype.getAutoHeaderHeight=function(){return this.autoHeaderHeight},p.prototype.setAutoHeaderHeight=function(n){var t=n!==this.autoHeaderHeight;return this.autoHeaderHeight=n,t},p.prototype.createBaseColDefParams=function(n){return{node:n,data:n.data,colDef:this.colDef,column:this,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()}},p.prototype.getColSpan=function(n){if(s(this.colDef.colSpan))return 1;var t=this.createBaseColDefParams(n),o=this.colDef.colSpan(t);return Math.max(o,1)},p.prototype.getRowSpan=function(n){if(s(this.colDef.rowSpan))return 1;var t=this.createBaseColDefParams(n),o=this.colDef.rowSpan(t);return Math.max(o,1)},p.prototype.setActualWidth=function(n,t,o){void 0===t&&(t="api"),void 0===o&&(o=!1),null!=this.minWidth&&(n=Math.max(n,this.minWidth)),null!=this.maxWidth&&(n=Math.min(n,this.maxWidth)),this.actualWidth!==n&&(this.actualWidth=n,this.flex&&"flex"!==t&&"gridInitializing"!==t&&(this.flex=null),o||this.fireColumnWidthChangedEvent(t))},p.prototype.fireColumnWidthChangedEvent=function(n){this.eventService.dispatchEvent(this.createColumnEvent(p.EVENT_WIDTH_CHANGED,n))},p.prototype.isGreaterThanMax=function(n){return null!=this.maxWidth&&n>this.maxWidth},p.prototype.getMinWidth=function(){return this.minWidth},p.prototype.getMaxWidth=function(){return this.maxWidth},p.prototype.getFlex=function(){return this.flex||0},p.prototype.setFlex=function(n){this.flex!==n&&(this.flex=n)},p.prototype.setMinimum=function(n){void 0===n&&(n="api"),a(this.minWidth)&&this.setActualWidth(this.minWidth,n)},p.prototype.setRowGroupActive=function(n,t){void 0===t&&(t="api"),this.rowGroupActive!==n&&(this.rowGroupActive=n,this.eventService.dispatchEvent(this.createColumnEvent(p.EVENT_ROW_GROUP_CHANGED,t)))},p.prototype.isRowGroupActive=function(){return this.rowGroupActive},p.prototype.setPivotActive=function(n,t){void 0===t&&(t="api"),this.pivotActive!==n&&(this.pivotActive=n,this.eventService.dispatchEvent(this.createColumnEvent(p.EVENT_PIVOT_CHANGED,t)))},p.prototype.isPivotActive=function(){return this.pivotActive},p.prototype.isAnyFunctionActive=function(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()},p.prototype.isAnyFunctionAllowed=function(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()},p.prototype.setValueActive=function(n,t){void 0===t&&(t="api"),this.aggregationActive!==n&&(this.aggregationActive=n,this.eventService.dispatchEvent(this.createColumnEvent(p.EVENT_VALUE_CHANGED,t)))},p.prototype.isValueActive=function(){return this.aggregationActive},p.prototype.isAllowPivot=function(){return!0===this.colDef.enablePivot},p.prototype.isAllowValue=function(){return!0===this.colDef.enableValue},p.prototype.isAllowRowGroup=function(){return!0===this.colDef.enableRowGroup},p.prototype.getMenuTabs=function(n){var t=this.getColDef().menuTabs;return null==t&&(t=n),t},p.prototype.isLockPosition=function(){return console.warn("AG Grid: since v21, col.isLockPosition() should not be used, please use col.getColDef().lockPosition instead."),!!this.colDef&&!!this.colDef.lockPosition},p.prototype.isLockVisible=function(){return console.warn("AG Grid: since v21, col.isLockVisible() should not be used, please use col.getColDef().lockVisible instead."),!!this.colDef&&!!this.colDef.lockVisible},p.prototype.isLockPinned=function(){return console.warn("AG Grid: since v21, col.isLockPinned() should not be used, please use col.getColDef().lockPinned instead."),!!this.colDef&&!!this.colDef.lockPinned},p.EVENT_MOVING_CHANGED="movingChanged",p.EVENT_LEFT_CHANGED="leftChanged",p.EVENT_WIDTH_CHANGED="widthChanged",p.EVENT_LAST_LEFT_PINNED_CHANGED="lastLeftPinnedChanged",p.EVENT_FIRST_RIGHT_PINNED_CHANGED="firstRightPinnedChanged",p.EVENT_VISIBLE_CHANGED="visibleChanged",p.EVENT_FILTER_CHANGED="filterChanged",p.EVENT_FILTER_ACTIVE_CHANGED="filterActiveChanged",p.EVENT_SORT_CHANGED="sortChanged",p.EVENT_COL_DEF_CHANGED="colDefChanged",p.EVENT_MENU_VISIBLE_CHANGED="menuVisibleChanged",p.EVENT_ROW_GROUP_CHANGED="columnRowGroupChanged",p.EVENT_PIVOT_CHANGED="columnPivotChanged",p.EVENT_VALUE_CHANGED="columnValueChanged",lr([I("gridOptionsWrapper")],p.prototype,"gridOptionsWrapper",void 0),lr([I("columnUtils")],p.prototype,"columnUtils",void 0),lr([Ee],p.prototype,"initialise",null),p}();function ai(){for(var p=[],n=0;n<arguments.length;n++)p[n]=arguments[n];for(var t=0;t<p.length;t++){var o=p[t];if(a(o))return o}return null}function Je(p){if(p&&p.length)return p[p.length-1]}function It(p,n,t){return null==p&&null==n||null!=p&&null!=n&&p.length===n.length&&p.every(function(o,u){return t?t(o,n[u]):n[u]===o})}function si(p){return p.sort(function(n,t){return n-t})}function vt(p,n){var t=p.indexOf(n);t>=0&&p.splice(t,1)}function xr(p,n){n.forEach(function(t){return vt(p,t)})}function ur(p,n,t){p.splice(t,0,n)}function Ir(p,n,t){xr(p,n),n.slice().reverse().forEach(function(o){return ur(p,o,t)})}function St(p,n){return p.indexOf(n)>-1}function li(p){return[].concat.apply([],p)}function Lr(p,n){null==n||null==p||n.forEach(function(t){return p.push(t)})}var Ni=Object.freeze({__proto__:null,firstExistingValue:ai,existsAndNotEmpty:function Mi(p){return null!=p&&p.length>0},last:Je,areEqual:It,compareArrays:function Ai(p,n){return It(p,n)},shallowCompare:function Ar(p,n){return It(p,n)},sortNumerically:si,removeRepeatsFromArray:function xi(p,n){if(p)for(var t=p.length-2;t>=0;t--)p[t]===n&&p[t+1]===n&&p.splice(t+1,1)},removeFromArray:vt,removeAllFromArray:xr,insertIntoArray:ur,insertArrayIntoArray:function Ii(p,n,t){if(null!=p&&null!=n)for(var o=n.length-1;o>=0;o--)ur(p,n[o],t)},moveInArray:Ir,includes:St,flatten:li,pushAll:Lr,toStrings:function Li(p){return p.map(h)},forEachReverse:function Fi(p,n){if(null!=p)for(var t=p.length-1;t>=0;t--)n(p[t],t)}}),_t=function(){function p(n,t,o,u){this.displayedChildren=[],this.localEventService=new Bt,this.groupId=t,this.instanceId=o,this.providedColumnGroup=n,this.pinned=u}return p.createUniqueId=function(n,t){return n+"_"+t},p.prototype.reset=function(){this.parent=null,this.children=null,this.displayedChildren=null},p.prototype.getParent=function(){return this.parent},p.prototype.setParent=function(n){this.parent=n},p.prototype.getUniqueId=function(){return p.createUniqueId(this.groupId,this.instanceId)},p.prototype.isEmptyGroup=function(){return 0===this.displayedChildren.length},p.prototype.isMoving=function(){var n=this.getProvidedColumnGroup().getLeafColumns();return!(!n||0===n.length)&&n.every(function(t){return t.isMoving()})},p.prototype.checkLeft=function(){if(this.displayedChildren.forEach(function(u){u instanceof p&&u.checkLeft()}),this.displayedChildren.length>0)if(this.gridOptionsWrapper.isEnableRtl()){var t=Je(this.displayedChildren).getLeft();this.setLeft(t)}else{var o=this.displayedChildren[0].getLeft();this.setLeft(o)}else this.setLeft(null)},p.prototype.getLeft=function(){return this.left},p.prototype.getOldLeft=function(){return this.oldLeft},p.prototype.setLeft=function(n){this.oldLeft=n,this.left!==n&&(this.left=n,this.localEventService.dispatchEvent(this.createAgEvent(p.EVENT_LEFT_CHANGED)))},p.prototype.getPinned=function(){return this.pinned},p.prototype.createAgEvent=function(n){return{type:n}},p.prototype.addEventListener=function(n,t){this.localEventService.addEventListener(n,t)},p.prototype.removeEventListener=function(n,t){this.localEventService.removeEventListener(n,t)},p.prototype.getGroupId=function(){return this.groupId},p.prototype.getInstanceId=function(){return this.instanceId},p.prototype.isChildInThisGroupDeepSearch=function(n){var t=!1;return this.children.forEach(function(o){n===o&&(t=!0),o instanceof p&&o.isChildInThisGroupDeepSearch(n)&&(t=!0)}),t},p.prototype.getActualWidth=function(){var n=0;return this.displayedChildren&&this.displayedChildren.forEach(function(t){n+=t.getActualWidth()}),n},p.prototype.isResizable=function(){if(!this.displayedChildren)return!1;var n=!1;return this.displayedChildren.forEach(function(t){t.isResizable()&&(n=!0)}),n},p.prototype.getMinWidth=function(){var n=0;return this.displayedChildren.forEach(function(t){n+=t.getMinWidth()||0}),n},p.prototype.addChild=function(n){this.children||(this.children=[]),this.children.push(n)},p.prototype.getDisplayedChildren=function(){return this.displayedChildren},p.prototype.getLeafColumns=function(){var n=[];return this.addLeafColumns(n),n},p.prototype.getDisplayedLeafColumns=function(){var n=[];return this.addDisplayedLeafColumns(n),n},p.prototype.getDefinition=function(){return this.providedColumnGroup.getColGroupDef()},p.prototype.getColGroupDef=function(){return this.providedColumnGroup.getColGroupDef()},p.prototype.isPadding=function(){return this.providedColumnGroup.isPadding()},p.prototype.isExpandable=function(){return this.providedColumnGroup.isExpandable()},p.prototype.isExpanded=function(){return this.providedColumnGroup.isExpanded()},p.prototype.setExpanded=function(n){this.providedColumnGroup.setExpanded(n)},p.prototype.addDisplayedLeafColumns=function(n){this.displayedChildren.forEach(function(t){t instanceof $e?n.push(t):t instanceof p&&t.addDisplayedLeafColumns(n)})},p.prototype.addLeafColumns=function(n){this.children.forEach(function(t){t instanceof $e?n.push(t):t instanceof p&&t.addLeafColumns(n)})},p.prototype.getChildren=function(){return this.children},p.prototype.getColumnGroupShow=function(){return this.providedColumnGroup.getColumnGroupShow()},p.prototype.getProvidedColumnGroup=function(){return this.providedColumnGroup},p.prototype.getOriginalColumnGroup=function(){return console.warn("AG Grid: columnGroup.getOriginalColumnGroup() is deprecated due to a method rename, use columnGroup.getProvidedColumnGroup() instead"),this.getProvidedColumnGroup()},p.prototype.getPaddingLevel=function(){var n=this.getParent();return this.isPadding()&&n&&n.isPadding()?1+n.getPaddingLevel():0},p.prototype.calculateDisplayedColumns=function(){var n=this;this.displayedChildren=[];for(var t=this;null!=t&&t.isPadding();)t=t.getParent();if(!t||!t.providedColumnGroup.isExpandable())return this.displayedChildren=this.children,void this.localEventService.dispatchEvent(this.createAgEvent(p.EVENT_DISPLAYED_CHILDREN_CHANGED));this.children.forEach(function(u){if(!(u instanceof p)||u.displayedChildren&&u.displayedChildren.length)switch(u.getColumnGroupShow()){case p.HEADER_GROUP_SHOW_OPEN:t.providedColumnGroup.isExpanded()&&n.displayedChildren.push(u);break;case p.HEADER_GROUP_SHOW_CLOSED:t.providedColumnGroup.isExpanded()||n.displayedChildren.push(u);break;default:n.displayedChildren.push(u)}}),this.localEventService.dispatchEvent(this.createAgEvent(p.EVENT_DISPLAYED_CHILDREN_CHANGED))},p.HEADER_GROUP_SHOW_OPEN="open",p.HEADER_GROUP_SHOW_CLOSED="closed",p.EVENT_LEFT_CHANGED="leftChanged",p.EVENT_DISPLAYED_CHILDREN_CHANGED="displayedChildrenChanged",function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);u>3&&c&&Object.defineProperty(n,t,c)}([I("gridOptionsWrapper")],p.prototype,"gridOptionsWrapper",void 0),p}(),ot=function(){function p(n,t,o,u){this.localEventService=new Bt,this.expandable=!1,this.colGroupDef=n,this.groupId=t,this.expanded=!!n&&!!n.openByDefault,this.padding=o,this.level=u}return p.prototype.setOriginalParent=function(n){this.originalParent=n},p.prototype.getOriginalParent=function(){return this.originalParent},p.prototype.getLevel=function(){return this.level},p.prototype.isVisible=function(){return!!this.children&&this.children.some(function(n){return n.isVisible()})},p.prototype.isPadding=function(){return this.padding},p.prototype.setExpanded=function(n){this.expanded=void 0!==n&&n,this.localEventService.dispatchEvent({type:p.EVENT_EXPANDED_CHANGED})},p.prototype.isExpandable=function(){return this.expandable},p.prototype.isExpanded=function(){return this.expanded},p.prototype.getGroupId=function(){return this.groupId},p.prototype.getId=function(){return this.getGroupId()},p.prototype.setChildren=function(n){this.children=n},p.prototype.getChildren=function(){return this.children},p.prototype.getColGroupDef=function(){return this.colGroupDef},p.prototype.getLeafColumns=function(){var n=[];return this.addLeafColumns(n),n},p.prototype.addLeafColumns=function(n){!this.children||this.children.forEach(function(t){t instanceof $e?n.push(t):t instanceof p&&t.addLeafColumns(n)})},p.prototype.getColumnGroupShow=function(){var n=this.colGroupDef;if(n)return n.columnGroupShow},p.prototype.setupExpandable=function(){var n=this;this.setExpandable(),this.getLeafColumns().forEach(function(t){return t.addEventListener($e.EVENT_VISIBLE_CHANGED,n.onColumnVisibilityChanged.bind(n))})},p.prototype.setExpandable=function(){if(!this.isPadding()){for(var n=!1,t=!1,o=!1,u=this.findChildrenRemovingPadding(),c=0,f=u.length;c<f;c++){var g=u[c];if(g.isVisible()){var C=g.getColumnGroupShow();C===_t.HEADER_GROUP_SHOW_OPEN?(n=!0,o=!0):C===_t.HEADER_GROUP_SHOW_CLOSED?(t=!0,o=!0):(n=!0,t=!0)}}var O=n&&t&&o;this.expandable!==O&&(this.expandable=O,this.localEventService.dispatchEvent({type:p.EVENT_EXPANDABLE_CHANGED}))}},p.prototype.findChildrenRemovingPadding=function(){var n=[],t=function(o){o.forEach(function(u){u instanceof p&&u.isPadding()?t(u.children):n.push(u)})};return t(this.children),n},p.prototype.onColumnVisibilityChanged=function(){this.setExpandable()},p.prototype.addEventListener=function(n,t){this.localEventService.addEventListener(n,t)},p.prototype.removeEventListener=function(n,t){this.localEventService.removeEventListener(n,t)},p.EVENT_EXPANDED_CHANGED="expandedChanged",p.EVENT_EXPANDABLE_CHANGED="expandableChanged",p}(),Wi={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}},ui="__ag_Grid_Stop_Propagation",Bi=["touchstart","touchend","touchmove","touchcancel"],Fr={};function F(p){p[ui]=!0}function H(p){return!0===p[ui]}var p,Z=(p={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"},function(t){if("boolean"==typeof Fr[t])return Fr[t];var o=document.createElement(p[t]||"div");return Fr[t="on"+t]=t in o});function B(p,n,t){for(var o=n.target;o;){var u=p.getDomData(o,t);if(u)return u;o=o.parentElement}return null}function Ie(p,n){return!(!n||!p)&&Pt(n).indexOf(p)>=0}function rt(p){for(var n=[],t=p.target;t;)n.push(t),t=t.parentElement;return n}function Pt(p){var n=p;return n.path?n.path:n.composedPath?n.composedPath():n.__agGridEventPath?n.__agGridEventPath:rt(p)}function Lt(p,n,t,o){var u=St(Bi,t);p&&p.addEventListener&&p.addEventListener(n,t,o,u?{passive:!0}:void 0)}var Nu=Object.freeze({__proto__:null,stopPropagationForAgGrid:F,isStopPropagationForAgGrid:H,isEventSupported:Z,getCtrlForEvent:B,addChangeListener:function yt(p,n){p.addEventListener("changed",n),p.addEventListener("paste",n),p.addEventListener("input",n)},isElementInEventPath:Ie,createEventPath:rt,addAgGridEventPath:function pt(p){p.__agGridEventPath=Pt(p)},getEventPath:Pt,addSafePassiveEventListener:Lt}),ki=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},Se=function(){function p(){var n=this;this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.isAlive=function(){return!n.destroyed}}return p.prototype.getFrameworkOverrides=function(){return this.frameworkOverrides},p.prototype.getContext=function(){return this.context},p.prototype.destroy=function(){this.destroyFunctions.forEach(function(n){return n()}),this.destroyFunctions.length=0,this.destroyed=!0,this.dispatchEvent({type:p.EVENT_DESTROYED})},p.prototype.addEventListener=function(n,t){this.localEventService||(this.localEventService=new Bt),this.localEventService.addEventListener(n,t)},p.prototype.removeEventListener=function(n,t){this.localEventService&&this.localEventService.removeEventListener(n,t)},p.prototype.dispatchEventAsync=function(n){var t=this;window.setTimeout(function(){return t.dispatchEvent(n)},0)},p.prototype.dispatchEvent=function(n){this.localEventService&&this.localEventService.dispatchEvent(n)},p.prototype.addManagedListener=function(n,t,o){var u=this;if(!this.destroyed){n instanceof HTMLElement?Lt(this.getFrameworkOverrides(),n,t,o):n.addEventListener(t,o);var c=function(){return n.removeEventListener(t,o),u.destroyFunctions=u.destroyFunctions.filter(function(f){return f!==c}),null};return this.destroyFunctions.push(c),c}},p.prototype.addDestroyFunc=function(n){this.isAlive()?this.destroyFunctions.push(n):n()},p.prototype.createManagedBean=function(n,t){var o=this.createBean(n,t);return this.addDestroyFunc(this.destroyBean.bind(this,n,t)),o},p.prototype.createBean=function(n,t,o){return(t||this.getContext()).createBean(n,o)},p.prototype.destroyBean=function(n,t){return(t||this.getContext()).destroyBean(n)},p.prototype.destroyBeans=function(n,t){var o=this;return n&&n.forEach(function(u){return o.destroyBean(u,t)}),[]},p.EVENT_DESTROYED="destroyed",ki([I("frameworkOverrides")],p.prototype,"frameworkOverrides",void 0),ki([I("context")],p.prototype,"context",void 0),ki([I("eventService")],p.prototype,"eventService",void 0),ki([I("gridOptionsWrapper")],p.prototype,"gridOptionsWrapper",void 0),ki([Pe],p.prototype,"destroy",null),p}(),Gu=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),Po=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},Wu=function(p,n){return function(t,o){n(t,o,p)}},Bu=function(p){function n(){return null!==p&&p.apply(this,arguments)||this}return Gu(n,p),n.prototype.setBeans=function(t){this.logger=t.create("ColumnFactory")},n.prototype.createColumnTree=function(t,o,u){var c=new T,f=this.extractExistingTreeData(u),g=f.existingCols,C=f.existingGroups;c.addExistingKeys(f.existingColKeys);var P=this.recursivelyCreateColumns(t,0,o,g,c,C),R=this.findMaxDept(P,0);this.logger.log("Number of levels for grouped columns is "+R);var x=this.balanceColumnTree(P,0,R,c);return this.columnUtils.depthFirstOriginalTreeSearch(null,x,function(U,q){U instanceof ot&&U.setupExpandable(),U.setOriginalParent(q)}),{columnTree:x,treeDept:R}},n.prototype.extractExistingTreeData=function(t){var o=[],u=[],c=[];return t&&this.columnUtils.depthFirstOriginalTreeSearch(null,t,function(f){if(f instanceof ot)u.push(f);else{var C=f;c.push(C.getId()),o.push(C)}}),{existingCols:o,existingGroups:u,existingColKeys:c}},n.prototype.createForAutoGroups=function(t,o){var u=this;return t.map(function(c){return u.createAutoGroupTreeItem(o,c)})},n.prototype.createAutoGroupTreeItem=function(t,o){for(var c=o,f=this.findDepth(t)-1;f>=0;f--){var g=new ot(null,"FAKE_PATH_"+o.getId()+"}_"+f,!0,f);this.context.createBean(g),g.setChildren([c]),c.setOriginalParent(g),c=g}return c},n.prototype.findDepth=function(t){for(var o=0,u=t;u&&u[0]&&u[0]instanceof ot;)o++,u=u[0].getChildren();return o},n.prototype.balanceColumnTree=function(t,o,u,c){for(var f=[],g=0;g<t.length;g++){var C=t[g];if(C instanceof ot){var O=C,P=this.balanceColumnTree(O.getChildren(),o+1,u,c);O.setChildren(P),f.push(O)}else{for(var R=void 0,x=void 0,W=u-1;W>=o;W--){var U=c.getUniqueKey(null,null),q=this.createMergedColGroupDef(null),te=new ot(q,U,!0,o);this.context.createBean(te),x&&x.setChildren([te]),x=te,R||(R=x)}if(R&&x){if(f.push(R),t.some(function(ae){return ae instanceof ot})){x.setChildren([C]);continue}x.setChildren(t);break}f.push(C)}}return f},n.prototype.findMaxDept=function(t,o){for(var u=o,c=0;c<t.length;c++){var f=t[c];if(f instanceof ot){var C=this.findMaxDept(f.getChildren(),o+1);u<C&&(u=C)}}return u},n.prototype.recursivelyCreateColumns=function(t,o,u,c,f,g){var C=this;return(t||[]).map(function(O){return C.isColumnGroup(O)?C.createColumnGroup(u,O,o,c,f,g):C.createColumn(u,O,c,f)})},n.prototype.createColumnGroup=function(t,o,u,c,f,g){var C=this.createMergedColGroupDef(o),O=f.getUniqueKey(C.groupId||null,null),P=new ot(C,O,!1,u);this.context.createBean(P);var R=this.findExistingGroup(o,g);R&&vt(g,R),R&&R.isExpanded()&&P.setExpanded(!0);var x=this.recursivelyCreateColumns(C.children,u+1,t,c,f,g);return P.setChildren(x),P},n.prototype.createMergedColGroupDef=function(t){var o={};return Object.assign(o,this.gridOptionsWrapper.getDefaultColGroupDef()),Object.assign(o,t),this.checkForDeprecatedItems(o),o},n.prototype.createColumn=function(t,o,u,c){var f=this.mergeColDefs(o);this.checkForDeprecatedItems(f);var g=this.findExistingColumn(o,u);if(u&&g&&vt(u,g),g)g.setColDef(f,o),this.applyColumnState(g,f);else{var C=c.getUniqueKey(f.colId,f.field);g=new $e(f,o,C,t),this.context.createBean(g)}return g},n.prototype.applyColumnState=function(t,o){var u=v(o.flex);if(void 0!==u&&t.setFlex(u),t.getFlex()<=0){var f=v(o.width);if(null!=f)t.setActualWidth(f);else{var g=t.getActualWidth();t.setActualWidth(g)}}void 0!==o.sort&&t.setSort(o.sort==ee.SORT_ASC||o.sort==ee.SORT_DESC?o.sort:void 0);var C=v(o.sortIndex);void 0!==C&&t.setSortIndex(C);var O=_(o.hide);void 0!==O&&t.setVisible(!O),void 0!==o.pinned&&t.setPinned(o.pinned)},n.prototype.findExistingColumn=function(t,o){return(o||[]).find(function(u){var c=u.getUserProvidedColDef();if(!c)return!1;var g=null!=t.field;return null!=t.colId?u.getId()===t.colId:g?c.field===t.field:c===t})},n.prototype.findExistingGroup=function(t,o){return o.find(function(u){return!(!u.getColGroupDef()||null==t.groupId||u.getId()!==t.groupId)})},n.prototype.mergeColDefs=function(t){var o={},u=this.gridOptionsWrapper.getDefaultColDef();Y(o,u,!1,!0);var c=t.type;c||(c=u&&u.type),c&&this.assignColumnTypes(c,o),Y(o,t,!1,!0);var f=this.gridOptionsWrapper.getAutoGroupColumnDef(),g=this.gridOptionsWrapper.isColumnsSortingCoupledToGroup();return t.rowGroup&&f&&g&&Y(o,{sort:f.sort,initialSort:f.initialSort},!1,!0),o},n.prototype.assignColumnTypes=function(t,o){var u=[];if(t instanceof Array)t.some(function(C){return"string"!=typeof C})?console.warn("AG Grid: if colDef.type is supplied an array it should be of type 'string[]'"):u=t;else{if("string"!=typeof t)return void console.warn("AG Grid: colDef.type should be of type 'string' | 'string[]'");u=t.split(",")}var f=Object.assign({},Wi);b(this.gridOptionsWrapper.getColumnTypes()||{},function(C,O){C in f?console.warn("AG Grid: the column type '"+C+"' is a default column type and cannot be overridden."):f[C]=O}),u.forEach(function(C){var O=f[C.trim()];O?Y(o,O,!1,!0):console.warn("AG Grid: colDef.type '"+C+"' does not correspond to defined gridOptions.columnTypes")})},n.prototype.checkForDeprecatedItems=function(t){if(t){var o=t;void 0!==o.group&&console.warn("AG Grid: colDef.group is invalid, please check documentation on how to do grouping as it changed in version 3"),void 0!==o.headerGroup&&console.warn("AG Grid: colDef.headerGroup is invalid, please check documentation on how to do grouping as it changed in version 3"),void 0!==o.headerGroupShow&&console.warn("AG Grid: colDef.headerGroupShow is invalid, should be columnGroupShow, please check documentation on how to do grouping as it changed in version 3"),void 0!==o.suppressRowGroup&&console.warn("AG Grid: colDef.suppressRowGroup is deprecated, please use colDef.type instead"),void 0!==o.suppressAggregation&&console.warn("AG Grid: colDef.suppressAggregation is deprecated, please use colDef.type instead"),(o.suppressRowGroup||o.suppressAggregation)&&console.warn("AG Grid: colDef.suppressAggregation and colDef.suppressRowGroup are deprecated, use allowRowGroup, allowPivot and allowValue instead"),o.displayName&&(console.warn("AG Grid: Found displayName "+o.displayName+", please use headerName instead, displayName is deprecated."),o.headerName=o.displayName)}},n.prototype.isColumnGroup=function(t){return void 0!==t.children},Po([I("columnUtils")],n.prototype,"columnUtils",void 0),Po([Wu(0,tt("loggerFactory"))],n.prototype,"setBeans",null),Po([me("columnFactory")],n)}(Se),V=function(){function p(){}return p.EVENT_COLUMN_EVERYTHING_CHANGED="columnEverythingChanged",p.EVENT_NEW_COLUMNS_LOADED="newColumnsLoaded",p.EVENT_COLUMN_PIVOT_MODE_CHANGED="columnPivotModeChanged",p.EVENT_COLUMN_ROW_GROUP_CHANGED="columnRowGroupChanged",p.EVENT_EXPAND_COLLAPSE_ALL="expandOrCollapseAll",p.EVENT_COLUMN_PIVOT_CHANGED="columnPivotChanged",p.EVENT_GRID_COLUMNS_CHANGED="gridColumnsChanged",p.EVENT_COLUMN_VALUE_CHANGED="columnValueChanged",p.EVENT_COLUMN_MOVED="columnMoved",p.EVENT_COLUMN_VISIBLE="columnVisible",p.EVENT_COLUMN_PINNED="columnPinned",p.EVENT_COLUMN_GROUP_OPENED="columnGroupOpened",p.EVENT_COLUMN_RESIZED="columnResized",p.EVENT_DISPLAYED_COLUMNS_CHANGED="displayedColumnsChanged",p.EVENT_VIRTUAL_COLUMNS_CHANGED="virtualColumnsChanged",p.EVENT_ASYNC_TRANSACTIONS_FLUSHED="asyncTransactionsFlushed",p.EVENT_ROW_GROUP_OPENED="rowGroupOpened",p.EVENT_ROW_DATA_CHANGED="rowDataChanged",p.EVENT_ROW_DATA_UPDATED="rowDataUpdated",p.EVENT_PINNED_ROW_DATA_CHANGED="pinnedRowDataChanged",p.EVENT_RANGE_SELECTION_CHANGED="rangeSelectionChanged",p.EVENT_CHART_CREATED="chartCreated",p.EVENT_CHART_RANGE_SELECTION_CHANGED="chartRangeSelectionChanged",p.EVENT_CHART_OPTIONS_CHANGED="chartOptionsChanged",p.EVENT_CHART_DESTROYED="chartDestroyed",p.EVENT_TOOL_PANEL_VISIBLE_CHANGED="toolPanelVisibleChanged",p.EVENT_COLUMN_PANEL_ITEM_DRAG_START="columnPanelItemDragStart",p.EVENT_COLUMN_PANEL_ITEM_DRAG_END="columnPanelItemDragEnd",p.EVENT_MODEL_UPDATED="modelUpdated",p.EVENT_PASTE_START="pasteStart",p.EVENT_PASTE_END="pasteEnd",p.EVENT_FILL_START="fillStart",p.EVENT_FILL_END="fillEnd",p.EVENT_CELL_CLICKED="cellClicked",p.EVENT_CELL_DOUBLE_CLICKED="cellDoubleClicked",p.EVENT_CELL_MOUSE_DOWN="cellMouseDown",p.EVENT_CELL_CONTEXT_MENU="cellContextMenu",p.EVENT_CELL_VALUE_CHANGED="cellValueChanged",p.EVENT_CELL_EDIT_REQUEST="cellEditRequest",p.EVENT_ROW_VALUE_CHANGED="rowValueChanged",p.EVENT_CELL_FOCUSED="cellFocused",p.EVENT_FULL_WIDTH_ROW_FOCUSED="fullWidthRowFocused",p.EVENT_ROW_SELECTED="rowSelected",p.EVENT_SELECTION_CHANGED="selectionChanged",p.EVENT_CELL_KEY_DOWN="cellKeyDown",p.EVENT_CELL_KEY_PRESS="cellKeyPress",p.EVENT_CELL_MOUSE_OVER="cellMouseOver",p.EVENT_CELL_MOUSE_OUT="cellMouseOut",p.EVENT_FILTER_CHANGED="filterChanged",p.EVENT_FILTER_MODIFIED="filterModified",p.EVENT_FILTER_OPENED="filterOpened",p.EVENT_SORT_CHANGED="sortChanged",p.EVENT_VIRTUAL_ROW_REMOVED="virtualRowRemoved",p.EVENT_ROW_CLICKED="rowClicked",p.EVENT_ROW_DOUBLE_CLICKED="rowDoubleClicked",p.EVENT_GRID_READY="gridReady",p.EVENT_GRID_SIZE_CHANGED="gridSizeChanged",p.EVENT_VIEWPORT_CHANGED="viewportChanged",p.EVENT_SCROLLBAR_WIDTH_CHANGED="scrollbarWidthChanged",p.EVENT_FIRST_DATA_RENDERED="firstDataRendered",p.EVENT_DRAG_STARTED="dragStarted",p.EVENT_DRAG_STOPPED="dragStopped",p.EVENT_CHECKBOX_CHANGED="checkboxChanged",p.EVENT_ROW_EDITING_STARTED="rowEditingStarted",p.EVENT_ROW_EDITING_STOPPED="rowEditingStopped",p.EVENT_CELL_EDITING_STARTED="cellEditingStarted",p.EVENT_CELL_EDITING_STOPPED="cellEditingStopped",p.EVENT_BODY_SCROLL="bodyScroll",p.EVENT_BODY_SCROLL_END="bodyScrollEnd",p.EVENT_HEIGHT_SCALE_CHANGED="heightScaleChanged",p.EVENT_PAGINATION_CHANGED="paginationChanged",p.EVENT_COMPONENT_STATE_CHANGED="componentStateChanged",p.EVENT_BODY_HEIGHT_CHANGED="bodyHeightChanged",p.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED="displayedColumnsWidthChanged",p.EVENT_SCROLL_VISIBILITY_CHANGED="scrollVisibilityChanged",p.EVENT_COLUMN_HOVER_CHANGED="columnHoverChanged",p.EVENT_FLASH_CELLS="flashCells",p.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED="paginationPixelOffsetChanged",p.EVENT_DISPLAYED_ROWS_CHANGED="displayedRowsChanged",p.EVENT_LEFT_PINNED_WIDTH_CHANGED="leftPinnedWidthChanged",p.EVENT_RIGHT_PINNED_WIDTH_CHANGED="rightPinnedWidthChanged",p.EVENT_ROW_CONTAINER_HEIGHT_CHANGED="rowContainerHeightChanged",p.EVENT_HEADER_HEIGHT_CHANGED="headerHeightChanged",p.EVENT_COLUMN_HEADER_HEIGHT_CHANGED="columnHeaderHeightChanged",p.EVENT_ROW_DRAG_ENTER="rowDragEnter",p.EVENT_ROW_DRAG_MOVE="rowDragMove",p.EVENT_ROW_DRAG_LEAVE="rowDragLeave",p.EVENT_ROW_DRAG_END="rowDragEnd",p.EVENT_POPUP_TO_FRONT="popupToFront",p.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST="columnRowGroupChangeRequest",p.EVENT_COLUMN_PIVOT_CHANGE_REQUEST="columnPivotChangeRequest",p.EVENT_COLUMN_VALUE_CHANGE_REQUEST="columnValueChangeRequest",p.EVENT_COLUMN_AGG_FUNC_CHANGE_REQUEST="columnAggFuncChangeRequest",p.EVENT_KEYBOARD_FOCUS="keyboardFocus",p.EVENT_MOUSE_FOCUS="mouseFocus",p.EVENT_STORE_UPDATED="storeUpdated",p}(),_s=function(){function p(){this.existingIds={}}return p.prototype.getInstanceIdForKey=function(n){var o,t=this.existingIds[n];return this.existingIds[n]=o="number"!=typeof t?0:t+1,o},p}(),ku=/[&<>"']/g,Vu={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function ys(p){return null==p?null:p.replace(/([A-Z])/g,function(n){return"-"+n[0].toLowerCase()})}function ms(p){return null==p?null:p.replace(/-([a-z])/g,function(n){return n[1].toUpperCase()})}function Do(p){return p[0].toUpperCase()+p.substr(1).toLowerCase()}function rr(p){return null==p?null:p.toString().toString().replace(ku,function(n){return Vu[n]})}function Ro(p){return p&&null!=p?p.replace(/([A-Z])([A-Z])([a-z])|([a-z])([A-Z])/g,"$1$4 $2$3$5").replace("."," ").split(" ").map(function(o){return o.substring(0,1).toUpperCase()+(o.length>1?o.substring(1,o.length):"")}).join(" "):null}var Uu=Object.freeze({__proto__:null,utf8_encode:function Hu(p){var n=String.fromCharCode;function u(R,x){return n(R>>x&63|128)}function c(R){if(R>=0&&R<=31&&10!==R)return"_x"+R.toString(16).toUpperCase().padStart(4,"0")+"_";if(0==(4294967168&R))return n(R);var U="";return 0==(4294965248&R)?U=n(R>>6&31|192):0==(4294901760&R)?(function o(R){if(R>=55296&&R<=57343)throw Error("Lone surrogate U+"+R.toString(16).toUpperCase()+" is not a scalar value")}(R),U=n(R>>12&15|224),U+=u(R,6)):0==(4292870144&R)&&(U=n(R>>18&7|240),U+=u(R,12),U+=u(R,6)),U+n(63&R|128)}for(var f=function t(R){var x=[];if(!R)return[];for(var q,te,W=R.length,U=0;U<W;)(q=R.charCodeAt(U++))>=55296&&q<=56319&&U<W?56320==(64512&(te=R.charCodeAt(U++)))?x.push(((1023&q)<<10)+(1023&te)+65536):(x.push(q),U--):x.push(q);return x}(p),g=f.length,C=-1,P="";++C<g;)P+=c(f[C]);return P},camelCaseToHyphen:ys,hyphenToCamelCase:ms,capitalise:Do,escapeString:rr,camelCaseToHumanText:Ro});function yr(p){var n=new Map;return p.forEach(function(t){return n.set(t[0],t[1])}),n}var Ku=Object.freeze({__proto__:null,convertToMap:yr,mapById:function $u(p,n){var t=new Map;return p.forEach(function(o){return t.set(n(o),o)}),t},keys:function ju(p){var n=[];return p.forEach(function(t,o){return n.push(o)}),n}}),zu=function(p,n){var t="function"==typeof Symbol&&p[Symbol.iterator];if(!t)return p;var u,f,o=t.call(p),c=[];try{for(;(void 0===n||n-- >0)&&!(u=o.next()).done;)c.push(u.value)}catch(g){f={error:g}}finally{try{u&&!u.done&&(t=o.return)&&t.call(o)}finally{if(f)throw f.error}}return c},Cs=function(){function p(){}return p.STRING_PROPERTIES=["headerName","columnGroupShow","headerClass","toolPanelClass","headerValueGetter","pivotKeys","groupId","colId","sort","initialSort","field","type","tooltipComponent","tooltipField","headerTooltip","cellClass","showRowGroup","filter","initialAggFunc","defaultAggFunc","aggFunc","pinned","initialPinned","chartDataType","cellEditorPopupPosition"],p.OBJECT_PROPERTIES=["headerGroupComponent","headerGroupComponentFramework","headerGroupComponentParams","cellStyle","cellRenderer","cellRendererParams","cellRendererFramework","cellEditor","cellEditorFramework","cellEditorParams","pinnedRowCellRendererFramework","pinnedRowCellRendererParams","filterFramework","filterParams","pivotValueColumn","headerComponent","headerComponentFramework","headerComponentParams","floatingFilterComponent","floatingFilterComponentParams","floatingFilterComponentFramework","floatingFilterFramework","tooltipComponent","tooltipComponentParams","tooltipComponentFramework","refData","columnsMenuParams"],p.ARRAY_PROPERTIES=["children","sortingOrder","allowedAggFuncs","menuTabs","pivotTotalColumnIds","cellClassRules","icons"],p.NUMBER_PROPERTIES=["sortedAt","sortIndex","initialSortIndex","flex","initialFlex","width","initialWidth","minWidth","maxWidth","rowGroupIndex","initialRowGroupIndex","pivotIndex","initialPivotIndex"],p.BOOLEAN_PROPERTIES=["suppressCellFlash","suppressColumnsToolPanel","suppressFiltersToolPanel","openByDefault","marryChildren","hide","initialHide","rowGroup","initialRowGroup","pivot","initialPivot","checkboxSelection","showDisabledCheckboxes","headerCheckboxSelection","headerCheckboxSelectionFilteredOnly","suppressMenu","suppressMovable","lockPosition","lockVisible","lockPinned","unSortIcon","suppressSizeToFit","suppressAutoSize","enableRowGroup","enablePivot","enableValue","editable","suppressPaste","suppressNavigable","enableCellChangeFlash","rowDrag","dndSource","autoHeight","wrapText","sortable","resizable","singleClickEdit","floatingFilter","cellEditorPopup","suppressFillHandle","wrapHeaderText","autoHeaderHeight"],p.ALL_PROPERTIES=function(){for(var p=[],n=0;n<arguments.length;n++)p=p.concat(zu(arguments[n]));return p}(p.ARRAY_PROPERTIES,p.OBJECT_PROPERTIES,p.STRING_PROPERTIES,p.NUMBER_PROPERTIES,p.FUNCTION_PROPERTIES=["dndSourceOnRowDrag","valueGetter","valueSetter","filterValueGetter","keyCreator","pinnedRowCellRenderer","valueFormatter","pinnedRowValueFormatter","valueParser","comparator","equals","pivotComparator","suppressKeyboardEvent","suppressHeaderKeyboardEvent","colSpan","rowSpan","getQuickFilterText","newValueHandler","onCellValueChanged","onCellClicked","onCellDoubleClicked","onCellContextMenu","rowDragText","tooltipValueGetter","tooltipComponent","tooltipComponentFramework","cellRendererSelector","cellEditorSelector"],p.BOOLEAN_PROPERTIES),p.FRAMEWORK_PROPERTIES=["__ob__","__v_skip","__metadata__","mappedColumnProperties","hasChildColumns","toColDef","createColDefFromGridColumn"],p}(),Xu=function(p,n){var t="function"==typeof Symbol&&p[Symbol.iterator];if(!t)return p;var u,f,o=t.call(p),c=[];try{for(;(void 0===n||n-- >0)&&!(u=o.next()).done;)c.push(u.value)}catch(g){f={error:g}}finally{try{u&&!u.done&&(t=o.return)&&t.call(o)}finally{if(f)throw f.error}}return c},cr=function(){function p(){}return p.STRING_PROPERTIES=["sortingOrder","rowClass","rowSelection","overlayLoadingTemplate","overlayNoRowsTemplate","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","serverSideStoreType","groupDisplayType","treeDataDisplayType"],p.OBJECT_PROPERTIES=["components","frameworkComponents","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultExportParams","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","colResizeDefault","statusBar","sideBar","chartThemeOverrides","customChartThemes"],p.ARRAY_PROPERTIES=["alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes"],p.NUMBER_PROPERTIES=["rowHeight","detailRowHeight","rowBuffer","colWidth","headerHeight","groupHeaderHeight","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","minColWidth","maxColWidth","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","batchUpdateWaitMillis","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDelay","cellFadeDelay","tabIndex"],p.BOOLEAN_PROPERTIES=["suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellSelection","suppressCellFocus","suppressHorizontalScroll","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","angularCompileRows","angularCompileFilters","groupSuppressAutoColumn","groupSelectsChildren","groupIncludeFooter","groupIncludeTotalFooter","groupUseEntireRow","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressParentsInRowNodes","suppressColumnMoveAnimation","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","suppressAsyncEvents","allowContextMenuWithControlKey","suppressContextMenu","rememberGroupStateWhenNewData","enableCellChangeFlash","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","suppressAggAtRootLevel","suppressFocusAfterRefresh","functionsPassive","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","deprecatedEmbedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupMultiAutoColumn","pagination","stopEditingWhenGridLosesFocus","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","deltaRowDataMode","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","treeData","masterDetail","suppressMultiRangeSelection","enterMovesDownAfterEdit","enterMovesDown","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressEnterpriseResetOnNewColumns","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","suppressSetColumnStateEvents","suppressColumnStateEvents","enableCharts","deltaColumnMode","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","immutableData","immutableColumns","pivotSuppressAutoColumn","suppressExpandablePivotGroups","applyColumnDefOrder","debounceVerticalScrollbar","detailRowAutoHeight","serverSideFilteringAlwaysResets","serverSideSortingAlwaysResets","serverSideSortAllLevels","serverSideFilterAllLevels","serverSideSortOnServer","serverSideFilterOnServer","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","maintainColumnOrder","groupMaintainOrder","columnHoverHighlight","reactUi","suppressReactUi","readOnlyEdit","suppressRowVirtualisation","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","groupRowsSticky","serverSideInfiniteScroll"],p.ALL_PROPERTIES=function(){for(var p=[],n=0;n<arguments.length;n++)p=p.concat(Xu(arguments[n]));return p}(p.ARRAY_PROPERTIES,p.OBJECT_PROPERTIES,p.STRING_PROPERTIES,p.NUMBER_PROPERTIES,p.FUNCTION_PROPERTIES=["localeTextFunc","getLocaleText","groupRowInnerRenderer","groupRowInnerRendererFramework","groupRowRenderer","groupRowRendererFramework","isExternalFilterPresent","getRowHeight","doesExternalFilterPass","getRowClass","getRowStyle","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","groupRowAggNodes","getGroupRowAgg","getRowNodeId","isFullWidthCell","isFullWidthRow","fullWidthCellRenderer","fullWidthCellRendererFramework","processSecondaryColDef","processSecondaryColGroupDef","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","sendToClipboard","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","loadingCellRenderer","loadingCellRendererFramework","loadingOverlayComponent","loadingOverlayComponentFramework","noRowsOverlayComponent","noRowsOverlayComponentFramework","detailCellRenderer","detailCellRendererFramework","isRowMaster","isRowSelectable","postSort","postSortRows","processHeaderForClipboard","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","suppressKeyboardEvent","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideStoreParams","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","defaultGroupSortComparator","defaultGroupOrderComparator","initialGroupOrderComparator","loadingCellRendererSelector","getRowId","groupAggFiltering"],p.BOOLEAN_PROPERTIES),p.FRAMEWORK_PROPERTIES=["__ob__","__v_skip","__metadata__","mappedColumnProperties","hasChildColumns","toColDef","createColDefFromGridColumn"],p}(),To=function(){return To=Object.assign||function(p){for(var n,t=1,o=arguments.length;t<o;t++)for(var u in n=arguments[t])Object.prototype.hasOwnProperty.call(n,u)&&(p[u]=n[u]);return p},To.apply(this,arguments)},Zu=function(p,n){var t="function"==typeof Symbol&&p[Symbol.iterator];if(!t)return p;var u,f,o=t.call(p),c=[];try{for(;(void 0===n||n-- >0)&&!(u=o.next()).done;)c.push(u.value)}catch(g){f={error:g}}finally{try{u&&!u.done&&(t=o.return)&&t.call(o)}finally{if(f)throw f.error}}return c},Es=function(){for(var p=[],n=0;n<arguments.length;n++)p=p.concat(Zu(arguments[n]));return p},mr=function(){function p(){}return p.getEventCallbacks=function(){return p.EVENT_CALLBACKS||(p.EVENT_CALLBACKS=p.EVENTS.map(function(n){return p.getCallbackForEvent(n)})),p.EVENT_CALLBACKS},p.copyAttributesToGridOptions=function(n,t,o){"object"!=typeof n&&(n={});var u=n,c=function(f){return typeof t[f]<"u"};return c("groupAggFiltering")&&"function"!=typeof t.groupAggFiltering&&(u.groupAggFiltering=p.toBoolean(t.groupAggFiltering),delete t.groupAggFiltering),Es(p.ARRAY_PROPERTIES,p.STRING_PROPERTIES,p.OBJECT_PROPERTIES,p.FUNCTION_PROPERTIES,p.getEventCallbacks()).filter(c).forEach(function(f){return u[f]=t[f]}),p.BOOLEAN_PROPERTIES.filter(c).forEach(function(f){return u[f]=p.toBoolean(t[f])}),p.NUMBER_PROPERTIES.filter(c).forEach(function(f){return u[f]=p.toNumber(t[f])}),n},p.getCallbackForEvent=function(n){return!n||n.length<2?n:"on"+n[0].toUpperCase()+n.substr(1)},p.processOnChange=function(n,t,o,u){if(n){var c=To({},n),f=t,g=function(P){return c[P]};g("groupAggFiltering")&&(f.groupAggFiltering="function"==typeof c.groupAggFiltering?c.groupAggFiltering:p.toBoolean(c.groupAggFiltering),delete c.groupAggFiltering),g("groupDisplayType")&&"string"==typeof c.groupDisplayType.currentValue&&(o.setGroupDisplayType(c.groupDisplayType.currentValue),delete c.groupDisplayType),c.rowClass&&(o.setRowClass(c.rowClass.currentValue),delete c.rowClass),Es(p.ARRAY_PROPERTIES,p.OBJECT_PROPERTIES,p.STRING_PROPERTIES,p.getEventCallbacks()).filter(g).forEach(function(P){return f[P]=c[P].currentValue}),p.BOOLEAN_PROPERTIES.filter(g).forEach(function(P){return f[P]=p.toBoolean(c[P].currentValue)}),p.NUMBER_PROPERTIES.filter(g).forEach(function(P){return f[P]=p.toNumber(c[P].currentValue)}),c.enableCellTextSelection&&(o.setEnableCellTextSelection(p.toBoolean(c.enableCellTextSelection.currentValue)),delete c.enableCellTextSelection),c.quickFilterText&&(o.setQuickFilter(c.quickFilterText.currentValue),delete c.quickFilterText),c.autoGroupColumnDef&&(o.setAutoGroupColumnDef(c.autoGroupColumnDef.currentValue,"gridOptionsChanged"),delete c.autoGroupColumnDef),c.columnDefs&&(o.setColumnDefs(c.columnDefs.currentValue,"gridOptionsChanged"),delete c.columnDefs),c.defaultColDef&&(o.setDefaultColDef(c.defaultColDef.currentValue,"gridOptionsChanged"),delete c.defaultColDef),c.paginationPageSize&&(o.paginationSetPageSize(p.toNumber(c.paginationPageSize.currentValue)),delete c.paginationPageSize),c.pivotMode&&(u.setPivotMode(p.toBoolean(c.pivotMode.currentValue)),delete c.pivotMode),c.groupRemoveSingleChildren&&(o.setGroupRemoveSingleChildren(p.toBoolean(c.groupRemoveSingleChildren.currentValue)),delete c.groupRemoveSingleChildren),c.suppressRowDrag&&(o.setSuppressRowDrag(p.toBoolean(c.suppressRowDrag.currentValue)),delete c.suppressRowDrag),c.suppressMoveWhenRowDragging&&(o.setSuppressMoveWhenRowDragging(p.toBoolean(c.suppressMoveWhenRowDragging.currentValue)),delete c.suppressMoveWhenRowDragging),c.suppressRowClickSelection&&(o.setSuppressRowClickSelection(p.toBoolean(c.suppressRowClickSelection.currentValue)),delete c.suppressRowClickSelection),c.suppressClipboardPaste&&(o.setSuppressClipboardPaste(p.toBoolean(c.suppressClipboardPaste.currentValue)),delete c.suppressClipboardPaste),c.headerHeight&&(o.setHeaderHeight(p.toNumber(c.headerHeight.currentValue)),delete c.headerHeight);var C=o;Object.keys(c).forEach(function(P){var R="set"+P.charAt(0).toUpperCase()+P.substring(1);C[R]&&C[R](n[P].currentValue)});var O={type:V.EVENT_COMPONENT_STATE_CHANGED};b(n,function(P,R){O[P]=R}),o.dispatchEvent(O)}},p.toBoolean=function(n){return"boolean"==typeof n?n:"string"==typeof n&&("TRUE"===n.toUpperCase()||""==n)},p.toNumber=function(n){return"number"==typeof n?n:"string"==typeof n?Number(n):void 0},p.EVENTS=[],p.PUBLIC_EVENTS=[],p.EXCLUDED_INTERNAL_EVENTS=[],p.STRING_PROPERTIES=cr.STRING_PROPERTIES,p.OBJECT_PROPERTIES=cr.OBJECT_PROPERTIES,p.ARRAY_PROPERTIES=cr.ARRAY_PROPERTIES,p.NUMBER_PROPERTIES=cr.NUMBER_PROPERTIES,p.BOOLEAN_PROPERTIES=cr.BOOLEAN_PROPERTIES,p.FUNCTION_PROPERTIES=cr.FUNCTION_PROPERTIES,p.ALL_PROPERTIES=cr.ALL_PROPERTIES,p}();mr.EVENTS=S(V),mr.EXCLUDED_INTERNAL_EVENTS=[V.EVENT_SCROLLBAR_WIDTH_CHANGED,V.EVENT_CHECKBOX_CHANGED,V.EVENT_HEIGHT_SCALE_CHANGED,V.EVENT_BODY_HEIGHT_CHANGED,V.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,V.EVENT_SCROLL_VISIBILITY_CHANGED,V.EVENT_COLUMN_HOVER_CHANGED,V.EVENT_FLASH_CELLS,V.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,V.EVENT_DISPLAYED_ROWS_CHANGED,V.EVENT_LEFT_PINNED_WIDTH_CHANGED,V.EVENT_RIGHT_PINNED_WIDTH_CHANGED,V.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,V.EVENT_POPUP_TO_FRONT,V.EVENT_KEYBOARD_FOCUS,V.EVENT_MOUSE_FOCUS,V.EVENT_STORE_UPDATED,V.EVENT_COLUMN_PANEL_ITEM_DRAG_START,V.EVENT_COLUMN_PANEL_ITEM_DRAG_END,V.EVENT_FILL_START,V.EVENT_FILL_END,V.EVENT_FULL_WIDTH_ROW_FOCUSED,V.EVENT_HEADER_HEIGHT_CHANGED,V.EVENT_COLUMN_HEADER_HEIGHT_CHANGED],mr.PUBLIC_EVENTS=mr.EVENTS.filter(function(p){return!St(mr.EXCLUDED_INTERNAL_EVENTS,p)});var bo,Mo,Ao,xo,Io,Lo,Fo,No,Go,Cn,Os=function(){function p(){}return p.parse=function(n){if(!n)return null;if(!0===n)return{toolPanels:[p.DEFAULT_COLUMN_COMP,p.DEFAULT_FILTER_COMP],defaultToolPanel:"columns"};if("string"==typeof n)return p.parse([n]);if(Array.isArray(n)){var t=[];return n.forEach(function(u){var c=p.DEFAULT_BY_KEY[u];c?t.push(c):console.warn("AG Grid: the key "+u+" is not a valid key for specifying a tool panel, valid keys are: "+Object.keys(p.DEFAULT_BY_KEY).join(","))}),0===t.length?null:{toolPanels:t,defaultToolPanel:t[0].id}}return{toolPanels:p.parseComponents(n.toolPanels),defaultToolPanel:n.defaultToolPanel,hiddenByDefault:n.hiddenByDefault,position:n.position}},p.parseComponents=function(n){var t=[];return n&&n.forEach(function(o){var u=null;if("string"==typeof o){var c=p.DEFAULT_BY_KEY[o];if(!c)return void console.warn("AG Grid: the key "+o+" is not a valid key for specifying a tool panel, valid keys are: "+Object.keys(p.DEFAULT_BY_KEY).join(","));u=c}else u=o;t.push(u)}),t},p.DEFAULT_BY_KEY={columns:p.DEFAULT_COLUMN_COMP={id:"columns",labelDefault:"Columns",labelKey:"columns",iconKey:"columns",toolPanel:"agColumnsToolPanel"},filters:p.DEFAULT_FILTER_COMP={id:"filters",labelDefault:"Filters",labelKey:"filters",iconKey:"filter",toolPanel:"agFiltersToolPanel"}},p}();function ws(){if(Cn)return Cn;var t,o,p=navigator.userAgent,n=p.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];if(/trident/i.test(n[1]))return{name:"IE",version:o=null!=(t=/\brv[ :]+(\d+)/g.exec(p)||[])[1]?parseFloat(t[1]):0};if("Chrome"===n[1]&&null!=(t=p.match(/\bOPR|Edge\/(\d+)/)))return{name:"Opera",version:o=null!=t[1]?parseFloat(t[1]):0};n=n[2]?[n[1],n[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(t=p.match(/version\/(\d+)/i))&&n.splice(1,1,t[1]);var u=n[0];return o=null!=n[1]?parseFloat(n[1]):0,Cn={name:u,version:o}}function En(){return void 0===Ao&&(Ao=!function Qu(){return void 0===Mo&&(Mo=!!document.documentMode),Mo}()&&!!window.StyleMedia),Ao}function ci(){return void 0===bo&&(bo=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),bo}function Vi(){if(void 0===xo){var p=window;xo=!!p.chrome&&(!!p.chrome.webstore||!!p.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return xo}function Wo(){if(void 0===Io){var p=window;Io=typeof p.InstallTrigger<"u"}return Io}function Ss(){return void 0===Lo&&(Lo=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),Lo}function Nr(){return void 0===Fo&&(Fo=(/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!window.MSStream),Fo}function On(){return!ci()||ws().version>=15}function wn(p){if(!p)return null;var n=p.tabIndex,t=p.getAttribute("tabIndex");return-1!==n||null!==t&&(""!==t||Wo())?n.toString():null}function Ps(){if(!document.body)return-1;var p=1e6,n=navigator.userAgent.toLowerCase().match(/firefox/)?6e6:1e9,t=document.createElement("div");for(document.body.appendChild(t);;){var o=2*p;if(t.style.height=o+"px",o>n||t.clientHeight!==o)break;p=o}return document.body.removeChild(t),p}function Ds(){return null==Go&&Rs(),Go}function Rs(){var p=document.body,n=document.createElement("div");n.style.width=n.style.height="100px",n.style.opacity="0",n.style.overflow="scroll",n.style.msOverflowStyle="scrollbar",n.style.position="absolute",p.appendChild(n);var t=n.offsetWidth-n.clientWidth;0===t&&0===n.clientWidth&&(t=null),n.parentNode&&n.parentNode.removeChild(n),null!=t&&(Go=t,No=0===t)}function Ts(){return null==No&&Rs(),No}function bs(){return document.body?document.body.clientWidth:window.innerHeight?window.innerWidth:document.documentElement&&document.documentElement.clientWidth?document.documentElement.clientWidth:-1}function Ms(){return document.body?document.body.clientHeight:window.innerHeight?window.innerHeight:document.documentElement&&document.documentElement.clientHeight?document.documentElement.clientHeight:-1}var tc=Object.freeze({__proto__:null,getBrowserInfo:ws,isBrowserEdge:En,isBrowserSafari:ci,isBrowserChrome:Vi,isBrowserFirefox:Wo,isMacOsUserAgent:Ss,isIOSUserAgent:Nr,browserSupportsPreventScroll:On,getTabIndex:wn,getMaxDivHeight:Ps,getScrollbarWidth:Ds,isInvisibleScrollbar:Ts,hasOverflowScrolling:function ec(){var p,n,t=["webkit","moz","o","ms"],o=document.createElement("div"),c=!1;document.getElementsByTagName("body")[0].appendChild(o),o.setAttribute("style",t.map(function(P){return"-"+P+"-overflow-scrolling: touch"}).concat("overflow-scrolling: touch").join(";"));var g=window.getComputedStyle(o);if("touch"===g.overflowScrolling&&(c=!0),!c)try{for(var C=function(p){var n="function"==typeof Symbol&&Symbol.iterator,t=n&&p[n],o=0;if(t)return t.call(p);if(p&&"number"==typeof p.length)return{next:function(){return p&&o>=p.length&&(p=void 0),{value:p&&p[o++],done:!p}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),O=C.next();!O.done;O=C.next())if("touch"===g[O.value+"OverflowScrolling"]){c=!0;break}}catch(P){p={error:P}}finally{try{O&&!O.done&&(n=C.return)&&n.call(C)}finally{if(p)throw p.error}}return o.parentNode&&o.parentNode.removeChild(o),c},getBodyWidth:bs,getBodyHeight:Ms});function As(p,n,t){var o={},u=p.filter(function(c){return!n.some(function(f){return f===c})});return u.length>0&&u.forEach(function(c){return o[c]=xs(c,t)}),o}function xs(p,n,t,o){var u=o?Ls:Is,c=n.map(function(f){return{value:f,relevance:u(p.toLowerCase(),f.toLocaleLowerCase())}});return c.sort(function(f,g){return g.relevance-f.relevance}),t&&(c=c.filter(function(f){return 0!==f.relevance})),c.map(function(f){return f.value})}function Bo(p){var o,u,c,n=p.toLowerCase(),t=new Array(n.length-1);for(o=u=0,c=t.length;u<=c;o=u+=1)t[o]=n.slice(o,o+2);return t}function Is(p,n){if(0===p.length&&0===n.length)return 0;var f,g,t=Bo(p),o=Bo(n),u=t.length+o.length,c=0;for(f=0,g=t.length;f<g;f++){var P,C=t[f],O=void 0;for(O=0,P=o.length;O<P;O++)C===o[O]&&c++}return c>0?2*c/u:0}function Ls(p,n){for(var t=p.replace(/\s/g,""),o=n.replace(/\s/g,""),u=0,c=0,f=0;f<t.length;f++){var g=o.indexOf(t[f],c);-1!==g&&(u+=100-100*(c=g)/1e4*100)}return u}var rc=Object.freeze({__proto__:null,fuzzyCheckStrings:As,fuzzySuggestions:xs,get_bigrams:Bo,string_distances:Is,string_weighted_distances:Ls});function pi(p,n){return p.toString().padStart(n,"0")}function Fs(p,n){for(var t=[],o=p;o<=n;o++)t.push(o);return t}function Sn(p){return""!==p&&!isNaN(parseFloat(p))&&isFinite(p)}function ko(p,n,t){return"number"!=typeof p?"":p.toString().replace(".",t).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+n)}var sc=Object.freeze({__proto__:null,padStartWidthZeros:pi,createArrayOfNumbers:Fs,isNumeric:Sn,cleanNumber:function ic(p){return"string"==typeof p&&(p=parseInt(p,10)),"number"==typeof p?Math.floor(p):null},decToHex:function nc(p,n){for(var t="",o=0;o<n;o++)t+=String.fromCharCode(255&p),p>>>=8;return t},formatNumberTwoDecimalPlacesAndCommas:function oc(p,n,t){return"number"!=typeof p?"":ko(Math.round(100*p)/100,n,t)},formatNumberCommas:ko,sum:function ac(p){return null==p?null:p.reduce(function(n,t){return n+t},0)}}),Pn=function(){return Pn=Object.assign||function(p){for(var n,t=1,o=arguments.length;t<o;t++)for(var u in n=arguments[t])Object.prototype.hasOwnProperty.call(n,u)&&(p[u]=n[u]);return p},Pn.apply(this,arguments)},Cr=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},Ns=function(p,n){return function(t,o){n(t,o,p)}},lc=function(p,n){var t="function"==typeof Symbol&&p[Symbol.iterator];if(!t)return p;var u,f,o=t.call(p),c=[];try{for(;(void 0===n||n-- >0)&&!(u=o.next()).done;)c.push(u.value)}catch(g){f={error:g}}finally{try{u&&!u.done&&(t=o.return)&&t.call(o)}finally{if(f)throw f.error}}return c},Vo=function(){for(var p=[],n=0;n<arguments.length;n++)p=p.concat(lc(arguments[n]));return p};function ue(p){return!0===p||"true"===p}function Ho(p){return"number"==typeof p?p:"string"==typeof p?parseInt(p,10):void 0}function Gs(p,n){var t=parseInt(p,10);return Sn(t)&&t>0?t:n}var Dn,Re=function(){function p(){this.propertyEventService=new Bt,this.domDataKey="__AG_"+Math.random().toString(),this.destroyed=!1}var n;return n=p,p.prototype.agWire=function(t,o){this.gridOptions.api=t,this.gridOptions.columnApi=o,this.checkForDeprecated(),this.checkForViolations()},p.prototype.destroy=function(){this.gridOptions.api=null,this.gridOptions.columnApi=null,this.destroyed=!0},p.prototype.init=function(){var t=this;!0!==this.gridOptions.suppressPropertyNamesCheck&&(this.checkGridOptionsProperties(),this.checkColumnDefProperties()),null!=this.gridOptions.sideBar&&(this.gridOptions.sideBar=Os.parse(this.gridOptions.sideBar));var o=this.useAsyncEvents();if(this.eventService.addGlobalListener(this.globalEventHandler.bind(this),o),this.isGroupSelectsChildren()&&this.isSuppressParentsInRowNodes()&&console.warn("AG Grid: 'groupSelectsChildren' does not work with 'suppressParentsInRowNodes', this selection method needs the part in rowNode to work"),this.isGroupSelectsChildren()&&(this.isRowSelectionMulti()||console.warn("AG Grid: rowSelection must be 'multiple' for groupSelectsChildren to make sense"),this.isRowModelServerSide()&&console.warn("AG Grid: group selects children is NOT support for Server Side Row Model. This is because the rows are lazy loaded, so selecting a group is not possible asthe grid has no way of knowing what the children are.")),this.isGroupRemoveSingleChildren()&&this.isGroupHideOpenParents()&&console.warn("AG Grid: groupRemoveSingleChildren and groupHideOpenParents do not work with each other, you need to pick one. And don't ask us how to use these together on our support forum either, you will get the same answer!"),this.isRowModelServerSide()){var u=function(f){return"AG Grid: '"+f+"' is not supported on the Server-Side Row Model"};a(this.gridOptions.groupDefaultExpanded)&&console.warn(u("groupDefaultExpanded")),a(this.gridOptions.groupDefaultExpanded)&&console.warn(u("groupIncludeFooter")),a(this.gridOptions.groupDefaultExpanded)&&console.warn(u("groupIncludeTotalFooter"))}ue(this.gridOptions.enableRangeSelection)?Ne.assertRegistered(Fe.RangeSelectionModule,"enableRangeSelection"):(this.isEnableRangeHandle()||this.isEnableFillHandle())&&console.warn("AG Grid: 'enableRangeHandle' or 'enableFillHandle' will not work unless 'enableRangeSelection' is set to true"),this.isGroupRowsSticky()&&(this.isGroupHideOpenParents()&&console.warn("AG Grid: groupRowsSticky and groupHideOpenParents do not work with each other, you need to pick one."),this.isMasterDetail()&&console.warn("AG Grid: groupRowsSticky and masterDetail do not work with each other, you need to pick one."),this.isPagination()&&console.warn("AG Grid: groupRowsSticky and pagination do not work with each other, you need to pick one."));var c=function(f){t.gridOptions.icons&&t.gridOptions.icons[f]&&console.warn("gridOptions.icons."+f+" is no longer supported. For information on how to style checkboxes and radio buttons, see https://www.ag-grid.com/javascript-grid-icons/")};c("radioButtonOff"),c("radioButtonOn"),c("checkboxChecked"),c("checkboxUnchecked"),c("checkboxIndeterminate"),this.getScrollbarWidth()},p.prototype.checkColumnDefProperties=function(){var t=this;null!=this.gridOptions.columnDefs&&this.gridOptions.columnDefs.forEach(function(o){var u=Object.getOwnPropertyNames(o),c=Vo(Cs.ALL_PROPERTIES,Cs.FRAMEWORK_PROPERTIES);t.checkProperties(u,c,c,"colDef","https://www.ag-grid.com/javascript-grid-column-properties/")})},p.prototype.checkGridOptionsProperties=function(){var t=Object.getOwnPropertyNames(this.gridOptions),o=Vo(cr.ALL_PROPERTIES,cr.FRAMEWORK_PROPERTIES,S(V).map(function(c){return mr.getCallbackForEvent(c)})),u=Vo(o,["api","columnApi"]);this.checkProperties(t,u,o,"gridOptions","https://www.ag-grid.com/javascript-data-grid/grid-options/")},p.prototype.checkProperties=function(t,o,u,c,f){var g=As(t,o,u);b(g,function(C,O){console.warn("ag-grid: invalid "+c+" property '"+C+"' did you mean any of these: "+O.slice(0,8).join(", "))}),Object.keys(g).length>0&&console.warn("ag-grid: to see all the valid "+c+" properties please check: "+f)},p.prototype.mergeGridCommonParams=function(t){var o=this;return t?function(c){var f=Pn(Pn({},c),{api:o.getApi(),columnApi:o.getColumnApi(),context:o.getContext()});return t(f)}:t},p.prototype.getDomDataKey=function(){return this.domDataKey},p.prototype.getDomData=function(t,o){var u=t[this.getDomDataKey()];return u?u[o]:void 0},p.prototype.setDomData=function(t,o,u){var c=this.getDomDataKey(),f=t[c];s(f)&&(t[c]=f={}),f[o]=u},p.prototype.isRowSelection=function(){return"single"===this.gridOptions.rowSelection||"multiple"===this.gridOptions.rowSelection},p.prototype.isSuppressRowDeselection=function(){return ue(this.gridOptions.suppressRowDeselection)},p.prototype.isRowSelectionMulti=function(){return"multiple"===this.gridOptions.rowSelection},p.prototype.isRowMultiSelectWithClick=function(){return ue(this.gridOptions.rowMultiSelectWithClick)},p.prototype.getContext=function(){return this.gridOptions.context},p.prototype.isPivotMode=function(){return ue(this.gridOptions.pivotMode)},p.prototype.isSuppressExpandablePivotGroups=function(){return ue(this.gridOptions.suppressExpandablePivotGroups)},p.prototype.getPivotColumnGroupTotals=function(){return this.gridOptions.pivotColumnGroupTotals},p.prototype.getPivotRowTotals=function(){return this.gridOptions.pivotRowTotals},p.prototype.isRowModelInfinite=function(){return this.gridOptions.rowModelType===ee.ROW_MODEL_TYPE_INFINITE},p.prototype.isRowModelViewport=function(){return this.gridOptions.rowModelType===ee.ROW_MODEL_TYPE_VIEWPORT},p.prototype.isRowModelServerSide=function(){return this.gridOptions.rowModelType===ee.ROW_MODEL_TYPE_SERVER_SIDE},p.prototype.isRowModelDefault=function(){return s(this.gridOptions.rowModelType)||this.gridOptions.rowModelType===ee.ROW_MODEL_TYPE_CLIENT_SIDE},p.prototype.isFullRowEdit=function(){return"fullRow"===this.gridOptions.editType},p.prototype.isSuppressFocusAfterRefresh=function(){return ue(this.gridOptions.suppressFocusAfterRefresh)},p.prototype.isSuppressBrowserResizeObserver=function(){return ue(this.gridOptions.suppressBrowserResizeObserver)},p.prototype.isSuppressMaintainUnsortedOrder=function(){return ue(this.gridOptions.suppressMaintainUnsortedOrder)},p.prototype.isSuppressClearOnFillReduction=function(){return ue(this.gridOptions.suppressClearOnFillReduction)},p.prototype.isShowToolPanel=function(){return ue(this.gridOptions.sideBar&&Array.isArray(this.getSideBar().toolPanels))},p.prototype.getSideBar=function(){return this.gridOptions.sideBar},p.prototype.isSuppressTouch=function(){return ue(this.gridOptions.suppressTouch)},p.prototype.isMaintainColumnOrder=function(){return ue(this.gridOptions.maintainColumnOrder)},p.prototype.isSuppressRowTransform=function(){return ue(this.gridOptions.suppressRowTransform)},p.prototype.isSuppressColumnStateEvents=function(){return ue(this.gridOptions.suppressColumnStateEvents)},p.prototype.isAllowDragFromColumnsToolPanel=function(){return ue(this.gridOptions.allowDragFromColumnsToolPanel)},p.prototype.useAsyncEvents=function(){return!ue(this.gridOptions.suppressAsyncEvents)},p.prototype.isEnableCellChangeFlash=function(){return ue(this.gridOptions.enableCellChangeFlash)},p.prototype.getCellFlashDelay=function(){return this.gridOptions.cellFlashDelay||500},p.prototype.getCellFadeDelay=function(){return this.gridOptions.cellFadeDelay||1e3},p.prototype.isGroupSelectsChildren=function(){return ue(this.gridOptions.groupSelectsChildren)},p.prototype.isSuppressRowHoverHighlight=function(){return ue(this.gridOptions.suppressRowHoverHighlight)},p.prototype.isColumnHoverHighlight=function(){return ue(this.gridOptions.columnHoverHighlight)},p.prototype.isGroupSelectsFiltered=function(){return ue(this.gridOptions.groupSelectsFiltered)},p.prototype.isGroupHideOpenParents=function(){return ue(this.gridOptions.groupHideOpenParents)},p.prototype.isGroupMaintainOrder=function(){return ue(this.gridOptions.groupMaintainOrder)},p.prototype.getAutoGroupColumnDef=function(){return this.gridOptions.autoGroupColumnDef},p.prototype.isColumnsSortingCoupledToGroup=function(){var t,o=this.getAutoGroupColumnDef();return this.isRowModelDefault()&&!(null!==(t=o)&&void 0!==t&&t.comparator)},p.prototype.isGroupMultiAutoColumn=function(){return this.gridOptions.groupDisplayType?this.matchesGroupDisplayType("multipleColumns",this.gridOptions.groupDisplayType):ue(this.gridOptions.groupHideOpenParents)},p.prototype.isGroupUseEntireRow=function(t){return!t&&!!this.gridOptions.groupDisplayType&&this.matchesGroupDisplayType("groupRows",this.gridOptions.groupDisplayType)},p.prototype.isGroupRowsSticky=function(){return ue(this.gridOptions.groupRowsSticky)},p.prototype.isGroupSuppressAutoColumn=function(){return!(!this.gridOptions.groupDisplayType||!this.matchesGroupDisplayType("custom",this.gridOptions.groupDisplayType))||!!this.gridOptions.treeDataDisplayType&&this.matchesTreeDataDisplayType("custom",this.gridOptions.treeDataDisplayType)},p.prototype.isGroupRemoveSingleChildren=function(){return ue(this.gridOptions.groupRemoveSingleChildren)},p.prototype.isGroupRemoveLowestSingleChildren=function(){return ue(this.gridOptions.groupRemoveLowestSingleChildren)},p.prototype.isGroupIncludeFooter=function(){return ue(this.gridOptions.groupIncludeFooter)},p.prototype.isGroupIncludeTotalFooter=function(){return ue(this.gridOptions.groupIncludeTotalFooter)},p.prototype.isGroupSuppressBlankHeader=function(){return ue(this.gridOptions.groupSuppressBlankHeader)},p.prototype.isSuppressRowClickSelection=function(){return ue(this.gridOptions.suppressRowClickSelection)},p.prototype.isSuppressCellFocus=function(){return ue(this.gridOptions.suppressCellFocus)},p.prototype.isSuppressMultiSort=function(){return ue(this.gridOptions.suppressMultiSort)},p.prototype.isAlwaysMultiSort=function(){return ue(this.gridOptions.alwaysMultiSort)},p.prototype.isMultiSortKeyCtrl=function(){return"ctrl"===this.gridOptions.multiSortKey},p.prototype.isPivotSuppressAutoColumn=function(){return ue(this.gridOptions.pivotSuppressAutoColumn)},p.prototype.isSuppressDragLeaveHidesColumns=function(){return ue(this.gridOptions.suppressDragLeaveHidesColumns)},p.prototype.isSuppressRowGroupHidesColumns=function(){return ue(this.gridOptions.suppressRowGroupHidesColumns)},p.prototype.isSuppressScrollOnNewData=function(){return ue(this.gridOptions.suppressScrollOnNewData)},p.prototype.isSuppressScrollWhenPopupsAreOpen=function(){return ue(this.gridOptions.suppressScrollWhenPopupsAreOpen)},p.prototype.isRowDragEntireRow=function(){return ue(this.gridOptions.rowDragEntireRow)},p.prototype.isSuppressRowDrag=function(){return ue(this.gridOptions.suppressRowDrag)},p.prototype.isRowDragManaged=function(){return ue(this.gridOptions.rowDragManaged)},p.prototype.isSuppressMoveWhenRowDragging=function(){return ue(this.gridOptions.suppressMoveWhenRowDragging)},p.prototype.isRowDragMultiRow=function(){return ue(this.gridOptions.rowDragMultiRow)},p.prototype.getDomLayout=function(){var t=this.gridOptions.domLayout||ee.DOM_LAYOUT_NORMAL;return-1===[ee.DOM_LAYOUT_PRINT,ee.DOM_LAYOUT_AUTO_HEIGHT,ee.DOM_LAYOUT_NORMAL].indexOf(t)?(z(function(){return console.warn("AG Grid: "+t+" is not valid for DOM Layout, valid values are "+ee.DOM_LAYOUT_NORMAL+", "+ee.DOM_LAYOUT_AUTO_HEIGHT+" and "+ee.DOM_LAYOUT_PRINT)},"warn about dom layout values"),ee.DOM_LAYOUT_NORMAL):t},p.prototype.isSuppressHorizontalScroll=function(){return ue(this.gridOptions.suppressHorizontalScroll)},p.prototype.isSuppressMaxRenderedRowRestriction=function(){return ue(this.gridOptions.suppressMaxRenderedRowRestriction)},p.prototype.isExcludeChildrenWhenTreeDataFiltering=function(){return ue(this.gridOptions.excludeChildrenWhenTreeDataFiltering)},p.prototype.isAlwaysShowHorizontalScroll=function(){return ue(this.gridOptions.alwaysShowHorizontalScroll)},p.prototype.isAlwaysShowVerticalScroll=function(){return ue(this.gridOptions.alwaysShowVerticalScroll)},p.prototype.isDebounceVerticalScrollbar=function(){return ue(this.gridOptions.debounceVerticalScrollbar)},p.prototype.isSuppressLoadingOverlay=function(){return ue(this.gridOptions.suppressLoadingOverlay)},p.prototype.isSuppressNoRowsOverlay=function(){return ue(this.gridOptions.suppressNoRowsOverlay)},p.prototype.isSuppressFieldDotNotation=function(){return ue(this.gridOptions.suppressFieldDotNotation)},p.prototype.getPinnedTopRowData=function(){return this.gridOptions.pinnedTopRowData},p.prototype.getPinnedBottomRowData=function(){return this.gridOptions.pinnedBottomRowData},p.prototype.isFunctionsPassive=function(){return ue(this.gridOptions.functionsPassive)},p.prototype.isSuppressChangeDetection=function(){return ue(this.gridOptions.suppressChangeDetection)},p.prototype.isSuppressAnimationFrame=function(){return ue(this.gridOptions.suppressAnimationFrame)},p.prototype.getQuickFilterText=function(){return this.gridOptions.quickFilterText},p.prototype.isCacheQuickFilter=function(){return ue(this.gridOptions.cacheQuickFilter)},p.prototype.isUnSortIcon=function(){return ue(this.gridOptions.unSortIcon)},p.prototype.isSuppressMenuHide=function(){return ue(this.gridOptions.suppressMenuHide)},p.prototype.isEnterMovesDownAfterEdit=function(){return ue(this.gridOptions.enterMovesDownAfterEdit)},p.prototype.isEnterMovesDown=function(){return ue(this.gridOptions.enterMovesDown)},p.prototype.isUndoRedoCellEditing=function(){return ue(this.gridOptions.undoRedoCellEditing)},p.prototype.getUndoRedoCellEditingLimit=function(){return Ho(this.gridOptions.undoRedoCellEditingLimit)},p.prototype.getRowStyle=function(){return this.gridOptions.rowStyle},p.prototype.getRowClass=function(){return this.gridOptions.rowClass},p.prototype.getRowStyleFunc=function(){return this.mergeGridCommonParams(this.gridOptions.getRowStyle)},p.prototype.getRowClassFunc=function(){return this.mergeGridCommonParams(this.gridOptions.getRowClass)},p.prototype.rowClassRules=function(){return this.gridOptions.rowClassRules},p.prototype.isServerSideInfiniteScroll=function(){return ue(this.gridOptions.serverSideInfiniteScroll)},p.prototype.getServerSideGroupLevelParamsFunc=function(){return this.mergeGridCommonParams(this.gridOptions.getServerSideGroupLevelParams)},p.prototype.getCreateChartContainerFunc=function(){return this.mergeGridCommonParams(this.gridOptions.createChartContainer)},p.prototype.getPopupParent=function(){return this.gridOptions.popupParent},p.prototype.getBlockLoadDebounceMillis=function(){return this.gridOptions.blockLoadDebounceMillis},p.prototype.getPostProcessPopupFunc=function(){return this.mergeGridCommonParams(this.gridOptions.postProcessPopup)},p.prototype.getPaginationNumberFormatterFunc=function(){return this.mergeGridCommonParams(this.gridOptions.paginationNumberFormatter)},p.prototype.getChildCountFunc=function(){return this.gridOptions.getChildCount},p.prototype.getIsApplyServerSideTransactionFunc=function(){return this.mergeGridCommonParams(this.gridOptions.isApplyServerSideTransaction)},p.prototype.getInitialGroupOrderComparator=function(){var t=this.gridOptions,o=t.initialGroupOrderComparator,u=t.defaultGroupOrderComparator;return o?this.mergeGridCommonParams(o):u?function(c){return u(c.nodeA,c.nodeB)}:void 0},p.prototype.getIsFullWidthCellFunc=function(){var t=this.gridOptions,o=t.isFullWidthRow,u=t.isFullWidthCell;return o?this.mergeGridCommonParams(o):u?function(c){return u(c.rowNode)}:void 0},p.prototype.getFullWidthCellRendererParams=function(){return this.gridOptions.fullWidthCellRendererParams},p.prototype.isEmbedFullWidthRows=function(){return ue(this.gridOptions.embedFullWidthRows)||ue(this.gridOptions.deprecatedEmbedFullWidthRows)},p.prototype.isDetailRowAutoHeight=function(){return ue(this.gridOptions.detailRowAutoHeight)},p.prototype.getSuppressKeyboardEventFunc=function(){return this.gridOptions.suppressKeyboardEvent},p.prototype.getBusinessKeyForNodeFunc=function(){return this.gridOptions.getBusinessKeyForNode},p.prototype.getApi=function(){return this.gridOptions.api},p.prototype.getColumnApi=function(){return this.gridOptions.columnApi},p.prototype.isReadOnlyEdit=function(){return ue(this.gridOptions.readOnlyEdit)},p.prototype.isImmutableData=function(){var t=null!=this.gridOptions.getRowId,o=ue(this.gridOptions.immutableData);return!ue(this.gridOptions.resetRowDataOnUpdate)&&(t||o)},p.prototype.isEnsureDomOrder=function(){return ue(this.gridOptions.ensureDomOrder)},p.prototype.isEnableCharts=function(){return!!ue(this.gridOptions.enableCharts)&&Ne.assertRegistered(Fe.GridChartsModule,"enableCharts")},p.prototype.getColResizeDefault=function(){return this.gridOptions.colResizeDefault},p.prototype.isSingleClickEdit=function(){return ue(this.gridOptions.singleClickEdit)},p.prototype.isSuppressClickEdit=function(){return ue(this.gridOptions.suppressClickEdit)},p.prototype.isStopEditingWhenCellsLoseFocus=function(){return ue(this.gridOptions.stopEditingWhenCellsLoseFocus)},p.prototype.getGroupDefaultExpanded=function(){return this.gridOptions.groupDefaultExpanded},p.prototype.getMaxConcurrentDatasourceRequests=function(){var t=Ho(this.gridOptions.maxConcurrentDatasourceRequests);return null==t?2:t<=0?void 0:t},p.prototype.getMaxBlocksInCache=function(){return this.gridOptions.maxBlocksInCache},p.prototype.getCacheOverflowSize=function(){return this.gridOptions.cacheOverflowSize},p.prototype.getPaginationPageSize=function(){return Ho(this.gridOptions.paginationPageSize)},p.prototype.isPaginateChildRows=function(){return!(!this.isGroupRemoveSingleChildren()&&!this.isGroupRemoveLowestSingleChildren())||ue(this.gridOptions.paginateChildRows)},p.prototype.getCacheBlockSize=function(){return Gs(this.gridOptions.cacheBlockSize)},p.prototype.getInfiniteInitialRowCount=function(){return this.gridOptions.infiniteInitialRowCount},p.prototype.getServerSideInitialRowCount=function(){var t=this.gridOptions.serverSideInitialRowCount;return"number"==typeof t&&t>0?t:1},p.prototype.isPurgeClosedRowNodes=function(){return ue(this.gridOptions.purgeClosedRowNodes)},p.prototype.isSuppressPaginationPanel=function(){return ue(this.gridOptions.suppressPaginationPanel)},p.prototype.getRowData=function(){return this.gridOptions.rowData},p.prototype.isEnableRtl=function(){return ue(this.gridOptions.enableRtl)},p.prototype.getRowGroupPanelShow=function(){return this.gridOptions.rowGroupPanelShow},p.prototype.getPivotPanelShow=function(){return this.gridOptions.pivotPanelShow},p.prototype.isAngularCompileRows=function(){return ue(this.gridOptions.angularCompileRows)},p.prototype.isAngularCompileFilters=function(){return ue(this.gridOptions.angularCompileFilters)},p.prototype.isDebug=function(){return ue(this.gridOptions.debug)},p.prototype.getColumnDefs=function(){return this.gridOptions.columnDefs},p.prototype.getColumnTypes=function(){return this.gridOptions.columnTypes},p.prototype.getDatasource=function(){return this.gridOptions.datasource},p.prototype.getViewportDatasource=function(){return this.gridOptions.viewportDatasource},p.prototype.getServerSideDatasource=function(){return this.gridOptions.serverSideDatasource},p.prototype.isAccentedSort=function(){return ue(this.gridOptions.accentedSort)},p.prototype.isEnableBrowserTooltips=function(){return ue(this.gridOptions.enableBrowserTooltips)},p.prototype.isEnableCellExpressions=function(){return ue(this.gridOptions.enableCellExpressions)},p.prototype.isEnableGroupEdit=function(){return ue(this.gridOptions.enableGroupEdit)},p.prototype.isSuppressMiddleClickScrolls=function(){return ue(this.gridOptions.suppressMiddleClickScrolls)},p.prototype.isPreventDefaultOnContextMenu=function(){return ue(this.gridOptions.preventDefaultOnContextMenu)},p.prototype.isSuppressPreventDefaultOnMouseWheel=function(){return ue(this.gridOptions.suppressPreventDefaultOnMouseWheel)},p.prototype.isSuppressColumnVirtualisation=function(){return ue(this.gridOptions.suppressColumnVirtualisation)},p.prototype.isSuppressRowVirtualisation=function(){return ue(this.gridOptions.suppressRowVirtualisation)},p.prototype.isSuppressContextMenu=function(){return ue(this.gridOptions.suppressContextMenu)},p.prototype.isAllowContextMenuWithControlKey=function(){return ue(this.gridOptions.allowContextMenuWithControlKey)},p.prototype.isSuppressCopyRowsToClipboard=function(){return ue(this.gridOptions.suppressCopyRowsToClipboard)},p.prototype.isSuppressCopySingleCellRanges=function(){return ue(this.gridOptions.suppressCopySingleCellRanges)},p.prototype.isCopyHeadersToClipboard=function(){return ue(this.gridOptions.copyHeadersToClipboard)},p.prototype.isCopyGroupHeadersToClipboard=function(){return ue(this.gridOptions.copyGroupHeadersToClipboard)},p.prototype.isSuppressClipboardPaste=function(){return ue(this.gridOptions.suppressClipboardPaste)},p.prototype.isSuppressLastEmptyLineOnPaste=function(){return ue(this.gridOptions.suppressLastEmptyLineOnPaste)},p.prototype.isPagination=function(){return ue(this.gridOptions.pagination)},p.prototype.isSuppressEnterpriseResetOnNewColumns=function(){return ue(this.gridOptions.suppressEnterpriseResetOnNewColumns)},p.prototype.getProcessDataFromClipboardFunc=function(){return this.mergeGridCommonParams(this.gridOptions.processDataFromClipboard)},p.prototype.getAsyncTransactionWaitMillis=function(){return a(this.gridOptions.asyncTransactionWaitMillis)?this.gridOptions.asyncTransactionWaitMillis:ee.BATCH_WAIT_MILLIS},p.prototype.isSuppressMovableColumns=function(){return ue(this.gridOptions.suppressMovableColumns)},p.prototype.isAnimateRows=function(){return!this.isEnsureDomOrder()&&ue(this.gridOptions.animateRows)},p.prototype.isSuppressColumnMoveAnimation=function(){return ue(this.gridOptions.suppressColumnMoveAnimation)},p.prototype.isSuppressAggFuncInHeader=function(){return ue(this.gridOptions.suppressAggFuncInHeader)},p.prototype.isSuppressAggAtRootLevel=function(){return ue(this.gridOptions.suppressAggAtRootLevel)},p.prototype.isSuppressAggFilteredOnly=function(){return void 0!==this.getGroupAggFiltering()||ue(this.gridOptions.suppressAggFilteredOnly)},p.prototype.isRemovePivotHeaderRowWhenSingleValueColumn=function(){return ue(this.gridOptions.removePivotHeaderRowWhenSingleValueColumn)},p.prototype.isShowOpenedGroup=function(){return ue(this.gridOptions.showOpenedGroup)},p.prototype.isReactUi=function(){return ue(this.gridOptions.reactUi)},p.prototype.isSuppressReactUi=function(){return ue(this.gridOptions.suppressReactUi)},p.prototype.isEnableRangeSelection=function(){return Ne.isRegistered(Fe.RangeSelectionModule)&&ue(this.gridOptions.enableRangeSelection)},p.prototype.isEnableRangeHandle=function(){return ue(this.gridOptions.enableRangeHandle)},p.prototype.isEnableFillHandle=function(){return ue(this.gridOptions.enableFillHandle)},p.prototype.getFillHandleDirection=function(){var t=this.gridOptions.fillHandleDirection;return t?"x"!==t&&"y"!==t&&"xy"!==t?(z(function(){return console.warn("AG Grid: valid values for fillHandleDirection are 'x', 'y' and 'xy'. Default to 'xy'.")},"warn invalid fill direction"),"xy"):t:"xy"},p.prototype.getFillOperation=function(){return this.mergeGridCommonParams(this.gridOptions.fillOperation)},p.prototype.isSuppressMultiRangeSelection=function(){return ue(this.gridOptions.suppressMultiRangeSelection)},p.prototype.isPaginationAutoPageSize=function(){return ue(this.gridOptions.paginationAutoPageSize)},p.prototype.isRememberGroupStateWhenNewData=function(){return ue(this.gridOptions.rememberGroupStateWhenNewData)},p.prototype.getIcons=function(){return this.gridOptions.icons},p.prototype.getGroupAggFiltering=function(){var t=this.gridOptions.groupAggFiltering;return"function"==typeof t?this.mergeGridCommonParams(t):ue(t)?function(){return!0}:void 0},p.prototype.getAggFuncs=function(){return this.gridOptions.aggFuncs},p.prototype.getSortingOrder=function(){return this.gridOptions.sortingOrder},p.prototype.getAlignedGrids=function(){return this.gridOptions.alignedGrids},p.prototype.isMasterDetail=function(){return!!ue(this.gridOptions.masterDetail)&&Ne.assertRegistered(Fe.MasterDetailModule,"masterDetail")},p.prototype.isKeepDetailRows=function(){return ue(this.gridOptions.keepDetailRows)},p.prototype.getKeepDetailRowsCount=function(){var t=this.gridOptions.keepDetailRowsCount;return a(t)&&t>0?this.gridOptions.keepDetailRowsCount:10},p.prototype.getIsRowMasterFunc=function(){return this.gridOptions.isRowMaster},p.prototype.getIsRowSelectableFunc=function(){return this.gridOptions.isRowSelectable},p.prototype.getGroupRowRendererParams=function(){return this.gridOptions.groupRowRendererParams},p.prototype.getOverlayLoadingTemplate=function(){return this.gridOptions.overlayLoadingTemplate},p.prototype.getOverlayNoRowsTemplate=function(){return this.gridOptions.overlayNoRowsTemplate},p.prototype.isSuppressAutoSize=function(){return ue(this.gridOptions.suppressAutoSize)},p.prototype.isEnableCellTextSelection=function(){return ue(this.gridOptions.enableCellTextSelection)},p.prototype.isSuppressParentsInRowNodes=function(){return ue(this.gridOptions.suppressParentsInRowNodes)},p.prototype.isSuppressClipboardApi=function(){return ue(this.gridOptions.suppressClipboardApi)},p.prototype.isFunctionsReadOnly=function(){return ue(this.gridOptions.functionsReadOnly)},p.prototype.isEnableCellTextSelect=function(){return ue(this.gridOptions.enableCellTextSelection)},p.prototype.getDefaultColDef=function(){return this.gridOptions.defaultColDef},p.prototype.getDefaultColGroupDef=function(){return this.gridOptions.defaultColGroupDef},p.prototype.getDefaultExportParams=function(t){return this.gridOptions.defaultExportParams?(console.warn("AG Grid: Since v25.2 `defaultExportParams`  has been replaced by `default"+Do(t)+"ExportParams`'"),this.gridOptions.defaultExportParams):"csv"===t&&this.gridOptions.defaultCsvExportParams?this.gridOptions.defaultCsvExportParams:"excel"===t&&this.gridOptions.defaultExcelExportParams?this.gridOptions.defaultExcelExportParams:void 0},p.prototype.isSuppressCsvExport=function(){return ue(this.gridOptions.suppressCsvExport)},p.prototype.isAllowShowChangeAfterFilter=function(){return ue(this.gridOptions.allowShowChangeAfterFilter)},p.prototype.isSuppressExcelExport=function(){return ue(this.gridOptions.suppressExcelExport)},p.prototype.isSuppressMakeColumnVisibleAfterUnGroup=function(){return ue(this.gridOptions.suppressMakeColumnVisibleAfterUnGroup)},p.prototype.getDataPathFunc=function(){return this.gridOptions.getDataPath},p.prototype.getIsServerSideGroupFunc=function(){return this.gridOptions.isServerSideGroup},p.prototype.getIsServerSideGroupOpenByDefaultFunc=function(){return this.mergeGridCommonParams(this.gridOptions.isServerSideGroupOpenByDefault)},p.prototype.getIsGroupOpenByDefaultFunc=function(){return this.mergeGridCommonParams(this.gridOptions.isGroupOpenByDefault)},p.prototype.getServerSideGroupKeyFunc=function(){return this.gridOptions.getServerSideGroupKey},p.prototype.getGroupRowAggFunc=function(){var t=this.gridOptions,o=t.getGroupRowAgg,u=t.groupRowAggNodes;return o?this.mergeGridCommonParams(o):u?function(c){return u(c.nodes)}:void 0},p.prototype.getContextMenuItemsFunc=function(){return this.mergeGridCommonParams(this.gridOptions.getContextMenuItems)},p.prototype.getMainMenuItemsFunc=function(){return this.mergeGridCommonParams(this.gridOptions.getMainMenuItems)},p.prototype.getRowIdFunc=function(){var t=this.gridOptions,o=t.getRowId,u=t.getRowNodeId;return o?this.mergeGridCommonParams(o):u?function(c){return u(c.data)}:void 0},p.prototype.getNavigateToNextHeaderFunc=function(){return this.mergeGridCommonParams(this.gridOptions.navigateToNextHeader)},p.prototype.getTabToNextHeaderFunc=function(){return this.mergeGridCommonParams(this.gridOptions.tabToNextHeader)},p.prototype.getNavigateToNextCellFunc=function(){return this.mergeGridCommonParams(this.gridOptions.navigateToNextCell)},p.prototype.getTabToNextCellFunc=function(){return this.mergeGridCommonParams(this.gridOptions.tabToNextCell)},p.prototype.getGridTabIndex=function(){return(this.gridOptions.tabIndex||0).toString()},p.prototype.isTreeData=function(){return!!ue(this.gridOptions.treeData)&&Ne.assertRegistered(Fe.RowGroupingModule,"Tree Data")},p.prototype.isValueCache=function(){return ue(this.gridOptions.valueCache)},p.prototype.isValueCacheNeverExpires=function(){return ue(this.gridOptions.valueCacheNeverExpires)},p.prototype.isDeltaSort=function(){return ue(this.gridOptions.deltaSort)},p.prototype.isAggregateOnlyChangedColumns=function(){return ue(this.gridOptions.aggregateOnlyChangedColumns)},p.prototype.getProcessPivotResultColDefFunc=function(){return this.gridOptions.processPivotResultColDef||this.gridOptions.processSecondaryColDef},p.prototype.getProcessPivotResultColGroupDefFunc=function(){return this.gridOptions.processPivotResultColGroupDef||this.gridOptions.processSecondaryColGroupDef},p.prototype.getSendToClipboardFunc=function(){return this.mergeGridCommonParams(this.gridOptions.sendToClipboard)},p.prototype.getProcessRowPostCreateFunc=function(){return this.mergeGridCommonParams(this.gridOptions.processRowPostCreate)},p.prototype.getProcessCellForClipboardFunc=function(){return this.mergeGridCommonParams(this.gridOptions.processCellForClipboard)},p.prototype.getProcessHeaderForClipboardFunc=function(){return this.mergeGridCommonParams(this.gridOptions.processHeaderForClipboard)},p.prototype.getProcessGroupHeaderForClipboardFunc=function(){return this.mergeGridCommonParams(this.gridOptions.processGroupHeaderForClipboard)},p.prototype.getProcessCellFromClipboardFunc=function(){return this.mergeGridCommonParams(this.gridOptions.processCellFromClipboard)},p.prototype.getViewportRowModelPageSize=function(){return Gs(this.gridOptions.viewportRowModelPageSize,5)},p.prototype.getViewportRowModelBufferSize=function(){return function fc(p,n){return p>=0?p:n}(this.gridOptions.viewportRowModelBufferSize,5)},p.prototype.isServerSideSortAllLevels=function(){var t=ue(this.gridOptions.serverSideSortAllLevels);return!this.isRowModelServerSide()&&t?(z(function(){return console.warn("AG Grid: The `serverSideSortAllLevels` property can only be used with the server side row model.")},"serverSideSortAllLevels"),!1):t},p.prototype.isServerSideFilterAllLevels=function(){var t=ue(this.gridOptions.serverSideFilterAllLevels);return!this.isRowModelServerSide()&&t?(z(function(){return console.warn("AG Grid: The `serverSideFilterAllLevels` property can only be used with the server side row model.")},"serverSideFilterAllLevels"),!1):t},p.prototype.isServerSideSortOnServer=function(){var t=ue(this.gridOptions.serverSideSortOnServer);return!this.isRowModelServerSide()&&t?(z(function(){return console.warn("AG Grid: The `serverSideSortOnServer` property can only be used with the server side row model.")},"serverSideSortOnServerRowModel"),!1):this.isTreeData()&&t?(z(function(){return console.warn("AG Grid: The `serverSideSortOnServer` property cannot be used while using tree data.")},"serverSideSortOnServerTreeData"),!1):t},p.prototype.isServerSideFilterOnServer=function(){var t=ue(this.gridOptions.serverSideFilterOnServer);return!this.isRowModelServerSide()&&t?(z(function(){return console.warn("AG Grid: The `serverSideFilterOnServer` property can only be used with the server side row model.")},"serverSideFilterOnServerRowModel"),!1):this.isTreeData()&&t?(z(function(){return console.warn("AG Grid: The `serverSideFilterOnServer` property cannot be used while using tree data.")},"serverSideFilterOnServerTreeData"),!1):t},p.prototype.getPostSortFunc=function(){var t=this.gridOptions,o=t.postSortRows,u=t.postSort;return o?this.mergeGridCommonParams(o):u?function(c){return u(c.nodes)}:void 0},p.prototype.getChartToolbarItemsFunc=function(){return this.mergeGridCommonParams(this.gridOptions.getChartToolbarItems)},p.prototype.getChartThemeOverrides=function(){return this.gridOptions.chartThemeOverrides},p.prototype.getCustomChartThemes=function(){return this.gridOptions.customChartThemes},p.prototype.getChartThemes=function(){return this.gridOptions.chartThemes||["ag-default","ag-material","ag-pastel","ag-vivid","ag-solar"]},p.prototype.getClipboardDelimiter=function(){return a(this.gridOptions.clipboardDelimiter)?this.gridOptions.clipboardDelimiter:"\t"},p.prototype.setProperty=function(t,o,u){void 0===u&&(u=!1);var c=this.gridOptions[t];(u||c!==o)&&(this.gridOptions[t]=o,this.propertyEventService.dispatchEvent({type:t,currentValue:o,previousValue:c}))},p.prototype.addEventListener=function(t,o){this.propertyEventService.addEventListener(t,o)},p.prototype.removeEventListener=function(t,o){this.propertyEventService.removeEventListener(t,o)},p.prototype.isSkipHeaderOnAutoSize=function(){return!!this.gridOptions.skipHeaderOnAutoSize},p.prototype.getAutoSizePadding=function(){var t=this.gridOptions.autoSizePadding;return null!=t&&t>=0?t:20},p.prototype.getHeaderHeight=function(){return"number"==typeof this.gridOptions.headerHeight?this.gridOptions.headerHeight:this.getFromTheme(25,"headerHeight")},p.prototype.getFloatingFiltersHeight=function(){return"number"==typeof this.gridOptions.floatingFiltersHeight?this.gridOptions.floatingFiltersHeight:this.getFromTheme(25,"headerHeight")},p.prototype.getGroupHeaderHeight=function(){return"number"==typeof this.gridOptions.groupHeaderHeight?this.gridOptions.groupHeaderHeight:this.getHeaderHeight()},p.prototype.getPivotHeaderHeight=function(){return"number"==typeof this.gridOptions.pivotHeaderHeight?this.gridOptions.pivotHeaderHeight:this.getHeaderHeight()},p.prototype.getPivotGroupHeaderHeight=function(){return"number"==typeof this.gridOptions.pivotGroupHeaderHeight?this.gridOptions.pivotGroupHeaderHeight:this.getGroupHeaderHeight()},p.prototype.isExternalFilterPresent=function(){return"function"==typeof this.gridOptions.isExternalFilterPresent&&this.gridOptions.isExternalFilterPresent({api:this.getApi(),columnApi:this.getColumnApi(),context:this.getContext()})},p.prototype.doesExternalFilterPass=function(t){return"function"==typeof this.gridOptions.doesExternalFilterPass&&this.gridOptions.doesExternalFilterPass(t)},p.prototype.getTooltipDelay=function(t){var o=this.gridOptions,f="show"===t?o.tooltipShowDelay:o.tooltipHideDelay,g=Do(t);return a(f)?(f<0&&z(function(){return console.warn("ag-grid: tooltip"+g+"Delay should not be lower than 0")},"tooltip"+g+"DelayWarn"),Math.max(200,f)):null},p.prototype.isTooltipMouseTrack=function(){return ue(this.gridOptions.tooltipMouseTrack)},p.prototype.isSuppressModelUpdateAfterUpdateTransaction=function(){return ue(this.gridOptions.suppressModelUpdateAfterUpdateTransaction)},p.prototype.getDocument=function(){var t=null;return this.gridOptions.getDocument&&a(this.gridOptions.getDocument)?t=this.gridOptions.getDocument():this.eGridDiv&&(t=this.eGridDiv.ownerDocument),t&&a(t)?t:document},p.prototype.getMinColWidth=function(){var t=this.gridOptions.minColWidth;if(a(t)&&t>n.MIN_COL_WIDTH)return this.gridOptions.minColWidth;var o=this.getFromTheme(null,"headerCellMinWidth");return a(o)?Math.max(o,n.MIN_COL_WIDTH):n.MIN_COL_WIDTH},p.prototype.getMaxColWidth=function(){return this.gridOptions.maxColWidth&&this.gridOptions.maxColWidth>n.MIN_COL_WIDTH?this.gridOptions.maxColWidth:null},p.prototype.getColWidth=function(){return"number"!=typeof this.gridOptions.colWidth||this.gridOptions.colWidth<n.MIN_COL_WIDTH?200:this.gridOptions.colWidth},p.prototype.getRowBuffer=function(){var t=this.gridOptions.rowBuffer;return"number"==typeof t?t<0&&(z(function(){return console.warn("AG Grid: rowBuffer should not be negative")},"warn rowBuffer negative"),this.gridOptions.rowBuffer=t=0):t=ee.ROW_BUFFER_SIZE,t},p.prototype.getRowBufferInPixels=function(){return this.getRowBuffer()*this.getRowHeightAsNumber()},p.prototype.getScrollbarWidth=function(){if(null==this.scrollbarWidth){var o="number"==typeof this.gridOptions.scrollbarWidth&&this.gridOptions.scrollbarWidth>=0?this.gridOptions.scrollbarWidth:Ds();null!=o&&(this.scrollbarWidth=o,this.eventService.dispatchEvent({type:V.EVENT_SCROLLBAR_WIDTH_CHANGED}))}return this.scrollbarWidth},p.prototype.checkForDeprecated=function(){var t=this.gridOptions;t.deprecatedEmbedFullWidthRows&&console.warn("AG Grid: since v21.2, deprecatedEmbedFullWidthRows has been replaced with embedFullWidthRows."),t.rowDeselection&&console.warn("AG Grid: since v24.x, rowDeselection is deprecated and the behaviour is true by default. Please use `suppressRowDeselection` to prevent rows from being deselected."),t.enableMultiRowDragging&&(t.rowDragMultiRow=!0,delete t.enableMultiRowDragging,console.warn("AG Grid: since v26.1, `enableMultiRowDragging` is deprecated. Please use `rowDragMultiRow`."));var o=function(f,g,C){null!=t[f]&&(console.warn("AG Grid: since version "+C+", '"+f+"' is deprecated / renamed, please use the new property name '"+g+"' instead."),null==t[g]&&(t[g]=t[f]))};if(o("batchUpdateWaitMillis","asyncTransactionWaitMillis","23.1.x"),o("deltaRowDataMode","immutableData","23.1.x"),o("serverSideFilteringAlwaysResets","serverSideFilterAllLevels","28.0.0"),o("serverSideSortingAlwaysResets","serverSideSortAllLevels","28.0.0"),(t.immutableColumns||t.deltaColumnMode)&&console.warn("AG Grid: since v24.0, immutableColumns and deltaColumnMode properties are gone. The grid now works like this as default. To keep column order maintained, set grid property applyColumnDefOrder=true"),o("suppressSetColumnStateEvents","suppressColumnStateEvents","24.0.x"),t.groupRowInnerRenderer||t.groupRowInnerRendererParams||t.groupRowInnerRendererFramework){console.warn("AG Grid: since v24.0, grid properties groupRowInnerRenderer, groupRowInnerRendererFramework and groupRowInnerRendererParams are no longer used."),console.warn("  Instead use the grid properties groupRowRendererParams.innerRenderer, groupRowRendererParams.innerRendererFramework and groupRowRendererParams.innerRendererParams."),console.warn("  For example instead of this:"),console.warn('    groupRowInnerRenderer: "myRenderer"'),console.warn("    groupRowInnerRendererParams: {x: a}"),console.warn("  Replace with this:"),console.warn("    groupRowRendererParams: {"),console.warn('      innerRenderer: "myRenderer",'),console.warn("      innerRendererParams: {x: a}"),console.warn("    }"),console.warn("  We have copied the properties over for you. However to stop this error message, please change your application code."),t.groupRowRendererParams||(t.groupRowRendererParams={});var u=t.groupRowRendererParams;t.groupRowInnerRenderer&&(u.innerRenderer=t.groupRowInnerRenderer),t.groupRowInnerRendererParams&&(u.innerRendererParams=t.groupRowInnerRendererParams),t.groupRowInnerRendererFramework&&(u.innerRendererFramework=t.groupRowInnerRendererFramework)}t.rememberGroupStateWhenNewData&&console.warn("AG Grid: since v24.0, grid property rememberGroupStateWhenNewData is deprecated. This feature was provided before Transaction Updates worked (which keep group state). Now that transaction updates are possible and they keep group state, this feature is no longer needed."),t.detailCellRendererParams&&t.detailCellRendererParams.autoHeight&&(console.warn("AG Grid: since v24.1, grid property detailCellRendererParams.autoHeight is replaced with grid property detailRowAutoHeight. This allows this feature to work when you provide a custom DetailCellRenderer"),t.detailRowAutoHeight=!0),t.suppressKeyboardEvent&&console.warn("AG Grid: since v24.1 suppressKeyboardEvent in the gridOptions has been deprecated and will be removed in\n                 future versions of AG Grid. If you need this to be set for every column use the defaultColDef property."),t.suppressEnterpriseResetOnNewColumns&&console.warn("AG Grid: since v25, grid property suppressEnterpriseResetOnNewColumns is deprecated. This was a temporary property to allow changing columns in Server Side Row Model without triggering a reload. Now that it is possible to dynamically change columns in the grid, this is no longer needed."),t.suppressColumnStateEvents&&console.warn('AG Grid: since v25, grid property suppressColumnStateEvents no longer works due to a refactor that we did. It should be possible to achieve similar using event.source, which would be "api" if the event was due to setting column state via the API'),t.defaultExportParams&&console.warn("AG Grid: since v25.2, the grid property `defaultExportParams` has been replaced by `defaultCsvExportParams` and `defaultExcelExportParams`."),t.stopEditingWhenGridLosesFocus&&(console.warn("AG Grid: since v25.2.2, the grid property `stopEditingWhenGridLosesFocus` has been replaced by `stopEditingWhenCellsLoseFocus`."),t.stopEditingWhenCellsLoseFocus=!0),t.applyColumnDefOrder&&console.warn("AG Grid: since v26.0, the grid property `applyColumnDefOrder` is no longer needed, as this is the default behaviour. To turn this behaviour off, set maintainColumnOrder=true"),t.groupMultiAutoColumn&&(console.warn("AG Grid: since v26.0, the grid property `groupMultiAutoColumn` has been replaced by `groupDisplayType = 'multipleColumns'`"),t.groupDisplayType="multipleColumns"),t.groupUseEntireRow&&(console.warn("AG Grid: since v26.0, the grid property `groupUseEntireRow` has been replaced by `groupDisplayType = 'groupRows'`"),t.groupDisplayType="groupRows"),t.groupSuppressAutoColumn&&(console.warn("AG Grid: since v26.0, the grid property `groupSuppressAutoColumn` has been replaced by `"+(t.treeData?"treeDataDisplayType":"groupDisplayType")+" = 'custom'`"),t.groupDisplayType="custom"),t.defaultGroupOrderComparator&&console.warn("AG Grid: since v27.2, the grid property `defaultGroupOrderComparator` is deprecated and has been replaced by `initialGroupOrderComparator` and now receives a single params object."),t.defaultGroupSortComparator&&(console.warn("AG Grid: since v26.0, the grid property `defaultGroupSortComparator` has been replaced by `initialGroupOrderComparator`"),t.defaultGroupOrderComparator=t.defaultGroupSortComparator),t.groupRowAggNodes&&console.warn("AG Grid: since v27.2, the grid property `groupRowAggNodes` is deprecated and has been replaced by `getGroupRowAgg` and now receives a single params object."),t.postSort&&console.warn("AG Grid: since v27.2, the grid property `postSort` is deprecated and has been replaced by `postSortRows` and now receives a single params object."),t.isFullWidthCell&&console.warn("AG Grid: since v27.2, the grid property `isFullWidthCell` is deprecated and has been replaced by `isFullWidthRow` and now receives a single params object."),t.localeTextFunc&&console.warn("AG Grid: since v27.2, the grid property `localeTextFunc` is deprecated and has been replaced by `getLocaleText` and now receives a single params object."),t.colWidth&&console.warn("AG Grid: since v26.1, the grid property `colWidth` is deprecated and should be set via `defaultColDef.width`."),t.minColWidth&&console.warn("AG Grid: since v26.1, the grid property `minColWidth` is deprecated and should be set via `defaultColDef.minWidth`."),t.maxColWidth&&console.warn("AG Grid: since v26.1, the grid property `maxColWidth` is deprecated and should be set via `defaultColDef.maxWidth`."),t.reactUi&&console.warn("AG Grid: since v27.0, React UI is on by default, so no need for reactUi=true. To turn it off, set suppressReactUi=true."),t.suppressReactUi&&console.warn("AG Grid: The legacy React rendering engine is deprecated and will be removed in the next major version of the grid."),t.suppressCellSelection&&(console.warn("AG Grid: since v27.0, `suppressCellSelection` has been replaced by `suppressCellFocus`."),t.suppressCellFocus=t.suppressCellSelection),t.getRowNodeId&&console.warn("AG Grid: since v27.1, `getRowNodeId` is deprecated and has been replaced by `getRowId`. The difference: if getRowId() is implemented then immutable data is enabled by default."),t.immutableData&&(t.getRowId?console.warn("AG Grid: since v27.1, `immutableData` is deprecated. With the `getRowId` callback implemented, immutable data is enabled by default so you can remove `immutableData=true`."):console.warn("AG Grid: since v27.1, `immutableData` is deprecated. To enable immutable data you must implement the `getRowId()` callback.")),t.clipboardDeliminator&&(console.warn("AG Grid: since v27.1, `clipboardDeliminator` has been replaced by `clipboardDelimiter`."),t.clipboardDelimiter=t.clipboardDeliminator),o("processSecondaryColDef","processPivotResultColDef","28.0.x"),o("processSecondaryColGroupDef","processPivotResultColGroupDef","28.0.x"),t.serverSideStoreType&&(console.warn("AG Grid: since v28.0, `serverSideStoreType` has been replaced by `serverSideInfiniteScroll`. Set to true to use Partial Store, and false to use Full Store."),t.serverSideInfiniteScroll="partial"===t.serverSideStoreType),o("getServerSideStoreParams","getServerSideGroupLevelParams","28.0.x")},p.prototype.checkForViolations=function(){this.isTreeData()&&this.treeDataViolations()},p.prototype.treeDataViolations=function(){this.isRowModelDefault()&&s(this.getDataPathFunc())&&console.warn("AG Grid: property usingTreeData=true with rowModel=clientSide, but you did not provide getDataPath function, please provide getDataPath function if using tree data."),this.isRowModelServerSide()&&(s(this.getIsServerSideGroupFunc())&&console.warn("AG Grid: property usingTreeData=true with rowModel=serverSide, but you did not provide isServerSideGroup function, please provide isServerSideGroup function if using tree data."),s(this.getServerSideGroupKeyFunc())&&console.warn("AG Grid: property usingTreeData=true with rowModel=serverSide, but you did not provide getServerSideGroupKey function, please provide getServerSideGroupKey function if using tree data."))},p.prototype.getLocaleTextFunc=function(){var t=this,o=this.gridOptions,u=o.localeText,c=o.getLocaleText;return c?function(g,C,O){var P={key:g,defaultValue:C,variableValues:O,api:t.getApi(),columnApi:t.getColumnApi(),context:t.getContext()};return c(P)}:o.localeTextFunc||function(g,C,O){var P=u&&u[g];if(P&&O&&O.length)for(var R=0;!(R>=O.length)&&-1!==P.indexOf("${variable}");)P=P.replace("${variable}",O[R++]);return P??C}},p.prototype.globalEventHandler=function(t,o){if(!this.destroyed){var u=mr.getCallbackForEvent(t);"function"==typeof this.gridOptions[u]&&this.gridOptions[u](o)}},p.prototype.setRowHeightVariable=function(t){var u=t+"px";this.eGridDiv.style.getPropertyValue("--ag-line-height").trim()!=u&&this.eGridDiv.style.setProperty("--ag-line-height",u)},p.prototype.getRowHeightAsNumber=function(){if(!this.gridOptions.rowHeight||s(this.gridOptions.rowHeight))return this.getDefaultRowHeight();var t=this.gridOptions.rowHeight;return t&&this.isNumeric(t)?(this.setRowHeightVariable(t),t):(console.warn("AG Grid row height must be a number if not using standard row model"),this.getDefaultRowHeight())},p.prototype.isGetRowHeightFunction=function(){return"function"==typeof this.gridOptions.getRowHeight},p.prototype.getRowHeightForNode=function(t,o,u){if(void 0===o&&(o=!1),null==u&&(u=this.getDefaultRowHeight()),this.isGetRowHeightFunction()){if(o)return{height:u,estimated:!0};var c={node:t,data:t.data},f=this.mergeGridCommonParams(this.gridOptions.getRowHeight)(c);if(this.isNumeric(f))return 0===f&&z(function(){return console.warn("AG Grid: The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead.")},"invalidRowHeight"),{height:Math.max(1,f),estimated:!1}}return t.detail&&this.isMasterDetail()?this.isDetailRowAutoHeight()?{height:1,estimated:!1}:this.isNumeric(this.gridOptions.detailRowHeight)?{height:this.gridOptions.detailRowHeight,estimated:!1}:{height:300,estimated:!1}:{height:this.gridOptions.rowHeight&&this.isNumeric(this.gridOptions.rowHeight)?this.gridOptions.rowHeight:u,estimated:!1}},p.prototype.isDynamicRowHeight=function(){return"function"==typeof this.gridOptions.getRowHeight},p.prototype.getListItemHeight=function(){return this.getFromTheme(20,"listItemHeight")},p.prototype.chartMenuPanelWidth=function(){return this.environment.chartMenuPanelWidth()},p.prototype.isNumeric=function(t){return!isNaN(t)&&"number"==typeof t&&isFinite(t)},p.prototype.getFromTheme=function(t,o){var u=this.environment.getTheme().theme;return u&&0===u.indexOf("ag-theme")?this.environment.getSassVariable(u,o):t},p.prototype.getDefaultRowHeight=function(){return this.getFromTheme(25,"rowHeight")},p.prototype.matchesGroupDisplayType=function(t,o){var u=["groupRows","multipleColumns","custom","singleColumn"];return u.indexOf(o)<0?(console.warn("AG Grid: '"+o+"' is not a valid groupDisplayType value - possible values are: '"+u.join("', '")+"'"),!1):o===t},p.prototype.matchesTreeDataDisplayType=function(t,o){var u=["auto","custom"];return u.indexOf(o)<0?(console.warn("AG Grid: '"+o+"' is not a valid treeDataDisplayType value - possible values are: '"+u.join("', '")+"'"),!1):o===t},p.MIN_COL_WIDTH=10,p.PROP_HEADER_HEIGHT="headerHeight",p.PROP_GROUP_REMOVE_SINGLE_CHILDREN="groupRemoveSingleChildren",p.PROP_GROUP_REMOVE_LOWEST_SINGLE_CHILDREN="groupRemoveLowestSingleChildren",p.PROP_GROUP_DISPLAY_TYPE="groupDisplayType",p.PROP_PIVOT_HEADER_HEIGHT="pivotHeaderHeight",p.PROP_SUPPRESS_CLIPBOARD_PASTE="suppressClipboardPaste",p.PROP_GROUP_HEADER_HEIGHT="groupHeaderHeight",p.PROP_PIVOT_GROUP_HEADER_HEIGHT="pivotGroupHeaderHeight",p.PROP_NAVIGATE_TO_NEXT_CELL="navigateToNextCell",p.PROP_TAB_TO_NEXT_CELL="tabToNextCell",p.PROP_NAVIGATE_TO_NEXT_HEADER="navigateToNextHeader",p.PROP_TAB_TO_NEXT_HEADER="tabToNextHeader",p.PROP_IS_EXTERNAL_FILTER_PRESENT="isExternalFilterPresent",p.PROP_DOES_EXTERNAL_FILTER_PASS="doesExternalFilterPass",p.PROP_FLOATING_FILTERS_HEIGHT="floatingFiltersHeight",p.PROP_SUPPRESS_ROW_CLICK_SELECTION="suppressRowClickSelection",p.PROP_SUPPRESS_ROW_DRAG="suppressRowDrag",p.PROP_SUPPRESS_MOVE_WHEN_ROW_DRAG="suppressMoveWhenRowDragging",p.PROP_GET_ROW_CLASS="getRowClass",p.PROP_GET_ROW_STYLE="getRowStyle",p.PROP_GET_ROW_HEIGHT="getRowHeight",p.PROP_POPUP_PARENT="popupParent",p.PROP_DOM_LAYOUT="domLayout",p.PROP_ROW_CLASS="rowClass",p.PROP_FILL_HANDLE_DIRECTION="fillHandleDirection",p.PROP_GROUP_ROW_AGG_NODES="groupRowAggNodes",p.PROP_GET_GROUP_ROW_AGG="getGroupRowAgg",p.PROP_GET_BUSINESS_KEY_FOR_NODE="getBusinessKeyForNode",p.PROP_GET_CHILD_COUNT="getChildCount",p.PROP_PROCESS_ROW_POST_CREATE="processRowPostCreate",p.PROP_GET_ROW_NODE_ID="getRowNodeId",p.PROP_GET_ROW_ID="getRowId",p.PROP_IS_FULL_WIDTH_CELL="isFullWidthCell",p.PROP_IS_FULL_WIDTH_ROW="isFullWidthRow",p.PROP_IS_ROW_SELECTABLE="isRowSelectable",p.PROP_IS_ROW_MASTER="isRowMaster",p.PROP_POST_SORT="postSort",p.PROP_POST_SORT_ROWS="postSortRows",p.PROP_GET_DOCUMENT="getDocument",p.PROP_POST_PROCESS_POPUP="postProcessPopup",p.PROP_DEFAULT_GROUP_ORDER_COMPARATOR="defaultGroupOrderComparator",p.PROP_INITIAL_GROUP_ORDER_COMPARATOR="initialGroupOrderComparator",p.PROP_PAGINATION_NUMBER_FORMATTER="paginationNumberFormatter",p.PROP_GET_CONTEXT_MENU_ITEMS="getContextMenuItems",p.PROP_GET_MAIN_MENU_ITEMS="getMainMenuItems",p.PROP_PROCESS_CELL_FOR_CLIPBOARD="processCellForClipboard",p.PROP_PROCESS_CELL_FROM_CLIPBOARD="processCellFromClipboard",p.PROP_SEND_TO_CLIPBOARD="sendToClipboard",p.PROP_PROCESS_PIVOT_RESULT_COL_DEF="processPivotResultColDef",p.PROP_PROCESS_PIVOT_RESULT_COL_GROUP_DEF="processPivotResultColGroupDef",p.PROP_GET_CHART_TOOLBAR_ITEMS="getChartToolbarItems",p.PROP_GET_SERVER_SIDE_GROUP_PARAMS="getServerSideGroupLevelParams",p.PROP_IS_SERVER_SIDE_GROUPS_OPEN_BY_DEFAULT="isServerSideGroupOpenByDefault",p.PROP_IS_APPLY_SERVER_SIDE_TRANSACTION="isApplyServerSideTransaction",p.PROP_IS_SERVER_SIDE_GROUP="isServerSideGroup",p.PROP_GET_SERVER_SIDE_GROUP_KEY="getServerSideGroupKey",p.PROP_AUTO_GROUP_COLUMN_DEF="autoGroupColumnDef",p.PROP_DEFAULT_COL_DEF="defaultColDef",Cr([I("gridOptions")],p.prototype,"gridOptions",void 0),Cr([I("eventService")],p.prototype,"eventService",void 0),Cr([I("environment")],p.prototype,"environment",void 0),Cr([I("eGridDiv")],p.prototype,"eGridDiv",void 0),Cr([Ns(0,tt("gridApi")),Ns(1,tt("columnApi"))],p.prototype,"agWire",null),Cr([Pe],p.prototype,"destroy",null),Cr([Ee],p.prototype,"init",null),n=Cr([me("gridOptionsWrapper")],p)}(),gc=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),Dt=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},vc=function(p,n){return function(t,o){n(t,o,p)}},Ws=function(p){var n="function"==typeof Symbol&&Symbol.iterator,t=n&&p[n],o=0;if(t)return t.call(p);if(p&&"number"==typeof p.length)return{next:function(){return p&&o>=p.length&&(p=void 0),{value:p&&p[o++],done:!p}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")},mc=function(p,n){var t="function"==typeof Symbol&&p[Symbol.iterator];if(!t)return p;var u,f,o=t.call(p),c=[];try{for(;(void 0===n||n-- >0)&&!(u=o.next()).done;)c.push(u.value)}catch(g){f={error:g}}finally{try{u&&!u.done&&(t=o.return)&&t.call(o)}finally{if(f)throw f.error}}return c},di=function(){for(var p=[],n=0;n<arguments.length;n++)p=p.concat(mc(arguments[n]));return p},Cc=function(p){function n(){var t=null!==p&&p.apply(this,arguments)||this;return t.primaryHeaderRowCount=0,t.secondaryHeaderRowCount=0,t.gridHeaderRowCount=0,t.displayedColumnsLeft=[],t.displayedColumnsRight=[],t.displayedColumnsCenter=[],t.displayedColumns=[],t.displayedColumnsAndGroupsMap={},t.viewportColumns=[],t.headerViewportColumns=[],t.viewportColumnsCenter=[],t.headerViewportColumnsCenter=[],t.autoHeightActiveAtLeastOnce=!1,t.rowGroupColumns=[],t.valueColumns=[],t.pivotColumns=[],t.ready=!1,t.autoGroupsNeedBuilding=!1,t.forceRecreateAutoGroups=!1,t.pivotMode=!1,t.bodyWidth=0,t.leftWidth=0,t.rightWidth=0,t.bodyWidthDirty=!0,t.flexColsCalculatedAtLestOnce=!1,t}return gc(n,p),n.prototype.init=function(){var t=this;this.suppressColumnVirtualisation=this.gridOptionsWrapper.isSuppressColumnVirtualisation();var o=this.gridOptionsWrapper.isPivotMode();this.isPivotSettingAllowed(o)&&(this.pivotMode=o),this.usingTreeData=this.gridOptionsWrapper.isTreeData(),this.addManagedListener(this.gridOptionsWrapper,Re.PROP_GROUP_DISPLAY_TYPE,function(){return t.onAutoGroupColumnDefChanged()}),this.addManagedListener(this.gridOptionsWrapper,Re.PROP_AUTO_GROUP_COLUMN_DEF,function(){return t.onAutoGroupColumnDefChanged()}),this.addManagedListener(this.gridOptionsWrapper,Re.PROP_DEFAULT_COL_DEF,function(){return t.onDefaultColDefChanged()})},n.prototype.onAutoGroupColumnDefChanged=function(){this.autoGroupsNeedBuilding=!0,this.forceRecreateAutoGroups=!0,this.updateGridColumns(),this.updateDisplayedColumns("gridOptionsChanged")},n.prototype.onDefaultColDefChanged=function(){this.forceRecreateAutoGroups=!0,this.createColumnsFromColumnDefs(!0)},n.prototype.setColumnDefs=function(t,o){void 0===o&&(o="api");var u=!!this.columnDefs;this.columnDefs=t,this.createColumnsFromColumnDefs(u,o)},n.prototype.createColumnsFromColumnDefs=function(t,o){var u=this;void 0===o&&(o="api");var c=t?this.compareColumnStatesAndRaiseEvents(o):void 0;this.valueCache.expire(),this.autoGroupsNeedBuilding=!0;var f=this.primaryColumns,C=this.columnFactory.createColumnTree(this.columnDefs,!0,this.primaryColumnTree);this.primaryColumnTree=C.columnTree,this.primaryHeaderRowCount=C.treeDept+1,this.primaryColumns=this.getColumnsFromTree(this.primaryColumnTree),this.primaryColumnsMap={},this.primaryColumns.forEach(function(R){return u.primaryColumnsMap[R.getId()]=R}),this.extractRowGroupColumns(o,f),this.extractPivotColumns(o,f),this.extractValueColumns(o,f),this.ready=!0,(this.gridColsArePrimary||void 0===this.gridColsArePrimary)&&(this.updateGridColumns(),t&&!this.gridOptionsWrapper.isMaintainColumnOrder()&&this.orderGridColumnsLikePrimary(),this.updateDisplayedColumns(o),this.checkViewportColumns()),this.dispatchEverythingChanged(o),c&&c(),this.dispatchNewColumnsLoaded()},n.prototype.dispatchNewColumnsLoaded=function(){this.eventService.dispatchEvent({type:V.EVENT_NEW_COLUMNS_LOADED})},n.prototype.dispatchEverythingChanged=function(t){void 0===t&&(t="api"),this.eventService.dispatchEvent({type:V.EVENT_COLUMN_EVERYTHING_CHANGED,source:t})},n.prototype.orderGridColumnsLikePrimary=function(){var t=this,o=this.primaryColumns;!o||(this.gridColumns.sort(function(u,c){var f=o.indexOf(u),g=o.indexOf(c),C=f>=0,O=g>=0;return C&&O?f-g:C?1:O?-1:t.gridColumns.indexOf(u)-t.gridColumns.indexOf(c)}),this.gridColumns=this.placeLockedColumns(this.gridColumns))},n.prototype.getAllDisplayedAutoHeightCols=function(){return this.displayedAutoHeightCols},n.prototype.setViewport=function(){this.gridOptionsWrapper.isEnableRtl()?(this.viewportLeft=this.bodyWidth-this.scrollPosition-this.scrollWidth,this.viewportRight=this.bodyWidth-this.scrollPosition):(this.viewportLeft=this.scrollPosition,this.viewportRight=this.scrollWidth+this.scrollPosition)},n.prototype.getDisplayedColumnsStartingAt=function(t){for(var o=t,u=[];null!=o;)u.push(o),o=this.getDisplayedColAfter(o);return u},n.prototype.checkViewportColumns=function(){null!=this.displayedColumnsCenter&&this.extractViewport()&&this.eventService.dispatchEvent({type:V.EVENT_VIRTUAL_COLUMNS_CHANGED})},n.prototype.setViewportPosition=function(t,o){(t!==this.scrollWidth||o!==this.scrollPosition||this.bodyWidthDirty)&&(this.scrollWidth=t,this.scrollPosition=o,this.bodyWidthDirty=!0,this.setViewport(),this.ready&&this.checkViewportColumns())},n.prototype.isPivotMode=function(){return this.pivotMode},n.prototype.isPivotSettingAllowed=function(t){return!t||!this.gridOptionsWrapper.isTreeData()||(console.warn("AG Grid: Pivot mode not available in conjunction Tree Data i.e. 'gridOptions.treeData: true'"),!1)},n.prototype.setPivotMode=function(t,o){void 0===o&&(o="api"),t!==this.pivotMode&&this.isPivotSettingAllowed(this.pivotMode)&&(this.pivotMode=t,this.autoGroupsNeedBuilding=!0,this.updateGridColumns(),this.updateDisplayedColumns(o),this.eventService.dispatchEvent({type:V.EVENT_COLUMN_PIVOT_MODE_CHANGED}))},n.prototype.getSecondaryPivotColumn=function(t,o){if(s(this.secondaryColumns))return null;var u=this.getPrimaryColumn(o),c=null;return this.secondaryColumns.forEach(function(f){var g=f.getColDef().pivotKeys,C=f.getColDef().pivotValueColumn;It(g,t)&&C===u&&(c=f)}),c},n.prototype.setBeans=function(t){this.logger=t.create("columnModel")},n.prototype.setFirstRightAndLastLeftPinned=function(t){var o,u;this.gridOptionsWrapper.isEnableRtl()?(o=this.displayedColumnsLeft?this.displayedColumnsLeft[0]:null,u=this.displayedColumnsRight?Je(this.displayedColumnsRight):null):(o=this.displayedColumnsLeft?Je(this.displayedColumnsLeft):null,u=this.displayedColumnsRight?this.displayedColumnsRight[0]:null),this.gridColumns.forEach(function(c){c.setLastLeftPinned(c===o,t),c.setFirstRightPinned(c===u,t)})},n.prototype.autoSizeColumns=function(t){var o=this,u=t.columns,c=t.skipHeader,f=t.skipHeaderGroups,g=t.stopAtGroup,C=t.source,O=void 0===C?"api":C;this.animationFrameService.flushAllFrames();for(var P=[],R=-1,x=c??this.gridOptionsWrapper.isSkipHeaderOnAutoSize(),W=f??x;0!==R;)R=0,this.actionOnGridColumns(u,function(U){if(P.indexOf(U)>=0)return!1;var q=o.autoWidthCalculator.getPreferredWidthForColumn(U,x);if(q>0){var te=o.normaliseColumnWidth(U,q);U.setActualWidth(te,O),P.push(U),R++}return!0},O);W||this.autoSizeColumnGroupsByColumns(u,g),this.fireColumnResizedEvent(P,!0,"autosizeColumns")},n.prototype.fireColumnResizedEvent=function(t,o,u,c){void 0===c&&(c=null),t&&t.length&&this.eventService.dispatchEvent({type:V.EVENT_COLUMN_RESIZED,columns:t,column:1===t.length?t[0]:null,flexColumns:c,finished:o,source:u})},n.prototype.autoSizeColumn=function(t,o,u){void 0===u&&(u="api"),t&&this.autoSizeColumns({columns:[t],skipHeader:o,skipHeaderGroups:!0,source:u})},n.prototype.autoSizeColumnGroupsByColumns=function(t,o){var u,c,f,g,P,C=new Set;this.getGridColumns(t).forEach(function(ae){for(var Ce=ae.getParent();Ce&&Ce!=o;)Ce.isPadding()||C.add(Ce),Ce=Ce.getParent()});try{for(var x=Ws(C),W=x.next();!W.done;W=x.next()){var U=W.value;try{for(var q=(f=void 0,Ws(this.ctrlsService.getHeaderRowContainerCtrls())),te=q.next();!te.done&&!(P=te.value.getHeaderCtrlForColumn(U));te=q.next());}catch(ae){f={error:ae}}finally{try{te&&!te.done&&(g=q.return)&&g.call(q)}finally{if(f)throw f.error}}P&&P.resizeLeafColumnsToFit()}}catch(ae){u={error:ae}}finally{try{W&&!W.done&&(c=x.return)&&c.call(x)}finally{if(u)throw u.error}}return[]},n.prototype.autoSizeAllColumns=function(t,o){void 0===o&&(o="api");var u=this.getAllDisplayedColumns();this.autoSizeColumns({columns:u,skipHeader:t,source:o})},n.prototype.getColumnsFromTree=function(t){var o=[],u=function(c){for(var f=0;f<c.length;f++){var g=c[f];g instanceof $e?o.push(g):g instanceof ot&&u(g.getChildren())}};return u(t),o},n.prototype.getAllDisplayedTrees=function(){return this.displayedTreeLeft&&this.displayedTreeRight&&this.displayedTreeCentre?this.displayedTreeLeft.concat(this.displayedTreeCentre).concat(this.displayedTreeRight):null},n.prototype.getPrimaryColumnTree=function(){return this.primaryColumnTree},n.prototype.getHeaderRowCount=function(){return this.gridHeaderRowCount},n.prototype.getDisplayedTreeLeft=function(){return this.displayedTreeLeft},n.prototype.getDisplayedTreeRight=function(){return this.displayedTreeRight},n.prototype.getDisplayedTreeCentre=function(){return this.displayedTreeCentre},n.prototype.isColumnDisplayed=function(t){return this.getAllDisplayedColumns().indexOf(t)>=0},n.prototype.getAllDisplayedColumns=function(){return this.displayedColumns},n.prototype.getViewportColumns=function(){return this.viewportColumns},n.prototype.getDisplayedLeftColumnsForRow=function(t){return this.colSpanActive?this.getDisplayedColumnsForRow(t,this.displayedColumnsLeft):this.displayedColumnsLeft},n.prototype.getDisplayedRightColumnsForRow=function(t){return this.colSpanActive?this.getDisplayedColumnsForRow(t,this.displayedColumnsRight):this.displayedColumnsRight},n.prototype.getDisplayedColumnsForRow=function(t,o,u,c){for(var O,f=[],g=null,C=function(R){var ae,x=o[R],W=o.length-R,U=Math.min(x.getColSpan(t),W),q=[x];if(U>1){for(var te=U-1,se=1;se<=te;se++)q.push(o[R+se]);R+=te}u?(ae=!1,q.forEach(function(Oe){u(Oe)&&(ae=!0)})):ae=!0,ae&&(0===f.length&&g&&c&&c(x)&&f.push(g),f.push(x)),g=x,O=R},P=0;P<o.length;P++)C(P),P=O;return f},n.prototype.getViewportCenterColumnsForRow=function(t){var o=this;if(!this.colSpanActive)return this.viewportColumnsCenter;var c=this.suppressColumnVirtualisation?null:this.isColumnInRowViewport.bind(this);return this.getDisplayedColumnsForRow(t,this.displayedColumnsCenter,c,function(f){var g=f.getLeft();return a(g)&&g>o.viewportLeft})},n.prototype.getAriaColumnIndex=function(t){return this.getAllGridColumns().indexOf(t)+1},n.prototype.isColumnInHeaderViewport=function(t){return!!t.isAutoHeaderHeight()||this.isColumnInRowViewport(t)},n.prototype.isColumnInRowViewport=function(t){if(t.isAutoHeight())return!0;var o=t.getLeft()||0,u=o+t.getActualWidth(),c=this.viewportLeft-200,f=this.viewportRight+200;return!(o<c&&u<c||o>f&&u>f)},n.prototype.getDisplayedColumnsLeftWidth=function(){return this.getWidthOfColsInList(this.displayedColumnsLeft)},n.prototype.getDisplayedColumnsRightWidth=function(){return this.getWidthOfColsInList(this.displayedColumnsRight)},n.prototype.updatePrimaryColumnList=function(t,o,u,c,f,g){var C=this;if(void 0===g&&(g="api"),t&&!d(t)){var O=!1;t.forEach(function(R){var x=C.getPrimaryColumn(R);if(x){if(u){if(o.indexOf(x)>=0)return;o.push(x)}else{if(o.indexOf(x)<0)return;vt(o,x)}c(x),O=!0}}),O&&(this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(g),this.eventService.dispatchEvent({type:f,columns:o,column:1===o.length?o[0]:null,source:g}))}},n.prototype.setRowGroupColumns=function(t,o){void 0===o&&(o="api"),this.autoGroupsNeedBuilding=!0,this.setPrimaryColumnList(t,this.rowGroupColumns,V.EVENT_COLUMN_ROW_GROUP_CHANGED,this.setRowGroupActive.bind(this),o)},n.prototype.setRowGroupActive=function(t,o,u){t!==o.isRowGroupActive()&&(o.setRowGroupActive(t,u),t&&!this.gridOptionsWrapper.isSuppressRowGroupHidesColumns()&&this.setColumnVisible(o,!1,u),!t&&!this.gridOptionsWrapper.isSuppressMakeColumnVisibleAfterUnGroup()&&this.setColumnVisible(o,!0,u))},n.prototype.addRowGroupColumn=function(t,o){void 0===o&&(o="api"),t&&this.addRowGroupColumns([t],o)},n.prototype.addRowGroupColumns=function(t,o){void 0===o&&(o="api"),this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(t,this.rowGroupColumns,!0,this.setRowGroupActive.bind(this,!0),V.EVENT_COLUMN_ROW_GROUP_CHANGED,o)},n.prototype.removeRowGroupColumns=function(t,o){void 0===o&&(o="api"),this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(t,this.rowGroupColumns,!1,this.setRowGroupActive.bind(this,!1),V.EVENT_COLUMN_ROW_GROUP_CHANGED,o)},n.prototype.removeRowGroupColumn=function(t,o){void 0===o&&(o="api"),t&&this.removeRowGroupColumns([t],o)},n.prototype.addPivotColumns=function(t,o){void 0===o&&(o="api"),this.updatePrimaryColumnList(t,this.pivotColumns,!0,function(u){return u.setPivotActive(!0,o)},V.EVENT_COLUMN_PIVOT_CHANGED,o)},n.prototype.setPivotColumns=function(t,o){void 0===o&&(o="api"),this.setPrimaryColumnList(t,this.pivotColumns,V.EVENT_COLUMN_PIVOT_CHANGED,function(u,c){c.setPivotActive(u,o)},o)},n.prototype.addPivotColumn=function(t,o){void 0===o&&(o="api"),this.addPivotColumns([t],o)},n.prototype.removePivotColumns=function(t,o){void 0===o&&(o="api"),this.updatePrimaryColumnList(t,this.pivotColumns,!1,function(u){return u.setPivotActive(!1,o)},V.EVENT_COLUMN_PIVOT_CHANGED,o)},n.prototype.removePivotColumn=function(t,o){void 0===o&&(o="api"),this.removePivotColumns([t],o)},n.prototype.setPrimaryColumnList=function(t,o,u,c,f){var g=this;o.length=0,a(t)&&t.forEach(function(C){var O=g.getPrimaryColumn(C);O&&o.push(O)}),(this.primaryColumns||[]).forEach(function(C){var O=o.indexOf(C)>=0;c(O,C)}),this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(f),this.fireColumnEvent(u,o,f)},n.prototype.setValueColumns=function(t,o){void 0===o&&(o="api"),this.setPrimaryColumnList(t,this.valueColumns,V.EVENT_COLUMN_VALUE_CHANGED,this.setValueActive.bind(this),o)},n.prototype.setValueActive=function(t,o,u){if(t!==o.isValueActive()&&(o.setValueActive(t,u),t&&!o.getAggFunc())){var c=this.aggFuncService.getDefaultAggFunc(o);o.setAggFunc(c)}},n.prototype.addValueColumns=function(t,o){void 0===o&&(o="api"),this.updatePrimaryColumnList(t,this.valueColumns,!0,this.setValueActive.bind(this,!0),V.EVENT_COLUMN_VALUE_CHANGED,o)},n.prototype.addValueColumn=function(t,o){void 0===o&&(o="api"),t&&this.addValueColumns([t],o)},n.prototype.removeValueColumn=function(t,o){void 0===o&&(o="api"),this.removeValueColumns([t],o)},n.prototype.removeValueColumns=function(t,o){void 0===o&&(o="api"),this.updatePrimaryColumnList(t,this.valueColumns,!1,this.setValueActive.bind(this,!1),V.EVENT_COLUMN_VALUE_CHANGED,o)},n.prototype.normaliseColumnWidth=function(t,o){var u=t.getMinWidth();a(u)&&o<u&&(o=u);var c=t.getMaxWidth();return a(c)&&t.isGreaterThanMax(o)&&(o=c),o},n.prototype.getPrimaryOrGridColumn=function(t){return this.getPrimaryColumn(t)||this.getGridColumn(t)},n.prototype.setColumnWidths=function(t,o,u,c){var f=this;void 0===c&&(c="api");var g=[];t.forEach(function(C){var O=f.getPrimaryOrGridColumn(C.key);if(O&&(g.push({width:C.newWidth,ratios:[1],columns:[O]}),"shift"===f.gridOptionsWrapper.getColResizeDefault()&&(o=!o),o)){var R=f.getDisplayedColAfter(O);if(!R)return;var x=O.getActualWidth()-C.newWidth,W=R.getActualWidth()+x;g.push({width:W,ratios:[1],columns:[R]})}}),0!==g.length&&this.resizeColumnSets({resizeSets:g,finished:u,source:c})},n.prototype.checkMinAndMaxWidthsForSet=function(t){var u=t.width,c=0,f=0,g=!0;return t.columns.forEach(function(P){var R=P.getMinWidth();c+=R||0;var x=P.getMaxWidth();a(x)&&x>0?f+=x:g=!1}),u>=c&&(!g||u<=f)},n.prototype.resizeColumnSets=function(t){var o=this,u=t.resizeSets,c=t.finished,f=t.source;if(!u||u.every(function(U){return o.checkMinAndMaxWidthsForSet(U)})){var O=[],P=[];u.forEach(function(U){var q=U.width,te=U.columns,se=U.ratios,ae={},Ce={};te.forEach(function(Ae){return P.push(Ae)});for(var Oe=!0,Me=0,Be=function(){if(++Me>1e3)return console.error("AG Grid: infinite loop in resizeColumnSets"),"break";Oe=!1;var Ae=[],He=0,ke=q;te.forEach(function(st,gt){Ce[st.getId()]?ke-=ae[st.getId()]:(Ae.push(st),He+=se[gt])});var Ye=1/He;Ae.forEach(function(st,gt){var ut;gt===Ae.length-1?ut=ke:(ut=Math.round(se[gt]*q*Ye),ke-=ut);var sr=st.getMinWidth(),vr=st.getMaxWidth();a(sr)&&ut<sr?(ut=sr,Ce[st.getId()]=!0,Oe=!0):a(vr)&&vr>0&&ut>vr&&(ut=vr,Ce[st.getId()]=!0,Oe=!0),ae[st.getId()]=ut})};Oe&&"break"!==Be(););te.forEach(function(Ae){var He=ae[Ae.getId()];Ae.getActualWidth()!==He&&(Ae.setActualWidth(He,f),O.push(Ae))})});var R=O.length>0,x=[];R&&(x=this.refreshFlexedColumns({resizingCols:P,skipSetLeft:!0}),this.setLeftValues(f),this.updateBodyWidths(),this.checkViewportColumns());var W=P.concat(x);(R||c)&&this.fireColumnResizedEvent(W,c,f,x)}else c&&this.fireColumnResizedEvent(u&&u.length>0?u[0].columns:null,c,f)},n.prototype.setColumnAggFunc=function(t,o,u){if(void 0===u&&(u="api"),t){var c=this.getPrimaryColumn(t);!c||(c.setAggFunc(o),this.fireColumnEvent(V.EVENT_COLUMN_VALUE_CHANGED,[c],u))}},n.prototype.fireColumnEvent=function(t,o,u){this.eventService.dispatchEvent({type:t,columns:o,column:o&&1==o.length?o[0]:null,source:u})},n.prototype.moveRowGroupColumn=function(t,o,u){void 0===u&&(u="api");var c=this.rowGroupColumns[t];this.rowGroupColumns.splice(t,1),this.rowGroupColumns.splice(o,0,c),this.eventService.dispatchEvent({type:V.EVENT_COLUMN_ROW_GROUP_CHANGED,columns:this.rowGroupColumns,column:1===this.rowGroupColumns.length?this.rowGroupColumns[0]:null,source:u})},n.prototype.moveColumns=function(t,o,u){if(void 0===u&&(u="api"),this.columnAnimationService.start(),o>this.gridColumns.length-t.length)return console.warn("AG Grid: tried to insert columns in invalid location, toIndex = "+o),void console.warn("AG Grid: remember that you should not count the moving columns when calculating the new index");var c=this.getGridColumns(t);!this.doesMovePassRules(c,o)||(Ir(this.gridColumns,c,o),this.updateDisplayedColumns(u),this.eventService.dispatchEvent({type:V.EVENT_COLUMN_MOVED,columns:c,column:1===c.length?c[0]:null,toIndex:o,source:u}),this.columnAnimationService.finish())},n.prototype.doesMovePassRules=function(t,o){var u=this.getProposedColumnOrder(t,o);return this.doesOrderPassRules(u)},n.prototype.doesOrderPassRules=function(t){return!(!this.doesMovePassMarryChildren(t)||!this.doesMovePassLockedPositions(t))},n.prototype.getProposedColumnOrder=function(t,o){var u=this.gridColumns.slice();return Ir(u,t,o),u},n.prototype.sortColumnsLikeGridColumns=function(t){var o=this;!t||t.length<=1||t.filter(function(c){return o.gridColumns.indexOf(c)<0}).length>0||t.sort(function(c,f){return o.gridColumns.indexOf(c)-o.gridColumns.indexOf(f)})},n.prototype.doesMovePassLockedPositions=function(t){var o=0,u=!0;return t.forEach(function(f){var g=function(f){return f?!0===f||"left"===f?0:2:1}(f.getColDef().lockPosition);g<o&&(u=!1),o=g}),u},n.prototype.doesMovePassMarryChildren=function(t){var o=!0;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(u){if(u instanceof ot){var c=u,f=c.getColGroupDef();if(f&&f.marryChildren){var C=[];c.getLeafColumns().forEach(function(W){var U=t.indexOf(W);C.push(U)}),Math.max.apply(Math,C)-Math.min.apply(Math,C)>c.getLeafColumns().length-1&&(o=!1)}}}),o},n.prototype.moveColumn=function(t,o,u){void 0===u&&(u="api"),this.moveColumns([t],o,u)},n.prototype.moveColumnByIndex=function(t,o,u){void 0===u&&(u="api"),this.moveColumn(this.gridColumns[t],o,u)},n.prototype.getColumnDefs=function(){var t=this;if(this.primaryColumns){var o=this.primaryColumns.slice();return this.gridColsArePrimary?o.sort(function(u,c){return t.gridColumns.indexOf(u)-t.gridColumns.indexOf(c)}):this.lastPrimaryOrder&&o.sort(function(u,c){return t.lastPrimaryOrder.indexOf(u)-t.lastPrimaryOrder.indexOf(c)}),this.columnDefFactory.buildColumnDefs(o,this.rowGroupColumns,this.pivotColumns)}},n.prototype.getBodyContainerWidth=function(){return this.bodyWidth},n.prototype.getContainerWidth=function(t){switch(t){case ee.PINNED_LEFT:return this.leftWidth;case ee.PINNED_RIGHT:return this.rightWidth;default:return this.bodyWidth}},n.prototype.updateBodyWidths=function(){var t=this.getWidthOfColsInList(this.displayedColumnsCenter),o=this.getWidthOfColsInList(this.displayedColumnsLeft),u=this.getWidthOfColsInList(this.displayedColumnsRight);this.bodyWidthDirty=this.bodyWidth!==t,(this.bodyWidth!==t||this.leftWidth!==o||this.rightWidth!==u)&&(this.bodyWidth=t,this.leftWidth=o,this.rightWidth=u,this.eventService.dispatchEvent({type:V.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED}))},n.prototype.getValueColumns=function(){return this.valueColumns?this.valueColumns:[]},n.prototype.getPivotColumns=function(){return this.pivotColumns?this.pivotColumns:[]},n.prototype.isPivotActive=function(){return this.pivotColumns&&this.pivotColumns.length>0&&this.pivotMode},n.prototype.getRowGroupColumns=function(){return this.rowGroupColumns?this.rowGroupColumns:[]},n.prototype.getDisplayedCenterColumns=function(){return this.displayedColumnsCenter},n.prototype.getDisplayedLeftColumns=function(){return this.displayedColumnsLeft},n.prototype.getDisplayedRightColumns=function(){return this.displayedColumnsRight},n.prototype.getDisplayedColumns=function(t){switch(t){case ee.PINNED_LEFT:return this.getDisplayedLeftColumns();case ee.PINNED_RIGHT:return this.getDisplayedRightColumns();default:return this.getDisplayedCenterColumns()}},n.prototype.getAllPrimaryColumns=function(){return this.primaryColumns?this.primaryColumns.slice():null},n.prototype.getSecondaryColumns=function(){return this.secondaryColumns?this.secondaryColumns.slice():null},n.prototype.getAllColumnsForQuickFilter=function(){return this.columnsForQuickFilter},n.prototype.getAllGridColumns=function(){return this.gridColumns},n.prototype.isEmpty=function(){return d(this.gridColumns)},n.prototype.isRowGroupEmpty=function(){return d(this.rowGroupColumns)},n.prototype.setColumnVisible=function(t,o,u){void 0===u&&(u="api"),this.setColumnsVisible([t],o,u)},n.prototype.setColumnsVisible=function(t,o,u){void 0===o&&(o=!1),this.applyColumnState({state:t.map(function(c){return{colId:"string"==typeof c?c:c.getColId(),hide:!o}})})},n.prototype.setColumnPinned=function(t,o,u){void 0===u&&(u="api"),t&&this.setColumnsPinned([t],o,u)},n.prototype.setColumnsPinned=function(t,o,u){var c;void 0===u&&(u="api"),"print"!==this.gridOptionsWrapper.getDomLayout()?(this.columnAnimationService.start(),c=!0===o||o===ee.PINNED_LEFT?ee.PINNED_LEFT:o===ee.PINNED_RIGHT?ee.PINNED_RIGHT:null,this.actionOnGridColumns(t,function(f){return f.getPinned()!==c&&(f.setPinned(c),!0)},u,function(){return{type:V.EVENT_COLUMN_PINNED,pinned:c,column:null,columns:null,source:u}}),this.columnAnimationService.finish()):console.warn("Changing the column pinning status is not allowed with domLayout='print'")},n.prototype.actionOnGridColumns=function(t,o,u,c){var f=this;if(!d(t)){var g=[];if(t.forEach(function(O){var P=f.getGridColumn(O);P&&!1!==o(P)&&g.push(P)}),g.length&&(this.updateDisplayedColumns(u),a(c)&&c)){var C=c();C.columns=g,C.column=1===g.length?g[0]:null,this.eventService.dispatchEvent(C)}}},n.prototype.getDisplayedColBefore=function(t){var o=this.getAllDisplayedColumns(),u=o.indexOf(t);return u>0?o[u-1]:null},n.prototype.getDisplayedColAfter=function(t){var o=this.getAllDisplayedColumns(),u=o.indexOf(t);return u<o.length-1?o[u+1]:null},n.prototype.getDisplayedGroupAfter=function(t){return this.getDisplayedGroupAtDirection(t,"After")},n.prototype.getDisplayedGroupBefore=function(t){return this.getDisplayedGroupAtDirection(t,"Before")},n.prototype.getDisplayedGroupAtDirection=function(t,o){for(var u=t.getProvidedColumnGroup().getLevel()+t.getPaddingLevel(),c=t.getDisplayedLeafColumns(),f="After"===o?Je(c):c[0],g="getDisplayedCol"+o;;){var C=this[g](f);if(!C)return null;var O=this.getColumnGroupAtLevel(C,u);if(O!==t)return O}},n.prototype.getColumnGroupAtLevel=function(t,o){for(var u=t.getParent();!(u.getProvidedColumnGroup().getLevel()+u.getPaddingLevel()<=o);)u=u.getParent();return u},n.prototype.isPinningLeft=function(){return this.displayedColumnsLeft.length>0},n.prototype.isPinningRight=function(){return this.displayedColumnsRight.length>0},n.prototype.getPrimaryAndSecondaryAndAutoColumns=function(){var t;return(t=[]).concat.apply(t,di([this.primaryColumns||[],this.groupAutoColumns||[],this.secondaryColumns||[]]))},n.prototype.getPrimaryAndAutoGroupCols=function(){var t;return(t=[]).concat.apply(t,di([this.primaryColumns||[],this.groupAutoColumns||[]]))},n.prototype.getPrimaryAndSecondaryColumns=function(){var t;return(t=[]).concat.apply(t,di([this.primaryColumns||[],this.secondaryColumns||[]]))},n.prototype.createStateItemFromColumn=function(t){var o=t.isRowGroupActive()?this.rowGroupColumns.indexOf(t):null,u=t.isPivotActive()?this.pivotColumns.indexOf(t):null,c=t.isValueActive()?t.getAggFunc():null,f=null!=t.getSort()?t.getSort():null,g=null!=t.getSortIndex()?t.getSortIndex():null,C=null!=t.getFlex()&&t.getFlex()>0?t.getFlex():null;return{colId:t.getColId(),width:t.getActualWidth(),hide:!t.isVisible(),pinned:t.getPinned(),sort:f,sortIndex:g,aggFunc:c,rowGroup:t.isRowGroupActive(),rowGroupIndex:o,pivot:t.isPivotActive(),pivotIndex:u,flex:C}},n.prototype.getColumnState=function(){if(s(this.primaryColumns)||!this.isAlive())return[];var o=this.getPrimaryAndSecondaryAndAutoColumns().map(this.createStateItemFromColumn.bind(this));return this.orderColumnStateList(o),o},n.prototype.orderColumnStateList=function(t){var o=yr(this.gridColumns.map(function(u,c){return[u.getColId(),c]}));t.sort(function(u,c){return(o.has(u.colId)?o.get(u.colId):-1)-(o.has(c.colId)?o.get(c.colId):-1)})},n.prototype.resetColumnState=function(t){void 0===t&&(t="api");var o=this.getColumnsFromTree(this.primaryColumnTree),u=[],c=1e3,f=1e3,g=[];this.groupAutoColumns&&(g=g.concat(this.groupAutoColumns)),o&&(g=g.concat(o)),g.forEach(function(C){var O=function(Ve,Ae){return Ve??Ae??null},P=C.getColDef(),R=O(P.sort,P.initialSort),x=O(P.sortIndex,P.initialSortIndex),W=O(P.hide,P.initialHide),U=O(P.pinned,P.initialPinned),q=O(P.width,P.initialWidth),te=O(P.flex,P.initialFlex),se=O(P.rowGroupIndex,P.initialRowGroupIndex),ae=O(P.rowGroup,P.initialRowGroup);null==se&&(null==ae||0==ae)&&(se=null,ae=null);var Ce=O(P.pivotIndex,P.initialPivotIndex),Oe=O(P.pivot,P.initialPivot);null==Ce&&(null==Oe||0==Oe)&&(Ce=null,Oe=null);var Me=O(P.aggFunc,P.initialAggFunc),Be={colId:C.getColId(),sort:R,sortIndex:x,hide:W,pinned:U,width:q,flex:te,rowGroup:ae,rowGroupIndex:se,pivot:Oe,pivotIndex:Ce,aggFunc:Me};s(se)&&ae&&(Be.rowGroupIndex=c++),s(Ce)&&Oe&&(Be.pivotIndex=f++),u.push(Be)}),this.applyColumnState({state:u,applyOrder:!0},t)},n.prototype.applyColumnState=function(t,o){var u=this;if(void 0===o&&(o="api"),d(this.primaryColumns))return!1;if(t&&t.state&&!t.state.forEach)return console.warn("AG Grid: applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state."),!1;var c=function(O,P,R){var x=u.compareColumnStatesAndRaiseEvents(o);u.autoGroupsNeedBuilding=!0;var W=P.slice(),U={},q={},te=[],se=[],ae=0,Ce=u.rowGroupColumns.slice(),Oe=u.pivotColumns.slice();O.forEach(function(Ae){var He=Ae.colId||"";if(He.startsWith(ee.GROUP_AUTO_COLUMN_ID))return te.push(Ae),void se.push(Ae);var Ye=R(He);Ye?(u.syncColumnWithStateItem(Ye,Ae,t.defaultState,U,q,!1,o),vt(W,Ye)):(se.push(Ae),ae+=1)});var Me=function(Ae){return u.syncColumnWithStateItem(Ae,null,t.defaultState,U,q,!1,o)};W.forEach(Me);var Be=function(Ae,He,ke,Ye){var st=Ae[ke.getId()],gt=Ae[Ye.getId()],er=null!=st,ut=null!=gt;if(er&&ut)return st-gt;if(er)return-1;if(ut)return 1;var sr=He.indexOf(ke),vr=He.indexOf(Ye),wo=sr>=0;return wo&&vr>=0?sr-vr:wo?-1:1};u.rowGroupColumns.sort(Be.bind(u,U,Ce)),u.pivotColumns.sort(Be.bind(u,q,Oe)),u.updateGridColumns();var Ve=u.groupAutoColumns?u.groupAutoColumns.slice():[];return te.forEach(function(Ae){var He=u.getAutoColumn(Ae.colId);vt(Ve,He),u.syncColumnWithStateItem(He,Ae,t.defaultState,null,null,!0,o)}),Ve.forEach(Me),u.applyOrderAfterApplyState(t),u.updateDisplayedColumns(o),u.dispatchEverythingChanged(o),x(),{unmatchedAndAutoStates:se,unmatchedCount:ae}};this.columnAnimationService.start();var f=c(t.state||[],this.primaryColumns||[],function(O){return u.getPrimaryColumn(O)}),g=f.unmatchedAndAutoStates,C=f.unmatchedCount;return(g.length>0||a(t.defaultState))&&(C=c(g,this.secondaryColumns||[],function(O){return u.getSecondaryColumn(O)}).unmatchedCount),this.columnAnimationService.finish(),0===C},n.prototype.applyOrderAfterApplyState=function(t){var o=this;if(t.applyOrder&&t.state){var u=[],c={};t.state.forEach(function(g){if(g.colId&&!c[g.colId]){var C=o.gridColumnsMap[g.colId];C&&(u.push(C),c[g.colId]=!0)}});var f=0;if(this.gridColumns.forEach(function(g){var C=g.getColId();null!=c[C]||(C.startsWith(ee.GROUP_AUTO_COLUMN_ID)?ur(u,g,f++):u.push(g))}),u=this.placeLockedColumns(u),!this.doesMovePassMarryChildren(u))return void console.warn("AG Grid: Applying column order broke a group where columns should be married together. Applying new order has been discarded.");this.gridColumns=u}},n.prototype.compareColumnStatesAndRaiseEvents=function(t){var o=this,u={rowGroupColumns:this.rowGroupColumns.slice(),pivotColumns:this.pivotColumns.slice(),valueColumns:this.valueColumns.slice()},c=this.getColumnState(),f={};return c.forEach(function(g){f[g.colId]=g}),function(){if(!o.gridOptionsWrapper.isSuppressColumnStateEvents()){var g=o.getPrimaryAndSecondaryAndAutoColumns(),C=function(se,ae,Ce,Oe){It(ae.map(Oe),Ce.map(Oe))||o.eventService.dispatchEvent({type:se,columns:Ce,column:1===Ce.length?Ce[0]:null,source:t})},O=function(se){var ae=[];return g.forEach(function(Ce){var Oe=f[Ce.getColId()];Oe&&se(Oe,Ce)&&ae.push(Ce)}),ae},P=function(se){return se.getColId()};C(V.EVENT_COLUMN_ROW_GROUP_CHANGED,u.rowGroupColumns,o.rowGroupColumns,P),C(V.EVENT_COLUMN_PIVOT_CHANGED,u.pivotColumns,o.pivotColumns,P),O(function(se,ae){var Ce=null!=se.aggFunc,Oe=Ce!=ae.isValueActive(),Me=Ce&&se.aggFunc!=ae.getAggFunc();return Oe||Me}).length>0&&o.fireColumnEvent(V.EVENT_COLUMN_VALUE_CHANGED,o.valueColumns,t),o.fireColumnResizedEvent(O(function(se,ae){return se.width!=ae.getActualWidth()}),!0,t),o.raiseColumnPinnedEvent(O(function(se,ae){return se.pinned!=ae.getPinned()}),t),o.raiseColumnVisibleEvent(O(function(se,ae){return se.hide==ae.isVisible()}),t),O(function(se,ae){return se.sort!=ae.getSort()||se.sortIndex!=ae.getSortIndex()}).length>0&&o.sortController.dispatchSortChangedEvents(t),o.raiseColumnMovedEvent(c,t)}}},n.prototype.raiseColumnPinnedEvent=function(t,o){if(t.length){var u=1===t.length?t[0]:null,c=this.getCommonValue(t,function(g){return g.getPinned()});this.eventService.dispatchEvent({type:V.EVENT_COLUMN_PINNED,pinned:c??null,columns:t,column:u,source:o})}},n.prototype.getCommonValue=function(t,o){if(t&&0!=t.length){for(var u=o(t[0]),c=1;c<t.length;c++)if(u!==o(t[c]))return;return u}},n.prototype.raiseColumnVisibleEvent=function(t,o){if(t.length){var u=1===t.length?t[0]:null,c=this.getCommonValue(t,function(g){return g.isVisible()});this.eventService.dispatchEvent({type:V.EVENT_COLUMN_VISIBLE,visible:c,columns:t,column:u,source:o})}},n.prototype.raiseColumnMovedEvent=function(t,o){var u=this,c=this.getColumnState(),f={};c.forEach(function(x){return f[x.colId]=x});var g={};t.forEach(function(x){f[x.colId]&&(g[x.colId]=!0)});var C=t.filter(function(x){return g[x.colId]}),O=c.filter(function(x){return g[x.colId]}),P=[];O.forEach(function(x,W){var U=C&&C[W];if(U&&U.colId!==x.colId){var q=u.getGridColumn(U.colId);q&&P.push(q)}}),P.length&&this.eventService.dispatchEvent({type:V.EVENT_COLUMN_MOVED,columns:P,column:null,source:o})},n.prototype.syncColumnWithStateItem=function(t,o,u,c,f,g,C){if(t){var O=function(He,ke){var Ye={value1:void 0,value2:void 0},st=!1;return o&&(void 0!==o[He]&&(Ye.value1=o[He],st=!0),a(ke)&&void 0!==o[ke]&&(Ye.value2=o[ke],st=!0)),!st&&u&&(void 0!==u[He]&&(Ye.value1=u[He]),a(ke)&&void 0!==u[ke]&&(Ye.value2=u[ke])),Ye},P=O("hide").value1;void 0!==P&&t.setVisible(!P,C);var R=O("pinned").value1;void 0!==R&&t.setPinned(R);var x=this.columnUtils.calculateColMinWidth(t.getColDef()),W=O("flex").value1;if(void 0!==W&&t.setFlex(W),t.getFlex()<=0){var q=O("width").value1;null!=q&&null!=x&&q>=x&&t.setActualWidth(q,C)}var te=O("sort").value1;void 0!==te&&t.setSort(te===ee.SORT_DESC||te===ee.SORT_ASC?te:void 0,C);var se=O("sortIndex").value1;if(void 0!==se&&t.setSortIndex(se),!g&&t.isPrimary()){var ae=O("aggFunc").value1;void 0!==ae&&("string"==typeof ae?(t.setAggFunc(ae),t.isValueActive()||(t.setValueActive(!0,C),this.valueColumns.push(t))):(a(ae)&&console.warn("AG Grid: stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON."),t.isValueActive()&&(t.setValueActive(!1,C),vt(this.valueColumns,t))));var Ce=O("rowGroup","rowGroupIndex"),Oe=Ce.value1,Me=Ce.value2;(void 0!==Oe||void 0!==Me)&&("number"==typeof Me||Oe?(t.isRowGroupActive()||(t.setRowGroupActive(!0,C),this.rowGroupColumns.push(t)),c&&"number"==typeof Me&&(c[t.getId()]=Me)):t.isRowGroupActive()&&(t.setRowGroupActive(!1,C),vt(this.rowGroupColumns,t)));var Be=O("pivot","pivotIndex"),Ve=Be.value1,Ae=Be.value2;(void 0!==Ve||void 0!==Ae)&&("number"==typeof Ae||Ve?(t.isPivotActive()||(t.setPivotActive(!0,C),this.pivotColumns.push(t)),f&&"number"==typeof Ae&&(f[t.getId()]=Ae)):t.isPivotActive()&&(t.setPivotActive(!1,C),vt(this.pivotColumns,t)))}}},n.prototype.getGridColumns=function(t){return this.getColumns(t,this.getGridColumn.bind(this))},n.prototype.getColumns=function(t,o){var u=[];return t&&t.forEach(function(c){var f=o(c);f&&u.push(f)}),u},n.prototype.getColumnWithValidation=function(t){if(null==t)return null;var o=this.getGridColumn(t);return o||console.warn("AG Grid: could not find column "+t),o},n.prototype.getPrimaryColumn=function(t){return this.primaryColumns?this.getColumn(t,this.primaryColumns,this.primaryColumnsMap):null},n.prototype.getGridColumn=function(t){return this.getColumn(t,this.gridColumns,this.gridColumnsMap)},n.prototype.getSecondaryColumn=function(t){return this.secondaryColumns?this.getColumn(t,this.secondaryColumns,this.secondaryColumnsMap):null},n.prototype.getColumn=function(t,o,u){if(!t)return null;if("string"==typeof t&&u[t])return u[t];for(var c=0;c<o.length;c++)if(this.columnsMatch(o[c],t))return o[c];return this.getAutoColumn(t)},n.prototype.getSourceColumnsForGroupColumn=function(t){var o=t.getColDef().showRowGroup;if(!o)return null;if(!0===o)return this.rowGroupColumns.slice(0);var u=this.getPrimaryColumn(o);return u?[u]:null},n.prototype.getAutoColumn=function(t){var o=this;return this.groupAutoColumns&&a(this.groupAutoColumns)&&!s(this.groupAutoColumns)&&this.groupAutoColumns.find(function(u){return o.columnsMatch(u,t)})||null},n.prototype.columnsMatch=function(t,o){var u=t===o,c=t.getColDef()===o,f=t.getColId()==o;return u||c||f},n.prototype.getDisplayNameForColumn=function(t,o,u){if(void 0===u&&(u=!1),!t)return null;var c=this.getHeaderName(t.getColDef(),t,null,null,o);return u?this.wrapHeaderNameWithAggFunc(t,c):c},n.prototype.getDisplayNameForProvidedColumnGroup=function(t,o,u){var c=o?o.getColGroupDef():null;return c?this.getHeaderName(c,null,t,o,u):null},n.prototype.getDisplayNameForColumnGroup=function(t,o){return this.getDisplayNameForProvidedColumnGroup(t,t.getProvidedColumnGroup(),o)},n.prototype.getHeaderName=function(t,o,u,c,f){var g=t.headerValueGetter;if(g){var C={colDef:t,column:o,columnGroup:u,providedColumnGroup:c,location:f,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};return"function"==typeof g?g(C):"string"==typeof g?this.expressionService.evaluate(g,C):(console.warn("ag-grid: headerValueGetter must be a function or a string"),"")}return null!=t.headerName?t.headerName:t.field?Ro(t.field):""},n.prototype.wrapHeaderNameWithAggFunc=function(t,o){if(this.gridOptionsWrapper.isSuppressAggFuncInHeader())return o;var g,u=t.getColDef().pivotValueColumn,f=null;if(a(u)){var C=this.gridOptionsWrapper.isRemovePivotHeaderRowWhenSingleValueColumn()&&1===this.valueColumns.length,O=void 0!==t.getColDef().pivotTotalColumnIds;if(C&&!O)return o;f=u?u.getAggFunc():null,g=!0}else{var P=t.isValueActive(),R=this.pivotMode||!this.isRowGroupEmpty();P&&R?(f=t.getAggFunc(),g=!0):g=!1}if(g){var x="string"==typeof f?f:"func";return this.gridOptionsWrapper.getLocaleTextFunc()(x,x)+"("+o+")"}return o},n.prototype.getColumnGroup=function(t,o){if(!t)return null;if(t instanceof _t)return t;var u=this.getAllDisplayedTrees(),c="number"==typeof o,f=null;return this.columnUtils.depthFirstAllColumnTreeSearch(u,function(g){if(g instanceof _t){var C=g;(c?t===C.getGroupId()&&o===C.getInstanceId():t===C.getGroupId())&&(f=C)}}),f},n.prototype.isReady=function(){return this.ready},n.prototype.extractValueColumns=function(t,o){this.valueColumns=this.extractColumns(o,this.valueColumns,function(u,c){return u.setValueActive(c,t)},function(){},function(){},function(u){var c=u.aggFunc;return null===c||""===c?null:void 0!==c?!!c:void 0},function(u){return null!=u.initialAggFunc&&""!=u.initialAggFunc}),this.valueColumns.forEach(function(u){var c=u.getColDef();null!=c.aggFunc&&""!=c.aggFunc?u.setAggFunc(c.aggFunc):u.getAggFunc()||u.setAggFunc(c.initialAggFunc)})},n.prototype.extractRowGroupColumns=function(t,o){this.rowGroupColumns=this.extractColumns(o,this.rowGroupColumns,function(u,c){return u.setRowGroupActive(c,t)},function(u){return u.rowGroupIndex},function(u){return u.initialRowGroupIndex},function(u){return u.rowGroup},function(u){return u.initialRowGroup})},n.prototype.extractColumns=function(t,o,u,c,f,g,C){void 0===t&&(t=[]),void 0===o&&(o=[]);var O=[],P=[];(this.primaryColumns||[]).forEach(function(W){var U=t.indexOf(W)<0,q=W.getColDef(),te=_(g(q)),se=_(C(q)),ae=v(c(q)),Ce=v(f(q));(void 0!==te?te:void 0!==ae?null!==ae&&ae>=0:U?void 0!==se?se:void 0!==Ce&&null!=Ce&&Ce>=0:o.indexOf(W)>=0)&&((U?null!=ae||null!=Ce:null!=ae)?O.push(W):P.push(W))});var R=function(W){var U=c(W.getColDef()),q=f(W.getColDef());return U??q};O.sort(function(W,U){var q=R(W),te=R(U);return q===te?0:q<te?-1:1});var x=[].concat(O);return o.forEach(function(W){P.indexOf(W)>=0&&x.push(W)}),P.forEach(function(W){x.indexOf(W)<0&&x.push(W)}),o.forEach(function(W){x.indexOf(W)<0&&u(W,!1)}),x.forEach(function(W){o.indexOf(W)<0&&u(W,!0)}),x},n.prototype.extractPivotColumns=function(t,o){this.pivotColumns=this.extractColumns(o,this.pivotColumns,function(u,c){return u.setPivotActive(c,t)},function(u){return u.pivotIndex},function(u){return u.initialPivotIndex},function(u){return u.pivot},function(u){return u.initialPivot})},n.prototype.resetColumnGroupState=function(t){void 0===t&&(t="api");var o=[];this.columnUtils.depthFirstOriginalTreeSearch(null,this.primaryColumnTree,function(u){if(u instanceof ot){var c=u.getColGroupDef(),f={groupId:u.getGroupId(),open:c?c.openByDefault:void 0};o.push(f)}}),this.setColumnGroupState(o,t)},n.prototype.getColumnGroupState=function(){var t=[];return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(o){o instanceof ot&&t.push({groupId:o.getGroupId(),open:o.isExpanded()})}),t},n.prototype.setColumnGroupState=function(t,o){var u=this;void 0===o&&(o="api"),this.columnAnimationService.start();var c=[];t.forEach(function(f){var C=f.open,O=u.getProvidedColumnGroup(f.groupId);!O||O.isExpanded()!==C&&(u.logger.log("columnGroupOpened("+O.getGroupId()+","+C+")"),O.setExpanded(C),c.push(O))}),this.updateGroupsAndDisplayedColumns(o),this.setFirstRightAndLastLeftPinned(o),c.forEach(function(f){u.eventService.dispatchEvent({type:V.EVENT_COLUMN_GROUP_OPENED,columnGroup:f})}),this.columnAnimationService.finish()},n.prototype.setColumnGroupOpened=function(t,o,u){var c;void 0===u&&(u="api"),c=t instanceof ot?t.getId():t||"",this.setColumnGroupState([{groupId:c,open:o}],u)},n.prototype.getProvidedColumnGroup=function(t){"string"!=typeof t&&console.error("AG Grid: group key must be a string");var o=null;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(u){u instanceof ot&&u.getId()===t&&(o=u)}),o},n.prototype.calculateColumnsForDisplay=function(){var t=this;return this.pivotMode&&s(this.secondaryColumns)?this.gridColumns.filter(function(u){var c=t.groupAutoColumns&&St(t.groupAutoColumns,u),f=t.valueColumns&&St(t.valueColumns,u);return c||f}):this.gridColumns.filter(function(u){return t.groupAutoColumns&&St(t.groupAutoColumns,u)||u.isVisible()})},n.prototype.checkColSpanActiveInCols=function(t){var o=!1;return t.forEach(function(u){a(u.getColDef().colSpan)&&(o=!0)}),o},n.prototype.calculateColumnsForGroupDisplay=function(){var t=this;this.groupDisplayColumns=[],this.groupDisplayColumnsMap={};var o=function(u){var c=u.getColDef(),f=c.showRowGroup;c&&a(f)&&(t.groupDisplayColumns.push(u),"string"==typeof f?t.groupDisplayColumnsMap[f]=u:!0===f&&t.getRowGroupColumns().forEach(function(g){t.groupDisplayColumnsMap[g.getId()]=u}))};this.gridColumns.forEach(o),this.groupAutoColumns&&this.groupAutoColumns.forEach(o)},n.prototype.getGroupDisplayColumns=function(){return this.groupDisplayColumns},n.prototype.getGroupDisplayColumnForGroup=function(t){return this.groupDisplayColumnsMap[t]},n.prototype.updateDisplayedColumns=function(t){var o=this.calculateColumnsForDisplay();this.buildDisplayedTrees(o),this.calculateColumnsForGroupDisplay(),this.updateGroupsAndDisplayedColumns(t),this.setFirstRightAndLastLeftPinned(t)},n.prototype.isSecondaryColumnsPresent=function(){return a(this.secondaryColumns)},n.prototype.setSecondaryColumns=function(t,o){var u=this;void 0===o&&(o="api");var c=t&&t.length>0;if(c||!s(this.secondaryColumns)){if(c){this.processSecondaryColumnDefinitions(t);var f=this.columnFactory.createColumnTree(t,!1,this.secondaryBalancedTree||this.previousSecondaryColumns||void 0);this.secondaryBalancedTree=f.columnTree,this.secondaryHeaderRowCount=f.treeDept+1,this.secondaryColumns=this.getColumnsFromTree(this.secondaryBalancedTree),this.secondaryColumnsMap={},this.secondaryColumns.forEach(function(g){return u.secondaryColumnsMap[g.getId()]=g}),this.previousSecondaryColumns=null}else this.previousSecondaryColumns=this.secondaryBalancedTree,this.secondaryBalancedTree=null,this.secondaryHeaderRowCount=-1,this.secondaryColumns=null,this.secondaryColumnsMap={};this.updateGridColumns(),this.updateDisplayedColumns(o)}},n.prototype.processSecondaryColumnDefinitions=function(t){var o=this.gridOptionsWrapper.getProcessPivotResultColDefFunc(),u=this.gridOptionsWrapper.getProcessPivotResultColGroupDefFunc();if(o||u){var c=function(f){f.forEach(function(g){if(a(g.children)){var O=g;u&&u(O),c(O.children)}else o&&o(g)})};t&&c(t)}},n.prototype.updateGridColumns=function(){var t=this,o=this.gridBalancedTree;if(this.gridColsArePrimary?this.lastPrimaryOrder=this.gridColumns:this.lastSecondaryOrder=this.gridColumns,this.secondaryColumns&&this.secondaryBalancedTree){var u=this.secondaryColumns.every(function(f){return void 0!==t.gridColumnsMap[f.getColId()]});this.gridBalancedTree=this.secondaryBalancedTree.slice(),this.gridHeaderRowCount=this.secondaryHeaderRowCount,this.gridColumns=this.secondaryColumns.slice(),this.gridColsArePrimary=!1,u&&this.orderGridColsLike(this.lastSecondaryOrder)}else this.primaryColumns&&(this.gridBalancedTree=this.primaryColumnTree.slice(),this.gridHeaderRowCount=this.primaryHeaderRowCount,this.gridColumns=this.primaryColumns.slice(),this.gridColsArePrimary=!0,this.orderGridColsLike(this.lastPrimaryOrder));this.addAutoGroupToGridColumns(),this.gridColumns=this.placeLockedColumns(this.gridColumns),this.setupQuickFilterColumns(),this.clearDisplayedAndViewportColumns(),this.colSpanActive=this.checkColSpanActiveInCols(this.gridColumns),this.gridColumnsMap={},this.gridColumns.forEach(function(f){return t.gridColumnsMap[f.getId()]=f}),this.setAutoHeightActive(),It(o,this.gridBalancedTree)||this.eventService.dispatchEvent({type:V.EVENT_GRID_COLUMNS_CHANGED})},n.prototype.setAutoHeightActive=function(){if(this.autoHeightActive=this.gridColumns.filter(function(c){return c.isAutoHeight()}).length>0,this.autoHeightActive){this.autoHeightActiveAtLeastOnce=!0;var t=this.rowModel.getType();t!==ee.ROW_MODEL_TYPE_CLIENT_SIDE&&t!==ee.ROW_MODEL_TYPE_SERVER_SIDE&&z(function(){return console.warn("AG Grid - autoHeight columns only work with Client Side Row Model and Server Side Row Model.")},"autoHeightActive.wrongRowModel")}},n.prototype.orderGridColsLike=function(t){if(!s(t)){var o=yr(t.map(function(P,R){return[P,R]})),u=!0;if(this.gridColumns.forEach(function(P){o.has(P)&&(u=!1)}),!u){var c=yr(this.gridColumns.map(function(P){return[P,!0]})),f=t.filter(function(P){return c.has(P)}),g=yr(f.map(function(P){return[P,!0]})),C=this.gridColumns.filter(function(P){return!g.has(P)}),O=f.slice();C.forEach(function(P){var R=P.getOriginalParent();if(R){for(var x=[];!x.length&&R;)R.getLeafColumns().forEach(function(te){var se=O.indexOf(te)>=0,ae=x.indexOf(te)<0;se&&ae&&x.push(te)}),R=R.getOriginalParent();if(x.length){var U=x.map(function(te){return O.indexOf(te)}),q=Math.max.apply(Math,di(U));ur(O,P,q+1)}else O.push(P)}else O.push(P)}),this.gridColumns=O}}},n.prototype.isPrimaryColumnGroupsPresent=function(){return this.primaryHeaderRowCount>1},n.prototype.setupQuickFilterColumns=function(){this.groupAutoColumns?this.columnsForQuickFilter=(this.primaryColumns||[]).concat(this.groupAutoColumns):this.primaryColumns&&(this.columnsForQuickFilter=this.primaryColumns)},n.prototype.placeLockedColumns=function(t){var o=[],u=[],c=[];return t.forEach(function(f){var g=f.getColDef().lockPosition;"right"===g?c.push(f):"left"===g||!0===g?o.push(f):u.push(f)}),di(o,u,c)},n.prototype.addAutoGroupToGridColumns=function(){if(this.createGroupAutoColumnsIfNeeded(),!s(this.groupAutoColumns)){this.gridColumns=this.groupAutoColumns?this.groupAutoColumns.concat(this.gridColumns):this.gridColumns;var t=this.columnFactory.createForAutoGroups(this.groupAutoColumns,this.gridBalancedTree);this.gridBalancedTree=t.concat(this.gridBalancedTree)}},n.prototype.clearDisplayedAndViewportColumns=function(){this.displayedTreeLeft=[],this.displayedTreeRight=[],this.displayedTreeCentre=[],this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={},this.displayedColumnsLeft=[],this.displayedColumnsRight=[],this.displayedColumnsCenter=[],this.displayedColumns=[],this.viewportColumns=[],this.headerViewportColumns=[]},n.prototype.updateGroupsAndDisplayedColumns=function(t){this.updateOpenClosedVisibilityInColumnGroups(),this.deriveDisplayedColumns(t),this.refreshFlexedColumns(),this.extractViewport(),this.updateBodyWidths(),this.eventService.dispatchEvent({type:V.EVENT_DISPLAYED_COLUMNS_CHANGED})},n.prototype.deriveDisplayedColumns=function(t){this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeLeft,this.displayedColumnsLeft),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeCentre,this.displayedColumnsCenter),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeRight,this.displayedColumnsRight),this.joinDisplayedColumns(),this.setLeftValues(t),this.displayedAutoHeightCols=this.displayedColumns.filter(function(o){return o.isAutoHeight()})},n.prototype.isAutoRowHeightActive=function(){return this.autoHeightActive},n.prototype.wasAutoRowHeightEverActive=function(){return this.autoHeightActiveAtLeastOnce},n.prototype.joinDisplayedColumns=function(){this.displayedColumns=this.gridOptionsWrapper.isEnableRtl()?this.displayedColumnsRight.concat(this.displayedColumnsCenter).concat(this.displayedColumnsLeft):this.displayedColumnsLeft.concat(this.displayedColumnsCenter).concat(this.displayedColumnsRight)},n.prototype.setLeftValues=function(t){this.setLeftValuesOfColumns(t),this.setLeftValuesOfGroups()},n.prototype.setLeftValuesOfColumns=function(t){var o=this;if(this.primaryColumns){var u=this.primaryColumns.slice(0),c=this.gridOptionsWrapper.isEnableRtl();[this.displayedColumnsLeft,this.displayedColumnsRight,this.displayedColumnsCenter].forEach(function(f){if(c){var g=o.getWidthOfColsInList(f);f.forEach(function(O){g-=O.getActualWidth(),O.setLeft(g,t)})}else{var C=0;f.forEach(function(O){O.setLeft(C,t),C+=O.getActualWidth()})}xr(u,f)}),u.forEach(function(f){f.setLeft(null,t)})}},n.prototype.setLeftValuesOfGroups=function(){[this.displayedTreeLeft,this.displayedTreeRight,this.displayedTreeCentre].forEach(function(t){t.forEach(function(o){o instanceof _t&&o.checkLeft()})})},n.prototype.derivedDisplayedColumnsFromDisplayedTree=function(t,o){o.length=0,this.columnUtils.depthFirstDisplayedColumnTreeSearch(t,function(u){u instanceof $e&&o.push(u)})},n.prototype.extractViewportColumns=function(){this.suppressColumnVirtualisation?(this.viewportColumnsCenter=this.displayedColumnsCenter,this.headerViewportColumnsCenter=this.displayedColumnsCenter):(this.viewportColumnsCenter=this.displayedColumnsCenter.filter(this.isColumnInRowViewport.bind(this)),this.headerViewportColumnsCenter=this.displayedColumnsCenter.filter(this.isColumnInHeaderViewport.bind(this))),this.viewportColumns=this.viewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight),this.headerViewportColumns=this.headerViewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight)},n.prototype.getVirtualHeaderGroupRow=function(t,o){var u;switch(t){case ee.PINNED_LEFT:u=this.viewportRowLeft[o];break;case ee.PINNED_RIGHT:u=this.viewportRowRight[o];break;default:u=this.viewportRowCenter[o]}return s(u)&&(u=[]),u},n.prototype.calculateHeaderRows=function(){this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={};var t={};this.headerViewportColumns.forEach(function(u){return t[u.getId()]=!0});var o=function(u,c,f){for(var g=!1,C=0;C<u.length;C++){var O=u[C],P=!1;if(O instanceof $e)P=!0===t[O.getId()];else{var x=O.getDisplayedChildren();x&&(P=o(x,c,f+1))}P&&(g=!0,c[f]||(c[f]=[]),c[f].push(O))}return g};o(this.displayedTreeLeft,this.viewportRowLeft,0),o(this.displayedTreeRight,this.viewportRowRight,0),o(this.displayedTreeCentre,this.viewportRowCenter,0)},n.prototype.extractViewport=function(){var t=this.viewportColumns.map(function(c){return c.getId()}).join("#");this.extractViewportColumns();var u=t!==this.viewportColumns.map(function(c){return c.getId()}).join("#");return u&&this.calculateHeaderRows(),u},n.prototype.refreshFlexedColumns=function(t){var o=this;void 0===t&&(t={});var u=t.source?t.source:"flex";if(null!=t.viewportWidth&&(this.flexViewportWidth=t.viewportWidth),!this.flexViewportWidth)return[];var c=-1;t.resizingCols&&t.resizingCols.forEach(function(Oe){var Me=o.displayedColumnsCenter.indexOf(Oe);c<Me&&(c=Me)});var f=function(Oe){var Me=o.displayedColumnsCenter.indexOf(Oe)>c;return Oe.getFlex()&&Me},g=this.displayedColumnsCenter.filter(function(Oe){return!f(Oe)}),C=this.displayedColumnsCenter.filter(function(Oe){return f(Oe)}),O=[];if(!C.length)return[];var R,P=[];e:for(;;){var x=C.reduce(function(Oe,Me){return Oe+Me.getFlex()},0);R=this.flexViewportWidth-this.getWidthOfColsInList(g);for(var W=0;W<C.length;W++){var U=C[W],q=R*U.getFlex()/x,te=0,se=U.getMinWidth(),ae=U.getMaxWidth();if(a(se)&&q<se?te=se:a(ae)&&q>ae&&(te=ae),te){U.setActualWidth(te,u),vt(C,U),O.push(U),g.push(U);continue e}P[W]=Math.round(q)}break}var Ce=R;return C.forEach(function(Oe,Me){Oe.setActualWidth(Math.min(P[Me],Ce),u),O.push(Oe),Ce-=P[Me]}),t.skipSetLeft||this.setLeftValues(u),t.updateBodyWidths&&this.updateBodyWidths(),t.fireResizedEvent&&this.fireColumnResizedEvent(O,!0,u,C),this.flexColsCalculatedAtLestOnce||(this.gridOptionsWrapper.isRowModelDefault()&&this.rowModel.resetRowHeights(),this.flexColsCalculatedAtLestOnce=!0),C},n.prototype.sizeColumnsToFit=function(t,o,u,c){void 0===o&&(o="sizeColumnsToFit");var f,g,C,O,R,x,U,se={};c&&(null===(g=null===(f=c)||void 0===f?void 0:f.columnLimits)||void 0===g||g.forEach(function(bt){var ni=bt.key,mn=function(p,n){var t={};for(var o in p)Object.prototype.hasOwnProperty.call(p,o)&&n.indexOf(o)<0&&(t[o]=p[o]);if(null!=p&&"function"==typeof Object.getOwnPropertySymbols){var u=0;for(o=Object.getOwnPropertySymbols(p);u<o.length;u++)n.indexOf(o[u])<0&&Object.prototype.propertyIsEnumerable.call(p,o[u])&&(t[o[u]]=p[o[u]])}return t}(bt,["key"]);se["string"==typeof ni?ni:ni.getColId()]=mn}));var ae=this.getAllDisplayedColumns(),Ce=t===this.getWidthOfColsInList(ae);if(!(t<=0||!ae.length||Ce)){var Oe=[],Me=[];ae.forEach(function(bt){!0===bt.getColDef().suppressSizeToFit?Me.push(bt):Oe.push(bt)});var Be=Oe.slice(0),Ve=!1,Ae=function(bt){vt(Oe,bt),Me.push(bt)};for(Oe.forEach(function(bt){return bt.resetActualWidth(o)});!Ve;){Ve=!0;var He=t-this.getWidthOfColsInList(Me);if(He<=0)Oe.forEach(function(bt){var ni,mn,vs,Fu=(null===(mn=null===(ni=se)||void 0===ni?void 0:ni[bt.getId()])||void 0===mn?void 0:mn.minWidth)??(null===(vs=c)||void 0===vs?void 0:vs.defaultMinWidth);"number"!=typeof Fu?bt.setMinimum(o):bt.setActualWidth(Fu)});else for(var ke=He/this.getWidthOfColsInList(Oe),Ye=He,st=Oe.length-1;st>=0;st--){var gt=Oe[st],er=null===(C=se)||void 0===C?void 0:C[gt.getId()],ut=(null===(O=er)||void 0===O?void 0:O.minWidth)??(null===(R=c)||void 0===R?void 0:R.defaultMinWidth),sr=(null===(x=er)||void 0===x?void 0:x.maxWidth)??(null===(U=c)||void 0===U?void 0:U.defaultMaxWidth),vr=gt.getMinWidth()??0,wo=gt.getMaxWidth()??Number.MAX_VALUE,yn="number"==typeof ut&&ut>vr?ut:gt.getMinWidth(),gs="number"==typeof sr&&sr<wo?sr:gt.getMaxWidth(),ii=Math.round(gt.getActualWidth()*ke);a(yn)&&ii<yn?(ii=yn,Ae(gt),Ve=!1):a(gs)&&ii>gs?(ii=gs,Ae(gt),Ve=!1):0===st&&(ii=Ye),gt.setActualWidth(ii,o,!0),Ye-=ii}}Be.forEach(function(bt){bt.fireColumnWidthChangedEvent(o)}),this.setLeftValues(o),this.updateBodyWidths(),!u&&this.fireColumnResizedEvent(Be,!0,o)}},n.prototype.buildDisplayedTrees=function(t){var o=[],u=[],c=[];t.forEach(function(g){switch(g.getPinned()){case"left":o.push(g);break;case"right":u.push(g);break;default:c.push(g)}});var f=new _s;this.displayedTreeLeft=this.displayedGroupCreator.createDisplayedGroups(o,this.gridBalancedTree,f,ee.PINNED_LEFT,this.displayedTreeLeft),this.displayedTreeRight=this.displayedGroupCreator.createDisplayedGroups(u,this.gridBalancedTree,f,ee.PINNED_RIGHT,this.displayedTreeRight),this.displayedTreeCentre=this.displayedGroupCreator.createDisplayedGroups(c,this.gridBalancedTree,f,null,this.displayedTreeCentre),this.updateDisplayedMap()},n.prototype.updateDisplayedMap=function(){var t=this;this.displayedColumnsAndGroupsMap={};var o=function(u){t.displayedColumnsAndGroupsMap[u.getUniqueId()]=u};this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeCentre,o),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeLeft,o),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeRight,o)},n.prototype.isDisplayed=function(t){return this.displayedColumnsAndGroupsMap[t.getUniqueId()]===t},n.prototype.updateOpenClosedVisibilityInColumnGroups=function(){var t=this.getAllDisplayedTrees();this.columnUtils.depthFirstAllColumnTreeSearch(t,function(o){o instanceof _t&&o.calculateDisplayedColumns()})},n.prototype.getGroupAutoColumns=function(){return this.groupAutoColumns},n.prototype.createGroupAutoColumnsIfNeeded=function(){if(this.autoGroupsNeedBuilding){this.autoGroupsNeedBuilding=!1;var t=this.gridOptionsWrapper.isGroupUseEntireRow(this.pivotMode),o=this.pivotMode?this.gridOptionsWrapper.isPivotSuppressAutoColumn():this.gridOptionsWrapper.isGroupSuppressAutoColumn();if(!(this.rowGroupColumns.length>0||this.usingTreeData)||o||t)this.groupAutoColumns=null;else{var g=this.autoGroupColService.createAutoGroupColumns(this.groupAutoColumns||[],this.rowGroupColumns);(!this.autoColsEqual(g,this.groupAutoColumns)||this.forceRecreateAutoGroups)&&(this.groupAutoColumns=g)}}},n.prototype.autoColsEqual=function(t,o){return It(t,o,function(u,c){return u.getColId()===c.getColId()})},n.prototype.getWidthOfColsInList=function(t){return t.reduce(function(o,u){return o+u.getActualWidth()},0)},n.prototype.getGridBalancedTree=function(){return this.gridBalancedTree},n.prototype.hasFloatingFilters=function(){return!!this.gridColumns&&this.gridColumns.some(function(o){return o.getColDef().floatingFilter})},n.prototype.getFirstDisplayedColumn=function(){var t=this.gridOptionsWrapper.isEnableRtl(),o=["getDisplayedLeftColumns","getDisplayedCenterColumns","getDisplayedRightColumns"];t&&o.reverse();for(var u=0;u<o.length;u++){var c=this[o[u]]();if(c.length)return t?Je(c):c[0]}return null},n.prototype.setColumnHeaderHeight=function(t,o){t.setAutoHeaderHeight(o)&&this.eventService.dispatchEvent({type:V.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,column:t,columns:[t],source:"autosizeColumnHeaderHeight"})},n.prototype.getColumnGroupHeaderRowHeight=function(){return this.isPivotMode()?this.gridOptionsWrapper.getPivotGroupHeaderHeight():this.gridOptionsWrapper.getGroupHeaderHeight()},n.prototype.getColumnHeaderRowHeight=function(){var t=this.isPivotMode()?this.gridOptionsWrapper.getPivotHeaderHeight():this.gridOptionsWrapper.getHeaderHeight(),o=this.getAllDisplayedColumns().filter(function(u){return u.isAutoHeaderHeight()}).map(function(u){return u.getAutoHeaderHeight()||0});return Math.max.apply(Math,di([t],o))},Dt([I("expressionService")],n.prototype,"expressionService",void 0),Dt([I("columnFactory")],n.prototype,"columnFactory",void 0),Dt([I("displayedGroupCreator")],n.prototype,"displayedGroupCreator",void 0),Dt([I("ctrlsService")],n.prototype,"ctrlsService",void 0),Dt([I("autoWidthCalculator")],n.prototype,"autoWidthCalculator",void 0),Dt([I("columnUtils")],n.prototype,"columnUtils",void 0),Dt([I("columnAnimationService")],n.prototype,"columnAnimationService",void 0),Dt([I("autoGroupColService")],n.prototype,"autoGroupColService",void 0),Dt([xe("aggFuncService")],n.prototype,"aggFuncService",void 0),Dt([xe("valueCache")],n.prototype,"valueCache",void 0),Dt([xe("animationFrameService")],n.prototype,"animationFrameService",void 0),Dt([I("rowModel")],n.prototype,"rowModel",void 0),Dt([I("sortController")],n.prototype,"sortController",void 0),Dt([I("columnDefFactory")],n.prototype,"columnDefFactory",void 0),Dt([Ee],n.prototype,"init",null),Dt([vc(0,tt("loggerFactory"))],n.prototype,"setBeans",null),Dt([me("columnModel")],n)}(Se),Ec=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),wc=function(p){function n(){return null!==p&&p.apply(this,arguments)||this}return Ec(n,p),n.prototype.calculateColMinWidth=function(t){return null!=t.minWidth?t.minWidth:this.gridOptionsWrapper.getMinColWidth()},n.prototype.calculateColMaxWidth=function(t){return null!=t.maxWidth?t.maxWidth:this.gridOptionsWrapper.getMaxColWidth()||Number.MAX_SAFE_INTEGER},n.prototype.calculateColInitialWidth=function(t){var c,o=this.calculateColMinWidth(t),u=this.calculateColMaxWidth(t),f=v(t.width),g=v(t.initialWidth);return c=null!=f?f:null!=g?g:this.gridOptionsWrapper.getColWidth(),Math.max(Math.min(c,u),o)},n.prototype.getOriginalPathForColumn=function(t,o){var u=[],c=!1,f=function(g,C){for(var O=0;O<g.length;O++){if(c)return;var P=g[O];P instanceof ot?(f(P.getChildren(),C+1),u[C]=P):P===t&&(c=!0)}};return f(o,0),c?u:null},n.prototype.depthFirstOriginalTreeSearch=function(t,o,u){var c=this;!o||o.forEach(function(f){f instanceof ot&&c.depthFirstOriginalTreeSearch(f,f.getChildren(),u),u(f,t)})},n.prototype.depthFirstAllColumnTreeSearch=function(t,o){var u=this;!t||t.forEach(function(c){c instanceof _t&&u.depthFirstAllColumnTreeSearch(c.getChildren(),o),o(c)})},n.prototype.depthFirstDisplayedColumnTreeSearch=function(t,o){var u=this;!t||t.forEach(function(c){c instanceof _t&&u.depthFirstDisplayedColumnTreeSearch(c.getDisplayedChildren(),o),o(c)})},n=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c}([me("columnUtils")],n),n}(Se),Sc=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),Dc=function(p){function n(){return null!==p&&p.apply(this,arguments)||this}return Sc(n,p),n.prototype.createDisplayedGroups=function(t,o,u,c,f){var O,P,g=this,C=[],R=this.mapOldGroupsById(f);return t.forEach(function(x){for(var W=g.getOriginalPathForColumn(o,x),U=[],q=!P,te=0;te<W.length;te++)if(q||W[te]!==P[te]){var se=g.createColumnGroup(W[te],u,R,c);U[te]=se,0==te?C.push(se):U[te-1].addChild(se)}else U[te]=O[te];0===U.length?C.push(x):Je(U).addChild(x),O=U,P=W}),this.setupParentsIntoColumns(C,null),C},n.prototype.createColumnGroup=function(t,o,u,c){var f=t.getGroupId(),g=o.getInstanceIdForKey(f),O=u[_t.createUniqueId(f,g)];return O&&O.getProvidedColumnGroup()!==t&&(O=null),a(O)?O.reset():(O=new _t(t,f,g,c),this.context.createBean(O)),O},n.prototype.mapOldGroupsById=function(t){var o={},u=function(c){c.forEach(function(f){if(f instanceof _t){var g=f;o[f.getUniqueId()]=g,u(g.getChildren())}})};return t&&u(t),o},n.prototype.setupParentsIntoColumns=function(t,o){var u=this;t.forEach(function(c){if(c.setParent(o),c instanceof _t){var f=c;u.setupParentsIntoColumns(f.getChildren(),f)}})},n.prototype.getOriginalPathForColumn=function(t,o){var u=[],c=!1,f=function(g,C){for(var O=0;O<g.length;O++){if(c)return;var P=g[O];P instanceof ot?(f(P.getChildren(),C+1),u[C]=P):P===o&&(c=!0)}};return f(t,0),c?u:(console.warn("AG Grid: could not get path"),null)},n=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c}([me("displayedGroupCreator")],n),n}(Se),Rc=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),bc=function(p){function n(){var t=null!==p&&p.apply(this,arguments)||this;return t.componentsMappedByName={},t}return Rc(n,p),n.prototype.setupComponents=function(t){var o=this;t&&t.forEach(function(u){return o.addComponent(u)})},n.prototype.addComponent=function(t){var u=t.componentName.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase().toUpperCase();this.componentsMappedByName[u]=t.componentClass},n.prototype.getComponentClass=function(t){return this.componentsMappedByName[t]},n=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c}([me("agStackComponentsRegistry")],n),n}(Se),Bs=function(p,n){var t="function"==typeof Symbol&&p[Symbol.iterator];if(!t)return p;var u,f,o=t.call(p),c=[];try{for(;(void 0===n||n-- >0)&&!(u=o.next()).done;)c.push(u.value)}catch(g){f={error:g}}finally{try{u&&!u.done&&(t=o.return)&&t.call(o)}finally{if(f)throw f.error}}return c},hi=function(){function p(n,t,o,u){void 0===u&&(u=1),this.r=Math.min(1,Math.max(0,n||0)),this.g=Math.min(1,Math.max(0,t||0)),this.b=Math.min(1,Math.max(0,o||0)),this.a=Math.min(1,Math.max(0,u||0))}return p.fromString=function(n){if(n.indexOf("#")>=0)return p.fromHexString(n);var t=p.nameToHex[n];if(t)return p.fromHexString(t);if(n.indexOf("rgb")>=0)return p.fromRgbaString(n);throw new Error("Invalid color string: '"+n+"'")},p.parseHex=function(n){var t;switch((n=n.replace(/ /g,"").slice(1)).length){case 6:case 8:t=[];for(var o=0;o<n.length;o+=2)t.push(parseInt(""+n[o]+n[o+1],16));break;case 3:case 4:t=n.split("").map(function(u){return parseInt(u,16)}).map(function(u){return u+16*u})}if(t.length>=3&&t.every(function(u){return u>=0}))return 3===t.length&&t.push(255),t},p.fromHexString=function(n){var t=p.parseHex(n);if(t){var o=Bs(t,4);return new p(o[0]/255,o[1]/255,o[2]/255,o[3]/255)}throw new Error("Malformed hexadecimal color string: '"+n+"'")},p.stringToRgba=function(n){for(var t=Bs([NaN,NaN],2),o=t[0],u=t[1],c=0;c<n.length;c++){var f=n[c];if(o||"("!==f){if(")"===f){u=c;break}}else o=c}var g=o&&u&&n.substring(o+1,u);if(g){var C=g.split(","),O=[];for(c=0;c<C.length;c++){var P=C[c],R=parseFloat(P);if(isNaN(R))return;P.indexOf("%")>=0?(R=Math.max(0,Math.min(100,R)),R/=100):3===c?R=Math.max(0,Math.min(1,R)):(R=Math.max(0,Math.min(255,R)),R/=255),O.push(R)}return O}},p.fromRgbaString=function(n){var t=p.stringToRgba(n);if(t){if(3===t.length)return new p(t[0],t[1],t[2]);if(4===t.length)return new p(t[0],t[1],t[2],t[3])}throw new Error("Malformed rgb/rgba color string: '"+n+"'")},p.fromArray=function(n){if(4===n.length)return new p(n[0],n[1],n[2],n[3]);if(3===n.length)return new p(n[0],n[1],n[2]);throw new Error("The given array should contain 3 or 4 color components (numbers).")},p.fromHSB=function(n,t,o,u){void 0===u&&(u=1);var c=p.HSBtoRGB(n,t,o);return new p(c[0],c[1],c[2],u)},p.padHex=function(n){return 1===n.length?"0"+n:n},p.prototype.toHexString=function(){var n="#"+p.padHex(Math.round(255*this.r).toString(16))+p.padHex(Math.round(255*this.g).toString(16))+p.padHex(Math.round(255*this.b).toString(16));return this.a<1&&(n+=p.padHex(Math.round(255*this.a).toString(16))),n},p.prototype.toRgbaString=function(n){void 0===n&&(n=3);var t=[Math.round(255*this.r),Math.round(255*this.g),Math.round(255*this.b)],o=Math.pow(10,n);return 1!==this.a?(t.push(Math.round(this.a*o)/o),"rgba("+t.join(", ")+")"):"rgb("+t.join(", ")+")"},p.prototype.toString=function(){return 1===this.a?this.toHexString():this.toRgbaString()},p.prototype.toHSB=function(){return p.RGBtoHSB(this.r,this.g,this.b)},p.RGBtoHSB=function(n,t,o){var u=Math.min(n,t,o),c=Math.max(n,t,o),g=NaN;if(u!==c){var C=c-u,O=(c-n)/C,P=(c-t)/C,R=(c-o)/C;g=n===c?R-P:t===c?2+O-R:4+P-O,(g/=6)<0&&(g+=1)}return[360*g,0!==c?(c-u)/c:0,c]},p.HSBtoRGB=function(n,t,o){isNaN(n)&&(n=0),n=(n%360+360)%360/360;var u=0,c=0,f=0;if(0===t)u=c=f=o;else{var g=6*(n-Math.floor(n)),C=g-Math.floor(g),O=o*(1-t),P=o*(1-t*C),R=o*(1-t*(1-C));switch(g>>0){case 0:u=o,c=R,f=O;break;case 1:u=P,c=o,f=O;break;case 2:u=O,c=o,f=R;break;case 3:u=O,c=P,f=o;break;case 4:u=R,c=O,f=o;break;case 5:u=o,c=O,f=P}}return[u,c,f]},p.prototype.derive=function(n,t,o,u){var c=p.RGBtoHSB(this.r,this.g,this.b),f=c[2];0==f&&o>1&&(f=.05);var g=((c[0]+n)%360+360)%360,C=Math.max(Math.min(c[1]*t,1),0);f=Math.max(Math.min(f*o,1),0);var O=Math.max(Math.min(this.a*u,1),0),P=p.HSBtoRGB(g,C,f);return P.push(O),p.fromArray(P)},p.prototype.brighter=function(){return this.derive(0,1,1/.7,1)},p.prototype.darker=function(){return this.derive(0,1,.7,1)},p.nameToHex=Object.freeze({aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",grey:"#808080",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"}),p}(),Ac=Object.freeze({__proto__:null,stringToArray:function Mc(p,n){void 0===n&&(n=",");var t=[],o=function(x){return"\r"===x||"\n"===x},u=!1;if(""===p)return[[""]];for(var f,g,C,c=function(x,W,U){var q=p[U-1],te=p[U],se=p[U+1],ae=function(){t[x]||(t[x]=[]),t[x][W]||(t[x][W]="")};if(ae(),'"'===te){if(u)return'"'===se?(t[x][W]+='"',U++):u=!1,f=x,g=W,C=U,"continue";if(void 0===q||q===n||o(q))return u=!0,f=x,g=W,C=U,"continue"}if(!u){if(te===n)return W++,ae(),f=x,g=W,C=U,"continue";if(o(te))return W=0,x++,ae(),"\r"===te&&"\n"===se&&U++,f=x,g=W,C=U,"continue"}t[x][W]+=te,f=x,g=W,C=U},O=0,P=0,R=0;R<p.length;R++)c(O,P,R),O=f,P=g,R=C;return t}});function ks(p){var n=Element.prototype.matches||Element.prototype.msMatchesSelector,t=n.call(p,ee.INPUT_SELECTOR),o=n.call(p,ee.FOCUSABLE_EXCLUDE),u=gi(p);return t&&!o&&u}function at(p,n){p.classList.toggle("ag-hidden",!n)}function Vs(p,n){p.classList.toggle("ag-invisible",!n)}function fi(p,n){var t="disabled",o=n?function(u){return u.setAttribute(t,"")}:function(u){return u.removeAttribute(t)};o(p),Zo(p.querySelectorAll("input"),function(u){return o(u)})}function Gr(p,n,t){for(var o=0;p;){if(p.classList.contains(n))return!0;if(p=p.parentElement,"number"==typeof t){if(++o>t)break}else if(p===t)break}return!1}function Wr(p){var n=window.getComputedStyle(p),o=n.width,u=n.paddingTop,c=n.paddingRight,f=n.paddingBottom,g=n.paddingLeft,C=n.marginTop,O=n.marginRight,P=n.marginBottom,R=n.marginLeft,x=n.boxSizing;return{height:parseFloat(n.height),width:parseFloat(o),paddingTop:parseFloat(u),paddingRight:parseFloat(c),paddingBottom:parseFloat(f),paddingLeft:parseFloat(g),marginTop:parseFloat(C),marginRight:parseFloat(O),marginBottom:parseFloat(P),marginLeft:parseFloat(R),boxSizing:x}}function Hi(p){var n=Wr(p);return"border-box"===n.boxSizing?n.height-n.paddingTop-n.paddingBottom:n.height}function Rn(p){var n=Wr(p);return"border-box"===n.boxSizing?n.width-n.paddingLeft-n.paddingRight:n.width}function Uo(p){var n=Wr(p);return Math.ceil(p.offsetHeight+(n.marginBottom+n.marginTop))}function Tn(p){var n=Wr(p);return Math.ceil(p.offsetWidth+(n.marginLeft+n.marginRight))}function Ui(){if("boolean"==typeof Dn)return Dn;var p=document.createElement("div");return p.style.direction="rtl",p.style.width="1px",p.style.height="1px",p.style.position="fixed",p.style.top="0px",p.style.overflow="hidden",p.dir="rtl",p.innerHTML='<div style="width: 2px">\n            <span style="display: inline-block; width: 1px"></span>\n            <span style="display: inline-block; width: 1px"></span>\n        </div>',document.body.appendChild(p),p.scrollLeft=1,Dn=0===Math.floor(p.scrollLeft),document.body.removeChild(p),Dn}function $i(p,n){var t=p.scrollLeft;return n&&(t=Math.abs(t),Vi()&&!Ui()&&(t=p.scrollWidth-p.clientWidth-t)),t}function bn(p,n,t){t&&(Ui()?n*=-1:(ci()||Vi())&&(n=p.scrollWidth-p.clientWidth-n)),p.scrollLeft=n}function kt(p){for(;p&&p.firstChild;)p.removeChild(p.firstChild)}function Br(p){p&&p.parentNode&&p.parentNode.removeChild(p)}function gi(p){return null!==p.offsetParent}function mt(p){var n=document.createElement("div");return n.innerHTML=(p||"").trim(),n.firstChild}function $o(p){return p&&p.clientHeight?p.clientHeight:0}function jo(p){return p&&p.clientWidth?p.clientWidth:0}function Ko(p,n,t){if(!t||t.nextSibling!==n){var o=document.activeElement,u=n.contains(o);t?t.nextSibling?p.insertBefore(n,t.nextSibling):p.appendChild(n):p.firstChild&&p.firstChild!==n&&p.insertAdjacentElement("afterbegin",n),u&&o&&On()&&o.focus({preventScroll:!0})}}function zo(p,n){for(var t=0;t<n.length;t++){var o=n[t],u=p.children[t];u!==o&&p.insertBefore(o,u)}}function Hs(p,n,t){t?t.insertAdjacentElement("afterend",n):p.firstChild?p.insertAdjacentElement("afterbegin",n):p.appendChild(n)}function Yo(p,n){!n||Object.keys(n).forEach(function(t){var o=ms(t);o&&(p.style[o]=n[t])})}function Xo(p){return p.clientWidth<p.scrollWidth}function Us(p){return p.clientHeight<p.scrollHeight}function ji(p,n){"flex"===n?(p.style.removeProperty("width"),p.style.removeProperty("minWidth"),p.style.removeProperty("maxWidth"),p.style.flex="1 1 auto"):ir(p,n)}function ir(p,n){n=qo(n),p.style.width=n.toString(),p.style.maxWidth=n.toString(),p.style.minWidth=n.toString()}function kr(p,n){n=qo(n),p.style.height=n.toString(),p.style.maxHeight=n.toString(),p.style.minHeight=n.toString()}function qo(p){return"number"==typeof p?p+"px":p}function $s(p){return"function"==typeof Node?p instanceof Node:p&&"object"==typeof p&&"number"==typeof p.nodeType&&"string"==typeof p.nodeName}function js(p){return"function"==typeof HTMLElement?p instanceof HTMLElement:p&&ge(p)&&1===p.nodeType&&"string"==typeof p.nodeName}function Ki(p){return $s(p)||js(p)}function Ks(p){if(null==p)return[];var n=[];return Zo(p,function(t){return n.push(t)}),n}function zs(p,n){if(p)for(var t=0;t<p.length;t++){var o=p[t];n(o.name,o.value)}}function zi(p,n,t){null==t?p.removeAttribute(n):p.setAttribute(n,t.toString())}function Zo(p,n){if(null!=p)for(var t=0;t<p.length;t++)n(p[t])}var Bc=Object.freeze({__proto__:null,radioCssClass:function xc(p,n,t){for(var o=p.parentElement,u=o&&o.firstChild;u;)n&&u.classList.toggle(n,u===p),t&&u.classList.toggle(t,u!==p),u=u.nextSibling},isFocusableFormField:ks,setDisplayed:at,setVisible:Vs,setDisabled:fi,isElementChildOfClass:Gr,getElementSize:Wr,getInnerHeight:Hi,getInnerWidth:Rn,getAbsoluteHeight:Uo,getAbsoluteWidth:Tn,isRtlNegativeScroll:Ui,getScrollLeft:$i,setScrollLeft:bn,clearElement:kt,removeElement:function Ic(p,n){Br(p.querySelector(n))},removeFromParent:Br,isVisible:gi,loadTemplate:mt,appendHtml:function Lc(p,n){p.lastChild?p.insertAdjacentHTML("afterbegin",n):p.innerHTML=n},getElementAttribute:function Fc(p,n){return p.attributes&&p.attributes[n]?p.attributes[n].value:null},offsetHeight:$o,offsetWidth:jo,ensureDomOrder:Ko,setDomChildOrder:zo,insertWithDomOrder:Hs,prependDC:function Nc(p,n){a(p.firstChild)?p.insertBefore(n,p.firstChild):p.appendChild(n)},addStylesToElement:Yo,isHorizontalScrollShowing:Xo,isVerticalScrollShowing:Us,setElementWidth:ji,setFixedWidth:ir,setElementHeight:function Gc(p,n){"flex"===n?(p.style.removeProperty("height"),p.style.removeProperty("minHeight"),p.style.removeProperty("maxHeight"),p.style.flex="1 1 auto"):kr(p,n)},setFixedHeight:kr,formatSize:qo,isNode:$s,isElement:js,isNodeOrElement:Ki,copyNodeList:Ks,iterateNamedNodeMap:zs,setCheckboxState:function Wc(p,n){"boolean"==typeof n?(p.checked=n,p.indeterminate=!1):p.indeterminate=!0},addOrRemoveAttribute:zi,nodeListForEach:Zo}),jc=Object.freeze({__proto__:null,getNameOfClass:function kc(p){var t=p.toString(),o=/function (.{1,})\(/.exec(t);return o&&o.length>1?o[1]:""},findLineByLeastSquares:function Vc(p){var n=p.length,t=0;if(n<=1)return p;for(var o=0;o<p.length;o++){var u=p[o],c=u.toString().split("e-");c.length>1?t=Math.max(t,parseInt(c[1],10)):Math.floor(u)!==u&&(t=Math.max(t,u.toString().split(".")[1].length))}for(var f=0,g=0,C=0,O=0,P=0,R=0;R<n;R++)f+=R,g+=P=p[R],O+=R*R,C+=R*P;var x=(n*C-f*g)/(n*O-f*f),W=g/n-x*f/n,U=[];for(R=0;R<=n;R++)U.push(parseFloat((R*x+W).toFixed(t)));return U},cssStyleObjectToMarkup:function Hc(p){if(!p)return"";var n=[];return b(p,function(t,o){var u=ys(t);n.push(u+": "+o+";")}),n.join(" ")},message:function Uc(p){var n=document.createElement("div"),t=document.querySelector("#__ag__message");n.innerHTML=p,t||(t=mt('<div id="__ag__message" style="display: inline-block; position: absolute; top: 0px; left: 0px; color: white; background-color: black; z-index: 20; padding: 2px; border: 1px solid darkred; height: 200px; overflow-y: auto;"></div>'),document.body&&document.body.appendChild(t)),t.insertBefore(n,t.children[0])},bindCellRendererToHtmlElement:function $c(p,n){p.then(function(t){var o=t.getGui();null!=o&&("object"==typeof o?n.appendChild(o):n.innerHTML=o)})}});function Ct(p,n,t){p.setAttribute(Ys(n),t.toString())}function Vr(p,n){p.removeAttribute(Ys(n))}function Ys(p){return"aria-"+p}function Mt(p,n){n?p.setAttribute("role",n):p.removeAttribute("role")}function Xs(p){return p.isSortAscending()?"ascending":p.isSortDescending()?"descending":"none"}function qs(p){return parseInt(p.getAttribute("aria-level"),10)}function Zs(p){return parseInt(p.getAttribute("aria-posinset"),10)}function Hr(p,n){var t="label";n?Ct(p,t,n):Vr(p,t)}function Jo(p,n){var t="labelledby";n?Ct(p,t,n):Vr(p,t)}function Js(p,n){var t="description";n?Ct(p,t,n):Vr(p,t)}function Qo(p,n){var t="describedby";n?Ct(p,t,n):Vr(p,t)}function Qs(p,n){Ct(p,"level",n)}function ea(p,n){Ct(p,"disabled",n)}function Vt(p,n){Ct(p,"expanded",n)}function el(p){Vr(p,"expanded")}function ta(p,n){Ct(p,"setsize",n)}function ra(p,n){Ct(p,"posinset",n)}function tl(p,n){Ct(p,"multiselectable",n)}function rl(p,n){Ct(p,"rowcount",n)}function ia(p,n){Ct(p,"rowindex",n)}function il(p,n){Ct(p,"colcount",n)}function na(p,n){Ct(p,"colindex",n)}function nl(p,n){Ct(p,"colspan",n)}function ol(p,n){Ct(p,"sort",n)}function al(p){Vr(p,"sort")}function vi(p,n){var t="selected";n?Ct(p,t,n):Vr(p,t)}function sl(p,n){Ct(p,"checked",void 0===n?"mixed":n)}var zc=Object.freeze({__proto__:null,setAriaRole:Mt,getAriaSortState:Xs,getAriaLevel:qs,getAriaPosInSet:Zs,getAriaDescribedBy:function Kc(p){return p.getAttribute("aria-describedby")||""},setAriaLabel:Hr,setAriaLabelledBy:Jo,setAriaDescription:Js,setAriaDescribedBy:Qo,setAriaLevel:Qs,setAriaDisabled:ea,setAriaExpanded:Vt,removeAriaExpanded:el,setAriaSetSize:ta,setAriaPosInSet:ra,setAriaMultiSelectable:tl,setAriaRowCount:rl,setAriaRowIndex:ia,setAriaColCount:il,setAriaColIndex:na,setAriaColSpan:nl,setAriaSort:ol,removeAriaSort:al,setAriaSelected:vi,setAriaChecked:sl}),oa=function(p,n){var t="function"==typeof Symbol&&p[Symbol.iterator];if(!t)return p;var u,f,o=t.call(p),c=[];try{for(;(void 0===n||n-- >0)&&!(u=o.next()).done;)c.push(u.value)}catch(g){f={error:g}}finally{try{u&&!u.done&&(t=o.return)&&t.call(o)}finally{if(f)throw f.error}}return c};function Yi(p,n,t){if(void 0===n&&(n=!0),void 0===t&&(t="-"),!p)return null;var o=[p.getFullYear(),p.getMonth()+1,p.getDate()].map(function(u){return pi(u,2)}).join(t);return n&&(o+=" "+[p.getHours(),p.getMinutes(),p.getSeconds()].map(function(u){return pi(u,2)}).join(":")),o}var aa=function(p){if(p>3&&p<21)return"th";switch(p%10){case 1:return"st";case 2:return"nd";case 3:return"rd"}return"th"};function Mn(p,n){void 0===n&&(n="YYYY-MM-DD");var t=pi(p.getFullYear(),4),o=["January","February","March","April","May","June","July","August","September","October","November","December"],u=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],c={YYYY:function(){return t.slice(t.length-4,t.length)},YY:function(){return t.slice(t.length-2,t.length)},Y:function(){return""+p.getFullYear()},MMMM:function(){return o[p.getMonth()]},MMM:function(){return o[p.getMonth()].slice(0,3)},MM:function(){return pi(p.getMonth()+1,2)},Mo:function(){return""+(p.getMonth()+1)+aa(p.getMonth()+1)},M:function(){return""+(p.getMonth()+1)},Do:function(){return""+p.getDate()+aa(p.getDate())},DD:function(){return pi(p.getDate(),2)},D:function(){return""+p.getDate()},dddd:function(){return u[p.getDay()]},ddd:function(){return u[p.getDay()].slice(0,3)},dd:function(){return u[p.getDay()].slice(0,2)},do:function(){return""+p.getDay()+aa(p.getDay())},d:function(){return""+p.getDay()}},f=new RegExp(Object.keys(c).join("|"),"g");return n.replace(f,function(g){return g in c?c[g]():g})}function Er(p){if(!p)return null;var n=oa(p.split(" "),2),t=n[0],o=n[1];if(!t)return null;var u=t.split("-").map(function(U){return parseInt(U,10)});if(3!==u.filter(function(U){return!isNaN(U)}).length)return null;var c=oa(u,3),f=c[0],g=c[1],C=c[2],O=new Date(f,g-1,C);if(O.getFullYear()!==f||O.getMonth()!==g-1||O.getDate()!==C)return null;if(!o||"00:00:00"===o)return O;var P=oa(o.split(":").map(function(U){return parseInt(U,10)}),3),R=P[0],x=P[1],W=P[2];return R>=0&&R<24&&O.setHours(R),x>=0&&x<60&&O.setMinutes(x),W>=0&&W<60&&O.setSeconds(W),O}var Yc=Object.freeze({__proto__:null,serialiseDate:Yi,dateToFormattedString:Mn,parseDateTimeFromString:Er}),ll={columnGroupOpened:"expanded",columnGroupClosed:"contracted",columnSelectClosed:"tree-closed",columnSelectOpen:"tree-open",columnSelectIndeterminate:"tree-indeterminate",columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",groupContracted:"tree-closed",groupExpanded:"tree-open",chart:"chart",close:"cross",cancel:"cancel",check:"tick",first:"first",previous:"previous",next:"next",last:"last",linked:"linked",unlinked:"unlinked",colorPicker:"color-picker",groupLoading:"loading",menu:"menu",filter:"filter",columns:"columns",maximize:"maximize",minimize:"minimize",menuPin:"pin",menuValue:"aggregation",menuAddRowGroup:"group",menuRemoveRowGroup:"group",clipboardCopy:"copy",clipboardPaste:"paste",pivotPanel:"pivot",rowGroupPanel:"group",valuePanel:"aggregation",columnDrag:"grip",rowDrag:"grip",save:"save",csvExport:"csv",excelExport:"excel",smallDown:"small-down",smallLeft:"small-left",smallRight:"small-right",smallUp:"small-up",sortAscending:"asc",sortDescending:"desc",sortUnSort:"none"};function $t(p,n,t){var o=dt(p,n,t);if(o&&o.className.indexOf("ag-icon")>-1)return o;var u=document.createElement("span");return u.appendChild(o),u}function dt(p,n,t,o){var u=null,c=t&&t.getColDef().icons;if(c&&(u=c[p]),n&&!u){var f=n.getIcons();f&&(u=f[p])}if(!u){var C=document.createElement("span"),O=ll[p];return O||(o?O=p:(console.warn("AG Grid: Did not find icon "+p),O="")),C.setAttribute("class","ag-icon ag-icon-"+O),C.setAttribute("unselectable","on"),Mt(C,"presentation"),C}var g=void 0;if("function"==typeof u)g=u();else{if("string"!=typeof u)throw new Error("icon from grid options needs to be a string or a function");g=u}return"string"==typeof g?mt(g):Ki(g)?g:void console.warn("AG Grid: iconRenderer should return back a string or a dom object")}var Xc=Object.freeze({__proto__:null,iconNameClassMap:ll,createIcon:$t,createIconNoSpan:dt}),ye=function(){function p(){}return p.BACKSPACE="Backspace",p.TAB="Tab",p.ENTER="Enter",p.ESCAPE="Escape",p.SPACE=" ",p.LEFT="ArrowLeft",p.UP="ArrowUp",p.RIGHT="ArrowRight",p.DOWN="ArrowDown",p.DELETE="Delete",p.F2="F2",p.PAGE_UP="PageUp",p.PAGE_DOWN="PageDown",p.PAGE_HOME="Home",p.PAGE_END="End",p.A="KeyA",p.C="KeyC",p.V="KeyV",p.D="KeyD",p.Z="KeyZ",p.Y="KeyY",p}();function ul(p){if(p.altKey||p.ctrlKey||p.metaKey)return!1;var n=1===p.key.length,t=function np(p){return En()&&"Del"===p.key&&46===p.charCode}(p);return n||t}function An(p,n,t,o,u){var c=p.getSuppressKeyboardEventFunc(),f=o?o.getColDef().suppressKeyboardEvent:void 0;if(!c&&!f)return!1;var g={event:n,editing:u,column:o,api:p.getApi(),node:t,data:t.data,colDef:o.getColDef(),context:p.getContext(),columnApi:p.getColumnApi()};return!(!f||!f(g))||!!c&&c(g)}function cl(p,n,t,o){var u=o.getDefinition(),c=u&&u.suppressHeaderKeyboardEvent;return!!a(c)&&!!c({api:p.getApi(),columnApi:p.getColumnApi(),context:p.getContext(),colDef:u,column:o,headerRowIndex:t,event:n})}function pl(p){var t;switch(p.keyCode){case 65:t=ye.A;break;case 67:t=ye.C;break;case 86:t=ye.V;break;case 68:t=ye.D;break;case 90:t=ye.Z;break;case 89:t=ye.Y;break;default:t=p.code}return t}var op=Object.freeze({__proto__:null,isEventFromPrintableCharacter:ul,isUserSuppressingKeyboardEvent:An,isUserSuppressingHeaderKeyboardEvent:cl,normaliseQwertyAzerty:pl});function sa(p,n,t){if(0===t)return!1;var o=Math.abs(p.clientX-n.clientX),u=Math.abs(p.clientY-n.clientY);return Math.max(o,u)<=t}var ap=Object.freeze({__proto__:null,areEventsNear:sa}),up=Object.freeze({__proto__:null,sortRowNodesByOrder:function sp(p,n){if(p){for(var t=function(g,C){var O=n[g.id],P=n[C.id],R=void 0!==O,x=void 0!==P;return R&&x?O-P:R||x?R?1:-1:g.__objectId-C.__objectId},c=!1,f=0;f<p.length-1;f++)if(t(p[f],p[f+1])>0){c=!0;break}c&&p.sort(t)}},traverseNodesWithKey:function lp(p,n){var t=[];!function o(u){!u||u.forEach(function(c){if(c.group||c.hasChildren()){t.push(c.key);var f=t.join("|");n(c,f),o(c.childrenAfterGroup),t.pop()}})}(p)}});function la(p){var n=new Set;return p.forEach(function(t){return n.add(t)}),n}var cp=Object.freeze({__proto__:null,convertToSet:la}),lt=function(){return lt=Object.assign||function(p){for(var n,t=1,o=arguments.length;t<o;t++)for(var u in n=arguments[t])Object.prototype.hasOwnProperty.call(n,u)&&(p[u]=n[u]);return p},lt.apply(this,arguments)},Ge=lt(lt(lt(lt(lt(lt(lt(lt(lt(lt(lt(lt(lt(lt(lt(lt(lt(lt(lt(lt({},jc),zc),Ni),tc),Ac),Yc),Bc),Nu),it),rc),D),Xc),op),Ku),ap),sc),ce),up),cp),Uu),Ur=function(){function p(n,t){void 0===n&&(n=0),void 0===t&&(t=1),this.nextValue=n,this.step=t}return p.prototype.next=function(){var n=this.nextValue;return this.nextValue+=this.step,n},p.prototype.peek=function(){return this.nextValue},p.prototype.skip=function(n){this.nextValue+=n},p}(),$r=(()=>(function(p){p[p.IN_PROGRESS=0]="IN_PROGRESS",p[p.RESOLVED=1]="RESOLVED"}($r||($r={})),$r))(),Ft=function(){function p(n){var t=this;this.status=$r.IN_PROGRESS,this.resolution=null,this.waiters=[],n(function(o){return t.onDone(o)},function(o){return t.onReject(o)})}return p.all=function(n){return new p(function(t){var o=n.length,u=new Array(o);n.forEach(function(c,f){c.then(function(g){u[f]=g,0==--o&&t(u)})})})},p.resolve=function(n){return void 0===n&&(n=null),new p(function(t){return t(n)})},p.prototype.then=function(n){var t=this;return new p(function(o){t.status===$r.RESOLVED?o(n(t.resolution)):t.waiters.push(function(u){return o(n(u))})})},p.prototype.resolveNow=function(n,t){return this.status===$r.RESOLVED?t(this.resolution):n},p.prototype.onDone=function(n){this.status=$r.RESOLVED,this.resolution=n,this.waiters.forEach(function(t){return t(n)})},p.prototype.onReject=function(n){console.warn("TBI")},p}(),dp=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),ua=function(){return ua=Object.assign||function(p){for(var n,t=1,o=arguments.length;t<o;t++)for(var u in n=arguments[t])Object.prototype.hasOwnProperty.call(n,u)&&(p[u]=n[u]);return p},ua.apply(this,arguments)},Xi=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},jt=(()=>(function(p){p[p.NOTHING=0]="NOTHING",p[p.WAITING_TO_SHOW=1]="WAITING_TO_SHOW",p[p.SHOWING=2]="SHOWING"}(jt||(jt={})),jt))(),ca=function(p){function n(t){var o=p.call(this)||this;return o.DEFAULT_SHOW_TOOLTIP_DELAY=2e3,o.DEFAULT_HIDE_TOOLTIP_DELAY=1e4,o.SHOW_QUICK_TOOLTIP_DIFF=1e3,o.FADE_OUT_TOOLTIP_TIMEOUT=1e3,o.state=jt.NOTHING,o.tooltipInstanceCount=0,o.tooltipMouseTrack=!1,o.parentComp=t,o}return dp(n,p),n.prototype.postConstruct=function(){this.tooltipShowDelay=this.gridOptionsWrapper.getTooltipDelay("show")||this.DEFAULT_SHOW_TOOLTIP_DELAY,this.tooltipHideDelay=this.gridOptionsWrapper.getTooltipDelay("hide")||this.DEFAULT_HIDE_TOOLTIP_DELAY,this.tooltipMouseTrack=this.gridOptionsWrapper.isTooltipMouseTrack();var t=this.parentComp.getGui();this.addManagedListener(t,"mouseenter",this.onMouseEnter.bind(this)),this.addManagedListener(t,"mouseleave",this.onMouseLeave.bind(this)),this.addManagedListener(t,"mousemove",this.onMouseMove.bind(this)),this.addManagedListener(t,"mousedown",this.onMouseDown.bind(this)),this.addManagedListener(t,"keydown",this.onKeyDown.bind(this))},n.prototype.destroy=function(){this.setToDoNothing(),p.prototype.destroy.call(this)},n.prototype.onMouseEnter=function(t){if(!Nr()&&this.state==jt.NOTHING){var o=this.isLastTooltipHiddenRecently()?200:this.tooltipShowDelay;this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),o),this.lastMouseEvent=t,this.state=jt.WAITING_TO_SHOW}},n.prototype.onMouseLeave=function(){this.setToDoNothing()},n.prototype.onKeyDown=function(){this.setToDoNothing()},n.prototype.setToDoNothing=function(){this.state===jt.SHOWING&&this.hideTooltip(),this.clearTimeouts(),this.state=jt.NOTHING},n.prototype.onMouseMove=function(t){this.lastMouseEvent=t,this.tooltipMouseTrack&&this.state===jt.SHOWING&&this.tooltipComp&&this.positionTooltipUnderLastMouseEvent()},n.prototype.onMouseDown=function(){this.setToDoNothing()},n.prototype.hideTooltip=function(){this.tooltipComp&&(this.destroyTooltipComp(),n.lastTooltipHideTime=(new Date).getTime()),this.state=jt.NOTHING},n.prototype.destroyTooltipComp=function(){var t=this;this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");var o=this.tooltipPopupDestroyFunc,u=this.tooltipComp;window.setTimeout(function(){o(),t.getContext().destroyBean(u)},this.FADE_OUT_TOOLTIP_TIMEOUT),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0},n.prototype.isLastTooltipHiddenRecently=function(){return(new Date).getTime()-n.lastTooltipHideTime<this.SHOW_QUICK_TOOLTIP_DIFF},n.prototype.showTooltip=function(){var t=ua({},this.parentComp.getTooltipParams());if(a(t.value)){this.state=jt.SHOWING,this.tooltipInstanceCount++;var o=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount);this.userComponentFactory.getTooltipCompDetails(t).newAgStackInstance().then(o)}else this.setToDoNothing()},n.prototype.newTooltipComponentCallback=function(t,o){if(this.state!==jt.SHOWING||this.tooltipInstanceCount!==t)this.getContext().destroyBean(o);else{var c=o.getGui();this.tooltipComp=o,c.classList.contains("ag-tooltip")||c.classList.add("ag-tooltip-custom");var f=this.gridOptionsWrapper.getLocaleTextFunc(),g=this.popupService.addPopup({eChild:c,ariaLabel:f("ariaLabelTooltip","Tooltip")});g&&(this.tooltipPopupDestroyFunc=g.hideFunc),this.positionTooltipUnderLastMouseEvent(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.tooltipHideDelay)}},n.prototype.positionTooltipUnderLastMouseEvent=function(){this.popupService.positionPopupUnderMouseEvent({type:"tooltip",mouseEvent:this.lastMouseEvent,ePopup:this.tooltipComp.getGui(),nudgeY:18})},n.prototype.clearTimeouts=function(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0),this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)},Xi([I("popupService")],n.prototype,"popupService",void 0),Xi([I("userComponentFactory")],n.prototype,"userComponentFactory",void 0),Xi([I("columnApi")],n.prototype,"columnApi",void 0),Xi([I("gridApi")],n.prototype,"gridApi",void 0),Xi([Ee],n.prototype,"postConstruct",null),n}(Se),hp=function(){function p(n){this.cssClassStates={},this.getGui=n}return p.prototype.addCssClass=function(n){var t=this,o=(n||"").split(" ");o.length>1?o.forEach(function(c){return t.addCssClass(c)}):!0!==this.cssClassStates[n]&&n.length&&(this.getGui().classList.add(n),this.cssClassStates[n]=!0)},p.prototype.removeCssClass=function(n){var t=this,o=(n||"").split(" ");o.length>1?o.forEach(function(c){return t.removeCssClass(c)}):!1!==this.cssClassStates[n]&&n.length&&(this.getGui().classList.remove(n),this.cssClassStates[n]=!1)},p.prototype.containsCssClass=function(n){return this.getGui().classList.contains(n)},p.prototype.addOrRemoveCssClass=function(n,t){var o=this;if(n){if(n.indexOf(" ")>=0){var u=(n||"").split(" ");if(u.length>1)return void u.forEach(function(f){return o.addOrRemoveCssClass(f,t)})}this.cssClassStates[n]!==t&&n.length&&(this.getGui().classList.toggle(n,t),this.cssClassStates[n]=t)}},p}(),fp=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),pa=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},gp=new Ur,je=function(p){function n(t){var o=p.call(this)||this;return o.displayed=!0,o.visible=!0,o.compId=gp.next(),o.cssClassManager=new hp(function(){return o.eGui}),t&&o.setTemplate(t),o}return fp(n,p),n.prototype.preConstructOnComponent=function(){this.usingBrowserTooltips=this.gridOptionsWrapper.isEnableBrowserTooltips()},n.prototype.getCompId=function(){return this.compId},n.prototype.getTooltipParams=function(){return{value:this.tooltipText,location:"UNKNOWN"}},n.prototype.setTooltip=function(t){var o=this;this.tooltipText!=t&&(this.tooltipText&&(o.usingBrowserTooltips?o.getGui().removeAttribute("title"):o.tooltipFeature=o.destroyBean(o.tooltipFeature)),null!=t&&(this.tooltipText=t,this.tooltipText&&(o.usingBrowserTooltips?o.getGui().setAttribute("title",o.tooltipText):o.tooltipFeature=o.createBean(new ca(o)))))},n.prototype.createChildComponentsFromTags=function(t,o){var u=this;Ks(t.childNodes).forEach(function(f){if(f instanceof HTMLElement){var g=u.createComponentFromElement(f,function(O){O.getGui()&&u.copyAttributesFromNode(f,O.getGui())},o);if(g){if(g.addItems&&f.children.length){u.createChildComponentsFromTags(f,o);var C=Array.prototype.slice.call(f.children);g.addItems(C)}u.swapComponentForNode(g,t,f)}else f.childNodes&&u.createChildComponentsFromTags(f,o)}})},n.prototype.createComponentFromElement=function(t,o,u){var c=t.nodeName,f=u?u[t.getAttribute("ref")]:void 0,g=this.agStackComponentsRegistry.getComponentClass(c);if(g){n.elementGettingCreated=t;var C=new g(f);return C.setParentComponent(this),this.createBean(C,null,o),C}return null},n.prototype.copyAttributesFromNode=function(t,o){zs(t.attributes,function(u,c){return o.setAttribute(u,c)})},n.prototype.swapComponentForNode=function(t,o,u){var c=t.getGui();o.replaceChild(c,u),o.insertBefore(document.createComment(u.nodeName),c),this.addDestroyFunc(this.destroyBean.bind(this,t)),this.swapInComponentForQuerySelectors(t,u)},n.prototype.swapInComponentForQuerySelectors=function(t,o){var u=this;this.iterateOverQuerySelectors(function(c){u[c.attributeName]===o&&(u[c.attributeName]=t)})},n.prototype.iterateOverQuerySelectors=function(t){for(var o=Object.getPrototypeOf(this);null!=o;){var u=o.__agComponentMetaData,c=le(o.constructor);u&&u[c]&&u[c].querySelectors&&u[c].querySelectors.forEach(function(f){return t(f)}),o=Object.getPrototypeOf(o)}},n.prototype.setTemplate=function(t,o){var u=mt(t);this.setTemplateFromElement(u,o)},n.prototype.setTemplateFromElement=function(t,o){this.eGui=t,this.eGui.__agComponent=this,this.wireQuerySelectors(),this.getContext()&&this.createChildComponentsFromTags(this.getGui(),o)},n.prototype.createChildComponentsPreConstruct=function(){this.getGui()&&this.createChildComponentsFromTags(this.getGui())},n.prototype.wireQuerySelectors=function(){var t=this;if(this.eGui){var o=this;this.iterateOverQuerySelectors(function(u){var c=function(C){return o[u.attributeName]=C};if(u.refSelector&&t.eGui.getAttribute("ref")===u.refSelector)c(t.eGui);else{var g=t.eGui.querySelector(u.querySelector);g&&c(g.__agComponent||g)}})}},n.prototype.getGui=function(){return this.eGui},n.prototype.getFocusableElement=function(){return this.eGui},n.prototype.setParentComponent=function(t){this.parentComponent=t},n.prototype.getParentComponent=function(){return this.parentComponent},n.prototype.setGui=function(t){this.eGui=t},n.prototype.queryForHtmlElement=function(t){return this.eGui.querySelector(t)},n.prototype.queryForHtmlInputElement=function(t){return this.eGui.querySelector(t)},n.prototype.appendChild=function(t,o){null!=t&&(o||(o=this.eGui),Ki(t)?o.appendChild(t):o.appendChild(t.getGui()))},n.prototype.isDisplayed=function(){return this.displayed},n.prototype.setVisible=function(t){t!==this.visible&&(this.visible=t,Vs(this.eGui,t))},n.prototype.setDisplayed=function(t){t!==this.displayed&&(this.displayed=t,at(this.eGui,t),this.dispatchEvent({type:n.EVENT_DISPLAYED_CHANGED,visible:this.displayed}))},n.prototype.destroy=function(){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),p.prototype.destroy.call(this)},n.prototype.addGuiEventListener=function(t,o){var u=this;this.eGui.addEventListener(t,o),this.addDestroyFunc(function(){return u.eGui.removeEventListener(t,o)})},n.prototype.addCssClass=function(t){this.cssClassManager.addCssClass(t)},n.prototype.removeCssClass=function(t){this.cssClassManager.removeCssClass(t)},n.prototype.containsCssClass=function(t){return this.cssClassManager.containsCssClass(t)},n.prototype.addOrRemoveCssClass=function(t,o){this.cssClassManager.addOrRemoveCssClass(t,o)},n.prototype.getAttribute=function(t){var o=this.eGui;return o?o.getAttribute(t):null},n.prototype.getRefElement=function(t){return this.queryForHtmlElement('[ref="'+t+'"]')},n.EVENT_DISPLAYED_CHANGED="displayedChanged",pa([I("agStackComponentsRegistry")],n.prototype,"agStackComponentsRegistry",void 0),pa([qe],n.prototype,"preConstructOnComponent",null),pa([qe],n.prototype,"createChildComponentsPreConstruct",null),n}(Se);function _e(p){return dl.bind(this,"[ref="+p+"]",p)}function dl(p,n,t,o,u){null!==p?"number"!=typeof u?function vp(p,n,t){var o=function _p(p,n){return p.__agComponentMetaData||(p.__agComponentMetaData={}),p.__agComponentMetaData[n]||(p.__agComponentMetaData[n]={}),p.__agComponentMetaData[n]}(p,le(p.constructor));o[n]||(o[n]=[]),o[n].push(t)}(t,"querySelectors",{attributeName:o,querySelector:p,refSelector:n}):console.error("AG Grid: QuerySelector should be on an attribute"):console.error("AG Grid: QuerySelector selector should not be null")}var yp=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),hl=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},mp=function(p){function n(){return p.call(this,'\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eFloatingFilterText"></ag-input-text-field>\n            </div>')||this}return yp(n,p),n.prototype.destroy=function(){p.prototype.destroy.call(this)},n.prototype.init=function(t){this.params=t;var o=this.columnModel.getDisplayNameForColumn(t.column,"header",!0),u=this.gridOptionsWrapper.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(o+" "+u("ariaFilterInput","Filter Input"))},n.prototype.onParentModelChanged=function(t){var o=this;t?this.params.parentFilterInstance(function(u){if(u.getModelAsString){var c=u.getModelAsString(t);o.eFloatingFilterText.setValue(c)}}):this.eFloatingFilterText.setValue("")},hl([_e("eFloatingFilterText")],n.prototype,"eFloatingFilterText",void 0),hl([I("columnModel")],n.prototype,"columnModel",void 0),n}(je),fl=function(){function p(n,t,o,u){var c=this;this.alive=!0,this.context=n,this.eParent=u,t.getDateCompDetails(o).newAgStackInstance().then(function(C){c.alive?(c.dateComp=C,C&&(u.appendChild(C.getGui()),C.afterGuiAttached&&C.afterGuiAttached(),c.tempValue&&C.setDate(c.tempValue),null!=c.disabled&&c.setDateCompDisabled(c.disabled))):n.destroyBean(C)})}return p.prototype.destroy=function(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)},p.prototype.getDate=function(){return this.dateComp?this.dateComp.getDate():this.tempValue},p.prototype.setDate=function(n){this.dateComp?this.dateComp.setDate(n):this.tempValue=n},p.prototype.setDisabled=function(n){this.dateComp?this.setDateCompDisabled(n):this.disabled=n},p.prototype.setDisplayed=function(n){at(this.eParent,n)},p.prototype.setInputPlaceholder=function(n){this.dateComp&&this.dateComp.setInputPlaceholder&&this.dateComp.setInputPlaceholder(n)},p.prototype.setInputAriaLabel=function(n){this.dateComp&&this.dateComp.setInputAriaLabel&&this.dateComp.setInputAriaLabel(n)},p.prototype.afterGuiAttached=function(n){this.dateComp&&"function"==typeof this.dateComp.afterGuiAttached&&this.dateComp.afterGuiAttached(n)},p.prototype.setDateCompDisabled=function(n){null!=this.dateComp&&null!=this.dateComp.setDisabled&&this.dateComp.setDisabled(n)},p}(),da=function(){return da=Object.assign||function(p){for(var n,t=1,o=arguments.length;t<o;t++)for(var u in n=arguments[t])Object.prototype.hasOwnProperty.call(n,u)&&(p[u]=n[u]);return p},da.apply(this,arguments)},gl=function(){function p(){this.customFilterOptions={}}return p.prototype.init=function(n,t){this.filterOptions=n.filterOptions||t,this.mapCustomOptions(),this.selectDefaultItem(n),this.checkForDeprecatedParams()},p.prototype.checkForDeprecatedParams=function(){this.filterOptions.some(function(n){return"string"!=typeof n&&null!=n.test})&&console.warn("AG Grid: [IFilterOptionDef] since v26.2.0, test() has been replaced with predicate()."),this.filterOptions.some(function(n){return"string"!=typeof n&&null!=n.hideFilterInput})&&console.warn("AG Grid: [IFilterOptionDef] since v26.2.0, useOfHideFilterInput has been replaced with numberOfInputs.")},p.prototype.getFilterOptions=function(){return this.filterOptions},p.prototype.mapCustomOptions=function(){var n=this;!this.filterOptions||this.filterOptions.forEach(function(t){if("string"!=typeof t){if(![["displayKey"],["displayName"],["predicate","test"]].every(function(g){return!!g.some(function(C){return null!=t[C]})||(console.warn("AG Grid: ignoring FilterOptionDef as it doesn't contain one of '"+g+"'"),!1)}))return void(n.filterOptions=n.filterOptions.filter(function(g){return g===t})||[]);var c=t.test,f=da({},t);null!=c&&null==t.predicate&&(f.predicate=function(g,C){return c(g[0],C)},delete f.test),f.hideFilterInput&&null==f.numberOfInputs&&(f.numberOfInputs=0,delete f.hideFilterInput),n.customFilterOptions[t.displayKey]=f}})},p.prototype.selectDefaultItem=function(n){if(n.defaultOption)this.defaultOption=n.defaultOption;else if(this.filterOptions.length>=1){var t=this.filterOptions[0];"string"==typeof t?this.defaultOption=t:t.displayKey?this.defaultOption=t.displayKey:console.warn("AG Grid: invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'")}else console.warn("AG Grid: no filter options for filter")},p.prototype.getDefaultOption=function(){return this.defaultOption},p.prototype.getCustomOption=function(n){return this.customFilterOptions[n]},p}(),Cp={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose One",equals:"Equals",notEqual:"Not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"In range",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equals",greaterThanOrEqual:"Greater than or equals",contains:"Contains",notContains:"Not contains",startsWith:"Starts with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd"},Ep=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),ha=function(){return ha=Object.assign||function(p){for(var n,t=1,o=arguments.length;t<o;t++)for(var u in n=arguments[t])Object.prototype.hasOwnProperty.call(n,u)&&(p[u]=n[u]);return p},ha.apply(this,arguments)},vl=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},pr=function(p){function n(t,o){void 0===o&&(o={});var u=p.call(this)||this;return u.eFocusableElement=t,u.callbacks=o,u.callbacks=ha({shouldStopEventPropagation:function(){return!1},onTabKeyDown:function(c){if(!c.defaultPrevented){var f=u.focusService.findNextFocusableElement(u.eFocusableElement,!1,c.shiftKey);!f||(f.focus(),c.preventDefault())}}},o),u}return Ep(n,p),n.prototype.postConstruct=function(){this.eFocusableElement.classList.add(n.FOCUS_MANAGED_CLASS),this.addKeyDownListeners(this.eFocusableElement),this.callbacks.onFocusIn&&this.addManagedListener(this.eFocusableElement,"focusin",this.callbacks.onFocusIn),this.callbacks.onFocusOut&&this.addManagedListener(this.eFocusableElement,"focusout",this.callbacks.onFocusOut)},n.prototype.addKeyDownListeners=function(t){var o=this;this.addManagedListener(t,"keydown",function(u){if(!u.defaultPrevented&&!H(u)){if(o.callbacks.shouldStopEventPropagation(u))return void F(u);u.key===ye.TAB?o.callbacks.onTabKeyDown(u):o.callbacks.handleKeyDown&&o.callbacks.handleKeyDown(u)}})},n.FOCUS_MANAGED_CLASS="ag-focus-managed",vl([I("focusService")],n.prototype,"focusService",void 0),vl([Ee],n.prototype,"postConstruct",null),n}(Se),Op=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),fa=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},qi=function(p){function n(t){var o=p.call(this)||this;return o.filterNameKey=t,o.applyActive=!1,o.hidePopup=null,o.appliedModel=null,o}return Op(n,p),n.prototype.postConstruct=function(){this.resetTemplate(),this.createManagedBean(new pr(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)}))},n.prototype.handleKeyDown=function(t){},n.prototype.getFilterTitle=function(){return this.translate(this.filterNameKey)},n.prototype.isFilterActive=function(){return!!this.appliedModel},n.prototype.resetTemplate=function(t){var o='\n            <div class="ag-filter-wrapper">\n                <div class="ag-filter-body-wrapper ag-'+this.getCssIdentifier()+'-body-wrapper">\n                    '+this.createBodyTemplate()+"\n                </div>\n            </div>";this.setTemplate(o,t)},n.prototype.isReadOnly=function(){return!!this.providedFilterParams.readOnly},n.prototype.init=function(t){var o=this;this.setParams(t),this.resetUiToDefaults(!0).then(function(){o.updateUiVisibility(),o.setupOnBtApplyDebounce()})},n.prototype.setParams=function(t){this.providedFilterParams=t,this.applyActive=n.isUseApplyButton(t),this.createButtonPanel()},n.prototype.createButtonPanel=function(){var t=this,o=this.providedFilterParams.buttons;if(!(!o||o.length<1||this.isReadOnly())){var u=document.createElement("div");u.classList.add("ag-filter-apply-panel"),la(o).forEach(function(f){return function(f){var g,C;switch(f){case"apply":g=t.translate("applyFilter"),C=function(P){return t.onBtApply(!1,!1,P)};break;case"clear":g=t.translate("clearFilter"),C=function(){return t.onBtClear()};break;case"reset":g=t.translate("resetFilter"),C=function(){return t.onBtReset()};break;case"cancel":g=t.translate("cancelFilter"),C=function(P){t.onBtCancel(P)};break;default:return void console.warn("AG Grid: Unknown button type specified")}var O=mt('<button\n                    type="button"\n                    ref="'+f+'FilterButton"\n                    class="ag-standard-button ag-filter-apply-panel-button"\n                >'+g+"\n                </button>");u.appendChild(O),t.addManagedListener(O,"click",C)}(f)}),this.getGui().appendChild(u)}},n.prototype.getDefaultDebounceMs=function(){return 0},n.prototype.setupOnBtApplyDebounce=function(){var t=n.getDebounceMs(this.providedFilterParams,this.getDefaultDebounceMs());this.onBtApplyDebounce=De(this.onBtApply.bind(this),t)},n.prototype.getModel=function(){return this.appliedModel?this.appliedModel:null},n.prototype.setModel=function(t){var o=this;return(null!=t?this.setModelIntoUi(t):this.resetUiToDefaults()).then(function(){o.updateUiVisibility(),o.applyModel()})},n.prototype.onBtCancel=function(t){var o=this,u=this.getModel(),c=function(){o.onUiChanged(!1,"prevent"),o.providedFilterParams.closeOnApply&&o.close(t)};null!=u?this.setModelIntoUi(u).then(c):this.resetUiToDefaults().then(c)},n.prototype.onBtClear=function(){var t=this;this.resetUiToDefaults().then(function(){return t.onUiChanged()})},n.prototype.onBtReset=function(){this.onBtClear(),this.onBtApply()},n.prototype.applyModel=function(){var t=this.getModelFromUi();if(!this.isModelValid(t))return!1;var o=this.appliedModel;return this.appliedModel=t,!this.areModelsEqual(o,t)},n.prototype.isModelValid=function(t){return!0},n.prototype.onBtApply=function(t,o,u){void 0===t&&(t=!1),void 0===o&&(o=!1),this.applyModel()&&this.providedFilterParams.filterChangedCallback({afterFloatingFilter:t,afterDataChange:o}),this.providedFilterParams.closeOnApply&&this.applyActive&&!t&&!o&&this.close(u)},n.prototype.onNewRowsLoaded=function(){},n.prototype.close=function(t){if(this.hidePopup){var c,u=t&&t.key;("Enter"===u||"Space"===u)&&(c={keyboardEvent:t}),this.hidePopup(c),this.hidePopup=null}},n.prototype.onUiChanged=function(t,o){if(void 0===t&&(t=!1),this.updateUiVisibility(),this.providedFilterParams.filterModifiedCallback(),this.applyActive&&!this.isReadOnly){var u=this.isModelValid(this.getModelFromUi());fi(this.getRefElement("applyFilterButton"),!u)}t&&!o||"immediately"===o?this.onBtApply(t):(!this.applyActive&&!o||"debounce"===o)&&this.onBtApplyDebounce()},n.prototype.afterGuiAttached=function(t){null!=t&&(this.hidePopup=t.hidePopup)},n.getDebounceMs=function(t,o){return n.isUseApplyButton(t)?(null!=t.debounceMs&&console.warn("AG Grid: debounceMs is ignored when apply button is present"),0):null!=t.debounceMs?t.debounceMs:o},n.isUseApplyButton=function(t){return!!t.buttons&&t.buttons.indexOf("apply")>=0},n.prototype.destroy=function(){this.hidePopup=null,p.prototype.destroy.call(this)},n.prototype.translate=function(t){return this.gridOptionsWrapper.getLocaleTextFunc()(t,Cp[t])},n.prototype.getCellValue=function(t){var o=this.providedFilterParams;return this.providedFilterParams.valueGetter({api:o.api,colDef:o.colDef,column:o.column,columnApi:o.columnApi,context:o.context,data:t.data,getValue:function(O){return t.data[O]},node:t})},fa([I("rowModel")],n.prototype,"rowModel",void 0),fa([I("valueService")],n.prototype,"valueService",void 0),fa([Ee],n.prototype,"postConstruct",null),n}(je),wp=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),ga=function(p){function n(t,o){var u=p.call(this,o)||this;return u.labelSeparator="",u.labelAlignment="left",u.disabled=!1,u.label="",u.config=t||{},u}return wp(n,p),n.prototype.postConstruct=function(){this.addCssClass("ag-labeled"),this.eLabel.classList.add("ag-label");var t=this.config,o=t.labelSeparator,u=t.label,c=t.labelWidth,f=t.labelAlignment;null!=o&&this.setLabelSeparator(o),null!=u&&this.setLabel(u),null!=c&&this.setLabelWidth(c),this.setLabelAlignment(f||this.labelAlignment),this.refreshLabel()},n.prototype.refreshLabel=function(){kt(this.eLabel),"string"==typeof this.label?this.eLabel.innerText=this.label+this.labelSeparator:this.label&&this.eLabel.appendChild(this.label),""===this.label?(this.eLabel.classList.add("ag-hidden"),Mt(this.eLabel,"presentation")):(this.eLabel.classList.remove("ag-hidden"),Mt(this.eLabel,null))},n.prototype.setLabelSeparator=function(t){return this.labelSeparator===t||(this.labelSeparator=t,null!=this.label&&this.refreshLabel()),this},n.prototype.getLabelId=function(){return this.eLabel.id=this.eLabel.id||"ag-"+this.getCompId()+"-label",this.eLabel.id},n.prototype.getLabel=function(){return this.label},n.prototype.setLabel=function(t){return this.label===t||(this.label=t,this.refreshLabel()),this},n.prototype.setLabelAlignment=function(t){var u=this.getGui().classList;return u.toggle("ag-label-align-left","left"===t),u.toggle("ag-label-align-right","right"===t),u.toggle("ag-label-align-top","top"===t),this},n.prototype.setLabelWidth=function(t){return null==this.label||ji(this.eLabel,t),this},n.prototype.setDisabled=function(t){t=!!t;var o=this.getGui();return fi(o,t),o.classList.toggle("ag-disabled",t),this.disabled=t,this},n.prototype.isDisabled=function(){return!!this.disabled},function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);u>3&&c&&Object.defineProperty(n,t,c)}([Ee],n.prototype,"postConstruct",null),n}(je),Pp=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),nr=function(p){function n(t,o,u){var c=p.call(this,t,o)||this;return c.className=u,c}return Pp(n,p),n.prototype.postConstruct=function(){p.prototype.postConstruct.call(this),this.className&&this.addCssClass(this.className)},n.prototype.onValueChange=function(t){var o=this;return this.addManagedListener(this,n.EVENT_CHANGED,function(){return t(o.getValue())}),this},n.prototype.getWidth=function(){return this.getGui().clientWidth},n.prototype.setWidth=function(t){return ir(this.getGui(),t),this},n.prototype.getPreviousValue=function(){return this.previousValue},n.prototype.getValue=function(){return this.value},n.prototype.setValue=function(t,o){return this.value===t||(this.previousValue=this.value,this.value=t,o||this.dispatchEvent({type:n.EVENT_CHANGED})),this},n.EVENT_CHANGED="valueChange",n}(ga),Dp=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),xn=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},_l=function(p){function n(t,o,u,c){var f=p.call(this,t,'<div class="ag-picker-field" role="presentation">\n                <div ref="eLabel"></div>\n                <div ref="eWrapper"\n                    class="ag-wrapper ag-picker-field-wrapper"\n                    tabIndex="-1"\n                    aria-expanded="false"\n                    '+(c?'role="'+c+'"':"")+'\n                >\n                    <div ref="eDisplayField" class="ag-picker-field-display"></div>\n                    <div ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>\n                </div>\n            </div>',o)||this;return f.pickerIcon=u,f.isPickerDisplayed=!1,f.isDestroyingPicker=!1,f.skipClick=!1,f}return Dp(n,p),n.prototype.postConstruct=function(){var t=this;p.prototype.postConstruct.call(this);var o=this.getCompId()+"-display";this.eDisplayField.setAttribute("id",o),Qo(this.eWrapper,o);var u=function(){t.skipClick?t.skipClick=!1:t.isDisabled()||(t.pickerComponent=t.showPicker())},c=this.getGui();if(this.addManagedListener(c,"mousedown",function(g){!t.skipClick&&t.pickerComponent&&t.pickerComponent.isAlive()&&gi(t.pickerComponent.getGui())&&c.contains(g.target)&&(t.skipClick=!0)}),this.addManagedListener(c,"keydown",function(g){switch(g.key){case ye.UP:case ye.DOWN:case ye.ENTER:case ye.SPACE:u();case ye.ESCAPE:t.isPickerDisplayed&&g.preventDefault()}}),this.addManagedListener(this.eWrapper,"click",u),this.addManagedListener(this.eLabel,"click",u),this.pickerIcon){var f=dt(this.pickerIcon,this.gridOptionsWrapper);f&&this.eIcon.appendChild(f)}},n.prototype.refreshLabel=function(){a(this.getLabel())?Jo(this.eWrapper,this.getLabelId()):this.eWrapper.removeAttribute("aria-labelledby"),p.prototype.refreshLabel.call(this)},n.prototype.setAriaLabel=function(t){return Hr(this.eWrapper,t),this},n.prototype.setInputWidth=function(t){return ji(this.eWrapper,t),this},n.prototype.getFocusableElement=function(){return this.eWrapper},xn([_e("eLabel")],n.prototype,"eLabel",void 0),xn([_e("eWrapper")],n.prototype,"eWrapper",void 0),xn([_e("eDisplayField")],n.prototype,"eDisplayField",void 0),xn([_e("eIcon")],n.prototype,"eIcon",void 0),n}(nr),Rp=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),yl=function(p){function n(t){void 0===t&&(t="default");var o=p.call(this,'<div class="ag-list ag-'+t+'-list" role="listbox"></div>')||this;return o.cssIdentifier=t,o.options=[],o.itemEls=[],o}return Rp(n,p),n.prototype.init=function(){this.addManagedListener(this.getGui(),"keydown",this.handleKeyDown.bind(this))},n.prototype.handleKeyDown=function(t){var o=t.key;switch(o){case ye.ENTER:if(this.highlightedEl){var u=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(u)}else this.setValue(this.getValue());break;case ye.DOWN:case ye.UP:var c=o===ye.DOWN,f=void 0;if(t.preventDefault(),this.highlightedEl){var C=this.itemEls.indexOf(this.highlightedEl)+(c?1:-1);C=Math.min(Math.max(C,0),this.itemEls.length-1),f=this.itemEls[C]}else f=this.itemEls[c?0:this.itemEls.length-1];this.highlightItem(f)}},n.prototype.addOptions=function(t){var o=this;return t.forEach(function(u){return o.addOption(u)}),this},n.prototype.addOption=function(t){var o=t.value,c=rr(t.text||o);return this.options.push({value:o,text:c}),this.renderOption(o,c),this.updateIndices(),this},n.prototype.updateIndices=function(){var t=this.getGui().querySelectorAll(".ag-list-item");t.forEach(function(o,u){ra(o,u+1),ta(o,t.length)})},n.prototype.renderOption=function(t,o){var u=this,c=document.createElement("div");Mt(c,"option"),c.classList.add("ag-list-item","ag-"+this.cssIdentifier+"-list-item"),c.innerHTML="<span>"+o+"</span>",c.tabIndex=-1,this.itemEls.push(c),this.addManagedListener(c,"mouseover",function(){return u.highlightItem(c)}),this.addManagedListener(c,"mouseleave",function(){return u.clearHighlighted()}),this.addManagedListener(c,"click",function(){return u.setValue(t)}),this.getGui().appendChild(c)},n.prototype.setValue=function(t,o){if(this.value===t)return this.fireItemSelected(),this;if(null==t)return this.reset(),this;var u=this.options.findIndex(function(f){return f.value===t});if(-1!==u){var c=this.options[u];this.value=c.value,this.displayValue=null!=c.text?c.text:c.value,this.highlightItem(this.itemEls[u]),o||this.fireChangeEvent()}return this},n.prototype.setValueByIndex=function(t){return this.setValue(this.options[t].value)},n.prototype.getValue=function(){return this.value},n.prototype.getDisplayValue=function(){return this.displayValue},n.prototype.refreshHighlighted=function(){var t=this;this.clearHighlighted();var o=this.options.findIndex(function(u){return u.value===t.value});-1!==o&&this.highlightItem(this.itemEls[o])},n.prototype.reset=function(){this.value=null,this.displayValue=null,this.clearHighlighted(),this.fireChangeEvent()},n.prototype.highlightItem=function(t){!t.offsetParent||(this.clearHighlighted(),this.highlightedEl=t,this.highlightedEl.classList.add(n.ACTIVE_CLASS),vi(this.highlightedEl,!0),this.highlightedEl.focus())},n.prototype.clearHighlighted=function(){!this.highlightedEl||!this.highlightedEl.offsetParent||(this.highlightedEl.classList.remove(n.ACTIVE_CLASS),vi(this.highlightedEl,!1),this.highlightedEl=null)},n.prototype.fireChangeEvent=function(){this.dispatchEvent({type:nr.EVENT_CHANGED}),this.fireItemSelected()},n.prototype.fireItemSelected=function(){this.dispatchEvent({type:n.EVENT_ITEM_SELECTED})},n.EVENT_ITEM_SELECTED="selectedItem",n.ACTIVE_CLASS="ag-active-item",function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);u>3&&c&&Object.defineProperty(n,t,c)}([Ee],n.prototype,"init",null),n}(je),bp=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),ml=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},va=function(p){function n(t){return p.call(this,t,"ag-select","smallDown","listbox")||this}return bp(n,p),n.prototype.init=function(){var t=this;this.listComponent=this.createBean(new yl("select")),this.listComponent.setParentComponent(this),this.eWrapper.tabIndex=0,this.listComponent.addManagedListener(this.listComponent,yl.EVENT_ITEM_SELECTED,function(){t.hideList&&t.hideList()}),this.listComponent.addManagedListener(this.listComponent,nr.EVENT_CHANGED,function(){t.setValue(t.listComponent.getValue(),!1,!0),t.hideList&&t.hideList()})},n.prototype.showPicker=function(){var t=this,o=this.listComponent.getGui(),u=this.gridOptionsWrapper.getDocument(),c=this.addManagedListener(u.body,"wheel",function(O){!o.contains(O.target)&&t.hideList&&t.hideList()}),f=this.addManagedListener(o,"focusout",function(O){!o.contains(O.relatedTarget)&&t.hideList&&t.hideList()}),g=this.gridOptionsWrapper.getLocaleTextFunc(),C=this.popupService.addPopup({modal:!0,eChild:o,closeOnEsc:!0,closedCallback:function(){t.hideList=null,t.isPickerDisplayed=!1,f(),c(),t.isAlive()&&(Vt(t.eWrapper,!1),t.getFocusableElement().focus())},ariaLabel:g("ariaLabelSelectField","Select Field")});return C&&(this.hideList=C.hideFunc),this.isPickerDisplayed=!0,ji(o,Tn(this.eWrapper)),Vt(this.eWrapper,!0),o.style.maxHeight=Hi(this.popupService.getPopupParent())+"px",o.style.position="absolute",this.popupService.positionPopupUnderComponent({type:"ag-list",eventSource:this.eWrapper,ePopup:o,keepWithinBounds:!0}),this.listComponent.refreshHighlighted(),this.listComponent},n.prototype.addOptions=function(t){var o=this;return t.forEach(function(u){return o.addOption(u)}),this},n.prototype.addOption=function(t){return this.listComponent.addOption(t),this},n.prototype.setValue=function(t,o,u){return this.value===t?this:(u||this.listComponent.setValue(t,!0),this.listComponent.getValue()===this.getValue()?this:(this.eDisplayField.innerHTML=this.listComponent.getDisplayValue(),p.prototype.setValue.call(this,t,o)))},n.prototype.destroy=function(){this.hideList&&this.hideList(),this.destroyBean(this.listComponent),p.prototype.destroy.call(this)},ml([I("popupService")],n.prototype,"popupService",void 0),ml([Ee],n.prototype,"init",null),n}(_l),Mp=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),ya=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},dr=function(p){function n(t,o,u,c){void 0===u&&(u="text"),void 0===c&&(c="input");var f=p.call(this,t,'\n            <div role="presentation">\n                <div ref="eLabel" class="ag-input-field-label"></div>\n                <div ref="eWrapper" class="ag-wrapper ag-input-wrapper" role="presentation">\n                    <'+c+' ref="eInput" class="ag-input-field-input"></'+c+">\n                </div>\n            </div>",o)||this;return f.inputType=u,f.displayFieldTag=c,f}return Mp(n,p),n.prototype.postConstruct=function(){p.prototype.postConstruct.call(this),this.setInputType(),this.eLabel.classList.add(this.className+"-label"),this.eWrapper.classList.add(this.className+"-input-wrapper"),this.eInput.classList.add(this.className+"-input"),this.addCssClass("ag-input-field"),this.eInput.id=this.eInput.id||"ag-"+this.getCompId()+"-input";var t=this.config,o=t.width,u=t.value;null!=o&&this.setWidth(o),null!=u&&this.setValue(u),this.addInputListeners()},n.prototype.refreshLabel=function(){a(this.getLabel())?Jo(this.eInput,this.getLabelId()):this.eInput.removeAttribute("aria-labelledby"),p.prototype.refreshLabel.call(this)},n.prototype.addInputListeners=function(){var t=this;this.addManagedListener(this.eInput,"input",function(o){return t.setValue(o.target.value)})},n.prototype.setInputType=function(){"input"===this.displayFieldTag&&this.eInput.setAttribute("type",this.inputType)},n.prototype.getInputElement=function(){return this.eInput},n.prototype.setInputWidth=function(t){return ji(this.eWrapper,t),this},n.prototype.setInputName=function(t){return this.getInputElement().setAttribute("name",t),this},n.prototype.getFocusableElement=function(){return this.eInput},n.prototype.setMaxLength=function(t){return this.eInput.maxLength=t,this},n.prototype.setInputPlaceholder=function(t){return zi(this.eInput,"placeholder",t),this},n.prototype.setInputAriaLabel=function(t){return Hr(this.eInput,t),this},n.prototype.setDisabled=function(t){return fi(this.eInput,t),p.prototype.setDisabled.call(this,t)},ya([_e("eLabel")],n.prototype,"eLabel",void 0),ya([_e("eWrapper")],n.prototype,"eWrapper",void 0),ya([_e("eInput")],n.prototype,"eInput",void 0),n}(nr),Ap=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),jr=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},Rt=(()=>(function(p){p[p.One=0]="One",p[p.Two=1]="Two"}(Rt||(Rt={})),Rt))(),ht=function(p){function n(){return null!==p&&p.apply(this,arguments)||this}return Ap(n,p),n.prototype.getNumberOfInputs=function(t){var o=this.optionsFactory.getCustomOption(t);return o?o.numberOfInputs??1:t&&[n.EMPTY,n.NOT_BLANK,n.BLANK].indexOf(t)>=0?0:t===n.IN_RANGE?2:1},n.prototype.onFloatingFilterChanged=function(t,o){this.setTypeFromFloatingFilter(t),this.setValueFromFloatingFilter(o),this.onUiChanged(!0)},n.prototype.setTypeFromFloatingFilter=function(t){this.eType1.setValue(t),this.eType2.setValue(this.optionsFactory.getDefaultOption()),(this.isDefaultOperator("AND")?this.eJoinOperatorAnd:this.eJoinOperatorOr).setValue(!0)},n.prototype.getModelFromUi=function(){return this.isConditionUiComplete(Rt.One)?this.isAllowTwoConditions()&&this.isConditionUiComplete(Rt.Two)?{filterType:this.getFilterType(),operator:this.getJoinOperator(),condition1:this.createCondition(Rt.One),condition2:this.createCondition(Rt.Two)}:this.createCondition(Rt.One):null},n.prototype.getConditionTypes=function(){return[this.eType1.getValue(),this.eType2.getValue()]},n.prototype.getJoinOperator=function(){return!0===this.eJoinOperatorOr.getValue()?"OR":"AND"},n.prototype.areModelsEqual=function(t,o){if(!t&&!o)return!0;if(!t&&o||t&&!o)return!1;var g,u=!t.operator,c=!o.operator;if(!u&&c||u&&!c)return!1;if(u)g=this.areSimpleModelsEqual(t,o);else{var P=t,R=o;g=P.operator===R.operator&&this.areSimpleModelsEqual(P.condition1,R.condition1)&&this.areSimpleModelsEqual(P.condition2,R.condition2)}return g},n.prototype.setModelIntoUi=function(t){if(t.operator){var u=t,c="OR"===u.operator;this.eJoinOperatorAnd.setValue(!c),this.eJoinOperatorOr.setValue(c),this.eType1.setValue(u.condition1.type),this.eType2.setValue(u.condition2.type),this.setConditionIntoUi(u.condition1,Rt.One),this.setConditionIntoUi(u.condition2,Rt.Two)}else{var f=t;this.eJoinOperatorAnd.setValue(this.isDefaultOperator("AND")),this.eJoinOperatorOr.setValue(this.isDefaultOperator("OR")),this.eType1.setValue(f.type),this.eType2.setValue(this.optionsFactory.getDefaultOption()),this.setConditionIntoUi(f,Rt.One),this.setConditionIntoUi(null,Rt.Two)}return Ft.resolve()},n.prototype.doesFilterPass=function(t){var o=this,u=this.getModel();if(null==u)return!0;var c=u.operator,f=[];return c?f.push(u.condition1,u.condition2):f.push(u),f[c&&"OR"===c?"some":"every"](function(O){return o.individualConditionPasses(t,O)})},n.prototype.setParams=function(t){p.prototype.setParams.call(this,t),this.optionsFactory=new gl,this.optionsFactory.init(t,this.getDefaultFilterOptions()),this.allowTwoConditions=!t.suppressAndOrCondition,this.alwaysShowBothConditions=!!t.alwaysShowBothConditions,this.defaultJoinOperator=this.getDefaultJoinOperator(t.defaultJoinOperator),this.putOptionsIntoDropdown(),this.addChangedListeners()},n.prototype.getDefaultJoinOperator=function(t){return St(["AND","OR"],t)?t:"AND"},n.prototype.putOptionsIntoDropdown=function(){var t=this,o=this.optionsFactory.getFilterOptions(),u=[this.eType1,this.eType2];o.forEach(function(c){var f="string"==typeof c?t.createBoilerplateListOption(c):t.createCustomListOption(c);u.forEach(function(g){return g.addOption(f)})}),u.forEach(function(c){return c.setDisabled(o.length<=1)})},n.prototype.createBoilerplateListOption=function(t){return{value:t,text:this.translate(t)}},n.prototype.createCustomListOption=function(t){var o=t.displayKey,u=this.optionsFactory.getCustomOption(t.displayKey);return{value:o,text:u?this.gridOptionsWrapper.getLocaleTextFunc()(u.displayKey,u.displayName):this.translate(o)}},n.prototype.isAllowTwoConditions=function(){return this.allowTwoConditions},n.prototype.createBodyTemplate=function(){return'\n            <ag-select class="ag-filter-select" ref="eOptions1"></ag-select>\n            '+this.createValueTemplate(Rt.One)+'\n            <div class="ag-filter-condition" ref="eJoinOperatorPanel">\n               <ag-radio-button ref="eJoinOperatorAnd" class="ag-filter-condition-operator ag-filter-condition-operator-and"></ag-radio-button>\n               <ag-radio-button ref="eJoinOperatorOr" class="ag-filter-condition-operator ag-filter-condition-operator-or"></ag-radio-button>\n            </div>\n            <ag-select class="ag-filter-select" ref="eOptions2"></ag-select>\n            '+this.createValueTemplate(Rt.Two)},n.prototype.getCssIdentifier=function(){return"simple-filter"},n.prototype.updateUiVisibility=function(){var t=this,u=[this.eCondition1Body,this.eCondition2Body];[[this.eType1],[this.eType2,this.eJoinOperatorPanel,this.eJoinOperatorAnd,this.eJoinOperatorOr]].forEach(function(c,f){var g=t.isConditionVisible(f),C=t.isConditionDisabled(f);c.forEach(function(O){O instanceof dr||O instanceof va?(O.setDisabled(C),O.setDisplayed(g)):(fi(O,C),at(O,g))})}),u.forEach(function(c,f){at(c,t.isConditionBodyVisible(f))}),this.forEachInput(function(c,f,g,C){t.setElementDisplayed(c,f<C),t.setElementDisabled(c,t.isConditionDisabled(g))}),this.resetPlaceholder()},n.prototype.afterGuiAttached=function(t){if(p.prototype.afterGuiAttached.call(this,t),this.resetPlaceholder(),!t||!t.suppressFocus&&!this.isReadOnly()){var o=this.getInputs()[0][0];if(!o)return;o instanceof dr&&o.getInputElement().focus()}},n.prototype.resetPlaceholder=function(){var t=this,o=this.gridOptionsWrapper.getLocaleTextFunc();this.forEachInput(function(u,c,f,g){if(u instanceof dr){var C=0===c&&g>1?"inRangeStart":0===c?"filterOoo":"inRangeEnd",O=0===c&&g>1?o("ariaFilterFromValue","Filter from value"):0===c?o("ariaFilterValue","Filter Value"):o("ariaFilterToValue","Filter to Value");u.setInputPlaceholder(t.translate(C)),u.setInputAriaLabel(O)}})},n.prototype.setElementValue=function(t,o,u){t instanceof dr&&t.setValue(null!=o?String(o):null,u)},n.prototype.setElementDisplayed=function(t,o){t instanceof je&&at(t.getGui(),o)},n.prototype.setElementDisabled=function(t,o){t instanceof je&&fi(t.getGui(),o)},n.prototype.attachElementOnChange=function(t,o){t instanceof dr&&t.onValueChange(o)},n.prototype.forEachInput=function(t){var o=this,u=this.getInputs();this.getConditionTypes().forEach(function(c,f){for(var g=o.getNumberOfInputs(c),C=0;C<u[f].length;C++){var O=u[f][C];null!=O&&t(O,C,f,g)}})},n.prototype.isConditionVisible=function(t){return 0===t||!!this.allowTwoConditions&&(this.isReadOnly()?this.isConditionUiComplete(t):!!this.alwaysShowBothConditions||this.isConditionUiComplete(t-1))},n.prototype.isConditionDisabled=function(t){return!(!this.isReadOnly()&&this.isConditionVisible(t))||0!==t&&!this.isConditionUiComplete(t-1)},n.prototype.isConditionBodyVisible=function(t){if(!this.isConditionVisible(t))return!1;var o=this.getConditionTypes()[t];return this.getNumberOfInputs(o)>0},n.prototype.isConditionUiComplete=function(t){return!(this.getConditionTypes()[t]===n.EMPTY||this.getValues(t).some(function(u){return null==u}))},n.prototype.resetUiToDefaults=function(t){var o=this,c=this.gridOptionsWrapper.getLocaleTextFunc()("ariaFilteringOperator","Filtering operator"),f="ag-simple-filter-and-or-"+this.getCompId(),g=this.optionsFactory.getDefaultOption();return this.eType1.setValue(g,t).setAriaLabel(c).setDisabled(this.isReadOnly()),this.eType2.setValue(this.optionsFactory.getDefaultOption(),t).setAriaLabel(c).setDisabled(this.isReadOnly()),this.eJoinOperatorAnd.setValue(this.isDefaultOperator("AND"),t).setName(f).setLabel(this.translate("andCondition")).setDisabled(this.isReadOnly()),this.eJoinOperatorOr.setValue(this.isDefaultOperator("OR"),t).setName(f).setLabel(this.translate("orCondition")).setDisabled(this.isReadOnly()),this.forEachInput(function(C){o.setElementValue(C,null,t),o.setElementDisabled(C,o.isReadOnly())}),this.resetPlaceholder(),Ft.resolve()},n.prototype.setConditionIntoUi=function(t,o){var u=this,c=this.mapValuesFromModel(t);this.forEachInput(function(f,g,C,O){C===o&&u.setElementValue(f,null!=c[g]?c[g]:null)})},n.prototype.setValueFromFloatingFilter=function(t){var o=this;this.forEachInput(function(u,c,f,g){o.setElementValue(u,0===c&&0===f?t:null)})},n.prototype.isDefaultOperator=function(t){return t===this.defaultJoinOperator},n.prototype.addChangedListeners=function(){var t=this;if(!this.isReadOnly()){var o=function(){return t.onUiChanged()};this.eType1.onValueChange(o),this.eType2.onValueChange(o),this.eJoinOperatorOr.onValueChange(o),this.eJoinOperatorAnd.onValueChange(o),this.forEachInput(function(u){t.attachElementOnChange(u,o)})}},n.prototype.individualConditionPasses=function(t,o){var u=this.getCellValue(t.node),c=this.mapValuesFromModel(o),f=this.optionsFactory.getCustomOption(o.type);return this.evaluateCustomFilter(f,c,u)??(null==u?this.evaluateNullValue(o.type):this.evaluateNonNullValue(c,u,o,t))},n.prototype.evaluateCustomFilter=function(t,o,u){if(null!=t){var c=t.predicate;if(null!=c&&!o.some(function(f){return null==f}))return c(o,u)}},n.prototype.isBlank=function(t){return null==t||"string"==typeof t&&0===t.trim().length},n.EMPTY="empty",n.BLANK="blank",n.NOT_BLANK="notBlank",n.EQUALS="equals",n.NOT_EQUAL="notEqual",n.LESS_THAN="lessThan",n.LESS_THAN_OR_EQUAL="lessThanOrEqual",n.GREATER_THAN="greaterThan",n.GREATER_THAN_OR_EQUAL="greaterThanOrEqual",n.IN_RANGE="inRange",n.CONTAINS="contains",n.NOT_CONTAINS="notContains",n.STARTS_WITH="startsWith",n.ENDS_WITH="endsWith",jr([_e("eOptions1")],n.prototype,"eType1",void 0),jr([_e("eOptions2")],n.prototype,"eType2",void 0),jr([_e("eJoinOperatorPanel")],n.prototype,"eJoinOperatorPanel",void 0),jr([_e("eJoinOperatorAnd")],n.prototype,"eJoinOperatorAnd",void 0),jr([_e("eJoinOperatorOr")],n.prototype,"eJoinOperatorOr",void 0),jr([_e("eCondition1Body")],n.prototype,"eCondition1Body",void 0),jr([_e("eCondition2Body")],n.prototype,"eCondition2Body",void 0),n}(qi),xp=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),Et=function(p){function n(){return null!==p&&p.apply(this,arguments)||this}return xp(n,p),n.prototype.setParams=function(t){p.prototype.setParams.call(this,t),this.scalarFilterParams=t},n.prototype.evaluateNullValue=function(t){switch(t){case n.EQUALS:case n.NOT_EQUAL:if(this.scalarFilterParams.includeBlanksInEquals)return!0;break;case n.GREATER_THAN:case n.GREATER_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInGreaterThan)return!0;break;case n.LESS_THAN:case n.LESS_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInLessThan)return!0;break;case n.IN_RANGE:if(this.scalarFilterParams.includeBlanksInRange)return!0;break;case n.BLANK:return!0;case n.NOT_BLANK:return!1}return!1},n.prototype.evaluateNonNullValue=function(t,o,u){var c=this.comparator(),f=null!=t[0]?c(t[0],o):0;switch(u.type){case n.EQUALS:return 0===f;case n.NOT_EQUAL:return 0!==f;case n.GREATER_THAN:return f>0;case n.GREATER_THAN_OR_EQUAL:return f>=0;case n.LESS_THAN:return f<0;case n.LESS_THAN_OR_EQUAL:return f<=0;case n.IN_RANGE:var g=c(t[1],o);return this.scalarFilterParams.inRangeInclusive?f>=0&&g<=0:f>0&&g<0;case n.BLANK:return this.isBlank(o);case n.NOT_BLANK:return!this.isBlank(o);default:return console.warn('AG Grid: Unexpected type of filter "'+u.type+'", it looks like the filter was configured with incorrect Filter Options'),!0}},n}(ht),Ip=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),ma=function(){return ma=Object.assign||function(p){for(var n,t=1,o=arguments.length;t<o;t++)for(var u in n=arguments[t])Object.prototype.hasOwnProperty.call(n,u)&&(p[u]=n[u]);return p},ma.apply(this,arguments)},Zi=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},Ol=function(p){function n(){var t=p.call(this,"dateFilter")||this;return t.minValidYear=1e3,t.maxValidYear=1/0,t}return Ip(n,p),n.prototype.afterGuiAttached=function(t){p.prototype.afterGuiAttached.call(this,t),this.dateCondition1FromComp.afterGuiAttached(t)},n.prototype.mapValuesFromModel=function(t){var o=t||{},u=o.dateFrom,c=o.dateTo,f=o.type;return[u&&Er(u)||null,c&&Er(c)||null].slice(0,this.getNumberOfInputs(f))},n.prototype.comparator=function(){return this.dateFilterParams.comparator?this.dateFilterParams.comparator:this.defaultComparator.bind(this)},n.prototype.defaultComparator=function(t,o){return null==o||o<t?-1:o>t?1:0},n.prototype.setParams=function(t){p.prototype.setParams.call(this,t),this.dateFilterParams=t;var o=function(u,c){if(null!=t[u]){if(!isNaN(t[u]))return null==t[u]?c:Number(t[u]);console.warn("AG Grid: DateFilter "+u+" is not a number")}return c};this.minValidYear=o("minValidYear",1e3),this.maxValidYear=o("maxValidYear",1/0),this.minValidYear>this.maxValidYear&&console.warn("AG Grid: DateFilter minValidYear should be <= maxValidYear"),this.createDateComponents()},n.prototype.createDateComponents=function(){var t=this,o=function(u){return new fl(t.getContext(),t.userComponentFactory,{onDateChanged:function(){return t.onUiChanged()},filterParams:t.dateFilterParams},u)};this.dateCondition1FromComp=o(this.eCondition1PanelFrom),this.dateCondition1ToComp=o(this.eCondition1PanelTo),this.dateCondition2FromComp=o(this.eCondition2PanelFrom),this.dateCondition2ToComp=o(this.eCondition2PanelTo),this.addDestroyFunc(function(){t.forEachInput(function(u){return u.destroy()})})},n.prototype.setElementValue=function(t,o,u){t.setDate(o)},n.prototype.setElementDisplayed=function(t,o){t.setDisplayed(o)},n.prototype.setElementDisabled=function(t,o){t.setDisabled(o)},n.prototype.getDefaultFilterOptions=function(){return n.DEFAULT_FILTER_OPTIONS},n.prototype.createValueTemplate=function(t){var o=t===Rt.One?"1":"2";return'\n            <div class="ag-filter-body" ref="eCondition'+o+'Body">\n                <div class="ag-filter-from ag-filter-date-from" ref="eCondition'+o+'PanelFrom"></div>\n                <div class="ag-filter-to ag-filter-date-to" ref="eCondition'+o+'PanelTo"></div>\n            </div>'},n.prototype.isConditionUiComplete=function(t){var o=this;if(!p.prototype.isConditionUiComplete.call(this,t))return!1;var c=!0;return this.forEachInput(function(f,g,C,O){C!==t||!c||g>=O||(c=c&&function(f){return null!=f&&f.getUTCFullYear()>=o.minValidYear&&f.getUTCFullYear()<=o.maxValidYear}(f.getDate()))}),c},n.prototype.areSimpleModelsEqual=function(t,o){return t.dateFrom===o.dateFrom&&t.dateTo===o.dateTo&&t.type===o.type},n.prototype.getFilterType=function(){return"date"},n.prototype.createCondition=function(t){var o=this.getConditionTypes()[t],u={},c=this.getValues(t);return c.length>0&&(u.dateFrom=Yi(c[0])),c.length>1&&(u.dateTo=Yi(c[1])),ma({dateFrom:null,dateTo:null,filterType:this.getFilterType(),type:o},u)},n.prototype.resetPlaceholder=function(){var t=this.gridOptionsWrapper.getLocaleTextFunc(),o=this.translate("dateFormatOoo"),u=t("ariaFilterValue","Filter Value");this.forEachInput(function(c){c.setInputPlaceholder(o),c.setInputAriaLabel(u)})},n.prototype.getInputs=function(){return[[this.dateCondition1FromComp,this.dateCondition1ToComp],[this.dateCondition2FromComp,this.dateCondition2ToComp]]},n.prototype.getValues=function(t){var o=[];return this.forEachInput(function(u,c,f,g){t===f&&c<g&&o.push(u.getDate())}),o},n.DEFAULT_FILTER_OPTIONS=[Et.EQUALS,Et.GREATER_THAN,Et.LESS_THAN,Et.NOT_EQUAL,Et.IN_RANGE,Et.BLANK,Et.NOT_BLANK],Zi([_e("eCondition1PanelFrom")],n.prototype,"eCondition1PanelFrom",void 0),Zi([_e("eCondition1PanelTo")],n.prototype,"eCondition1PanelTo",void 0),Zi([_e("eCondition2PanelFrom")],n.prototype,"eCondition2PanelFrom",void 0),Zi([_e("eCondition2PanelTo")],n.prototype,"eCondition2PanelTo",void 0),Zi([I("userComponentFactory")],n.prototype,"userComponentFactory",void 0),n}(Et),Lp=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),wl=function(p){function n(){return null!==p&&p.apply(this,arguments)||this}return Lp(n,p),n.prototype.getDefaultDebounceMs=function(){return 0},n.prototype.destroy=function(){p.prototype.destroy.call(this)},n.prototype.getTextFromModel=function(t){if(!t)return null;if(null!=t.operator){var u=t,c=u||{},f=c.condition1,g=c.condition2,C=this.optionsFactory.getCustomOption(f.type),O=this.optionsFactory.getCustomOption(g.type);return[this.conditionToString(f,C),u.operator,this.conditionToString(g,O)].join(" ")}var P=t,R=this.optionsFactory.getCustomOption(P.type),x=R||{},W=x.displayKey,U=x.displayName;return W&&U&&0===x.numberOfInputs?(this.gridOptionsWrapper.getLocaleTextFunc()(W,U),U):this.conditionToString(P,R)},n.prototype.isEventFromFloatingFilter=function(t){return t&&t.afterFloatingFilter},n.prototype.getLastType=function(){return this.lastType},n.prototype.isReadOnly=function(){return this.readOnly},n.prototype.setLastTypeFromModel=function(t){t?this.lastType=(t.operator?t.condition1:t).type:this.lastType=this.optionsFactory.getDefaultOption()},n.prototype.canWeEditAfterModelFromParentFilter=function(t){return t?!t.operator&&this.isTypeEditable(t.type):this.isTypeEditable(this.lastType)},n.prototype.init=function(t){this.optionsFactory=new gl,this.optionsFactory.init(t.filterParams,this.getDefaultFilterOptions()),this.lastType=this.optionsFactory.getDefaultOption(),this.readOnly=!!t.filterParams.readOnly;var o=this.isTypeEditable(this.lastType);this.setEditable(o)},n.prototype.doesFilterHaveSingleInput=function(t){var u=(this.optionsFactory.getCustomOption(t)||{}).numberOfInputs;return null==u||1==u},n.prototype.isTypeEditable=function(t){var o=[ht.IN_RANGE,ht.EMPTY,ht.BLANK,ht.NOT_BLANK];return!!t&&!this.isReadOnly()&&this.doesFilterHaveSingleInput(t)&&o.indexOf(t)<0},n}(je),Fp=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),Ca=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},Np=function(p){function n(){return p.call(this,'\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eReadOnlyText"></ag-input-text-field>\n                <div ref="eDateWrapper" style="display: flex;"></div>\n            </div>')||this}return Fp(n,p),n.prototype.getDefaultFilterOptions=function(){return Ol.DEFAULT_FILTER_OPTIONS},n.prototype.conditionToString=function(t,o){var u=t.type,f=u==ht.IN_RANGE||2===(o||{}).numberOfInputs,g=Er(t.dateFrom),C=Er(t.dateTo),O=this.filterParams.inRangeFloatingFilterDateFormat;return f?(null!==g?Mn(g,O):"null")+"-"+(null!==C?Mn(C,O):"null"):null!=g?Mn(g,O):""+u},n.prototype.init=function(t){p.prototype.init.call(this,t),this.params=t,this.filterParams=t.filterParams,this.createDateComponent();var o=this.gridOptionsWrapper.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(o("ariaDateFilterInput","Date Filter Input"))},n.prototype.setEditable=function(t){at(this.eDateWrapper,t),at(this.eReadOnlyText.getGui(),!t)},n.prototype.onParentModelChanged=function(t,o){if(!this.isEventFromFloatingFilter(o)){p.prototype.setLastTypeFromModel.call(this,t);var u=!this.isReadOnly()&&this.canWeEditAfterModelFromParentFilter(t);this.setEditable(u),u?(this.dateComp.setDate(t?Er(t.dateFrom):null),this.eReadOnlyText.setValue("")):(this.eReadOnlyText.setValue(this.getTextFromModel(t)),this.dateComp.setDate(null))}},n.prototype.onDateChanged=function(){var t=this,u=Yi(this.dateComp.getDate());this.params.parentFilterInstance(function(c){if(c){var f=Er(u);c.onFloatingFilterChanged(t.getLastType()||null,f)}})},n.prototype.createDateComponent=function(){var t=this,o=qi.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),u={onDateChanged:De(this.onDateChanged.bind(this),o),filterParams:this.params.column.getColDef().filterParams};this.dateComp=new fl(this.getContext(),this.userComponentFactory,u,this.eDateWrapper),this.addDestroyFunc(function(){return t.dateComp.destroy()})},Ca([I("userComponentFactory")],n.prototype,"userComponentFactory",void 0),Ca([_e("eReadOnlyText")],n.prototype,"eReadOnlyText",void 0),Ca([_e("eDateWrapper")],n.prototype,"eDateWrapper",void 0),n}(wl),Gp=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),Bp=function(p){function n(){return p.call(this,'\n            <div class="ag-filter-filter">\n                <ag-input-text-field class="ag-date-filter" ref="eDateInput"></ag-input-text-field>\n            </div>')||this}return Gp(n,p),n.prototype.destroy=function(){p.prototype.destroy.call(this)},n.prototype.init=function(t){var o=this,u=this.gridOptionsWrapper.getDocument(),c=this.eDateInput.getInputElement();this.shouldUseBrowserDatePicker(t)&&(c.type="date"),this.addManagedListener(c,"mousedown",function(){o.eDateInput.isDisabled()||c.focus()}),this.addManagedListener(c,"input",function(O){O.target===u.activeElement&&(o.eDateInput.isDisabled()||t.onDateChanged())});var f=t.filterParams||{},g=f.minValidYear,C=f.maxValidYear;g&&(c.min=g+"-01-01"),C&&(c.max=C+"-12-31")},n.prototype.getDate=function(){return Er(this.eDateInput.getValue())},n.prototype.setDate=function(t){this.eDateInput.setValue(Yi(t,!1))},n.prototype.setInputPlaceholder=function(t){this.eDateInput.setInputPlaceholder(t)},n.prototype.setDisabled=function(t){this.eDateInput.setDisabled(t)},n.prototype.afterGuiAttached=function(t){(!t||!t.suppressFocus)&&this.eDateInput.getInputElement().focus()},n.prototype.shouldUseBrowserDatePicker=function(t){return t.filterParams&&null!=t.filterParams.browserDatePicker?t.filterParams.browserDatePicker:Vi()||Wo()},function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);u>3&&c&&Object.defineProperty(n,t,c)}([_e("eDateInput")],n.prototype,"eDateInput",void 0),n}(je),kp=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),In=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},Sl=function(p){function n(){return p.call(this,"numberFilter")||this}return kp(n,p),n.prototype.mapValuesFromModel=function(t){var o=t||{};return[o.filter??null,o.filterTo??null].slice(0,this.getNumberOfInputs(o.type))},n.prototype.getDefaultDebounceMs=function(){return 500},n.prototype.comparator=function(){return function(t,o){return t===o?0:t<o?1:-1}},n.prototype.setParams=function(t){this.numberFilterParams=t;var o=this.getAllowedCharPattern();if(o){var u={allowedCharPattern:o};this.resetTemplate({"eValue-index0-1":u,"eValue-index1-1":u,"eValue-index0-2":u,"eValue-index1-2":u})}p.prototype.setParams.call(this,t)},n.prototype.getDefaultFilterOptions=function(){return n.DEFAULT_FILTER_OPTIONS},n.prototype.createValueTemplate=function(t){var o=t===Rt.One?"1":"2",c=this.getAllowedCharPattern()?"ag-input-text-field":"ag-input-number-field";return'\n            <div class="ag-filter-body" ref="eCondition'+o+'Body" role="presentation">\n                <'+c+' class="ag-filter-from ag-filter-filter" ref="eValue-index0-'+o+'"></'+c+">\n                <"+c+' class="ag-filter-to ag-filter-filter" ref="eValue-index1-'+o+'"></'+c+">\n            </div>"},n.prototype.getValues=function(t){var o=this,u=[];return this.forEachInput(function(c,f,g,C){t===g&&f<C&&u.push(o.stringToFloat(c.getValue()))}),u},n.prototype.areSimpleModelsEqual=function(t,o){return t.filter===o.filter&&t.filterTo===o.filterTo&&t.type===o.type},n.prototype.getFilterType=function(){return"number"},n.prototype.stringToFloat=function(t){if("number"==typeof t)return t;var o=i(t);return null!=o&&""===o.trim()&&(o=null),this.numberFilterParams.numberParser?this.numberFilterParams.numberParser(o):null==o||"-"===o.trim()?null:parseFloat(o)},n.prototype.createCondition=function(t){var o=this.getConditionTypes()[t],u={filterType:this.getFilterType(),type:o},c=this.getValues(t);return c.length>0&&(u.filter=c[0]),c.length>1&&(u.filterTo=c[1]),u},n.prototype.getInputs=function(){return[[this.eValueFrom1,this.eValueTo1],[this.eValueFrom2,this.eValueTo2]]},n.prototype.getAllowedCharPattern=function(){return(this.numberFilterParams||{}).allowedCharPattern||(Vi()||En()?null:"\\d\\-\\.")},n.DEFAULT_FILTER_OPTIONS=[Et.EQUALS,Et.NOT_EQUAL,Et.LESS_THAN,Et.LESS_THAN_OR_EQUAL,Et.GREATER_THAN,Et.GREATER_THAN_OR_EQUAL,Et.IN_RANGE,Et.BLANK,Et.NOT_BLANK],In([_e("eValue-index0-1")],n.prototype,"eValueFrom1",void 0),In([_e("eValue-index1-1")],n.prototype,"eValueTo1",void 0),In([_e("eValue-index0-2")],n.prototype,"eValueFrom2",void 0),In([_e("eValue-index1-2")],n.prototype,"eValueTo2",void 0),n}(Et),Vp=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),Ln=function(){return Ln=Object.assign||function(p){for(var n,t=1,o=arguments.length;t<o;t++)for(var u in n=arguments[t])Object.prototype.hasOwnProperty.call(n,u)&&(p[u]=n[u]);return p},Ln.apply(this,arguments)},Fn=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},Nn=function(p){function n(){return p.call(this,"textFilter")||this}return Vp(n,p),n.trimInput=function(t){var o=t&&t.trim();return""===o?t:o},n.prototype.getDefaultDebounceMs=function(){return 500},n.prototype.setParams=function(t){p.prototype.setParams.call(this,t),this.textFilterParams=t,this.matcher=this.getTextMatcher(),this.formatter=this.textFilterParams.textFormatter||(this.textFilterParams.caseSensitive?n.DEFAULT_FORMATTER:n.DEFAULT_LOWERCASE_FORMATTER)},n.prototype.getTextMatcher=function(){var t=this.textFilterParams.textCustomComparator;return t?(Ge.doOnce(function(){return console.warn("AG Grid - textCustomComparator is deprecated, use textMatcher instead.")},"textCustomComparator.deprecated"),function(o){return t(o.filterOption,o.value,o.filterText)}):this.textFilterParams.textMatcher||n.DEFAULT_MATCHER},n.prototype.createCondition=function(t){var o=this.getConditionTypes()[t],u={filterType:this.getFilterType(),type:o},c=this.getValues(t);return c.length>0&&(u.filter=c[0]),c.length>1&&(u.filterTo=c[1]),u},n.prototype.getFilterType=function(){return"text"},n.prototype.areSimpleModelsEqual=function(t,o){return t.filter===o.filter&&t.filterTo===o.filterTo&&t.type===o.type},n.prototype.getInputs=function(){return[[this.eValueFrom1,this.eValueTo1],[this.eValueFrom2,this.eValueTo2]]},n.prototype.getValues=function(t){var o=this,u=[];return this.forEachInput(function(c,f,g,C){if(t===g&&f<C){var O=i(c.getValue()),P=(o.textFilterParams.trimInput?n.trimInput(O):O)||null;u.push(P),c.setValue(P,!0)}}),u},n.prototype.getDefaultFilterOptions=function(){return n.DEFAULT_FILTER_OPTIONS},n.prototype.createValueTemplate=function(t){var o=t===Rt.One?"1":"2";return'\n            <div class="ag-filter-body" ref="eCondition'+o+'Body" role="presentation">\n                <ag-input-text-field class=".ag-filter-from ag-filter-filter" ref="eValue-index0-'+o+'"></ag-input-text-field>\n                <ag-input-text-field class="ag-filter-to ag-filter-filter" ref="eValue-index1-'+o+'"></ag-input-text-field>\n            </div>'},n.prototype.mapValuesFromModel=function(t){var o=t||{};return[o.filter||null,o.filterTo||null].slice(0,this.getNumberOfInputs(o.type))},n.prototype.evaluateNullValue=function(t){return!!t&&[ht.NOT_EQUAL,ht.NOT_CONTAINS,ht.BLANK].indexOf(t)>=0},n.prototype.evaluateNonNullValue=function(t,o,u,c){var f=this,g=t.map(function(se){return f.formatter(se)})||[],C=this.formatter(o),O=this.textFilterParams,P=O.api,R=O.colDef,x=O.column,W=O.columnApi,U=O.context,q=O.textFormatter;if(u.type===ht.BLANK)return this.isBlank(o);if(u.type===ht.NOT_BLANK)return!this.isBlank(o);var te={api:P,colDef:R,column:x,columnApi:W,context:U,node:c.node,data:c.data,filterOption:u.type,value:C,textFormatter:q};return g.some(function(se){return f.matcher(Ln(Ln({},te),{filterText:se}))})},n.DEFAULT_FILTER_OPTIONS=[ht.CONTAINS,ht.NOT_CONTAINS,ht.EQUALS,ht.NOT_EQUAL,ht.STARTS_WITH,ht.ENDS_WITH,ht.BLANK,ht.NOT_BLANK],n.DEFAULT_FORMATTER=function(t){return t},n.DEFAULT_LOWERCASE_FORMATTER=function(t){return null==t?null:t.toString().toLowerCase()},n.DEFAULT_MATCHER=function(t){var u=t.value,c=t.filterText;if(null==c)return!1;switch(t.filterOption){case n.CONTAINS:return u.indexOf(c)>=0;case n.NOT_CONTAINS:return u.indexOf(c)<0;case n.EQUALS:return u===c;case n.NOT_EQUAL:return u!=c;case n.STARTS_WITH:return 0===u.indexOf(c);case n.ENDS_WITH:var f=u.lastIndexOf(c);return f>=0&&f===u.length-c.length;default:return!1}},Fn([_e("eValue-index0-1")],n.prototype,"eValueFrom1",void 0),Fn([_e("eValue-index1-1")],n.prototype,"eValueTo1",void 0),Fn([_e("eValue-index0-2")],n.prototype,"eValueFrom2",void 0),Fn([_e("eValue-index1-2")],n.prototype,"eValueTo2",void 0),n}(ht),Hp=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),Ea=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},Pl=function(p){function n(){return null!==p&&p.apply(this,arguments)||this}return Hp(n,p),n.prototype.postConstruct=function(){this.resetTemplate()},n.prototype.resetTemplate=function(t){this.setTemplate('\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eFloatingFilterInput"></ag-input-text-field>\n            </div>\n        ',t)},n.prototype.getDefaultDebounceMs=function(){return 500},n.prototype.onParentModelChanged=function(t,o){this.isEventFromFloatingFilter(o)||(this.setLastTypeFromModel(t),this.eFloatingFilterInput.setValue(this.getTextFromModel(t)),this.setEditable(this.canWeEditAfterModelFromParentFilter(t)))},n.prototype.init=function(t){p.prototype.init.call(this,t),this.params=t,this.applyActive=qi.isUseApplyButton(this.params.filterParams);var o=this.params.filterParams.allowedCharPattern;if(null!=o&&this.resetTemplate({eFloatingFilterInput:{allowedCharPattern:o}}),!this.isReadOnly()){var u=qi.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),c=De(this.syncUpWithParentFilter.bind(this),u),f=this.eFloatingFilterInput.getGui();this.addManagedListener(f,"input",c),this.addManagedListener(f,"keypress",c),this.addManagedListener(f,"keydown",c)}var g=t.column.getDefinition();(this.isReadOnly()||g.filterParams&&g.filterParams.filterOptions&&1===g.filterParams.filterOptions.length&&"inRange"===g.filterParams.filterOptions[0])&&this.eFloatingFilterInput.setDisabled(!0);var C=this.columnModel.getDisplayNameForColumn(t.column,"header",!0),O=this.gridOptionsWrapper.getLocaleTextFunc();this.eFloatingFilterInput.setInputAriaLabel(C+" "+O("ariaFilterInput","Filter Input"))},n.prototype.syncUpWithParentFilter=function(t){var o=this;if(!this.applyActive||t.key===ye.ENTER){var c=this.eFloatingFilterInput.getValue();this.params.filterParams.trimInput&&(c=Nn.trimInput(c),this.eFloatingFilterInput.setValue(c,!0)),this.params.parentFilterInstance(function(f){f&&f.onFloatingFilterChanged(o.getLastType()||null,c||null)})}},n.prototype.conditionToString=function(t,o){return t.type==ht.IN_RANGE||2===(o||{}).numberOfInputs?t.filter+"-"+t.filterTo:null!=t.filter?""+t.filter:""+t.type},n.prototype.setEditable=function(t){this.eFloatingFilterInput.setDisabled(!t)},Ea([I("columnModel")],n.prototype,"columnModel",void 0),Ea([_e("eFloatingFilterInput")],n.prototype,"eFloatingFilterInput",void 0),Ea([Ee],n.prototype,"postConstruct",null),n}(wl),Up=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),$p=function(p){function n(){return null!==p&&p.apply(this,arguments)||this}return Up(n,p),n.prototype.getDefaultFilterOptions=function(){return Sl.DEFAULT_FILTER_OPTIONS},n}(Pl),jp=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),Kp=function(p){function n(){return null!==p&&p.apply(this,arguments)||this}return jp(n,p),n.prototype.getDefaultFilterOptions=function(){return Nn.DEFAULT_FILTER_OPTIONS},n}(Pl),Kt=function(){function p(n,t){var o=this;void 0===t&&(t=!1),this.destroyFuncs=[],this.touching=!1,this.eventService=new Bt,this.eElement=n,this.preventMouseClick=t;var u=this.onTouchStart.bind(this),c=this.onTouchMove.bind(this),f=this.onTouchEnd.bind(this);this.eElement.addEventListener("touchstart",u,{passive:!0}),this.eElement.addEventListener("touchmove",c,{passive:!0}),this.eElement.addEventListener("touchend",f,{passive:!1}),this.destroyFuncs.push(function(){o.eElement.removeEventListener("touchstart",u,{passive:!0}),o.eElement.removeEventListener("touchmove",c,{passive:!0}),o.eElement.removeEventListener("touchend",f,{passive:!1})})}return p.prototype.getActiveTouch=function(n){for(var t=0;t<n.length;t++)if(n[t].identifier===this.touchStart.identifier)return n[t];return null},p.prototype.addEventListener=function(n,t){this.eventService.addEventListener(n,t)},p.prototype.removeEventListener=function(n,t){this.eventService.removeEventListener(n,t)},p.prototype.onTouchStart=function(n){var t=this;if(!this.touching){this.touchStart=n.touches[0],this.touching=!0,this.moved=!1;var o=this.touchStart;window.setTimeout(function(){t.touching&&t.touchStart===o&&!t.moved&&(t.moved=!0,t.eventService.dispatchEvent({type:p.EVENT_LONG_TAP,touchStart:t.touchStart,touchEvent:n}))},500)}},p.prototype.onTouchMove=function(n){if(this.touching){var t=this.getActiveTouch(n.touches);t&&!sa(t,this.touchStart,4)&&(this.moved=!0)}},p.prototype.onTouchEnd=function(n){this.touching&&(this.moved||(this.eventService.dispatchEvent({type:p.EVENT_TAP,touchStart:this.touchStart}),this.checkForDoubleTap()),this.preventMouseClick&&n.cancelable&&n.preventDefault(),this.touching=!1)},p.prototype.checkForDoubleTap=function(){var n=(new Date).getTime();this.lastTapTime&&this.lastTapTime>0&&n-this.lastTapTime>p.DOUBLE_TAP_MILLIS?(this.eventService.dispatchEvent({type:p.EVENT_DOUBLE_TAP,touchStart:this.touchStart}),this.lastTapTime=null):this.lastTapTime=n},p.prototype.destroy=function(){this.destroyFuncs.forEach(function(n){return n()})},p.EVENT_TAP="tap",p.EVENT_DOUBLE_TAP="doubleTap",p.EVENT_LONG_TAP="longTap",p.DOUBLE_TAP_MILLIS=500,p}(),zp=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),Kr=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},Oa=function(p){function n(t){var o=p.call(this)||this;return t||o.setTemplate(n.TEMPLATE),o}return zp(n,p),n.prototype.attachCustomElements=function(t,o,u,c,f){this.eSortOrder=t,this.eSortAsc=o,this.eSortDesc=u,this.eSortMixed=c,this.eSortNone=f},n.prototype.setupSort=function(t,o){var u=this;void 0===o&&(o=!1),this.column=t,this.suppressOrder=o,this.setupMultiSortIndicator(),!this.column.getColDef().sortable||(this.addInIcon("sortAscending",this.eSortAsc,t),this.addInIcon("sortDescending",this.eSortDesc,t),this.addInIcon("sortUnSort",this.eSortNone,t),this.addManagedListener(this.eventService,V.EVENT_SORT_CHANGED,function(){return u.onSortChanged()}),this.addManagedListener(this.eventService,V.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return u.onSortChanged()}),this.onSortChanged())},n.prototype.addInIcon=function(t,o,u){if(null!=o){var c=dt(t,this.gridOptionsWrapper,u);c&&o.appendChild(c)}},n.prototype.onSortChanged=function(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()},n.prototype.updateIcons=function(){var t=this.sortController.getDisplaySortForColumn(this.column);if(this.eSortAsc&&this.eSortAsc.classList.toggle("ag-hidden",!("asc"===t)),this.eSortDesc&&this.eSortDesc.classList.toggle("ag-hidden",!("desc"===t)),this.eSortNone){var c=!this.column.getColDef().unSortIcon&&!this.gridOptionsWrapper.isUnSortIcon();this.eSortNone.classList.toggle("ag-hidden",c||!(null==t))}},n.prototype.setupMultiSortIndicator=function(){var t=this;this.addInIcon("sortUnSort",this.eSortMixed,this.column);var o=this.column.getColDef().showRowGroup;this.gridOptionsWrapper.isColumnsSortingCoupledToGroup()&&o&&(this.addManagedListener(this.eventService,V.EVENT_SORT_CHANGED,function(){return t.updateMultiSortIndicator()}),this.addManagedListener(this.eventService,V.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return t.updateMultiSortIndicator()}),this.updateMultiSortIndicator())},n.prototype.updateMultiSortIndicator=function(){if(this.eSortMixed){var t="mixed"===this.sortController.getDisplaySortForColumn(this.column);this.eSortMixed.classList.toggle("ag-hidden",!t)}},n.prototype.updateSortOrder=function(){var t=this;if(this.eSortOrder){var u=this.sortController.getColumnsWithSortingOrdered(),c=this.sortController.getDisplaySortIndexForColumn(this.column)??-1,f=u.some(function(C){return t.sortController.getDisplaySortIndexForColumn(C)??!1});at(this.eSortOrder,c>=0&&f),c>=0?this.eSortOrder.innerHTML=(c+1).toString():kt(this.eSortOrder)}},n.TEMPLATE='<span class="ag-sort-indicator-container">\n            <span ref="eSortOrder" class="ag-sort-indicator-icon ag-sort-order ag-hidden" aria-hidden="true"></span>\n            <span ref="eSortAsc" class="ag-sort-indicator-icon ag-sort-ascending-icon ag-hidden" aria-hidden="true"></span>\n            <span ref="eSortDesc" class="ag-sort-indicator-icon ag-sort-descending-icon ag-hidden" aria-hidden="true"></span>\n            <span ref="eSortMixed" class="ag-sort-indicator-icon ag-sort-mixed-icon ag-hidden" aria-hidden="true"></span>\n            <span ref="eSortNone" class="ag-sort-indicator-icon ag-sort-none-icon ag-hidden" aria-hidden="true"></span>\n        </span>',Kr([_e("eSortOrder")],n.prototype,"eSortOrder",void 0),Kr([_e("eSortAsc")],n.prototype,"eSortAsc",void 0),Kr([_e("eSortDesc")],n.prototype,"eSortDesc",void 0),Kr([_e("eSortMixed")],n.prototype,"eSortMixed",void 0),Kr([_e("eSortNone")],n.prototype,"eSortNone",void 0),Kr([I("columnModel")],n.prototype,"columnModel",void 0),Kr([I("sortController")],n.prototype,"sortController",void 0),n}(je),Yp=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),Ht=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},Xp=function(p){function n(){var t=null!==p&&p.apply(this,arguments)||this;return t.lastMovingChanged=0,t}return Yp(n,p),n.prototype.destroy=function(){p.prototype.destroy.call(this)},n.prototype.refresh=function(t){return this.params=t,this.workOutTemplate()==this.currentTemplate&&this.workOutShowMenu()==this.currentShowMenu&&this.workOutSort()==this.currentSort&&(this.setDisplayName(t),!0)},n.prototype.workOutTemplate=function(){var t=ai(this.params.template,n.TEMPLATE);return t&&t.trim?t.trim():t},n.prototype.init=function(t){this.params=t,this.currentTemplate=this.workOutTemplate(),this.setTemplate(this.currentTemplate),this.setupTap(),this.setupIcons(t.column),this.setMenu(),this.setupSort(),this.setupFilterIcon(),this.setDisplayName(t)},n.prototype.setDisplayName=function(t){if(this.currentDisplayName!=t.displayName){this.currentDisplayName=t.displayName;var o=rr(this.currentDisplayName);this.eText&&(this.eText.innerHTML=o)}},n.prototype.setupIcons=function(t){this.addInIcon("menu",this.eMenu,t),this.addInIcon("filter",this.eFilter,t)},n.prototype.addInIcon=function(t,o,u){if(null!=o){var c=dt(t,this.gridOptionsWrapper,u);c&&o.appendChild(c)}},n.prototype.setupTap=function(){var t=this,o=this.gridOptionsWrapper;if(!o.isSuppressTouch()){var u=new Kt(this.getGui(),!0),c=o.isSuppressMenuHide(),f=c&&a(this.eMenu),g=f?new Kt(this.eMenu,!0):u;this.params.enableMenu&&this.addManagedListener(g,Kt[f?"EVENT_TAP":"EVENT_LONG_TAP"],function(R){o.getApi().showColumnMenuAfterMouseClick(t.params.column,R.touchStart)}),this.params.enableSorting&&this.addManagedListener(u,Kt.EVENT_TAP,function(R){c&&t.eMenu.contains(R.touchStart.target)||t.sortController.progressSort(t.params.column,!1,"uiColumnSorted")}),this.addDestroyFunc(function(){return u.destroy()}),f&&this.addDestroyFunc(function(){return g.destroy()})}},n.prototype.workOutShowMenu=function(){var t=!this.gridOptionsWrapper.isSuppressMenuHide(),o=Nr()&&t;return this.params.enableMenu&&!o},n.prototype.setMenu=function(){var t=this;if(this.eMenu){if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu)return void Br(this.eMenu);var o=this.gridOptionsWrapper.isSuppressMenuHide();this.addManagedListener(this.eMenu,"click",function(){return t.showMenu(t.eMenu)}),this.eMenu.classList.toggle("ag-header-menu-always-show",o)}},n.prototype.showMenu=function(t){t||(t=this.eMenu),this.menuFactory.showMenuAfterButtonClick(this.params.column,t,"columnMenu")},n.prototype.workOutSort=function(){return this.params.enableSorting},n.prototype.setupSort=function(){var t=this;if(this.currentSort=this.params.enableSorting,this.eSortIndicator||(this.eSortIndicator=this.context.createBean(new Oa(!0)),this.eSortIndicator.attachCustomElements(this.eSortOrder,this.eSortAsc,this.eSortDesc,this.eSortMixed,this.eSortNone)),this.eSortIndicator.setupSort(this.params.column),this.currentSort){var o=this.gridOptionsWrapper.isMultiSortKeyCtrl();this.addManagedListener(this.params.column,$e.EVENT_MOVING_CHANGED,function(){t.lastMovingChanged=(new Date).getTime()}),this.eLabel&&this.addManagedListener(this.eLabel,"click",function(c){var f=t.params.column.isMoving(),g=(new Date).getTime();f||g-t.lastMovingChanged<50||t.params.progressSort(o?c.ctrlKey||c.metaKey:c.shiftKey)});var u=function(){var c;if(t.addOrRemoveCssClass("ag-header-cell-sorted-asc",t.params.column.isSortAscending()),t.addOrRemoveCssClass("ag-header-cell-sorted-desc",t.params.column.isSortDescending()),t.addOrRemoveCssClass("ag-header-cell-sorted-none",t.params.column.isSortNone()),t.params.column.getColDef().showRowGroup){var g=null===(c=t.columnModel.getSourceColumnsForGroupColumn(t.params.column))||void 0===c?void 0:c.every(function(O){return t.params.column.getSort()==O.getSort()});t.addOrRemoveCssClass("ag-header-cell-sorted-mixed",!g)}};this.addManagedListener(this.eventService,V.EVENT_SORT_CHANGED,u),this.addManagedListener(this.eventService,V.EVENT_COLUMN_ROW_GROUP_CHANGED,u)}},n.prototype.setupFilterIcon=function(){!this.eFilter||(this.addManagedListener(this.params.column,$e.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.onFilterChanged())},n.prototype.onFilterChanged=function(){var t=this.params.column.isFilterActive();this.eFilter.classList.toggle("ag-hidden",!t)},n.TEMPLATE='<div class="ag-cell-label-container" role="presentation">\n            <span ref="eMenu" class="ag-header-icon ag-header-cell-menu-button" aria-hidden="true"></span>\n            <div ref="eLabel" class="ag-header-cell-label" role="presentation">\n                <span ref="eText" class="ag-header-cell-text"></span>\n                <span ref="eFilter" class="ag-header-icon ag-header-label-icon ag-filter-icon" aria-hidden="true"></span>\n                <ag-sort-indicator ref="eSortIndicator"></ag-sort-indicator>\n            </div>\n        </div>',Ht([I("sortController")],n.prototype,"sortController",void 0),Ht([I("menuFactory")],n.prototype,"menuFactory",void 0),Ht([I("columnModel")],n.prototype,"columnModel",void 0),Ht([_e("eFilter")],n.prototype,"eFilter",void 0),Ht([_e("eSortIndicator")],n.prototype,"eSortIndicator",void 0),Ht([_e("eMenu")],n.prototype,"eMenu",void 0),Ht([_e("eLabel")],n.prototype,"eLabel",void 0),Ht([_e("eText")],n.prototype,"eText",void 0),Ht([_e("eSortOrder")],n.prototype,"eSortOrder",void 0),Ht([_e("eSortAsc")],n.prototype,"eSortAsc",void 0),Ht([_e("eSortDesc")],n.prototype,"eSortDesc",void 0),Ht([_e("eSortMixed")],n.prototype,"eSortMixed",void 0),Ht([_e("eSortNone")],n.prototype,"eSortNone",void 0),n}(je),qp=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),wa=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},Zp=function(p){function n(){return p.call(this,n.TEMPLATE)||this}return qp(n,p),n.prototype.destroy=function(){p.prototype.destroy.call(this)},n.prototype.init=function(t){this.params=t,this.checkWarnings(),this.setupLabel(),this.addGroupExpandIcon(),this.setupExpandIcons()},n.prototype.checkWarnings=function(){this.params.template&&z(function(){return console.warn("AG Grid: A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)")},"HeaderGroupComp.templateNotSupported")},n.prototype.setupExpandIcons=function(){var t=this;this.addInIcon("columnGroupOpened","agOpened"),this.addInIcon("columnGroupClosed","agClosed");var o=function(f){if(!H(f)){var g=!t.params.columnGroup.isExpanded();t.columnModel.setColumnGroupOpened(t.params.columnGroup.getProvidedColumnGroup(),g,"uiColumnExpanded")}};this.addTouchAndClickListeners(this.eCloseIcon,o),this.addTouchAndClickListeners(this.eOpenIcon,o);var u=function(f){F(f)};this.addManagedListener(this.eCloseIcon,"dblclick",u),this.addManagedListener(this.eOpenIcon,"dblclick",u),this.addManagedListener(this.getGui(),"dblclick",o),this.updateIconVisibility();var c=this.params.columnGroup.getProvidedColumnGroup();this.addManagedListener(c,ot.EVENT_EXPANDED_CHANGED,this.updateIconVisibility.bind(this)),this.addManagedListener(c,ot.EVENT_EXPANDABLE_CHANGED,this.updateIconVisibility.bind(this))},n.prototype.addTouchAndClickListeners=function(t,o){var u=new Kt(t,!0);this.addManagedListener(u,Kt.EVENT_TAP,o),this.addDestroyFunc(function(){return u.destroy()}),this.addManagedListener(t,"click",o)},n.prototype.updateIconVisibility=function(){if(this.params.columnGroup.isExpandable()){var o=this.params.columnGroup.isExpanded();at(this.eOpenIcon,o),at(this.eCloseIcon,!o)}else at(this.eOpenIcon,!1),at(this.eCloseIcon,!1)},n.prototype.addInIcon=function(t,o){var u=dt(t,this.gridOptionsWrapper,null);u&&this.getRefElement(o).appendChild(u)},n.prototype.addGroupExpandIcon=function(){if(!this.params.columnGroup.isExpandable())return at(this.eOpenIcon,!1),void at(this.eCloseIcon,!1)},n.prototype.setupLabel=function(){var t=this.params.displayName;if(a(t)){var o=rr(t);this.getRefElement("agLabel").innerHTML=o}},n.TEMPLATE='<div class="ag-header-group-cell-label" ref="agContainer" role="presentation">\n            <span ref="agLabel" class="ag-header-group-text" role="presentation"></span>\n            <span ref="agOpened" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"></span>\n            <span ref="agClosed" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"></span>\n        </div>',wa([I("columnModel")],n.prototype,"columnModel",void 0),wa([_e("agOpened")],n.prototype,"eOpenIcon",void 0),wa([_e("agClosed")],n.prototype,"eCloseIcon",void 0),n}(je),Jp=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),_i=function(p){function n(){return null!==p&&p.apply(this,arguments)||this}return Jp(n,p),n.prototype.isPopup=function(){return!0},n.prototype.setParentComponent=function(t){t.addCssClass("ag-has-popup"),p.prototype.setParentComponent.call(this,t)},n.prototype.destroy=function(){var t=this.parentComponent;t&&t.isAlive()&&t.getGui().classList.remove("ag-has-popup"),p.prototype.destroy.call(this)},n}(je),Qp=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),td=function(p){function n(){return p.call(this,n.TEMPLATE)||this}return Qp(n,p),n.prototype.init=function(t){this.params=t,this.focusAfterAttached=t.cellStartedEdit,this.eTextArea.setMaxLength(t.maxLength||200).setCols(t.cols||60).setRows(t.rows||10),a(t.value)&&this.eTextArea.setValue(t.value.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this))},n.prototype.onKeyDown=function(t){var o=t.key;(o===ye.LEFT||o===ye.UP||o===ye.RIGHT||o===ye.DOWN||t.shiftKey&&o===ye.ENTER)&&t.stopPropagation()},n.prototype.afterGuiAttached=function(){var t=this.gridOptionsWrapper.getLocaleTextFunc();this.eTextArea.setInputAriaLabel(t("ariaInputEditor","Input Editor")),this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus()},n.prototype.getValue=function(){return this.params.parseValue(this.eTextArea.getValue())},n.TEMPLATE='<div class="ag-large-text" tabindex="0">\n            <ag-input-text-area ref="eTextArea" class="ag-large-text-input"></ag-input-text-area>\n        </div>',function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);u>3&&c&&Object.defineProperty(n,t,c)}([_e("eTextArea")],n.prototype,"eTextArea",void 0),n}(_i),rd=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),Dl=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},Rl=function(p){function n(){var t=p.call(this,'<div class="ag-cell-edit-wrapper"><ag-select class="ag-cell-editor" ref="eSelect"></ag-select></div>')||this;return t.startedByEnter=!1,t}return rd(n,p),n.prototype.init=function(t){var o=this;if(this.focusAfterAttached=t.cellStartedEdit,s(t.values))console.warn("AG Grid: no values found for select cellEditor");else{this.startedByEnter=null!=t.eventKey&&t.eventKey===ye.ENTER;var u=!1;t.values.forEach(function(c){var f={value:c},g=o.valueFormatterService.formatValue(t.column,null,c);f.text=null!=g?g:c,o.eSelect.addOption(f),u=u||t.value===c}),u?this.eSelect.setValue(t.value,!0):t.values.length&&this.eSelect.setValue(t.values[0],!0),this.gridOptionsWrapper.isFullRowEdit()||this.eSelect.onValueChange(function(){return t.stopEditing()})}},n.prototype.afterGuiAttached=function(){this.focusAfterAttached&&this.eSelect.getFocusableElement().focus(),this.startedByEnter&&this.eSelect.showPicker()},n.prototype.focusIn=function(){this.eSelect.getFocusableElement().focus()},n.prototype.getValue=function(){return this.eSelect.getValue()},n.prototype.isPopup=function(){return!1},Dl([I("valueFormatterService")],n.prototype,"valueFormatterService",void 0),Dl([_e("eSelect")],n.prototype,"eSelect",void 0),n}(_i),id=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),nd=function(p){function n(){var t=p.call(this)||this;return z(function(){return console.warn('AG Grid: The PopupSelectCellEditor (agPopupSelectCellEditor) is deprecated. Instead use {cellEditor: "agSelectCellEditor", cellEditorPopup: true} ')},"PopupSelectCellEditor.deprecated"),t}return id(n,p),n.prototype.isPopup=function(){return!0},n}(Rl),od=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),Sa=function(p){function n(){return p.call(this,n.TEMPLATE)||this}return od(n,p),n.prototype.init=function(t){this.params=t;var u,o=this.eInput;t.cellStartedEdit?(this.focusAfterAttached=!0,t.eventKey===ye.BACKSPACE||t.eventKey===ye.DELETE?u="":t.charPress?u=t.charPress:(u=this.getStartValue(t),t.eventKey!==ye.F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,u=this.getStartValue(t)),null!=u&&o.setValue(u,!0),this.addManagedListener(o.getGui(),"keydown",function(c){var f=c.key;(f===ye.PAGE_UP||f===ye.PAGE_DOWN)&&c.preventDefault()})},n.prototype.afterGuiAttached=function(){var t=this.gridOptionsWrapper.getLocaleTextFunc(),o=this.eInput;if(o.setInputAriaLabel(t("ariaInputEditor","Input Editor")),this.focusAfterAttached){ci()||o.getFocusableElement().focus();var u=o.getInputElement();if(this.highlightAllOnFocus)u.select();else{var c=o.getValue(),f=a(c)&&c.length||0;f&&u.setSelectionRange(f,f)}}},n.prototype.focusIn=function(){var t=this.eInput,o=t.getFocusableElement(),u=t.getInputElement();o.focus(),u.select()},n.prototype.getValue=function(){return this.params.parseValue(this.eInput.getValue())},n.prototype.getStartValue=function(t){return t.useFormatter||t.column.getColDef().refData?t.formatValue(t.value):t.value},n.prototype.isPopup=function(){return!1},n.TEMPLATE='<div class="ag-cell-edit-wrapper"><ag-input-text-field class="ag-cell-editor" ref="eInput"></ag-input-text-field></div>',function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);u>3&&c&&Object.defineProperty(n,t,c)}([_e("eInput")],n.prototype,"eInput",void 0),n}(_i),sd=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),ld=function(p){function n(){var t=p.call(this)||this;return z(function(){return console.warn('AG Grid: The PopupTextCellEditor (agPopupTextCellEditor) is deprecated. Instead use {cellEditor: "agTextCellEditor", cellEditorPopup: true} ')},"PopupTextCellEditor.deprecated"),t}return sd(n,p),n.prototype.isPopup=function(){return!0},n}(Sa),ud=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),hd=function(p){function n(){var t=p.call(this,n.TEMPLATE)||this;return t.refreshCount=0,t}return ud(n,p),n.prototype.init=function(t){this.eValue=this.queryForHtmlElement(".ag-value-change-value"),this.eDelta=this.queryForHtmlElement(".ag-value-change-delta"),this.refresh(t)},n.prototype.showDelta=function(t,o){var u=Math.abs(o),c=t.formatValue(u),f=a(c)?c:u,g=o>=0;this.eDelta.innerHTML=g?"\u2191"+f:"\u2193"+f,this.eDelta.classList.toggle("ag-value-change-delta-up",g),this.eDelta.classList.toggle("ag-value-change-delta-down",!g)},n.prototype.setTimerToRemoveDelta=function(){var t=this;this.refreshCount++;var o=this.refreshCount;window.setTimeout(function(){o===t.refreshCount&&t.hideDeltaValue()},2e3)},n.prototype.hideDeltaValue=function(){this.eValue.classList.remove("ag-value-change-value-highlight"),kt(this.eDelta)},n.prototype.refresh=function(t){var o=t.value;return o!==this.lastValue&&(a(t.valueFormatted)?this.eValue.innerHTML=t.valueFormatted:a(t.value)?this.eValue.innerHTML=o:kt(this.eValue),!this.filterManager.isSuppressFlashingCellsBecauseFiltering())&&("number"==typeof o&&"number"==typeof this.lastValue&&this.showDelta(t,o-this.lastValue),this.lastValue&&this.eValue.classList.add("ag-value-change-value-highlight"),this.setTimerToRemoveDelta(),this.lastValue=o,!0)},n.TEMPLATE='<span><span class="ag-value-change-delta"></span><span class="ag-value-change-value"></span></span>',function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);u>3&&c&&Object.defineProperty(n,t,c)}([I("filterManager")],n.prototype,"filterManager",void 0),n}(je),fd=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),vd=function(p){function n(){var t=p.call(this,n.TEMPLATE)||this;return t.refreshCount=0,t.eCurrent=t.queryForHtmlElement(".ag-value-slide-current"),t}return fd(n,p),n.prototype.init=function(t){this.refresh(t)},n.prototype.addSlideAnimation=function(){var t=this;this.refreshCount++;var o=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious),this.ePrevious=mt('<span class="ag-value-slide-previous ag-value-slide-out"></span>'),this.ePrevious.innerHTML=this.eCurrent.innerHTML,this.getGui().insertBefore(this.ePrevious,this.eCurrent),window.setTimeout(function(){o===t.refreshCount&&t.ePrevious.classList.add("ag-value-slide-out-end")},50),window.setTimeout(function(){o===t.refreshCount&&(t.getGui().removeChild(t.ePrevious),t.ePrevious=null)},3e3)},n.prototype.refresh=function(t){var o=t.value;return s(o)&&(o=""),o!==this.lastValue&&!this.filterManager.isSuppressFlashingCellsBecauseFiltering()&&(this.addSlideAnimation(),this.lastValue=o,a(t.valueFormatted)?this.eCurrent.innerHTML=t.valueFormatted:a(t.value)?this.eCurrent.innerHTML=o:kt(this.eCurrent),!0)},n.TEMPLATE='<span>\n            <span class="ag-value-slide-current"></span>\n        </span>',function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);u>3&&c&&Object.defineProperty(n,t,c)}([I("filterManager")],n.prototype,"filterManager",void 0),n}(je),or=(()=>(function(p){p[p.Above=0]="Above",p[p.Below=1]="Below"}(or||(or={})),or))(),Ke=function(){function p(n){this.rowIndex=null,this.key=null,this.childrenMapped={},this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=p.OBJECT_ID_SEQUENCE++,this.__autoHeights={},this.alreadyRendered=!1,this.highlighted=null,this.selected=!1,this.onRowHeightChangedDebounced=De(this.onRowHeightChanged.bind(this),100),this.beans=n}return p.prototype.setData=function(n){this.setDataCommon(n,!1)},p.prototype.updateData=function(n){this.setDataCommon(n,!0)},p.prototype.setDataCommon=function(n,t){var o=this.data;this.data=n,this.beans.valueCache.onDataChanged(),this.updateDataOnDetailNode(),this.checkRowSelectable();var u=this.createDataChangedEvent(n,o,t);this.dispatchLocalEvent(u)},p.prototype.updateDataOnDetailNode=function(){this.detailNode&&(this.detailNode.data=this.data)},p.prototype.createDataChangedEvent=function(n,t,o){return{type:p.EVENT_DATA_CHANGED,node:this,oldData:t,newData:n,update:o}},p.prototype.createLocalRowEvent=function(n){return{type:n,node:this}},p.prototype.getRowIndexString=function(){return this.rowPinned===ee.PINNED_TOP?"t-"+this.rowIndex:this.rowPinned===ee.PINNED_BOTTOM?"b-"+this.rowIndex:this.rowIndex.toString()},p.prototype.createDaemonNode=function(){var n=new p(this.beans);return n.id=this.id,n.data=this.data,n.daemon=!0,n.selected=this.selected,n.level=this.level,n},p.prototype.setDataAndId=function(n,t){var o=a(this.id)?this.createDaemonNode():null,u=this.data;this.data=n,this.updateDataOnDetailNode(),this.setId(t),this.beans.selectionService.syncInRowNode(this,o),this.checkRowSelectable();var c=this.createDataChangedEvent(n,u,!1);this.dispatchLocalEvent(c)},p.prototype.checkRowSelectable=function(){var n=this.beans.gridOptionsWrapper.getIsRowSelectableFunc();this.setRowSelectable(!n||n(this))},p.prototype.setRowSelectable=function(n){if(this.selectable!==n&&(this.selectable=n,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(p.EVENT_SELECTABLE_CHANGED)),this.beans.gridOptionsWrapper.isGroupSelectsChildren())){var o=this.calculateSelectedFromChildren();this.setSelected(o??!1)}},p.prototype.setId=function(n){var t=this.beans.gridOptionsWrapper.getRowIdFunc();if(t)if(this.data){var o=this.getGroupKeys(!0);this.id=t({data:this.data,parentKeys:o.length>0?o:void 0,level:this.level}),null!==this.id&&"string"==typeof this.id&&this.id.startsWith(p.ID_PREFIX_ROW_GROUP)&&console.error("AG Grid: Row IDs cannot start with "+p.ID_PREFIX_ROW_GROUP+", this is a reserved prefix for AG Grid's row grouping feature."),null!==this.id&&"string"!=typeof this.id&&(this.id=""+this.id)}else this.id=void 0;else this.id=n},p.prototype.getGroupKeys=function(n){void 0===n&&(n=!1);var t=[],o=this;for(n&&(o=o.parent);o&&o.level>=0;)t.push(o.key),o=o.parent;return t.reverse(),t},p.prototype.isPixelInRange=function(n){return!(!a(this.rowTop)||!a(this.rowHeight))&&n>=this.rowTop&&n<this.rowTop+this.rowHeight},p.prototype.setFirstChild=function(n){this.firstChild!==n&&(this.firstChild=n,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(p.EVENT_FIRST_CHILD_CHANGED)))},p.prototype.setLastChild=function(n){this.lastChild!==n&&(this.lastChild=n,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(p.EVENT_LAST_CHILD_CHANGED)))},p.prototype.setChildIndex=function(n){this.childIndex!==n&&(this.childIndex=n,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(p.EVENT_CHILD_INDEX_CHANGED)))},p.prototype.setRowTop=function(n){this.oldRowTop=this.rowTop,this.rowTop!==n&&(this.rowTop=n,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(p.EVENT_TOP_CHANGED)),this.setDisplayed(null!==n))},p.prototype.clearRowTopAndRowIndex=function(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)},p.prototype.setDisplayed=function(n){this.displayed!==n&&(this.displayed=n,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(p.EVENT_DISPLAYED_CHANGED)))},p.prototype.setDragging=function(n){this.dragging!==n&&(this.dragging=n,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(p.EVENT_DRAGGING_CHANGED)))},p.prototype.setHighlighted=function(n){n!==this.highlighted&&(this.highlighted=n,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(p.EVENT_HIGHLIGHT_CHANGED)))},p.prototype.setAllChildrenCount=function(n){this.allChildrenCount!==n&&(this.allChildrenCount=n,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(p.EVENT_ALL_CHILDREN_COUNT_CHANGED)))},p.prototype.setMaster=function(n){this.master!==n&&(this.master&&!n&&(this.expanded=!1),this.master=n,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(p.EVENT_MASTER_CHANGED)))},p.prototype.setGroup=function(n){this.group!==n&&(this.group&&!n&&(this.expanded=!1),this.group=n,this.updateHasChildren(),this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(p.EVENT_GROUP_CHANGED)))},p.prototype.setRowHeight=function(n,t){void 0===t&&(t=!1),this.rowHeight=n,this.rowHeightEstimated=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(p.EVENT_HEIGHT_CHANGED))},p.prototype.setRowAutoHeight=function(n,t){this.__autoHeights||(this.__autoHeights={}),this.__autoHeights[t.getId()]=n,null!=n&&(null==this.checkAutoHeightsDebounced&&(this.checkAutoHeightsDebounced=De(this.checkAutoHeights.bind(this),1)),this.checkAutoHeightsDebounced())},p.prototype.checkAutoHeights=function(){var n=!1,t=!0,o=0,u=this.__autoHeights;null!=u&&(this.beans.columnModel.getAllDisplayedAutoHeightCols().forEach(function(f){var g=u[f.getId()];null!=g?(t=!1,g>o&&(o=g)):n=!0}),!n&&((t||o<10)&&(o=this.beans.gridOptionsWrapper.getRowHeightForNode(this).height),o!=this.rowHeight&&(this.setRowHeight(o),this.onRowHeightChangedDebounced())))},p.prototype.onRowHeightChanged=function(){var n=this.beans.rowModel;n.onRowHeightChanged&&n.onRowHeightChanged()},p.prototype.setRowIndex=function(n){this.rowIndex!==n&&(this.rowIndex=n,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(p.EVENT_ROW_INDEX_CHANGED)))},p.prototype.setUiLevel=function(n){this.uiLevel!==n&&(this.uiLevel=n,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(p.EVENT_UI_LEVEL_CHANGED)))},p.prototype.setExpanded=function(n,t){if(this.expanded!==n){this.expanded=n,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(p.EVENT_EXPANDED_CHANGED));var o=Object.assign({},this.createGlobalRowEvent(V.EVENT_ROW_GROUP_OPENED),{expanded:n,event:t||null});this.beans.rowNodeEventThrottle.dispatchExpanded(o),this.beans.gridOptionsWrapper.isGroupIncludeFooter()&&this.beans.rowRenderer.refreshCells({rowNodes:[this]})}},p.prototype.createGlobalRowEvent=function(n){return{type:n,node:this,data:this.data,rowIndex:this.rowIndex,rowPinned:this.rowPinned,context:this.beans.gridOptionsWrapper.getContext(),api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi()}},p.prototype.dispatchLocalEvent=function(n){this.eventService&&this.eventService.dispatchEvent(n)},p.prototype.setDataValue=function(n,t,o){var u=this.beans.columnModel.getPrimaryColumn(n),c=this.beans.valueService.getValue(u,this),f=this.beans.valueService.setValue(this,u,t,o);return this.dispatchCellChangedEvent(u,t,c),this.checkRowSelectable(),f},p.prototype.setGroupValue=function(n,t){var o=this.beans.columnModel.getGridColumn(n);s(this.groupData)&&(this.groupData={});var u=o.getColId(),c=this.groupData[u];c!==t&&(this.groupData[u]=t,this.dispatchCellChangedEvent(o,t,c))},p.prototype.setAggData=function(n){var t=this,o=$([this.aggData,n]),u=this.aggData;this.aggData=n,this.eventService&&o.forEach(function(c){var f=t.beans.columnModel.getGridColumn(c);t.dispatchCellChangedEvent(f,t.aggData?t.aggData[c]:void 0,u?u[c]:void 0)})},p.prototype.updateHasChildren=function(){var n=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0;n!==this.__hasChildren&&(this.__hasChildren=!!n,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(p.EVENT_HAS_CHILDREN_CHANGED)))},p.prototype.hasChildren=function(){return null==this.__hasChildren&&this.updateHasChildren(),this.__hasChildren},p.prototype.isEmptyRowGroupNode=function(){return this.group&&d(this.childrenAfterGroup)},p.prototype.dispatchCellChangedEvent=function(n,t,o){this.dispatchLocalEvent({type:p.EVENT_CELL_CHANGED,node:this,column:n,newValue:t,oldValue:o})},p.prototype.resetQuickFilterAggregateText=function(){this.quickFilterAggregateText=null},p.prototype.isExpandable=function(){return!!(this.hasChildren()&&!this.footer||this.master)},p.prototype.isSelected=function(){return this.footer?this.sibling.isSelected():this.selected},p.prototype.depthFirstSearch=function(n){this.childrenAfterGroup&&this.childrenAfterGroup.forEach(function(t){return t.depthFirstSearch(n)}),n(this)},p.prototype.calculateSelectedFromChildren=function(){var n,t=!1,o=!1,u=!1;if(null===(n=this.childrenAfterGroup)||void 0===n||!n.length)return this.selectable?this.selected:null;for(var c=0;c<this.childrenAfterGroup.length;c++){var f=this.childrenAfterGroup[c],g=f.isSelected();if(!f.selectable){var C=f.calculateSelectedFromChildren();if(null===C)continue;g=C}switch(g){case!0:t=!0;break;case!1:o=!0;break;default:u=!0}}return u||t&&o?void 0:!!t||!o&&(this.selectable?this.selected:null)},p.prototype.setSelectedInitialValue=function(n){this.selected=n},p.prototype.setSelected=function(n,t,o){void 0===t&&(t=!1),void 0===o&&(o=!1),this.setSelectedParams({newValue:n,clearSelection:t,suppressFinishActions:o,rangeSelect:!1})},p.prototype.isRowPinned=function(){return this.rowPinned===ee.PINNED_TOP||this.rowPinned===ee.PINNED_BOTTOM},p.prototype.setSelectedParams=function(n){var t,o=this.beans.gridOptionsWrapper.isGroupSelectsChildren(),u=!0===n.newValue,c=!0===n.clearSelection,f=!0===n.suppressFinishActions,g=!0===n.rangeSelect,C=o&&!0===n.groupSelectsFiltered;if(void 0===this.id)return console.warn("AG Grid: cannot select node until id for node is known"),0;if(this.rowPinned)return console.warn("AG Grid: cannot select pinned rows"),0;if(this.footer)return this.sibling.setSelectedParams(n);if(g&&this.beans.selectionService.getLastSelectedNode()){var O=this.beans.selectionService.getLastSelectedNode()!==this,P=this.beans.gridOptionsWrapper.isRowSelectionMulti();if(O&&P){var R=this.doRowRangeSelection(n.newValue);return this.beans.selectionService.setLastSelectedNode(this),R}}var x=0;return C&&this.group||this.selectThisNode(u,n.event)&&x++,o&&(null===(t=this.childrenAfterGroup)||void 0===t?void 0:t.length)&&(x+=this.selectChildNodes(u,C)),f||(u&&(c||!this.beans.gridOptionsWrapper.isRowSelectionMulti())&&(x+=this.beans.selectionService.clearOtherNodes(this)),x>0&&(this.beans.selectionService.updateGroupsFromChildrenSelections(),this.beans.eventService.dispatchEvent({type:V.EVENT_SELECTION_CHANGED})),u&&this.beans.selectionService.setLastSelectedNode(this)),x},p.prototype.doRowRangeSelection=function(n){var t=this;void 0===n&&(n=!0);var o=this.beans.gridOptionsWrapper.isGroupSelectsChildren(),u=this.beans.selectionService.getLastSelectedNode(),c=this.beans.rowModel.getNodesInRangeForSelection(this,u),f=0;return c.forEach(function(C){C.group&&o||!1===n&&t===C||C.selectThisNode(n)&&f++}),this.beans.selectionService.updateGroupsFromChildrenSelections(),this.beans.eventService.dispatchEvent({type:V.EVENT_SELECTION_CHANGED}),f},p.prototype.isParentOfNode=function(n){for(var t=this.parent;t;){if(t===n)return!0;t=t.parent}return!1},p.prototype.selectThisNode=function(n,t){if(!this.selectable&&n||this.selected===n)return!1;this.selected=n,this.eventService&&this.dispatchLocalEvent(this.createLocalRowEvent(p.EVENT_ROW_SELECTED));var c=Object.assign({},this.createGlobalRowEvent(V.EVENT_ROW_SELECTED),{event:t||null});return this.beans.eventService.dispatchEvent(c),!0},p.prototype.selectChildNodes=function(n,t){var o=t?this.childrenAfterAggFilter:this.childrenAfterGroup;if(s(o))return 0;for(var u=0,c=0;c<o.length;c++)u+=o[c].setSelectedParams({newValue:n,clearSelection:!1,suppressFinishActions:!0,groupSelectsFiltered:t});return u},p.prototype.addEventListener=function(n,t){this.eventService||(this.eventService=new Bt),this.eventService.addEventListener(n,t)},p.prototype.removeEventListener=function(n,t){!this.eventService||(this.eventService.removeEventListener(n,t),this.eventService.noRegisteredListenersExist()&&(this.eventService=null))},p.prototype.onMouseEnter=function(){this.dispatchLocalEvent(this.createLocalRowEvent(p.EVENT_MOUSE_ENTER))},p.prototype.onMouseLeave=function(){this.dispatchLocalEvent(this.createLocalRowEvent(p.EVENT_MOUSE_LEAVE))},p.prototype.getFirstChildOfFirstChild=function(n){for(var t=this,o=!0,u=!1,c=null;o&&!u;){var f=t.parent;a(f)&&t.firstChild?f.rowGroupColumn===n&&(u=!0,c=f):o=!1,t=f}return u?c:null},p.prototype.isFullWidthCell=function(){var n=this.beans.gridOptionsWrapper.getIsFullWidthCellFunc();return!!n&&n({rowNode:this})},p.prototype.getRoute=function(){if(null!=this.key){for(var n=[],t=this;null!=t.key;)n.push(t.key),t=t.parent;return n.reverse()}},p.ID_PREFIX_ROW_GROUP="row-group-",p.ID_PREFIX_TOP_PINNED="t-",p.ID_PREFIX_BOTTOM_PINNED="b-",p.OBJECT_ID_SEQUENCE=0,p.EVENT_ROW_SELECTED="rowSelected",p.EVENT_DATA_CHANGED="dataChanged",p.EVENT_CELL_CHANGED="cellChanged",p.EVENT_ALL_CHILDREN_COUNT_CHANGED="allChildrenCountChanged",p.EVENT_MASTER_CHANGED="masterChanged",p.EVENT_GROUP_CHANGED="groupChanged",p.EVENT_MOUSE_ENTER="mouseEnter",p.EVENT_MOUSE_LEAVE="mouseLeave",p.EVENT_HEIGHT_CHANGED="heightChanged",p.EVENT_TOP_CHANGED="topChanged",p.EVENT_DISPLAYED_CHANGED="displayedChanged",p.EVENT_FIRST_CHILD_CHANGED="firstChildChanged",p.EVENT_LAST_CHILD_CHANGED="lastChildChanged",p.EVENT_CHILD_INDEX_CHANGED="childIndexChanged",p.EVENT_ROW_INDEX_CHANGED="rowIndexChanged",p.EVENT_EXPANDED_CHANGED="expandedChanged",p.EVENT_HAS_CHILDREN_CHANGED="hasChildrenChanged",p.EVENT_SELECTABLE_CHANGED="selectableChanged",p.EVENT_UI_LEVEL_CHANGED="uiLevelChanged",p.EVENT_HIGHLIGHT_CHANGED="rowHighlightChanged",p.EVENT_DRAGGING_CHANGED="draggingChanged",p}(),yd=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),Gn=function(){return Gn=Object.assign||function(p){for(var n,t=1,o=arguments.length;t<o;t++)for(var u in n=arguments[t])Object.prototype.hasOwnProperty.call(n,u)&&(p[u]=n[u]);return p},Gn.apply(this,arguments)},Tl=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},bl=function(p){function n(){return p.call(this,'\n            <div class="ag-selection-checkbox" role="presentation">\n                <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>\n            </div>')||this}return yd(n,p),n.prototype.postConstruct=function(){this.eCheckbox.setPassive(!0)},n.prototype.getCheckboxId=function(){return this.eCheckbox.getInputElement().id},n.prototype.onDataChanged=function(){this.onSelectionChanged()},n.prototype.onSelectableChanged=function(){this.showOrHideSelect()},n.prototype.onSelectionChanged=function(){var t=this.gridOptionsWrapper.getLocaleTextFunc(),o=this.rowNode.isSelected(),u=void 0===o?t("ariaIndeterminate","indeterminate"):!0===o?t("ariaChecked","checked"):t("ariaUnchecked","unchecked"),c=t("ariaRowToggleSelection","Press Space to toggle row selection");this.eCheckbox.setValue(o,!0),this.eCheckbox.setInputAriaLabel(c+" ("+u+")")},n.prototype.onCheckedClicked=function(t){var o=this.gridOptionsWrapper.isGroupSelectsFiltered();return this.rowNode.setSelectedParams({newValue:!1,rangeSelect:t.shiftKey,groupSelectsFiltered:o})},n.prototype.onUncheckedClicked=function(t){var o=this.gridOptionsWrapper.isGroupSelectsFiltered();return this.rowNode.setSelectedParams({newValue:!0,rangeSelect:t.shiftKey,groupSelectsFiltered:o})},n.prototype.init=function(t){var o=this;if(this.rowNode=t.rowNode,this.column=t.column,this.overrides=t.overrides,this.onSelectionChanged(),this.addGuiEventListener("click",function(g){return F(g)}),this.addGuiEventListener("dblclick",function(g){return F(g)}),this.addManagedListener(this.eCheckbox.getInputElement(),"click",function(g){var C=o.eCheckbox.getValue();void 0===o.eCheckbox.getPreviousValue()||void 0===C?0===o.onUncheckedClicked(g||{})&&o.onCheckedClicked(g):C?o.onCheckedClicked(g):o.onUncheckedClicked(g||{})}),this.addManagedListener(this.rowNode,Ke.EVENT_ROW_SELECTED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.rowNode,Ke.EVENT_DATA_CHANGED,this.onDataChanged.bind(this)),this.addManagedListener(this.rowNode,Ke.EVENT_SELECTABLE_CHANGED,this.onSelectableChanged.bind(this)),this.gridOptionsWrapper.getIsRowSelectableFunc()||"function"==typeof this.getIsVisible()){var f=this.showOrHideSelect.bind(this);this.addManagedListener(this.eventService,V.EVENT_DISPLAYED_COLUMNS_CHANGED,f),this.addManagedListener(this.rowNode,Ke.EVENT_DATA_CHANGED,f),this.addManagedListener(this.rowNode,Ke.EVENT_CELL_CHANGED,f),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")},n.prototype.showOrHideSelect=function(){var t,o,u,c,f=this.rowNode.selectable,g=this.getIsVisible();if(f)if("function"==typeof g){var C=null===(t=this.overrides)||void 0===t?void 0:t.callbackParams,O=null===(o=this.column)||void 0===o?void 0:o.createColumnFunctionCallbackParams(this.rowNode);f=!!O&&g(Gn(Gn({},C),O))}else f=g??!1;if(null===(u=this.column)||void 0===u?void 0:u.getColDef().showDisabledCheckboxes)return this.eCheckbox.setDisabled(!f),this.setVisible(!0),void this.setDisplayed(!0);null!==(c=this.overrides)&&void 0!==c&&c.removeHidden?this.setDisplayed(f):this.setVisible(f)},n.prototype.getIsVisible=function(){var t,o;return this.overrides?this.overrides.isVisible:null===(o=null===(t=this.column)||void 0===t?void 0:t.getColDef())||void 0===o?void 0:o.checkboxSelection},Tl([_e("eCheckbox")],n.prototype,"eCheckbox",void 0),Tl([Ee],n.prototype,"postConstruct",null),n}(je),md=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),Or=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},Wn=function(p){var n="function"==typeof Symbol&&Symbol.iterator,t=n&&p[n],o=0;if(t)return t.call(p);if(p&&"number"==typeof p.length)return{next:function(){return p&&o>=p.length&&(p=void 0),{value:p&&p[o++],done:!p}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")},Tt=(()=>(function(p){p[p.ToolPanel=0]="ToolPanel",p[p.HeaderCell=1]="HeaderCell",p[p.RowDrag=2]="RowDrag",p[p.ChartPanel=3]="ChartPanel"}(Tt||(Tt={})),Tt))(),zr=(()=>(function(p){p[p.Up=0]="Up",p[p.Down=1]="Down"}(zr||(zr={})),zr))(),qt=(()=>(function(p){p[p.Left=0]="Left",p[p.Right=1]="Right"}(qt||(qt={})),qt))(),Ot=function(p){function n(){var o=null!==p&&p.apply(this,arguments)||this;return o.dragSourceAndParamsList=[],o.dropTargets=[],o}var t;return md(n,p),t=n,n.prototype.init=function(){this.ePinnedIcon=$t("columnMovePin",this.gridOptionsWrapper,null),this.eHideIcon=$t("columnMoveHide",this.gridOptionsWrapper,null),this.eMoveIcon=$t("columnMoveMove",this.gridOptionsWrapper,null),this.eLeftIcon=$t("columnMoveLeft",this.gridOptionsWrapper,null),this.eRightIcon=$t("columnMoveRight",this.gridOptionsWrapper,null),this.eGroupIcon=$t("columnMoveGroup",this.gridOptionsWrapper,null),this.eAggregateIcon=$t("columnMoveValue",this.gridOptionsWrapper,null),this.ePivotIcon=$t("columnMovePivot",this.gridOptionsWrapper,null),this.eDropNotAllowedIcon=$t("dropNotAllowed",this.gridOptionsWrapper,null)},n.prototype.addDragSource=function(o,u){void 0===u&&(u=!1);var c={eElement:o.eElement,dragStartPixels:o.dragStartPixels,onDragStart:this.onDragStart.bind(this,o),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this)};this.dragSourceAndParamsList.push({params:c,dragSource:o}),this.dragService.addDragSource(c,u)},n.prototype.removeDragSource=function(o){var u=this.dragSourceAndParamsList.find(function(c){return c.dragSource===o});u&&(this.dragService.removeDragSource(u.params),vt(this.dragSourceAndParamsList,u))},n.prototype.clearDragSourceParamsList=function(){var o=this;this.dragSourceAndParamsList.forEach(function(u){return o.dragService.removeDragSource(u.params)}),this.dragSourceAndParamsList.length=0},n.prototype.nudge=function(){this.dragging&&this.onDragging(this.eventLastTime,!0)},n.prototype.onDragStart=function(o,u){this.dragging=!0,this.dragSource=o,this.eventLastTime=u,this.dragItem=this.dragSource.getDragItem(),this.lastDropTarget=this.dragSource.dragSourceDropTarget,this.dragSource.onDragStarted&&this.dragSource.onDragStarted(),this.createGhost()},n.prototype.onDragStop=function(o){if(this.eventLastTime=null,this.dragging=!1,this.dragSource.onDragStopped&&this.dragSource.onDragStopped(),this.lastDropTarget&&this.lastDropTarget.onDragStop){var u=this.createDropTargetEvent(this.lastDropTarget,o,null,null,!1);this.lastDropTarget.onDragStop(u)}this.lastDropTarget=null,this.dragItem=null,this.removeGhost()},n.prototype.onDragging=function(o,u){var f,g,C,O,c=this,P=this.getHorizontalDirection(o),R=this.getVerticalDirection(o);this.eventLastTime=o,this.positionGhost(o);var x=this.dropTargets.filter(function(q){return c.isMouseOnDropTarget(o,q)}),W=this.findCurrentDropTarget(o,x);if(W!==this.lastDropTarget)this.leaveLastTargetIfExists(o,P,R,u),null!==this.lastDropTarget&&null===W&&(null===(g=(f=this.dragSource).onGridExit)||void 0===g||g.call(f,this.dragItem)),null===this.lastDropTarget&&null!==W&&(null===(O=(C=this.dragSource).onGridEnter)||void 0===O||O.call(C,this.dragItem)),this.enterDragTargetIfExists(W,o,P,R,u),this.lastDropTarget=W;else if(W&&W.onDragging){var U=this.createDropTargetEvent(W,o,P,R,u);W.onDragging(U)}},n.prototype.getAllContainersFromDropTarget=function(o){var u=o.getSecondaryContainers?o.getSecondaryContainers():null,c=[[o.getContainer()]];return u?c.concat(u):c},n.prototype.allContainersIntersect=function(o,u){var c,f;try{for(var g=Wn(u),C=g.next();!C.done;C=g.next()){var P=C.value.getBoundingClientRect();if(0===P.width||0===P.height)return!1;if(!(o.clientX>=P.left&&o.clientX<P.right&&o.clientY>=P.top&&o.clientY<P.bottom))return!1}}catch(W){c={error:W}}finally{try{C&&!C.done&&(f=g.return)&&f.call(g)}finally{if(c)throw c.error}}return!0},n.prototype.isMouseOnDropTarget=function(o,u){var c,f,g=this.getAllContainersFromDropTarget(u),C=!1;try{for(var O=Wn(g),P=O.next();!P.done;P=O.next())if(this.allContainersIntersect(o,P.value)){C=!0;break}}catch(x){c={error:x}}finally{try{P&&!P.done&&(f=O.return)&&f.call(O)}finally{if(c)throw c.error}}return!(u.targetContainsSource&&!u.getContainer().contains(this.dragSource.eElement))&&C&&u.isInterestedIn(this.dragSource.type,this.dragSource.eElement)},n.prototype.findCurrentDropTarget=function(o,u){var c,f,g,C,O=u.length;if(0===O)return null;if(1===O)return u[0];var R=this.gridOptionsWrapper.getDocument().elementsFromPoint(o.clientX,o.clientY);try{for(var x=Wn(R),W=x.next();!W.done;W=x.next()){var U=W.value;try{for(var q=(g=void 0,Wn(u)),te=q.next();!te.done;te=q.next()){var se=te.value;if(-1!==li(this.getAllContainersFromDropTarget(se)).indexOf(U))return se}}catch(Ce){g={error:Ce}}finally{try{te&&!te.done&&(C=q.return)&&C.call(q)}finally{if(g)throw g.error}}}}catch(Ce){c={error:Ce}}finally{try{W&&!W.done&&(f=x.return)&&f.call(x)}finally{if(c)throw c.error}}return null},n.prototype.enterDragTargetIfExists=function(o,u,c,f,g){if(o){if(o.onDragEnter){var C=this.createDropTargetEvent(o,u,c,f,g);o.onDragEnter(C)}this.setGhostIcon(o.getIconName?o.getIconName():null)}},n.prototype.leaveLastTargetIfExists=function(o,u,c,f){if(this.lastDropTarget){if(this.lastDropTarget.onDragLeave){var g=this.createDropTargetEvent(this.lastDropTarget,o,u,c,f);this.lastDropTarget.onDragLeave(g)}this.setGhostIcon(null)}},n.prototype.addDropTarget=function(o){this.dropTargets.push(o)},n.prototype.removeDropTarget=function(o){this.dropTargets=this.dropTargets.filter(function(u){return u.getContainer()!==o.getContainer()})},n.prototype.hasExternalDropZones=function(){return this.dropTargets.some(function(o){return o.external})},n.prototype.findExternalZone=function(o){return this.dropTargets.filter(function(c){return c.external}).find(function(c){return c.getContainer()===o.getContainer()})||null},n.prototype.getHorizontalDirection=function(o){var u=this.eventLastTime&&this.eventLastTime.clientX,c=o.clientX;return u===c?null:u>c?qt.Left:qt.Right},n.prototype.getVerticalDirection=function(o){var u=this.eventLastTime&&this.eventLastTime.clientY,c=o.clientY;return u===c?null:u>c?zr.Up:zr.Down},n.prototype.createDropTargetEvent=function(o,u,c,f,g){var C=o.getContainer(),O=C.getBoundingClientRect(),P=this;return{event:u,x:u.clientX-O.left,y:u.clientY-O.top,vDirection:f,hDirection:c,dragSource:P.dragSource,fromNudge:g,dragItem:P.dragItem,api:P.gridApi,columnApi:P.columnApi,dropZoneTarget:C}},n.prototype.positionGhost=function(o){var u=this.eGhost;if(u){var f=u.getBoundingClientRect().height,g=bs()-2,C=Ms()-2,O=o.pageY-f/2,P=o.pageX-10,R=this.gridOptionsWrapper.getDocument(),x=R.defaultView||window,W=x.pageYOffset||R.documentElement.scrollTop,U=x.pageXOffset||R.documentElement.scrollLeft;g>0&&P+u.clientWidth>g+U&&(P=g+U-u.clientWidth),P<0&&(P=0),C>0&&O+u.clientHeight>C+W&&(O=C+W-u.clientHeight),O<0&&(O=0),u.style.left=P+"px",u.style.top=O+"px"}},n.prototype.removeGhost=function(){this.eGhost&&this.eGhostParent&&this.eGhostParent.removeChild(this.eGhost),this.eGhost=null},n.prototype.createGhost=function(){this.eGhost=mt(t.GHOST_TEMPLATE),this.mouseEventService.stampTopLevelGridCompWithGridInstance(this.eGhost);var o=this.environment.getTheme().theme;o&&this.eGhost.classList.add(o),this.eGhostIcon=this.eGhost.querySelector(".ag-dnd-ghost-icon"),this.setGhostIcon(null);var u=this.eGhost.querySelector(".ag-dnd-ghost-label"),c=this.dragSource.dragItemName;X(c)&&(c=c()),u.innerHTML=rr(c)||"",this.eGhost.style.height="25px",this.eGhost.style.top="20px",this.eGhost.style.left="20px";var f=this.gridOptionsWrapper.getDocument(),g=null;try{g=f.fullscreenElement}catch{}finally{g||(g=f.querySelector("body"))}this.eGhostParent=g,this.eGhostParent?this.eGhostParent.appendChild(this.eGhost):console.warn("AG Grid: could not find document body, it is needed for dragging columns")},n.prototype.setGhostIcon=function(o,u){void 0===u&&(u=!1),kt(this.eGhostIcon);var c=null;switch(o||(o=this.dragSource.defaultIconName||t.ICON_NOT_ALLOWED),o){case t.ICON_PINNED:c=this.ePinnedIcon;break;case t.ICON_MOVE:c=this.eMoveIcon;break;case t.ICON_LEFT:c=this.eLeftIcon;break;case t.ICON_RIGHT:c=this.eRightIcon;break;case t.ICON_GROUP:c=this.eGroupIcon;break;case t.ICON_AGGREGATE:c=this.eAggregateIcon;break;case t.ICON_PIVOT:c=this.ePivotIcon;break;case t.ICON_NOT_ALLOWED:c=this.eDropNotAllowedIcon;break;case t.ICON_HIDE:c=this.eHideIcon}this.eGhostIcon.classList.toggle("ag-shake-left-to-right",u),(c!==this.eHideIcon||!this.gridOptionsWrapper.isSuppressDragLeaveHidesColumns())&&c&&this.eGhostIcon.appendChild(c)},n.ICON_PINNED="pinned",n.ICON_MOVE="move",n.ICON_LEFT="left",n.ICON_RIGHT="right",n.ICON_GROUP="group",n.ICON_AGGREGATE="aggregate",n.ICON_PIVOT="pivot",n.ICON_NOT_ALLOWED="notAllowed",n.ICON_HIDE="hide",n.GHOST_TEMPLATE='<div class="ag-dnd-ghost ag-unselectable">\n            <span class="ag-dnd-ghost-icon ag-shake-left-to-right"></span>\n            <div class="ag-dnd-ghost-label"></div>\n        </div>',Or([I("dragService")],n.prototype,"dragService",void 0),Or([I("mouseEventService")],n.prototype,"mouseEventService",void 0),Or([I("environment")],n.prototype,"environment",void 0),Or([I("columnApi")],n.prototype,"columnApi",void 0),Or([I("gridApi")],n.prototype,"gridApi",void 0),Or([Ee],n.prototype,"init",null),Or([Pe],n.prototype,"clearDragSourceParamsList",null),t=Or([me("dragAndDropService")],n)}(Se),Bn=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),Ji=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},kn=function(p){function n(t,o,u,c,f,g){var C=p.call(this)||this;return C.cellValueFn=t,C.rowNode=o,C.column=u,C.customGui=c,C.dragStartPixels=f,C.suppressVisibilityChange=g,C.dragSource=null,C}return Bn(n,p),n.prototype.isCustomGui=function(){return null!=this.customGui},n.prototype.postConstruct=function(){if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate('<div class="ag-drag-handle ag-row-drag" aria-hidden="true"></div>'),this.getGui().appendChild(dt("rowDrag",this.beans.gridOptionsWrapper,null)),this.addDragSource()),this.checkCompatibility(),!this.suppressVisibilityChange){var t=this.beans.gridOptionsWrapper.isRowDragManaged()?new Ed(this,this.beans,this.rowNode,this.column):new Cd(this,this.beans,this.rowNode,this.column);this.createManagedBean(t,this.beans.context)}},n.prototype.setDragElement=function(t,o){this.setTemplateFromElement(t),this.addDragSource(o)},n.prototype.getSelectedNodes=function(){if(!this.beans.gridOptionsWrapper.isRowDragMultiRow())return[this.rowNode];var o=this.beans.selectionService.getSelectedNodes();return-1!==o.indexOf(this.rowNode)?o:[this.rowNode]},n.prototype.checkCompatibility=function(){var t=this.beans.gridOptionsWrapper.isRowDragManaged();this.beans.gridOptionsWrapper.isTreeData()&&t&&z(function(){return console.warn("AG Grid: If using row drag with tree data, you cannot have rowDragManaged=true")},"RowDragComp.managedAndTreeData")},n.prototype.getDragItem=function(){return{rowNode:this.rowNode,rowNodes:this.getSelectedNodes(),columns:this.column?[this.column]:void 0,defaultTextValue:this.cellValueFn()}},n.prototype.addDragSource=function(t){var o=this;void 0===t&&(t=4),this.dragSource&&this.removeDragSource();var u=this.column&&this.column.getColDef().rowDragText,c=this.gridOptionsWrapper.getLocaleTextFunc();this.dragSource={type:Tt.RowDrag,eElement:this.getGui(),dragItemName:function(){var f,g=o.getDragItem(),C=(null===(f=g.rowNodes)||void 0===f?void 0:f.length)||1;return u?u(g,C):1===C?o.cellValueFn():C+" "+c("rowDragRows","rows")},getDragItem:function(){return o.getDragItem()},dragStartPixels:t,dragSourceDomDataKey:this.beans.gridOptionsWrapper.getDomDataKey()},this.beans.dragAndDropService.addDragSource(this.dragSource,!0)},n.prototype.removeDragSource=function(){this.dragSource&&this.beans.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null},Ji([I("beans")],n.prototype,"beans",void 0),Ji([Ee],n.prototype,"postConstruct",null),Ji([Pe],n.prototype,"removeDragSource",null),n}(je),Ml=function(p){function n(t,o,u){var c=p.call(this)||this;return c.parent=t,c.rowNode=o,c.column=u,c}return Bn(n,p),n.prototype.setDisplayedOrVisible=function(t){if(t)this.parent.setDisplayed(!1);else{var o=!0,u=!1;this.column&&(o=this.column.isRowDrag(this.rowNode)||this.parent.isCustomGui(),u=X(this.column.getColDef().rowDrag)),u?(this.parent.setDisplayed(!0),this.parent.setVisible(o)):(this.parent.setDisplayed(o),this.parent.setVisible(!0))}},n}(Se),Cd=function(p){function n(t,o,u,c){var f=p.call(this,t,u,c)||this;return f.beans=o,f}return Bn(n,p),n.prototype.postConstruct=function(){this.addManagedListener(this.beans.gridOptionsWrapper,"suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.addManagedListener(this.rowNode,Ke.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Ke.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Ke.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,V.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.workOutVisibility()},n.prototype.onSuppressRowDrag=function(){this.workOutVisibility()},n.prototype.workOutVisibility=function(){var t=this.beans.gridOptionsWrapper.isSuppressRowDrag();this.setDisplayedOrVisible(t)},Ji([Ee],n.prototype,"postConstruct",null),n}(Ml),Ed=function(p){function n(t,o,u,c){var f=p.call(this,t,u,c)||this;return f.beans=o,f}return Bn(n,p),n.prototype.postConstruct=function(){this.addManagedListener(this.beans.eventService,V.EVENT_SORT_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,V.EVENT_FILTER_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,V.EVENT_COLUMN_ROW_GROUP_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,V.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Ke.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Ke.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.gridOptionsWrapper,"suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()},n.prototype.onSuppressRowDrag=function(){this.workOutVisibility()},n.prototype.workOutVisibility=function(){var o=this.beans.ctrlsService.getGridBodyCtrl().getRowDragFeature(),u=o&&o.shouldPreventRowMove(),c=this.beans.gridOptionsWrapper.isSuppressRowDrag(),f=this.beans.dragAndDropService.hasExternalDropZones();this.setDisplayedOrVisible(u&&!f||c)},Ji([Ee],n.prototype,"postConstruct",null),n}(Ml),Od=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),Vn=function(){return Vn=Object.assign||function(p){for(var n,t=1,o=arguments.length;t<o;t++)for(var u in n=arguments[t])Object.prototype.hasOwnProperty.call(n,u)&&(p[u]=n[u]);return p},Vn.apply(this,arguments)},yi=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},wd=function(p){function n(){return null!==p&&p.apply(this,arguments)||this}return Od(n,p),n.prototype.init=function(t,o,u,c,f,g,C){this.params=C,this.eGui=o,this.eCheckbox=u,this.eExpanded=c,this.eContracted=f,this.comp=t,this.compClass=g;var O=this.isTopLevelFooter(),P=this.isEmbeddedRowMismatch(),R=null==C.value,x=!1;if(this.gridOptionsWrapper.isGroupIncludeFooter()&&this.gridOptionsWrapper.isGroupHideOpenParents()){var W=C.node;W.footer&&(x=(C.colDef&&C.colDef.showRowGroup)!==(W.rowGroupColumn&&W.rowGroupColumn.getColId()))}this.cellIsBlank=!O&&(P||R||x),!this.cellIsBlank&&(this.setupShowingValueForOpenedParent(),this.findDisplayedGroupNode(),this.addFullWidthRowDraggerIfNeeded(),this.addExpandAndContract(),this.addCheckboxIfNeeded(),this.addValueElement(),this.setupIndent(),this.refreshAriaExpanded())},n.prototype.destroy=function(){p.prototype.destroy.call(this),this.expandListener=null},n.prototype.refreshAriaExpanded=function(){var t=this.params,o=t.node,u=t.eParentOfValue;if(this.expandListener&&(this.expandListener=this.expandListener()),this.isExpandable()){var c=function(){Vt(u,!!o.expanded)};this.expandListener=this.addManagedListener(o,Ke.EVENT_EXPANDED_CHANGED,c)||null,c()}else el(u)},n.prototype.isTopLevelFooter=function(){if(!this.gridOptionsWrapper.isGroupIncludeTotalFooter()||null!=this.params.value||-1!=this.params.node.level)return!1;var t=this.params.colDef;if(null==t||!0===t.showRowGroup)return!0;var u=this.columnModel.getRowGroupColumns();return!u||0===u.length||u[0].getId()===t.showRowGroup},n.prototype.isEmbeddedRowMismatch=function(){if(!this.params.fullWidth||!this.gridOptionsWrapper.isEmbedFullWidthRows())return!1;var t=this.params.pinned===ee.PINNED_LEFT,o=this.params.pinned===ee.PINNED_RIGHT,u=!t&&!o;return this.gridOptionsWrapper.isEnableRtl()?this.columnModel.isPinningLeft()?!o:!u:this.columnModel.isPinningLeft()?!t:!u},n.prototype.findDisplayedGroupNode=function(){var t=this.params.column,o=this.params.node;if(this.showingValueForOpenedParent)for(var u=o.parent;null!=u;){if(u.rowGroupColumn&&t.isRowGroupDisplayed(u.rowGroupColumn.getId())){this.displayedGroupNode=u;break}u=u.parent}s(this.displayedGroupNode)&&(this.displayedGroupNode=o)},n.prototype.setupShowingValueForOpenedParent=function(){var t=this.params.node,o=this.params.column;if(this.gridOptionsWrapper.isGroupHideOpenParents())if(t.groupData){if(null!=t.rowGroupColumn){var c=t.rowGroupColumn.getId();if(o.isRowGroupDisplayed(c))return void(this.showingValueForOpenedParent=!1)}var g=null!=t.groupData[o.getId()];this.showingValueForOpenedParent=g}else this.showingValueForOpenedParent=!1;else this.showingValueForOpenedParent=!1},n.prototype.addValueElement=function(){this.displayedGroupNode.footer?this.addFooterValue():(this.addGroupValue(),this.addChildCount())},n.prototype.addGroupValue=function(){var t=this.adjustParamsWithDetailsFromRelatedColumn(),o=this.getInnerCompDetails(t);this.comp.setInnerRenderer(o,t.valueFormatted??t.value)},n.prototype.adjustParamsWithDetailsFromRelatedColumn=function(){var t=this.displayedGroupNode.rowGroupColumn,o=this.params.column;if(!t)return this.params;if(null!=o&&!o.isRowGroupDisplayed(t.getId()))return this.params;var f=this.params,g=this.params,P=this.valueFormatterService.formatValue(t,g.node,g.value);return Vn(Vn({},f),{valueFormatted:P})},n.prototype.addFooterValue=function(){var t=this.params.footerValueGetter,o="";if(t){var u=M(this.params);u.value=this.params.value,"function"==typeof t?o=t(u):"string"==typeof t?o=this.expressionService.evaluate(t,u):console.warn("AG Grid: footerValueGetter should be either a function or a string (expression)")}else o="Total "+(null!=this.params.value?this.params.value:"");var c=this.getInnerCompDetails(this.params);this.comp.setInnerRenderer(c,o)},n.prototype.getInnerCompDetails=function(t){var o=this;if(t.fullWidth)return this.userComponentFactory.getFullWidthGroupRowInnerCellRenderer(this.gridOptions.groupRowRendererParams,t);var u=this.userComponentFactory.getInnerRendererDetails(t,t),c=function(P){return P&&P.componentClass==o.compClass};if(u&&!c(u))return u;var f=this.displayedGroupNode.rowGroupColumn,g=f?f.getColDef():void 0;if(g){var C=this.userComponentFactory.getCellRendererDetails(g,t);if(C&&!c(C))return C;if(c(C)&&g.cellRendererParams&&g.cellRendererParams.innerRenderer)return this.userComponentFactory.getInnerRendererDetails(g.cellRendererParams,t)}},n.prototype.addChildCount=function(){this.params.suppressCount||(this.addManagedListener(this.displayedGroupNode,Ke.EVENT_ALL_CHILDREN_COUNT_CHANGED,this.updateChildCount.bind(this)),this.updateChildCount())},n.prototype.updateChildCount=function(){var t=this.displayedGroupNode.allChildrenCount,o=this.isShowRowGroupForThisRow();this.comp.setChildCount(o&&null!=t&&t>=0?"("+t+")":"")},n.prototype.isShowRowGroupForThisRow=function(){if(this.gridOptionsWrapper.isTreeData())return!0;var t=this.displayedGroupNode.rowGroupColumn;if(!t)return!1;var o=this.params.column;return null==o||o.isRowGroupDisplayed(t.getId())},n.prototype.addExpandAndContract=function(){var t=this.params,o=dt("groupExpanded",this.gridOptionsWrapper,null),u=dt("groupContracted",this.gridOptionsWrapper,null);o&&this.eExpanded.appendChild(o),u&&this.eContracted.appendChild(u);var c=t.eGridCell;!this.gridOptionsWrapper.isEnableGroupEdit()&&this.isExpandable()&&!t.suppressDoubleClickExpand&&this.addManagedListener(c,"dblclick",this.onCellDblClicked.bind(this)),this.addManagedListener(this.eExpanded,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eContracted,"click",this.onExpandClicked.bind(this)),this.addManagedListener(c,"keydown",this.onKeyDown.bind(this)),this.addManagedListener(t.node,Ke.EVENT_EXPANDED_CHANGED,this.showExpandAndContractIcons.bind(this)),this.showExpandAndContractIcons();var f=this.onRowNodeIsExpandableChanged.bind(this);this.addManagedListener(this.displayedGroupNode,Ke.EVENT_ALL_CHILDREN_COUNT_CHANGED,f),this.addManagedListener(this.displayedGroupNode,Ke.EVENT_MASTER_CHANGED,f),this.addManagedListener(this.displayedGroupNode,Ke.EVENT_GROUP_CHANGED,f),this.addManagedListener(this.displayedGroupNode,Ke.EVENT_HAS_CHILDREN_CHANGED,f)},n.prototype.onExpandClicked=function(t){H(t)||(F(t),this.onExpandOrContract(t))},n.prototype.onExpandOrContract=function(t){var o=this.displayedGroupNode,u=!o.expanded;!u&&o.sticky&&this.scrollToStickyNode(o),o.setExpanded(u,t)},n.prototype.scrollToStickyNode=function(t){this.ctrlsService.getGridBodyCtrl().getScrollFeature().setVerticalScrollPosition(t.rowTop-t.stickyRowTop)},n.prototype.isExpandable=function(){if(this.showingValueForOpenedParent)return!0;var t=this.displayedGroupNode,o=this.columnModel.isPivotMode()&&t.leafGroup;if(!t.isExpandable()||t.footer||o)return!1;var c=this.params.column;return null==c||"string"!=typeof c.getColDef().showRowGroup||this.isShowRowGroupForThisRow()},n.prototype.showExpandAndContractIcons=function(){var t=this,u=t.displayedGroupNode,c=t.columnModel,f=t.params.node,g=this.isExpandable();if(g){var C=!!this.showingValueForOpenedParent||f.expanded;this.comp.setExpandedDisplayed(C),this.comp.setContractedDisplayed(!C)}else this.comp.setExpandedDisplayed(!1),this.comp.setContractedDisplayed(!1);var O=c.isPivotMode(),P=O&&u.leafGroup,R=g&&!P,x=f.footer&&-1===f.level;this.comp.addOrRemoveCssClass("ag-cell-expandable",R),this.comp.addOrRemoveCssClass("ag-row-group",R),O?this.comp.addOrRemoveCssClass("ag-pivot-leaf-group",P):x||this.comp.addOrRemoveCssClass("ag-row-group-leaf-indent",!R)},n.prototype.onRowNodeIsExpandableChanged=function(){this.showExpandAndContractIcons(),this.setIndent(),this.refreshAriaExpanded()},n.prototype.setupIndent=function(){this.params.suppressPadding||(this.addManagedListener(this.params.node,Ke.EVENT_UI_LEVEL_CHANGED,this.setIndent.bind(this)),this.setIndent())},n.prototype.setIndent=function(){if(!this.gridOptionsWrapper.isGroupHideOpenParents()){var t=this.params,o=t.node,u=!!t.colDef,c=this.gridOptionsWrapper.isTreeData(),g=!u||c||!0===t.colDef.showRowGroup?o.uiLevel:0;t.padding>=0&&z(function(){return console.warn("AG Grid: cellRendererParams.padding no longer works, it was deprecated in since v14.2 and removed in v26, configuring padding for groupCellRenderer should be done with Sass variables and themes. Please see the AG Grid documentation page for Themes, in particular the property $row-group-indent-size.")},"groupCellRenderer->doDeprecatedWay"),this.indentClass&&this.comp.addOrRemoveCssClass(this.indentClass,!1),this.indentClass="ag-row-group-indent-"+g,this.comp.addOrRemoveCssClass(this.indentClass,!0)}},n.prototype.addFullWidthRowDraggerIfNeeded=function(){var t=this;if(this.params.fullWidth&&this.params.rowDrag){var o=new kn(function(){return t.params.value},this.params.node);this.createManagedBean(o,this.context),this.eGui.insertAdjacentElement("afterbegin",o.getGui())}},n.prototype.isUserWantsSelected=function(){var t=this.params.checkbox;return"function"==typeof t||!0===t},n.prototype.addCheckboxIfNeeded=function(){var t=this,o=this.displayedGroupNode,u=this.isUserWantsSelected()&&!o.footer&&!o.rowPinned&&!o.detail;if(u){var c=new bl;this.getContext().createBean(c),c.init({rowNode:o,column:this.params.column,overrides:{isVisible:this.params.checkbox,callbackParams:this.params,removeHidden:!0}}),this.eCheckbox.appendChild(c.getGui()),this.addDestroyFunc(function(){return t.getContext().destroyBean(c)})}this.comp.setCheckboxVisible(u)},n.prototype.onKeyDown=function(t){t.key!==ye.ENTER||this.params.suppressEnterExpand||this.params.column&&this.params.column.isCellEditable(this.params.node)||this.onExpandOrContract(t)},n.prototype.onCellDblClicked=function(t){H(t)||Ie(this.eExpanded,t)||Ie(this.eContracted,t)||this.onExpandOrContract(t)},yi([I("expressionService")],n.prototype,"expressionService",void 0),yi([I("valueFormatterService")],n.prototype,"valueFormatterService",void 0),yi([I("columnModel")],n.prototype,"columnModel",void 0),yi([I("userComponentFactory")],n.prototype,"userComponentFactory",void 0),yi([I("gridOptions")],n.prototype,"gridOptions",void 0),yi([I("ctrlsService")],n.prototype,"ctrlsService",void 0),n}(Se),Sd=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),Qi=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},Al=function(p){function n(){return p.call(this,n.TEMPLATE)||this}return Sd(n,p),n.prototype.init=function(t){var o=this,u={setInnerRenderer:function(C,O){return o.setRenderDetails(C,O)},setChildCount:function(C){return o.eChildCount.innerHTML=C},addOrRemoveCssClass:function(C,O){return o.addOrRemoveCssClass(C,O)},setContractedDisplayed:function(C){return at(o.eContracted,C)},setExpandedDisplayed:function(C){return at(o.eExpanded,C)},setCheckboxVisible:function(C){return o.eCheckbox.classList.toggle("ag-invisible",!C)}},c=this.createManagedBean(new wd),f=!t.colDef,g=this.getGui();c.init(u,g,this.eCheckbox,this.eExpanded,this.eContracted,this.constructor,t),f&&Mt(g,"gridcell")},n.prototype.setRenderDetails=function(t,o){var u=this;if(t){var c=t.newAgStackInstance();if(!c)return;c.then(function(f){if(f){var g=function(){return u.context.destroyBean(f)};u.isAlive()?(u.eValue.appendChild(f.getGui()),u.addDestroyFunc(g)):g()}})}else this.eValue.innerText=o},n.prototype.destroy=function(){this.getContext().destroyBean(this.innerCellRenderer),p.prototype.destroy.call(this)},n.prototype.refresh=function(){return!1},n.TEMPLATE='<span class="ag-cell-wrapper">\n            <span class="ag-group-expanded" ref="eExpanded"></span>\n            <span class="ag-group-contracted" ref="eContracted"></span>\n            <span class="ag-group-checkbox ag-invisible" ref="eCheckbox"></span>\n            <span class="ag-group-value" ref="eValue"></span>\n            <span class="ag-group-child-count" ref="eChildCount"></span>\n        </span>',Qi([_e("eExpanded")],n.prototype,"eExpanded",void 0),Qi([_e("eContracted")],n.prototype,"eContracted",void 0),Qi([_e("eCheckbox")],n.prototype,"eCheckbox",void 0),Qi([_e("eValue")],n.prototype,"eValue",void 0),Qi([_e("eChildCount")],n.prototype,"eChildCount",void 0),n}(je),Pd=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),xl=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},Dd=function(p){function n(){return p.call(this,n.TEMPLATE)||this}return Pd(n,p),n.prototype.init=function(t){t.node.failedLoad?this.setupFailed():this.setupLoading()},n.prototype.setupFailed=function(){this.eLoadingText.innerText="ERR"},n.prototype.setupLoading=function(){var t=dt("groupLoading",this.gridOptionsWrapper,null);t&&this.eLoadingIcon.appendChild(t);var o=this.gridOptionsWrapper.getLocaleTextFunc();this.eLoadingText.innerText=o("loadingOoo","Loading")},n.prototype.refresh=function(t){return!1},n.prototype.destroy=function(){p.prototype.destroy.call(this)},n.TEMPLATE='<div class="ag-loading">\n            <span class="ag-loading-icon" ref="eLoadingIcon"></span>\n            <span class="ag-loading-text" ref="eLoadingText"></span>\n        </div>',xl([_e("eLoadingIcon")],n.prototype,"eLoadingIcon",void 0),xl([_e("eLoadingText")],n.prototype,"eLoadingText",void 0),n}(je),Rd=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),Td=function(p){function n(){return p.call(this)||this}return Rd(n,p),n.prototype.destroy=function(){p.prototype.destroy.call(this)},n.prototype.init=function(t){var o=this.gridOptionsWrapper.getOverlayLoadingTemplate()?this.gridOptionsWrapper.getOverlayLoadingTemplate():n.DEFAULT_LOADING_OVERLAY_TEMPLATE,u=this.gridOptionsWrapper.getLocaleTextFunc(),c=o.replace("[LOADING...]",u("loadingOoo","Loading..."));this.setTemplate(c)},n.DEFAULT_LOADING_OVERLAY_TEMPLATE='<span class="ag-overlay-loading-center">[LOADING...]</span>',n}(je),bd=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),Md=function(p){function n(){return p.call(this)||this}return bd(n,p),n.prototype.destroy=function(){p.prototype.destroy.call(this)},n.prototype.init=function(t){var o=this.gridOptionsWrapper.getOverlayNoRowsTemplate()?this.gridOptionsWrapper.getOverlayNoRowsTemplate():n.DEFAULT_NO_ROWS_TEMPLATE,u=this.gridOptionsWrapper.getLocaleTextFunc(),c=o.replace("[NO_ROWS_TO_SHOW]",u("noRowsToShow","No Rows To Show"));this.setTemplate(c)},n.DEFAULT_NO_ROWS_TEMPLATE='<span class="ag-overlay-no-rows-center">[NO_ROWS_TO_SHOW]</span>',n}(je),Ad=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),xd=function(p){function n(){return p.call(this,'<div class="ag-tooltip"></div>')||this}return Ad(n,p),n.prototype.init=function(t){var o=t.value;this.getGui().innerHTML=rr(o)},n}(_i),Id=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),Hn=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},Ld=function(p){function n(){var t=null!==p&&p.apply(this,arguments)||this;return t.agGridDefaults={agDateInput:Bp,agColumnHeader:Xp,agColumnGroupHeader:Zp,agSortIndicator:Oa,agTextColumnFloatingFilter:Kp,agNumberColumnFloatingFilter:$p,agDateColumnFloatingFilter:Np,agReadOnlyFloatingFilter:mp,agAnimateShowChangeCellRenderer:hd,agAnimateSlideCellRenderer:vd,agGroupCellRenderer:Al,agGroupRowRenderer:Al,agLoadingCellRenderer:Dd,agCellEditor:Sa,agTextCellEditor:Sa,agSelectCellEditor:Rl,agPopupTextCellEditor:ld,agPopupSelectCellEditor:nd,agLargeTextCellEditor:td,agTextColumnFilter:Nn,agNumberColumnFilter:Sl,agDateColumnFilter:Ol,agLoadingOverlay:Td,agNoRowsOverlay:Md,agTooltipComponent:xd},t.agDeprecatedNames={set:{newComponentName:"agSetColumnFilter",propertyHolder:"filter"},text:{newComponentName:"agTextColumnFilter",propertyHolder:"filter"},number:{newComponentName:"agNumberColumnFilter",propertyHolder:"filter"},date:{newComponentName:"agDateColumnFilter",propertyHolder:"filter"},group:{newComponentName:"agGroupCellRenderer",propertyHolder:"cellRenderer"},animateShowChange:{newComponentName:"agAnimateShowChangeCellRenderer",propertyHolder:"cellRenderer"},animateSlide:{newComponentName:"agAnimateSlideCellRenderer",propertyHolder:"cellRenderer"},select:{newComponentName:"agSelectCellEditor",propertyHolder:"cellEditor"},largeText:{newComponentName:"agLargeTextCellEditor",propertyHolder:"cellEditor"},popupSelect:{newComponentName:"agPopupSelectCellEditor",propertyHolder:"cellEditor"},popupText:{newComponentName:"agPopupTextCellEditor",propertyHolder:"cellEditor"},richSelect:{newComponentName:"agRichSelectCellEditor",propertyHolder:"cellEditor"},headerComponent:{newComponentName:"agColumnHeader",propertyHolder:"headerComponent"}},t.jsComps={},t.fwComps={},t}return Id(n,p),n.prototype.init=function(){var t=this;null!=this.gridOptions.components&&b(this.gridOptions.components,function(o,u){return t.registerJsComponent(o,u)}),null!=this.gridOptions.frameworkComponents&&b(this.gridOptions.frameworkComponents,function(o,u){return t.registerFwComponent(o,u)})},n.prototype.registerDefaultComponent=function(t,o){var u=this.translateIfDeprecated(t);this.agGridDefaults[u]?console.error("Trying to overwrite a default component. You should call registerComponent"):this.agGridDefaults[u]=o},n.prototype.registerJsComponent=function(t,o){var u=this.translateIfDeprecated(t);this.fwComps[u]?console.error("Trying to register a component that you have already registered for frameworks: "+u):this.jsComps[u]=o},n.prototype.registerFwComponent=function(t,o){z(function(){return console.warn("AG Grid: As of v27, registering components via grid property frameworkComponents is deprecated. Instead register both JavaScript AND Framework Components via the components property.")},"UserComponentRegistry.frameworkComponentsDeprecated");var c=this.translateIfDeprecated(t);this.fwComps[c]=o},n.prototype.retrieve=function(t){var o=this.translateIfDeprecated(t),u=function(P,R){return{componentFromFramework:R,component:P}},c=this.getFrameworkOverrides().frameworkComponent(o,this.gridOptions.components);if(null!=c)return u(c,!0);var f=this.fwComps[o];if(f)return u(f,!0);var g=this.jsComps[o];if(g)return u(g,this.getFrameworkOverrides().isFrameworkComponent(g));var O=this.agGridDefaults[o];return O?u(O,!1):(Object.keys(this.agGridDefaults).indexOf(o)<0&&console.warn("AG Grid: Looking for component ["+o+"] but it wasn't found."),null)},n.prototype.translateIfDeprecated=function(t){var o=this.agDeprecatedNames[t];return null!=o?(z(function(){console.warn("ag-grid. Since v15.0 component names have been renamed to be namespaced. You should rename "+o.propertyHolder+":"+t+" to "+o.propertyHolder+":"+o.newComponentName)},"DEPRECATE_COMPONENT_"+t),o.newComponentName):t},Hn([I("gridOptions")],n.prototype,"gridOptions",void 0),Hn([I("agComponentUtils")],n.prototype,"agComponentUtils",void 0),Hn([Ee],n.prototype,"init",null),Hn([me("userComponentRegistry")],n)}(Se),Fd={propertyName:"dateComponent",cellRenderer:!1},Nd={propertyName:"headerComponent",cellRenderer:!1},Gd={propertyName:"headerGroupComponent",cellRenderer:!1},Il={propertyName:"cellRenderer",cellRenderer:!0},Wd={propertyName:"cellEditor",cellRenderer:!1},Ll={propertyName:"innerRenderer",cellRenderer:!0},Bd={propertyName:"loadingOverlayComponent",cellRenderer:!1},kd={propertyName:"noRowsOverlayComponent",cellRenderer:!1},Vd={propertyName:"tooltipComponent",cellRenderer:!1},Pa={propertyName:"filter",cellRenderer:!1},Hd={propertyName:"floatingFilterComponent",cellRenderer:!1},Ud={propertyName:"toolPanel",cellRenderer:!1},$d={propertyName:"statusPanel",cellRenderer:!1},jd={propertyName:"fullWidthCellRenderer",cellRenderer:!0},Kd={propertyName:"loadingCellRenderer",cellRenderer:!0},zd={propertyName:"groupRowRenderer",cellRenderer:!0},Yd={propertyName:"detailCellRenderer",cellRenderer:!0},Xd=function(){function p(){}return p.getFloatingFilterType=function(n){return this.filterToFloatingFilterMapping[n]},p.filterToFloatingFilterMapping={set:"agSetColumnFloatingFilter",agSetColumnFilter:"agSetColumnFloatingFilter",multi:"agMultiColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",number:"agNumberColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",date:"agDateColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",text:"agTextColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"},p}(),qd=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),mi=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},Zd=function(p){function n(){return null!==p&&p.apply(this,arguments)||this}return qd(n,p),n.prototype.getHeaderCompDetails=function(t,o){return this.getCompDetails(t,Nd,"agColumnHeader",o)},n.prototype.getHeaderGroupCompDetails=function(t){var o=t.columnGroup.getColGroupDef();return this.getCompDetails(o,Gd,"agColumnGroupHeader",t)},n.prototype.getFullWidthCellRendererDetails=function(t){return this.getCompDetails(this.gridOptions,jd,null,t,!0)},n.prototype.getFullWidthLoadingCellRendererDetails=function(t){return this.getCompDetails(this.gridOptions,Kd,"agLoadingCellRenderer",t,!0)},n.prototype.getFullWidthGroupCellRendererDetails=function(t){return this.getCompDetails(this.gridOptions,zd,"agGroupRowRenderer",t,!0)},n.prototype.getFullWidthDetailCellRendererDetails=function(t){return this.getCompDetails(this.gridOptions,Yd,"agDetailCellRenderer",t,!0)},n.prototype.getInnerRendererDetails=function(t,o){return this.getCompDetails(t,Ll,null,o)},n.prototype.getFullWidthGroupRowInnerCellRenderer=function(t,o){return this.getCompDetails(t,Ll,null,o)},n.prototype.getCellRendererDetails=function(t,o){return this.getCompDetails(t,Il,null,o)},n.prototype.getCellEditorDetails=function(t,o){return this.getCompDetails(t,Wd,"agCellEditor",o,!0)},n.prototype.getFilterDetails=function(t,o,u){return this.getCompDetails(t,Pa,u,o,!0)},n.prototype.getDateCompDetails=function(t){return this.getCompDetails(this.gridOptions,Fd,"agDateInput",t,!0)},n.prototype.getLoadingOverlayCompDetails=function(t){return this.getCompDetails(this.gridOptions,Bd,"agLoadingOverlay",t,!0)},n.prototype.getNoRowsOverlayCompDetails=function(t){return this.getCompDetails(this.gridOptions,kd,"agNoRowsOverlay",t,!0)},n.prototype.getTooltipCompDetails=function(t){return this.getCompDetails(t.colDef,Vd,"agTooltipComponent",t,!0)},n.prototype.getSetFilterCellRendererDetails=function(t,o){return this.getCompDetails(t,Il,null,o)},n.prototype.getFloatingFilterCompDetails=function(t,o,u){return this.getCompDetails(t,Hd,u,o)},n.prototype.getToolPanelCompDetails=function(t,o){return this.getCompDetails(t,Ud,null,o,!0)},n.prototype.getStatusPanelCompDetails=function(t,o){return this.getCompDetails(t,$d,null,o,!0)},n.prototype.getCompDetails=function(t,o,u,c,f){var g=this;void 0===f&&(f=!1);var C=o.propertyName,O=o.cellRenderer,P=this.getCompKeys(t,o,c),R=P.compName,x=P.jsComp,W=P.fwComp,U=P.paramsFromSelector,q=P.popupFromSelector,te=P.popupPositionFromSelector,se=function(Me){var Be=g.userComponentRegistry.retrieve(Me);Be&&(x=Be.componentFromFramework?void 0:Be.component,W=Be.componentFromFramework?Be.component:void 0)};if(null!=R&&se(R),null==x&&null==W&&null!=u&&se(u),x&&O&&!this.agComponentUtils.doesImplementIComponent(x)&&(x=this.agComponentUtils.adaptFunction(C,x)),x||W){var ae=this.mergeParamsWithApplicationProvidedParams(t,o,c,U),Ce=null==x,Oe=x||W;return{componentFromFramework:Ce,componentClass:Oe,params:ae,type:o,popupFromSelector:q,popupPositionFromSelector:te,newAgStackInstance:function(){return g.newAgStackInstance(Oe,Ce,ae,o)}}}f&&console.error("Could not find component "+R+", did you forget to configure this component?")},n.prototype.getCompKeys=function(t,o,u){var g,C,O,P,R,x,c=this,f=o.propertyName;if(t){var W=t,U=W[f+"Selector"],q=U?U(u):null,te=function(ae,Ce){var Oe=function(){var Be="AG Grid: As of v27, the property "+f+"Framework is deprecated. The property "+f+" can now be used for JavaScript AND Framework Components.";z(function(){return console.warn(Be)},"UserComponentFactory."+f+"FrameworkDeprecated")};"string"==typeof ae?g=ae:"string"==typeof Ce?(Oe(),g=Ce):null!=ae&&!0!==ae?c.getFrameworkOverrides().isFrameworkComponent(ae)?O=ae:C=ae:null!=Ce&&(Oe(),O=Ce)};if(q){if(null!=q.frameworkComponent){var se="AG Grid: As of v27, the return for "+f+"Selector has attributes [component, params] only. The attribute frameworkComponent is deprecated. You should now return back Framework Components using the 'component' attribute and the grid works out if it's a framework component or not.";z(function(){return console.warn(se)},"UserComponentFactory."+f+"FrameworkSelectorDeprecated"),te(q.frameworkComponent,void 0)}else te(q.component,void 0);P=q.params,R=q.popup,x=q.popupPosition}else te(W[f],W[f+"Framework"])}return{compName:g,jsComp:C,fwComp:O,paramsFromSelector:P,popupFromSelector:R,popupPositionFromSelector:x}},n.prototype.newAgStackInstance=function(t,o,u,c){var C;if(o){var O=this.componentMetadataProvider.retrieve(c.propertyName);C=this.frameworkComponentWrapper.wrap(t,O.mandatoryMethodList,O.optionalMethodList,c)}else C=new t;var P=this.initComponent(C,u);return null==P?Ft.resolve(C):P.then(function(){return C})},n.prototype.mergeParamsWithApplicationProvidedParams=function(t,o,u,c){void 0===c&&(c=null);var f={context:this.gridOptionsWrapper.getContext(),columnApi:this.gridOptionsWrapper.getColumnApi(),api:this.gridOptionsWrapper.getApi()};Y(f,u);var C=t&&t[o.propertyName+"Params"];return"function"==typeof C?Y(f,C(u)):"object"==typeof C&&Y(f,C),Y(f,c),f},n.prototype.initComponent=function(t,o){if(this.context.createBean(t),null!=t.init)return t.init(o)},n.prototype.getDefaultFloatingFilterType=function(t){if(null==t)return null;var o=null,u=this.getCompKeys(t,Pa),c=u.compName,f=u.jsComp,g=u.fwComp;return c?o=Xd.getFloatingFilterType(c):null==f&&null==g&&!0===t.filter&&(o=Ne.isRegistered(Fe.SetFilterModule)?"agSetColumnFloatingFilter":"agTextColumnFloatingFilter"),o},mi([I("gridOptions")],n.prototype,"gridOptions",void 0),mi([I("agComponentUtils")],n.prototype,"agComponentUtils",void 0),mi([I("componentMetadataProvider")],n.prototype,"componentMetadataProvider",void 0),mi([I("userComponentRegistry")],n.prototype,"userComponentRegistry",void 0),mi([xe("frameworkComponentWrapper")],n.prototype,"frameworkComponentWrapper",void 0),mi([me("userComponentFactory")],n)}(Se),Yr=(()=>(function(p){p[p.SINGLE_SHEET=0]="SINGLE_SHEET",p[p.MULTI_SHEET=1]="MULTI_SHEET"}(Yr||(Yr={})),Yr))(),Jd=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),en=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},Qd=function(p){function n(){var t=null!==p&&p.apply(this,arguments)||this;return t.dragEndFunctions=[],t.dragSources=[],t}return Jd(n,p),n.prototype.init=function(){this.logger=this.loggerFactory.create("DragService")},n.prototype.removeAllListeners=function(){this.dragSources.forEach(this.removeListener.bind(this)),this.dragSources.length=0},n.prototype.removeListener=function(t){var o=t.dragSource.eElement;o.removeEventListener("mousedown",t.mouseDownListener),t.touchEnabled&&o.removeEventListener("touchstart",t.touchStartListener,{passive:!0})},n.prototype.removeDragSource=function(t){var o=this.dragSources.find(function(u){return u.dragSource===t});!o||(this.removeListener(o),vt(this.dragSources,o))},n.prototype.isDragging=function(){return this.dragging},n.prototype.addDragSource=function(t,o){var u=this;void 0===o&&(o=!1);var c=this.onMouseDown.bind(this,t);t.eElement.addEventListener("mousedown",c);var f=null,g=this.gridOptionsWrapper.isSuppressTouch();o&&!g&&t.eElement.addEventListener("touchstart",f=function(C){C.cancelable&&C.preventDefault(),u.onTouchStart(t,C)},{passive:!1}),this.dragSources.push({dragSource:t,mouseDownListener:c,touchStartListener:f,touchEnabled:o})},n.prototype.onTouchStart=function(t,o){var u=this;this.currentDragParams=t,this.dragging=!1;var c=o.touches[0];this.touchLastTime=c,this.touchStart=c;var g=function(R){return u.onTouchUp(R,t.eElement)},O=o.target,P=[{target:document,type:"touchmove",listener:function(R){R.cancelable&&R.preventDefault()},options:{passive:!1}},{target:O,type:"touchmove",listener:function(R){return u.onTouchMove(R,t.eElement)},options:{passive:!0}},{target:O,type:"touchend",listener:g,options:{passive:!0}},{target:O,type:"touchcancel",listener:g,options:{passive:!0}}];this.addTemporaryEvents(P),0===t.dragStartPixels&&this.onCommonMove(c,this.touchStart,t.eElement)},n.prototype.onMouseDown=function(t,o){var u=this,c=o;if(!(t.skipMouseEvent&&t.skipMouseEvent(o)||c._alreadyProcessedByDragService||(c._alreadyProcessedByDragService=!0,0!==o.button))){this.currentDragParams=t,this.dragging=!1,this.mouseStartEvent=o;var f=this.gridOptionsWrapper.getDocument();this.addTemporaryEvents([{target:f,type:"mousemove",listener:function(x){return u.onMouseMove(x,t.eElement)}},{target:f,type:"mouseup",listener:function(x){return u.onMouseUp(x,t.eElement)}},{target:f,type:"contextmenu",listener:function(x){return x.preventDefault()}}]),0===t.dragStartPixels&&this.onMouseMove(o,t.eElement)}},n.prototype.addTemporaryEvents=function(t){t.forEach(function(o){o.target.addEventListener(o.type,o.listener,o.options)}),this.dragEndFunctions.push(function(){t.forEach(function(o){o.target.removeEventListener(o.type,o.listener,o.options)})})},n.prototype.isEventNearStartEvent=function(t,o){var u=this.currentDragParams.dragStartPixels;return sa(t,o,a(u)?u:4)},n.prototype.getFirstActiveTouch=function(t){for(var o=0;o<t.length;o++)if(t[o].identifier===this.touchStart.identifier)return t[o];return null},n.prototype.onCommonMove=function(t,o,u){if(!this.dragging){if(!this.dragging&&this.isEventNearStartEvent(t,o))return;this.dragging=!0,this.eventService.dispatchEvent({type:V.EVENT_DRAG_STARTED,target:u}),this.currentDragParams.onDragStart(o),this.currentDragParams.onDragging(o)}this.currentDragParams.onDragging(t)},n.prototype.onTouchMove=function(t,o){var u=this.getFirstActiveTouch(t.touches);!u||this.onCommonMove(u,this.touchStart,o)},n.prototype.onMouseMove=function(t,o){(this.gridOptionsWrapper.isEnableCellTextSelect()||ci())&&"mousemove"===t.type&&t.cancelable&&this.mouseEventService.isEventFromThisGrid(t)&&!this.isOverFormFieldElement(t)&&t.preventDefault(),this.onCommonMove(t,this.mouseStartEvent,o)},n.prototype.isOverFormFieldElement=function(t){var o,u;return!(null===(u=null===(o=t.target)||void 0===o?void 0:o.tagName.toLocaleLowerCase())||void 0===u||!u.match("^a$|textarea|input|select|button"))},n.prototype.onTouchUp=function(t,o){var u=this.getFirstActiveTouch(t.changedTouches);u||(u=this.touchLastTime),this.onUpCommon(u,o)},n.prototype.onMouseUp=function(t,o){this.onUpCommon(t,o)},n.prototype.onUpCommon=function(t,o){this.dragging&&(this.dragging=!1,this.currentDragParams.onDragStop(t),this.eventService.dispatchEvent({type:V.EVENT_DRAG_STOPPED,target:o})),this.mouseStartEvent=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null,this.dragEndFunctions.forEach(function(c){return c()}),this.dragEndFunctions.length=0},en([I("loggerFactory")],n.prototype,"loggerFactory",void 0),en([I("mouseEventService")],n.prototype,"mouseEventService",void 0),en([Ee],n.prototype,"init",null),en([Pe],n.prototype,"removeAllListeners",null),en([me("dragService")],n)}(Se),eh=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),Un=function(){return Un=Object.assign||function(p){for(var n,t=1,o=arguments.length;t<o;t++)for(var u in n=arguments[t])Object.prototype.hasOwnProperty.call(n,u)&&(p[u]=n[u]);return p},Un.apply(this,arguments)},wr=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},th=function(p){function n(){var o=null!==p&&p.apply(this,arguments)||this;return o.allColumnFilters=new Map,o.activeAggregateFilters=[],o.activeColumnFilters=[],o.quickFilter=null,o.quickFilterParts=null,o.processingFilterChange=!1,o}var t;return eh(n,p),t=n,n.prototype.init=function(){var o=this;this.addManagedListener(this.eventService,V.EVENT_GRID_COLUMNS_CHANGED,function(){return o.onColumnsChanged()}),this.addManagedListener(this.eventService,V.EVENT_COLUMN_VALUE_CHANGED,function(){return o.refreshFiltersForAggregations()}),this.addManagedListener(this.eventService,V.EVENT_COLUMN_PIVOT_CHANGED,function(){return o.refreshFiltersForAggregations()}),this.addManagedListener(this.eventService,V.EVENT_COLUMN_PIVOT_MODE_CHANGED,function(){return o.refreshFiltersForAggregations()}),this.quickFilter=this.parseQuickFilter(this.gridOptionsWrapper.getQuickFilterText()),this.setQuickFilterParts(),this.allowShowChangeAfterFilter=this.gridOptionsWrapper.isAllowShowChangeAfterFilter(),this.externalFilterPresent=this.gridOptionsWrapper.isExternalFilterPresent()},n.prototype.setQuickFilterParts=function(){this.quickFilterParts=this.quickFilter?this.quickFilter.split(" "):null},n.prototype.setFilterModel=function(o){var u=this,c=[],f=this.getFilterModel();if(o){var g=la(Object.keys(o));this.allColumnFilters.forEach(function(C,O){c.push(u.setModelOnFilterWrapper(C.filterPromise,o[O])),g.delete(O)}),g.forEach(function(C){var O=u.columnModel.getPrimaryColumn(C)||u.columnModel.getGridColumn(C);if(O)if(O.isFilterAllowed()){var P=u.getOrCreateFilterWrapper(O,"NO_UI");P?c.push(u.setModelOnFilterWrapper(P.filterPromise,o[C])):console.warn("AG-Grid: setFilterModel() - unable to fully apply model, unable to create filter for colId: "+C)}else console.warn("AG Grid: setFilterModel() - unable to fully apply model, filtering disabled for colId: "+C);else console.warn("AG Grid: setFilterModel() - no column found for colId: "+C)})}else this.allColumnFilters.forEach(function(C){c.push(u.setModelOnFilterWrapper(C.filterPromise,null))});Ft.all(c).then(function(){var C=u.getFilterModel(),O=[];u.allColumnFilters.forEach(function(P,R){Ge.jsonEquals(f?f[R]:null,C?C[R]:null)||O.push(P.column)}),O.length>0&&u.onFilterChanged({columns:O})})},n.prototype.setModelOnFilterWrapper=function(o,u){return new Ft(function(c){o.then(function(f){"function"!=typeof f.setModel&&(console.warn("AG Grid: filter missing setModel method, which is needed for setFilterModel"),c()),(f.setModel(u)||Ft.resolve()).then(function(){return c()})})})},n.prototype.getFilterModel=function(){var o={};return this.allColumnFilters.forEach(function(u,c){var g=u.filterPromise.resolveNow(null,function(O){return O});if(null==g)return null;if("function"==typeof g.getModel){var C=g.getModel();a(C)&&(o[c]=C)}else console.warn("AG Grid: filter API missing getModel method, which is needed for getFilterModel")}),o},n.prototype.isColumnFilterPresent=function(){return this.activeColumnFilters.length>0},n.prototype.isAggregateFilterPresent=function(){return!!this.activeAggregateFilters.length},n.prototype.isExternalFilterPresent=function(){return this.externalFilterPresent},n.prototype.doAggregateFiltersPass=function(o,u){return this.doColumnFiltersPass(o,u,!0)},n.prototype.updateActiveFilters=function(){var o=this;this.activeColumnFilters.length=0,this.activeAggregateFilters.length=0;var u=function(g){return!!g&&(g.isFilterActive?g.isFilterActive():(console.warn("AG Grid: Filter is missing isFilterActive() method"),!1))},c=!!this.gridOptionsWrapper.getGroupAggFiltering();this.allColumnFilters.forEach(function(g){if(g.filterPromise.resolveNow(!1,u)){var C=g.filterPromise.resolveNow(null,function(O){return O});!function(g){if(!g.isPrimary())return!0;var O=!o.columnModel.isPivotActive();return!(!g.isValueActive()||!O)&&(!!o.columnModel.isPivotMode()||c)}(g.column)?o.activeColumnFilters.push(C):o.activeAggregateFilters.push(C)}})},n.prototype.updateFilterFlagInColumns=function(o,u){this.allColumnFilters.forEach(function(c){var f=c.filterPromise.resolveNow(!1,function(g){return g.isFilterActive()});c.column.setFilterActive(f,o,u)})},n.prototype.isAnyFilterPresent=function(){return this.isQuickFilterPresent()||this.isColumnFilterPresent()||this.isAggregateFilterPresent()||this.isExternalFilterPresent()},n.prototype.doColumnFiltersPass=function(o,u,c){for(var C=c?this.activeAggregateFilters:this.activeColumnFilters,O=c?o.aggData:o.data,P=0;P<C.length;P++){var R=C[P];if(null!=R&&R!==u){if("function"!=typeof R.doesFilterPass)throw new Error("Filter is missing method doesFilterPass");if(!R.doesFilterPass({node:o,data:O}))return!1}}return!0},n.prototype.parseQuickFilter=function(o){return a(o)?this.gridOptionsWrapper.isRowModelDefault()?o.toUpperCase():(console.warn("AG Grid - Quick filtering only works with the Client-Side Row Model"),null):null},n.prototype.setQuickFilter=function(o){if(null==o||"string"==typeof o){var u=this.parseQuickFilter(o);this.quickFilter!==u&&(this.quickFilter=u,this.setQuickFilterParts(),this.onFilterChanged())}else console.warn("AG Grid - setQuickFilter() only supports string inputs, received: "+typeof o)},n.prototype.refreshFiltersForAggregations=function(){this.gridOptionsWrapper.getGroupAggFiltering()&&this.onFilterChanged()},n.prototype.callOnFilterChangedOutsideRenderCycle=function(o){var u=this;void 0===o&&(o={});var c=function(){return u.onFilterChanged(o)};this.rowRenderer.isRefreshInProgress()?setTimeout(c,0):c()},n.prototype.onFilterChanged=function(o){void 0===o&&(o={});var u=o.filterInstance,c=o.additionalEventAttributes,f=o.columns;this.updateActiveFilters(),this.updateFilterFlagInColumns("filterChanged",c),this.externalFilterPresent=this.gridOptionsWrapper.isExternalFilterPresent(),this.allColumnFilters.forEach(function(C){!C.filterPromise||C.filterPromise.then(function(O){O&&O!==u&&O.onAnyFilterChanged&&O.onAnyFilterChanged()})});var g={type:V.EVENT_FILTER_CHANGED,columns:f||[]};c&&Y(g,c),this.processingFilterChange=!0,this.eventService.dispatchEvent(g),this.processingFilterChange=!1},n.prototype.isSuppressFlashingCellsBecauseFiltering=function(){return!this.allowShowChangeAfterFilter&&this.processingFilterChange},n.prototype.isQuickFilterPresent=function(){return null!==this.quickFilter},n.prototype.doesRowPassOtherFilters=function(o,u){return this.doesRowPassFilter({rowNode:u,filterInstanceToSkip:o})},n.prototype.doesRowPassQuickFilterNoCache=function(o,u){var c=this;return this.columnModel.getAllColumnsForQuickFilter().some(function(g){var C=c.getQuickFilterTextForColumn(g,o);return a(C)&&C.indexOf(u)>=0})},n.prototype.doesRowPassQuickFilterCache=function(o,u){return o.quickFilterAggregateText||this.aggregateRowForQuickFilter(o),o.quickFilterAggregateText.indexOf(u)>=0},n.prototype.doesRowPassQuickFilter=function(o){var u=this,c=this.gridOptionsWrapper.isCacheQuickFilter();return this.quickFilterParts.every(function(f){return c?u.doesRowPassQuickFilterCache(o,f):u.doesRowPassQuickFilterNoCache(o,f)})},n.prototype.doesRowPassAggregateFilters=function(o){return!(this.isAggregateFilterPresent()&&!this.doAggregateFiltersPass(o.rowNode,o.filterInstanceToSkip))},n.prototype.doesRowPassFilter=function(o){return!(this.isQuickFilterPresent()&&!this.doesRowPassQuickFilter(o.rowNode)||this.isExternalFilterPresent()&&!this.gridOptionsWrapper.doesExternalFilterPass(o.rowNode)||this.isColumnFilterPresent()&&!this.doColumnFiltersPass(o.rowNode,o.filterInstanceToSkip))},n.prototype.getQuickFilterTextForColumn=function(o,u){var c=this.valueService.getValue(o,u,!0),f=o.getColDef();if(f.getQuickFilterText){var g={value:c,node:u,data:u.data,column:o,colDef:f,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};c=f.getQuickFilterText(g)}return a(c)?c.toString().toUpperCase():null},n.prototype.aggregateRowForQuickFilter=function(o){var u=this,c=[];this.columnModel.getAllColumnsForQuickFilter().forEach(function(g){var C=u.getQuickFilterTextForColumn(g,o);a(C)&&c.push(C)}),o.quickFilterAggregateText=c.join(t.QUICK_FILTER_SEPARATOR)},n.prototype.onNewRowsLoaded=function(o){this.allColumnFilters.forEach(function(u){u.filterPromise.then(function(c){c.onNewRowsLoaded&&c.onNewRowsLoaded()})}),this.updateFilterFlagInColumns(o),this.updateActiveFilters()},n.prototype.createValueGetter=function(o){var u=this;return function(c){return u.valueService.getValue(o,c.node,!0)}},n.prototype.getFilterComponent=function(o,u,c){var f;if(void 0===c&&(c=!0),c)return(null===(f=this.getOrCreateFilterWrapper(o,u))||void 0===f?void 0:f.filterPromise)||null;var g=this.cachedFilter(o);return g?g.filterPromise:null},n.prototype.isFilterActive=function(o){var u=this.cachedFilter(o);return!!u&&u.filterPromise.resolveNow(!1,function(c){return c.isFilterActive()})},n.prototype.getOrCreateFilterWrapper=function(o,u){if(!o.isFilterAllowed())return null;var c=this.cachedFilter(o);return c?"NO_UI"!==u&&this.putIntoGui(c,u):(c=this.createFilterWrapper(o,u),this.allColumnFilters.set(o.getColId(),c)),c},n.prototype.cachedFilter=function(o){return this.allColumnFilters.get(o.getColId())},n.prototype.createFilterInstance=function(o){var g,u=this,c=Ne.isRegistered(Fe.SetFilterModule)?"agSetColumnFilter":"agTextColumnFilter",f=o.getColDef(),C=Un(Un({},this.createFilterParams(o,f)),{filterModifiedCallback:function(){u.eventService.dispatchEvent({type:V.EVENT_FILTER_MODIFIED,column:o,filterInstance:g})},filterChangedCallback:function(R){u.callOnFilterChangedOutsideRenderCycle({filterInstance:g,additionalEventAttributes:R,columns:[o]})},doesRowPassOtherFilter:function(R){return u.doesRowPassOtherFilters(g,R)}}),O=this.userComponentFactory.getFilterDetails(f,C,c);if(!O)return null;var P=O.newAgStackInstance();return P&&P.then(function(R){return g=R}),P},n.prototype.createFilterParams=function(o,u){return{api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),column:o,colDef:M(u),rowModel:this.rowModel,filterChangedCallback:function(){},filterModifiedCallback:function(){},valueGetter:this.createValueGetter(o),context:this.gridOptionsWrapper.getContext(),doesRowPassOtherFilter:function(){return!0}}},n.prototype.createFilterWrapper=function(o,u){var c={column:o,filterPromise:null,compiledElement:null,guiPromise:Ft.resolve(null)};return c.filterPromise=this.createFilterInstance(o),c.filterPromise&&this.putIntoGui(c,u),c},n.prototype.putIntoGui=function(o,u){var c=this,f=document.createElement("div");f.className="ag-filter",o.guiPromise=new Ft(function(g){o.filterPromise.then(function(C){var O=C.getGui();a(O)||console.warn("AG Grid: getGui method from filter returned "+O+", it should be a DOM element or an HTML template string."),"string"==typeof O&&(O=mt(O)),f.appendChild(O),g(f),c.eventService.dispatchEvent({type:V.EVENT_FILTER_OPENED,column:o.column,source:u,eGui:f})})})},n.prototype.onColumnsChanged=function(){var o=this,u=[];this.allColumnFilters.forEach(function(c,f){!(c.column.isPrimary()?o.columnModel.getPrimaryColumn(f):o.columnModel.getGridColumn(f))&&(u.push(c.column),o.disposeFilterWrapper(c,"filterDestroyed"))}),u.length>0&&this.onFilterChanged({columns:u})},n.prototype.destroyFilter=function(o,u){void 0===u&&(u="api");var c=this.allColumnFilters.get(o.getColId());c&&(this.disposeFilterWrapper(c,u),this.onFilterChanged({columns:[o]}))},n.prototype.disposeFilterWrapper=function(o,u){var c=this;o.filterPromise.then(function(f){(f.setModel(null)||Ft.resolve()).then(function(){c.getContext().destroyBean(f),o.column.setFilterActive(!1,u),c.allColumnFilters.delete(o.column.getColId())})})},n.prototype.destroy=function(){var o=this;p.prototype.destroy.call(this),this.allColumnFilters.forEach(function(u){return o.disposeFilterWrapper(u,"filterDestroyed")})},n.QUICK_FILTER_SEPARATOR="\n",wr([I("valueService")],n.prototype,"valueService",void 0),wr([I("columnModel")],n.prototype,"columnModel",void 0),wr([I("rowModel")],n.prototype,"rowModel",void 0),wr([I("userComponentFactory")],n.prototype,"userComponentFactory",void 0),wr([I("rowRenderer")],n.prototype,"rowRenderer",void 0),wr([Ee],n.prototype,"init",null),wr([Pe],n.prototype,"destroy",null),t=wr([me("filterManager")],n)}(Se),rh=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),Da=function(p){function n(t,o){var u=p.call(this,t)||this;return u.ctrl=o,u}return rh(n,p),n.prototype.getCtrl=function(){return this.ctrl},n}(je),ih=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),$n=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},nh=function(p){function n(t){return p.call(this,n.TEMPLATE,t)||this}return ih(n,p),n.prototype.postConstruct=function(){var t=this,o=this.getGui();this.ctrl.setComp({addOrRemoveCssClass:function(c,f){return t.addOrRemoveCssClass(c,f)},addOrRemoveBodyCssClass:function(c,f){return t.eFloatingFilterBody.classList.toggle(c,f)},addOrRemoveButtonWrapperCssClass:function(c,f){return t.eButtonWrapper.classList.toggle(c,f)},setCompDetails:function(c){return t.setCompDetails(c)},getFloatingFilterComp:function(){return t.compPromise},setWidth:function(c){return o.style.width=c},setMenuIcon:function(c){return t.eButtonShowMainFilter.appendChild(c)}},o,this.eButtonShowMainFilter,this.eFloatingFilterBody)},n.prototype.setCompDetails=function(t){var o=this;this.compPromise=t.newAgStackInstance(),this.compPromise.then(function(u){return o.afterCompCreated(u)})},n.prototype.afterCompCreated=function(t){var o=this;!t||(this.addDestroyFunc(function(){return o.context.destroyBean(t)}),this.isAlive()&&(this.eFloatingFilterBody.appendChild(t.getGui()),t.afterGuiAttached&&t.afterGuiAttached()))},n.TEMPLATE='<div class="ag-header-cell ag-floating-filter" role="gridcell" tabindex="-1">\n            <div ref="eFloatingFilterBody" role="presentation"></div>\n            <div class="ag-floating-filter-button ag-hidden" ref="eButtonWrapper" role="presentation">\n                <button type="button" aria-label="Open Filter Menu" class="ag-floating-filter-button-button" ref="eButtonShowMainFilter" tabindex="-1"></button>\n            </div>\n        </div>',$n([_e("eFloatingFilterBody")],n.prototype,"eFloatingFilterBody",void 0),$n([_e("eButtonWrapper")],n.prototype,"eButtonWrapper",void 0),$n([_e("eButtonShowMainFilter")],n.prototype,"eButtonShowMainFilter",void 0),$n([Ee],n.prototype,"postConstruct",null),n}(Da),oh=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),Fl=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},ft=(()=>(function(p){p.AUTO_HEIGHT="ag-layout-auto-height",p.NORMAL="ag-layout-normal",p.PRINT="ag-layout-print"}(ft||(ft={})),ft))(),Ra=function(p){function n(t){var o=p.call(this)||this;return o.view=t,o}return oh(n,p),n.prototype.postConstruct=function(){this.addManagedListener(this.gridOptionsWrapper,Re.PROP_DOM_LAYOUT,this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()},n.prototype.updateLayoutClasses=function(){var t=this.gridOptionsWrapper.getDomLayout(),o={autoHeight:t===ee.DOM_LAYOUT_AUTO_HEIGHT,normal:t===ee.DOM_LAYOUT_NORMAL,print:t===ee.DOM_LAYOUT_PRINT};this.view.updateLayoutClasses(o.autoHeight?ft.AUTO_HEIGHT:o.print?ft.PRINT:ft.NORMAL,o)},Fl([I("gridOptionsWrapper")],n.prototype,"gridOptionsWrapper",void 0),Fl([Ee],n.prototype,"postConstruct",null),n}(Se),ah=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),Sr=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},sh=function(p){function n(t){var o=p.call(this)||this;return o.scrollLeft=-1,o.nextScrollTop=-1,o.scrollTop=-1,o.eBodyViewport=t,o.resetLastHorizontalScrollElementDebounced=De(o.resetLastHorizontalScrollElement.bind(o),500),o}return ah(n,p),n.prototype.postConstruct=function(){var t=this;this.enableRtl=this.gridOptionsWrapper.isEnableRtl(),this.addManagedListener(this.eventService,V.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this)),this.ctrlsService.whenReady(function(o){t.centerRowContainerCtrl=o.centerRowContainerCtrl,t.onDisplayedColumnsWidthChanged(),t.addScrollListener()})},n.prototype.addScrollListener=function(){var t=this.ctrlsService.getFakeHScrollCtrl();this.addManagedListener(this.centerRowContainerCtrl.getViewportElement(),"scroll",this.onCenterViewportScroll.bind(this)),this.addManagedListener(t.getViewport(),"scroll",this.onFakeHorizontalScroll.bind(this));var o=this.gridOptionsWrapper.isDebounceVerticalScrollbar()?De(this.onVerticalScroll.bind(this),100):this.onVerticalScroll.bind(this);this.addManagedListener(this.eBodyViewport,"scroll",o)},n.prototype.onDisplayedColumnsWidthChanged=function(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()},n.prototype.horizontallyScrollHeaderCenterAndFloatingCenter=function(t){if(null!=this.centerRowContainerCtrl){void 0===t&&(t=this.centerRowContainerCtrl.getCenterViewportScrollLeft());var u=this.enableRtl?t:-t,c=this.ctrlsService.getTopCenterRowContainerCtrl(),f=this.ctrlsService.getStickyTopCenterRowContainerCtrl(),g=this.ctrlsService.getBottomCenterRowContainerCtrl(),C=this.ctrlsService.getFakeHScrollCtrl();this.ctrlsService.getHeaderRowContainerCtrl().setHorizontalScroll(u),g.setContainerTranslateX(u),c.setContainerTranslateX(u),f.setContainerTranslateX(u);var P=this.centerRowContainerCtrl.getViewportElement();bn(this.lastHorizontalScrollElement===P?C.getViewport():this.centerRowContainerCtrl.getViewportElement(),Math.abs(t),this.enableRtl)}},n.prototype.isControllingScroll=function(t){return this.lastHorizontalScrollElement?t===this.lastHorizontalScrollElement:(this.lastHorizontalScrollElement=t,!0)},n.prototype.onFakeHorizontalScroll=function(){var t=this.ctrlsService.getFakeHScrollCtrl().getViewport();!this.isControllingScroll(t)||this.onBodyHorizontalScroll(t)},n.prototype.onCenterViewportScroll=function(){var t=this.centerRowContainerCtrl.getViewportElement();!this.isControllingScroll(t)||this.onBodyHorizontalScroll(t)},n.prototype.onBodyHorizontalScroll=function(t){var o=this.centerRowContainerCtrl.getViewportElement();this.shouldBlockScrollUpdate("horizontal",o.scrollLeft,!0)||(this.doHorizontalScroll(Math.round($i(t,this.enableRtl))),this.resetLastHorizontalScrollElementDebounced())},n.prototype.onVerticalScroll=function(){var t=this.eBodyViewport.scrollTop;this.shouldBlockScrollUpdate("vertical",t,!0)||(this.animationFrameService.setScrollTop(t),this.nextScrollTop=t,this.gridOptionsWrapper.isSuppressAnimationFrame()?(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()):this.animationFrameService.schedule())},n.prototype.resetLastHorizontalScrollElement=function(){this.lastHorizontalScrollElement=null},n.prototype.doHorizontalScroll=function(t){var u=$i(this.ctrlsService.getFakeHScrollCtrl().getViewport(),this.enableRtl);this.scrollLeft===t&&t===u||(this.scrollLeft=t,this.fireScrollEvent("horizontal"),this.horizontallyScrollHeaderCenterAndFloatingCenter(t),this.onHorizontalViewportChanged())},n.prototype.fireScrollEvent=function(t){var o=this,u={type:V.EVENT_BODY_SCROLL,direction:t,left:this.scrollLeft,top:this.scrollTop};this.eventService.dispatchEvent(u),window.clearTimeout(this.scrollTimer),this.scrollTimer=void 0,this.scrollTimer=window.setTimeout(function(){var c=Object.assign({},u,{type:V.EVENT_BODY_SCROLL_END});o.eventService.dispatchEvent(c)},100)},n.prototype.shouldBlockScrollUpdate=function(t,o,u){if(void 0===u&&(u=!1),u&&!Nr())return!1;if("vertical"===t){var c=Hi(this.eBodyViewport);if(o<0||o+c>this.eBodyViewport.scrollHeight)return!0}if("horizontal"===t){var g=this.centerRowContainerCtrl.getCenterWidth(),C=this.centerRowContainerCtrl.getViewportElement().scrollWidth;if(this.enableRtl&&Ui()){if(o>0)return!0}else if(o<0)return!0;if(Math.abs(o)+g>C)return!0}return!1},n.prototype.redrawRowsAfterScroll=function(){this.fireScrollEvent("vertical")},n.prototype.onHorizontalViewportChanged=function(){this.centerRowContainerCtrl.onHorizontalViewportChanged()},n.prototype.checkScrollLeft=function(){this.scrollLeft!==this.centerRowContainerCtrl.getCenterViewportScrollLeft()&&this.onBodyHorizontalScroll(this.centerRowContainerCtrl.getViewportElement())},n.prototype.executeAnimationFrameScroll=function(){var t=this.scrollTop!=this.nextScrollTop;return t&&(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()),t},n.prototype.setHorizontalScrollPosition=function(t){var u=this.centerRowContainerCtrl.getViewportElement().scrollWidth-this.centerRowContainerCtrl.getCenterWidth();this.shouldBlockScrollUpdate("horizontal",t)&&(t=this.enableRtl&&Ui()?t>0?0:u:Math.min(Math.max(t,0),u)),bn(this.centerRowContainerCtrl.getViewportElement(),Math.abs(t),this.enableRtl),this.doHorizontalScroll(t)},n.prototype.setVerticalScrollPosition=function(t){this.eBodyViewport.scrollTop=t},n.prototype.getVScrollPosition=function(){return{top:this.eBodyViewport.scrollTop,bottom:this.eBodyViewport.scrollTop+this.eBodyViewport.offsetHeight}},n.prototype.getHScrollPosition=function(){return this.centerRowContainerCtrl.getHScrollPosition()},n.prototype.isHorizontalScrollShowing=function(){return this.centerRowContainerCtrl.isHorizontalScrollShowing()},n.prototype.scrollHorizontally=function(t){var o=this.centerRowContainerCtrl.getViewportElement().scrollLeft;return this.setHorizontalScrollPosition(o+t),this.centerRowContainerCtrl.getViewportElement().scrollLeft-o},n.prototype.scrollToTop=function(){this.eBodyViewport.scrollTop=0},n.prototype.ensureNodeVisible=function(t,o){void 0===o&&(o=null);for(var u=this.rowModel.getRowCount(),c=-1,f=0;f<u;f++){var g=this.rowModel.getRow(f);if("function"==typeof t){if(g&&t(g)){c=f;break}}else if(t===g||t===g.data){c=f;break}}c>=0&&this.ensureIndexVisible(c,o)},n.prototype.ensureIndexVisible=function(t,o){if(this.gridOptionsWrapper.getDomLayout()!==ee.DOM_LAYOUT_PRINT){var u=this.paginationProxy.getRowCount();if("number"!=typeof t||t<0||t>=u)return void console.warn("invalid row index for ensureIndexVisible: "+t);this.gridOptionsWrapper.isPagination()&&!this.gridOptionsWrapper.isSuppressPaginationPanel()||this.paginationProxy.goToPageWithIndex(t);var P,C=this.ctrlsService.getGridBodyCtrl().getStickyTopHeight(),O=this.paginationProxy.getRow(t);do{var R=O.rowTop,x=O.rowHeight,W=this.paginationProxy.getPixelOffset(),U=O.rowTop-W,q=U+O.rowHeight,te=this.getVScrollPosition(),se=this.heightScaler.getDivStretchOffset(),ae=te.top+se,Ce=te.bottom+se,Oe=Ce-ae,Me=this.heightScaler.getScrollPositionForPixel(U),Be=this.heightScaler.getScrollPositionForPixel(q-Oe),Ve=Math.min((Me+Be)/2,U),ke=null;"top"===o?ke=Me:"bottom"===o?ke=Be:"middle"===o?ke=Ve:ae+C>U?ke=Me-C:Ce<q&&(ke=Be),null!==ke&&(this.eBodyViewport.scrollTop=ke,this.rowRenderer.redrawAfterScroll()),P=R!==O.rowTop||x!==O.rowHeight}while(P);this.animationFrameService.flushAllFrames()}},n.prototype.ensureColumnVisible=function(t,o){void 0===o&&(o="auto");var u=this.columnModel.getGridColumn(t);if(u&&!u.isPinned()&&this.columnModel.isColumnDisplayed(u)){var c=this.getPositionedHorizontalScroll(u,o);null!==c&&this.centerRowContainerCtrl.setCenterViewportScrollLeft(c),this.centerRowContainerCtrl.onHorizontalViewportChanged(),this.animationFrameService.flushAllFrames()}},n.prototype.getPositionedHorizontalScroll=function(t,o){var u=this.isColumnOutsideViewport(t),c=u.columnBeforeStart,f=u.columnAfterEnd,g=this.centerRowContainerCtrl.getCenterWidth()<t.getActualWidth(),C=this.centerRowContainerCtrl.getCenterWidth(),O=this.enableRtl,P=(O?c:f)||g,R=O?f:c;"auto"!==o&&(P="start"===o,R="end"===o);var x="middle"===o;if(P||R||x){var W=this.getColumnBounds(t),U=W.colLeft,te=W.colRight;return x?W.colMiddle-C/2:P?O?te:U:O?U-C:te-C}return null},n.prototype.isColumnOutsideViewport=function(t){var o=this.getViewportBounds(),u=o.start,c=o.end,f=this.getColumnBounds(t),g=f.colLeft,C=f.colRight,O=this.enableRtl;return{columnBeforeStart:O?u>C:c<C,columnAfterEnd:O?c<g:u>g}},n.prototype.getColumnBounds=function(t){var o=this.enableRtl,u=this.columnModel.getBodyContainerWidth(),c=t.getActualWidth(),f=t.getLeft(),g=o?-1:1,C=o?u-f:f;return{colLeft:C,colMiddle:C+c/2*g,colRight:C+c*g}},n.prototype.getViewportBounds=function(){var t=this.centerRowContainerCtrl.getCenterWidth(),o=this.centerRowContainerCtrl.getCenterViewportScrollLeft();return{start:o,end:t+o,width:t}},Sr([I("ctrlsService")],n.prototype,"ctrlsService",void 0),Sr([I("animationFrameService")],n.prototype,"animationFrameService",void 0),Sr([I("paginationProxy")],n.prototype,"paginationProxy",void 0),Sr([I("rowModel")],n.prototype,"rowModel",void 0),Sr([I("rowContainerHeightService")],n.prototype,"heightScaler",void 0),Sr([I("rowRenderer")],n.prototype,"rowRenderer",void 0),Sr([I("columnModel")],n.prototype,"columnModel",void 0),Sr([Ee],n.prototype,"postConstruct",null),n}(Se),Nl=function(){function p(n){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=n.scrollContainer,this.scrollHorizontally=-1!==n.scrollAxis.indexOf("x"),this.scrollVertically=-1!==n.scrollAxis.indexOf("y"),this.scrollByTick=null!=n.scrollByTick?n.scrollByTick:20,n.onScrollCallback&&(this.onScrollCallback=n.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=n.getVerticalPosition,this.setVerticalPosition=n.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=n.getHorizontalPosition,this.setHorizontalPosition=n.setHorizontalPosition),this.shouldSkipVerticalScroll=n.shouldSkipVerticalScroll||function(){return!1},this.shouldSkipHorizontalScroll=n.shouldSkipHorizontalScroll||function(){return!1}}return p.prototype.check=function(n,t){void 0===t&&(t=!1);var o=t||this.shouldSkipVerticalScroll();if(!o||!this.shouldSkipHorizontalScroll()){var u=this.scrollContainer.getBoundingClientRect(),c=this.scrollByTick;this.tickLeft=n.clientX<u.left+c,this.tickRight=n.clientX>u.right-c,this.tickUp=n.clientY<u.top+c&&!o,this.tickDown=n.clientY>u.bottom-c&&!o,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}},p.prototype.ensureTickingStarted=function(){null===this.tickingInterval&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)},p.prototype.doTick=function(){var n;if(this.tickCount++,n=this.tickCount>20?200:this.tickCount>10?80:40,this.scrollVertically){var t=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(t-n),this.tickDown&&this.setVerticalPosition(t+n)}if(this.scrollHorizontally){var o=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(o-n),this.tickRight&&this.setHorizontalPosition(o+n)}this.onScrollCallback&&this.onScrollCallback()},p.prototype.ensureCleared=function(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)},p}(),lh=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),Ta=function(){return Ta=Object.assign||function(p){for(var n,t=1,o=arguments.length;t<o;t++)for(var u in n=arguments[t])Object.prototype.hasOwnProperty.call(n,u)&&(p[u]=n[u]);return p},Ta.apply(this,arguments)},zt=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},uh=function(p,n){var t="function"==typeof Symbol&&p[Symbol.iterator];if(!t)return p;var u,f,o=t.call(p),c=[];try{for(;(void 0===n||n-- >0)&&!(u=o.next()).done;)c.push(u.value)}catch(g){f={error:g}}finally{try{u&&!u.done&&(t=o.return)&&t.call(o)}finally{if(f)throw f.error}}return c},ph=function(p){function n(t){var o=p.call(this)||this;return o.isMultiRowDrag=!1,o.isGridSorted=!1,o.isGridFiltered=!1,o.isRowGroupActive=!1,o.eContainer=t,o}return lh(n,p),n.prototype.postConstruct=function(){var t=this;this.gridOptionsWrapper.isRowModelDefault()&&(this.clientSideRowModel=this.rowModel);var o=function(){t.onSortChanged(),t.onFilterChanged(),t.onRowGroupChanged()};this.addManagedListener(this.eventService,V.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,V.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,V.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,V.EVENT_MODEL_UPDATED,function(){o()}),o(),this.ctrlsService.whenReady(function(){var u=t.ctrlsService.getGridBodyCtrl();t.autoScrollService=new Nl({scrollContainer:u.getBodyViewportElement(),scrollAxis:"y",getVerticalPosition:function(){return u.getScrollFeature().getVScrollPosition().top},setVerticalPosition:function(c){return u.getScrollFeature().setVerticalScrollPosition(c)},onScrollCallback:function(){t.onDragging(t.lastDraggingEvent)}})})},n.prototype.onSortChanged=function(){this.isGridSorted=this.sortController.isSortActive()},n.prototype.onFilterChanged=function(){this.isGridFiltered=this.filterManager.isAnyFilterPresent()},n.prototype.onRowGroupChanged=function(){var t=this.columnModel.getRowGroupColumns();this.isRowGroupActive=!d(t)},n.prototype.getContainer=function(){return this.eContainer},n.prototype.isInterestedIn=function(t){return t===Tt.RowDrag},n.prototype.getIconName=function(){return this.gridOptionsWrapper.isRowDragManaged()&&this.shouldPreventRowMove()?Ot.ICON_NOT_ALLOWED:Ot.ICON_MOVE},n.prototype.shouldPreventRowMove=function(){return this.isGridSorted||this.isGridFiltered||this.isRowGroupActive},n.prototype.getRowNodes=function(t){var o=this;if(!this.isFromThisGrid(t))return t.dragItem.rowNodes||[];var u=this.gridOptionsWrapper.isRowDragMultiRow(),c=function(){for(var p=[],n=0;n<arguments.length;n++)p=p.concat(uh(arguments[n]));return p}(this.selectionService.getSelectedNodes()).sort(function(g,C){return null==g.rowIndex||null==C.rowIndex?0:o.getRowIndexNumber(g)-o.getRowIndexNumber(C)}),f=t.dragItem.rowNode;return u&&-1!==c.indexOf(f)?(this.isMultiRowDrag=!0,c):(this.isMultiRowDrag=!1,[f])},n.prototype.onDragEnter=function(t){t.dragItem.rowNodes=this.getRowNodes(t),this.dispatchGridEvent(V.EVENT_ROW_DRAG_ENTER,t),this.getRowNodes(t).forEach(function(o){o.setDragging(!0)}),this.onEnterOrDragging(t)},n.prototype.onDragging=function(t){this.onEnterOrDragging(t)},n.prototype.isFromThisGrid=function(t){return t.dragSource.dragSourceDomDataKey===this.gridOptionsWrapper.getDomDataKey()},n.prototype.isDropZoneWithinThisGrid=function(t){return!this.ctrlsService.getGridBodyCtrl().getGui().contains(t.dropZoneTarget)},n.prototype.onEnterOrDragging=function(t){this.dispatchGridEvent(V.EVENT_ROW_DRAG_MOVE,t),this.lastDraggingEvent=t;var o=this.mouseEventService.getNormalisedPosition(t).y;this.gridOptionsWrapper.isRowDragManaged()&&this.doManagedDrag(t,o),this.autoScrollService.check(t.event)},n.prototype.doManagedDrag=function(t,o){var u=this.isFromThisGrid(t),c=this.gridOptionsWrapper.isRowDragManaged(),f=t.dragItem.rowNodes;c&&this.shouldPreventRowMove()||(this.gridOptionsWrapper.isSuppressMoveWhenRowDragging()||!u?this.isDropZoneWithinThisGrid(t)||this.clientSideRowModel.highlightRowAtPixel(f[0],o):this.moveRows(f,o))},n.prototype.getRowIndexNumber=function(t){return parseInt(Je(t.getRowIndexString().split("-")),10)},n.prototype.moveRowAndClearHighlight=function(t){var o=this,u=this.clientSideRowModel.getLastHighlightedRowNode(),c=u&&u.highlighted===or.Below,f=this.mouseEventService.getNormalisedPosition(t).y,g=t.dragItem.rowNodes,C=c?1:0;if(this.isFromThisGrid(t))g.forEach(function(R){R.rowTop<f&&(C-=1)}),this.moveRows(g,f,C);else{var O=this.gridOptionsWrapper.getRowIdFunc(),P=this.clientSideRowModel.getRowIndexAtPixel(f)+1;this.clientSideRowModel.getHighlightPosition(f)===or.Above&&P--,this.clientSideRowModel.updateRowData({add:g.map(function(R){return R.data}).filter(function(R){return!o.clientSideRowModel.getRowNode(O?O({data:R,level:0}):R.id)}),addIndex:P})}this.clearRowHighlight()},n.prototype.clearRowHighlight=function(){this.clientSideRowModel.highlightRowAtPixel(null)},n.prototype.moveRows=function(t,o,u){void 0===u&&(u=0),this.clientSideRowModel.ensureRowsAtPixel(t,o,u)&&(this.focusService.clearFocusedCell(),this.rangeService&&this.rangeService.removeAllCellRanges())},n.prototype.addRowDropZone=function(t){var o=this;if(t.getContainer())if(this.dragAndDropService.findExternalZone(t))console.warn("AG Grid: addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.");else{var u={getContainer:t.getContainer};t.fromGrid?(t.fromGrid=void 0,u=t):(t.onDragEnter&&(u.onDragEnter=function(c){t.onDragEnter(o.draggingToRowDragEvent(V.EVENT_ROW_DRAG_ENTER,c))}),t.onDragLeave&&(u.onDragLeave=function(c){t.onDragLeave(o.draggingToRowDragEvent(V.EVENT_ROW_DRAG_LEAVE,c))}),t.onDragging&&(u.onDragging=function(c){t.onDragging(o.draggingToRowDragEvent(V.EVENT_ROW_DRAG_MOVE,c))}),t.onDragStop&&(u.onDragStop=function(c){t.onDragStop(o.draggingToRowDragEvent(V.EVENT_ROW_DRAG_END,c))})),this.dragAndDropService.addDropTarget(Ta({isInterestedIn:function(c){return c===Tt.RowDrag},getIconName:function(){return Ot.ICON_MOVE},external:!0},u))}else z(function(){return console.warn("AG Grid: addRowDropZone - A container target needs to be provided")},"add-drop-zone-empty-target")},n.prototype.getRowDropZone=function(t){var o=this,u=this.getContainer.bind(this),c=this.onDragEnter.bind(this),f=this.onDragLeave.bind(this),g=this.onDragging.bind(this),C=this.onDragStop.bind(this);return t?{getContainer:u,onDragEnter:t.onDragEnter?function(O){c(O),t.onDragEnter(o.draggingToRowDragEvent(V.EVENT_ROW_DRAG_ENTER,O))}:c,onDragLeave:t.onDragLeave?function(O){f(O),t.onDragLeave(o.draggingToRowDragEvent(V.EVENT_ROW_DRAG_LEAVE,O))}:f,onDragging:t.onDragging?function(O){g(O),t.onDragging(o.draggingToRowDragEvent(V.EVENT_ROW_DRAG_MOVE,O))}:g,onDragStop:t.onDragStop?function(O){C(O),t.onDragStop(o.draggingToRowDragEvent(V.EVENT_ROW_DRAG_END,O))}:C,fromGrid:!0}:{getContainer:u,onDragEnter:c,onDragLeave:f,onDragging:g,onDragStop:C,fromGrid:!0}},n.prototype.draggingToRowDragEvent=function(t,o){var g,C,u=this.mouseEventService.getNormalisedPosition(o).y,f=-1;switch(u>this.paginationProxy.getCurrentPageHeight()||(f=this.rowModel.getRowIndexAtPixel(u),g=this.rowModel.getRow(f)),o.vDirection){case zr.Down:C="down";break;case zr.Up:C="up";break;default:C=null}return{type:t,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),event:o.event,node:o.dragItem.rowNode,nodes:o.dragItem.rowNodes,overIndex:f,overNode:g,y:u,vDirection:C}},n.prototype.dispatchGridEvent=function(t,o){var u=this.draggingToRowDragEvent(t,o);this.eventService.dispatchEvent(u)},n.prototype.onDragLeave=function(t){this.dispatchGridEvent(V.EVENT_ROW_DRAG_LEAVE,t),this.stopDragging(t),this.gridOptionsWrapper.isRowDragManaged()&&this.clearRowHighlight(),this.isFromThisGrid(t)&&(this.isMultiRowDrag=!1)},n.prototype.onDragStop=function(t){this.dispatchGridEvent(V.EVENT_ROW_DRAG_END,t),this.stopDragging(t),this.gridOptionsWrapper.isRowDragManaged()&&(this.gridOptionsWrapper.isSuppressMoveWhenRowDragging()||!this.isFromThisGrid(t))&&!this.isDropZoneWithinThisGrid(t)&&this.moveRowAndClearHighlight(t)},n.prototype.stopDragging=function(t){this.autoScrollService.ensureCleared(),this.getRowNodes(t).forEach(function(o){o.setDragging(!1)})},zt([I("dragAndDropService")],n.prototype,"dragAndDropService",void 0),zt([I("rowModel")],n.prototype,"rowModel",void 0),zt([I("paginationProxy")],n.prototype,"paginationProxy",void 0),zt([I("columnModel")],n.prototype,"columnModel",void 0),zt([I("focusService")],n.prototype,"focusService",void 0),zt([I("sortController")],n.prototype,"sortController",void 0),zt([I("filterManager")],n.prototype,"filterManager",void 0),zt([I("selectionService")],n.prototype,"selectionService",void 0),zt([I("mouseEventService")],n.prototype,"mouseEventService",void 0),zt([I("ctrlsService")],n.prototype,"ctrlsService",void 0),zt([xe("rangeService")],n.prototype,"rangeService",void 0),zt([Ee],n.prototype,"postConstruct",null),n}(Se),dh=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),Yt=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},Xr=(()=>(function(p){p.ANIMATION_ON="ag-row-animation",p.ANIMATION_OFF="ag-row-no-animation"}(Xr||(Xr={})),Xr))(),Gl="ag-selectable",Wl="ag-force-vertical-scroll",Bl="ag-column-moving",hh=function(p){function n(){var t=null!==p&&p.apply(this,arguments)||this;return t.stickyTopHeight=0,t}return dh(n,p),n.prototype.getScrollFeature=function(){return this.bodyScrollFeature},n.prototype.getBodyViewportElement=function(){return this.eBodyViewport},n.prototype.setComp=function(t,o,u,c,f,g){this.comp=t,this.eGridBody=o,this.eBodyViewport=u,this.eTop=c,this.eBottom=f,this.eStickyTop=g,this.setCellTextSelection(this.gridOptionsWrapper.isEnableCellTextSelect()),this.createManagedBean(new Ra(this.comp)),this.bodyScrollFeature=this.createManagedBean(new sh(this.eBodyViewport)),this.addRowDragListener(),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([c,u,f,g]),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.ctrlsService.registerGridBodyCtrl(this)},n.prototype.getComp=function(){return this.comp},n.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,V.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eventService,V.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.addManagedListener(this.eventService,V.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,V.EVENT_HEADER_HEIGHT_CHANGED,this.onHeaderHeightChanged.bind(this))},n.prototype.addFocusListeners=function(t){var o=this;t.forEach(function(u){o.addManagedListener(u,"focusin",function(c){var g=Gr(c.target,"ag-root",u);u.classList.toggle("ag-has-focus",!g)}),o.addManagedListener(u,"focusout",function(c){var f=c.target,g=c.relatedTarget,C=u.contains(g),O=Gr(g,"ag-root",u);Gr(f,"ag-root",u)||(!C||O)&&u.classList.remove("ag-has-focus")})})},n.prototype.setColumnMovingCss=function(t){this.comp.setColumnMovingCss(t?Bl:null,t)},n.prototype.setCellTextSelection=function(t){void 0===t&&(t=!1),this.comp.setCellSelectableCss(t?Gl:null,t)},n.prototype.onScrollVisibilityChanged=function(){var t=this.scrollVisibleService.isVerticalScrollShowing();this.setVerticalScrollPaddingVisible(t),this.setStickyTopWidth(t)},n.prototype.onGridColumnsChanged=function(){var t=this.columnModel.getAllGridColumns();this.comp.setColumnCount(t?t.length:0)},n.prototype.disableBrowserDragging=function(){this.addManagedListener(this.eGridBody,"dragstart",function(t){if(t.target instanceof HTMLImageElement)return t.preventDefault(),!1})},n.prototype.addStopEditingWhenGridLosesFocus=function(){var t=this;if(this.gridOptionsWrapper.isStopEditingWhenCellsLoseFocus()){var o=function(c){var f=c.relatedTarget;if(null!==wn(f)){var g=u.some(function(O){return O.contains(f)})&&t.mouseEventService.isElementInThisGrid(f);if(!g){var C=t.popupService;g=C.getActivePopups().some(function(O){return O.contains(f)})||C.isElementWithinCustomPopup(f)}g||t.rowRenderer.stopEditing()}else t.rowRenderer.stopEditing()},u=[this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop];u.forEach(function(c){return t.addManagedListener(c,"focusout",o)})}},n.prototype.updateRowCount=function(){var t=this.headerNavigationService.getHeaderRowCount(),o=this.rowModel.isLastRowIndexKnown()?this.rowModel.getRowCount():-1;this.comp.setRowCount(-1===o?-1:t+o)},n.prototype.registerBodyViewportResizeListener=function(t){this.comp.registerBodyViewportResizeListener(t)},n.prototype.setVerticalScrollPaddingVisible=function(t){this.comp.setPinnedTopBottomOverflowY(t?"scroll":"hidden")},n.prototype.isVerticalScrollShowing=function(){var t=this.gridOptionsWrapper.isAlwaysShowVerticalScroll(),o=t?Wl:null,u=this.gridOptionsWrapper.getDomLayout()===ee.DOM_LAYOUT_NORMAL;return this.comp.setAlwaysVerticalScrollClass(o,t),t||u&&Us(this.eBodyViewport)},n.prototype.setupRowAnimationCssClass=function(){var t=this,o=function(){var u=t.gridOptionsWrapper.isAnimateRows()&&!t.rowContainerHeightService.isStretching();t.comp.setRowAnimationCssOnBodyViewport(u?Xr.ANIMATION_ON:Xr.ANIMATION_OFF,u)};o(),this.addManagedListener(this.eventService,V.EVENT_HEIGHT_SCALE_CHANGED,o)},n.prototype.getGridBodyElement=function(){return this.eGridBody},n.prototype.addBodyViewportListener=function(){var t=this;this.addManagedListener(this.eBodyViewport,"contextmenu",function(u){t.gridOptionsWrapper.isPreventDefaultOnContextMenu()&&u.preventDefault();var c=u.target;(c===t.eBodyViewport||c===t.ctrlsService.getCenterRowContainerCtrl().getViewportElement())&&t.contextMenuFactory&&t.contextMenuFactory.onContextMenu(u,null,null,null,null,t.eGridBody)}),this.addManagedListener(this.eBodyViewport,"wheel",this.onBodyViewportWheel.bind(this)),this.addManagedListener(this.eStickyTop,"wheel",this.onStickyTopWheel.bind(this))},n.prototype.onBodyViewportWheel=function(t){!this.gridOptionsWrapper.isSuppressScrollWhenPopupsAreOpen()||this.popupService.hasAnchoredPopup()&&t.preventDefault()},n.prototype.onStickyTopWheel=function(t){t.preventDefault(),t.offsetY&&this.scrollVertically(t.deltaY)},n.prototype.getGui=function(){return this.eGridBody},n.prototype.scrollVertically=function(t){var o=this.eBodyViewport.scrollTop;return this.bodyScrollFeature.setVerticalScrollPosition(o+t),this.eBodyViewport.scrollTop-o},n.prototype.addRowDragListener=function(){this.rowDragFeature=this.createManagedBean(new ph(this.eBodyViewport)),this.dragAndDropService.addDropTarget(this.rowDragFeature)},n.prototype.getRowDragFeature=function(){return this.rowDragFeature},n.prototype.onPinnedRowDataChanged=function(){this.setFloatingHeights()},n.prototype.setFloatingHeights=function(){var t=this.pinnedRowModel,o=t.getPinnedTopTotalHeight();o&&(o+=1);var u=t.getPinnedBottomTotalHeight();u&&(u+=1),this.comp.setTopHeight(o),this.comp.setBottomHeight(u),this.comp.setTopDisplay(o?"inherit":"none"),this.comp.setBottomDisplay(u?"inherit":"none"),this.setStickyTopOffsetTop()},n.prototype.setStickyTopHeight=function(t){void 0===t&&(t=0),this.comp.setStickyTopHeight(t+"px"),this.stickyTopHeight=t},n.prototype.getStickyTopHeight=function(){return this.stickyTopHeight},n.prototype.setStickyTopWidth=function(t){if(t){var o=this.gridOptionsWrapper.getScrollbarWidth();this.comp.setStickyTopWidth("calc(100% - "+o+"px)")}else this.comp.setStickyTopWidth("100%")},n.prototype.onHeaderHeightChanged=function(){this.setStickyTopOffsetTop()},n.prototype.setStickyTopOffsetTop=function(){var o=this.ctrlsService.getGridHeaderCtrl().getHeaderHeight(),u=this.pinnedRowModel.getPinnedTopTotalHeight(),c=0;o>0&&(c+=o+1),u>0&&(c+=u+1),this.comp.setStickyTopTop(c+"px")},n.prototype.sizeColumnsToFit=function(t,o){var u=this,f=this.isVerticalScrollShowing()?this.gridOptionsWrapper.getScrollbarWidth():0,C=Rn(this.eBodyViewport)-f;C>0?this.columnModel.sizeColumnsToFit(C,"sizeColumnsToFit",!1,t):void 0===o?window.setTimeout(function(){u.sizeColumnsToFit(t,100)},0):100===o?window.setTimeout(function(){u.sizeColumnsToFit(t,500)},100):500===o?window.setTimeout(function(){u.sizeColumnsToFit(t,-1)},500):console.warn("AG Grid: tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?")},n.prototype.addScrollEventListener=function(t){this.eBodyViewport.addEventListener("scroll",t)},n.prototype.removeScrollEventListener=function(t){this.eBodyViewport.removeEventListener("scroll",t)},Yt([I("rowContainerHeightService")],n.prototype,"rowContainerHeightService",void 0),Yt([I("ctrlsService")],n.prototype,"ctrlsService",void 0),Yt([I("columnModel")],n.prototype,"columnModel",void 0),Yt([I("scrollVisibleService")],n.prototype,"scrollVisibleService",void 0),Yt([xe("contextMenuFactory")],n.prototype,"contextMenuFactory",void 0),Yt([I("headerNavigationService")],n.prototype,"headerNavigationService",void 0),Yt([I("dragAndDropService")],n.prototype,"dragAndDropService",void 0),Yt([I("pinnedRowModel")],n.prototype,"pinnedRowModel",void 0),Yt([I("rowRenderer")],n.prototype,"rowRenderer",void 0),Yt([I("popupService")],n.prototype,"popupService",void 0),Yt([I("mouseEventService")],n.prototype,"mouseEventService",void 0),Yt([I("rowModel")],n.prototype,"rowModel",void 0),n}(Se),Ci=(()=>(function(p){p[p.FILL=0]="FILL",p[p.RANGE=1]="RANGE"}(Ci||(Ci={})),Ci))(),Pr=(()=>(function(p){p[p.VALUE=0]="VALUE",p[p.DIMENSION=1]="DIMENSION"}(Pr||(Pr={})),Pr))(),tn="ag-cell-range-selected",Oh=function(){function p(n,t){this.beans=n,this.cellCtrl=t}return p.prototype.setComp=function(n,t){this.cellComp=n,this.eGui=t,this.onRangeSelectionChanged()},p.prototype.onRangeSelectionChanged=function(){!this.cellComp||(this.rangeCount=this.beans.rangeService.getCellRangeCount(this.cellCtrl.getCellPosition()),this.hasChartRange=this.getHasChartRange(),this.cellComp.addOrRemoveCssClass(tn,0!==this.rangeCount),this.cellComp.addOrRemoveCssClass(tn+"-1",1===this.rangeCount),this.cellComp.addOrRemoveCssClass(tn+"-2",2===this.rangeCount),this.cellComp.addOrRemoveCssClass(tn+"-3",3===this.rangeCount),this.cellComp.addOrRemoveCssClass(tn+"-4",this.rangeCount>=4),this.cellComp.addOrRemoveCssClass("ag-cell-range-chart",this.hasChartRange),vi(this.eGui,this.rangeCount>0||void 0),this.cellComp.addOrRemoveCssClass("ag-cell-range-single-cell",this.isSingleCell()),this.updateRangeBorders(),this.refreshHandle())},p.prototype.updateRangeBorders=function(){var n=this.getRangeBorders(),t=this.isSingleCell(),u=!t&&n.right,c=!t&&n.bottom,f=!t&&n.left;this.cellComp.addOrRemoveCssClass("ag-cell-range-top",!t&&n.top),this.cellComp.addOrRemoveCssClass("ag-cell-range-right",u),this.cellComp.addOrRemoveCssClass("ag-cell-range-bottom",c),this.cellComp.addOrRemoveCssClass("ag-cell-range-left",f)},p.prototype.isSingleCell=function(){var n=this.beans.rangeService;return 1===this.rangeCount&&n&&!n.isMoreThanOneCell()},p.prototype.getHasChartRange=function(){var n=this.beans.rangeService;if(!this.rangeCount||!n)return!1;var t=n.getCellRanges();return t.length>0&&t.every(function(o){return St([Pr.DIMENSION,Pr.VALUE],o.type)})},p.prototype.updateRangeBordersIfRangeCount=function(){this.rangeCount>0&&(this.updateRangeBorders(),this.refreshHandle())},p.prototype.getRangeBorders=function(){var R,x,n=this,t=this.beans.gridOptionsWrapper.isEnableRtl(),o=!1,u=!1,c=!1,f=!1,g=this.cellCtrl.getCellPosition().column,C=this.beans,O=C.rangeService,P=C.columnModel;t?(R=P.getDisplayedColAfter(g),x=P.getDisplayedColBefore(g)):(R=P.getDisplayedColBefore(g),x=P.getDisplayedColAfter(g));var W=O.getCellRanges().filter(function(ae){return O.isCellInSpecificRange(n.cellCtrl.getCellPosition(),ae)});R||(f=!0),x||(u=!0);for(var U=0;U<W.length&&!(o&&u&&c&&f);U++){var q=W[U],te=O.getRangeStartRow(q),se=O.getRangeEndRow(q);!o&&this.beans.rowPositionUtils.sameRow(te,this.cellCtrl.getCellPosition())&&(o=!0),!c&&this.beans.rowPositionUtils.sameRow(se,this.cellCtrl.getCellPosition())&&(c=!0),!f&&R&&q.columns.indexOf(R)<0&&(f=!0),!u&&x&&q.columns.indexOf(x)<0&&(u=!0)}return{top:o,right:u,bottom:c,left:f}},p.prototype.refreshHandle=function(){if(this.beans.rangeService){var n=this.shouldHaveSelectionHandle();this.selectionHandle&&!n&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),n&&this.addSelectionHandle(),this.cellComp.addOrRemoveCssClass("ag-cell-range-handle",!!this.selectionHandle)}},p.prototype.shouldHaveSelectionHandle=function(){var n=this.beans,t=n.gridOptionsWrapper,o=n.rangeService,u=o.getCellRanges(),c=u.length;if(this.rangeCount<1||c<1)return!1;var f=Je(u),g=this.cellCtrl.getCellPosition(),C=t.isEnableFillHandle()&&!this.cellCtrl.isSuppressFillHandle(),O=t.isEnableRangeHandle(),P=1===c&&!this.cellCtrl.isEditing()&&(C||O);if(this.hasChartRange){var x=u[0].type===Pr.DIMENSION&&o.isCellInSpecificRange(g,u[0]);this.cellComp.addOrRemoveCssClass("ag-cell-range-chart-category",x),P=f.type===Pr.VALUE}return P&&null!=f.endRow&&o.isContiguousRange(f)&&o.isBottomRightCell(f,g)},p.prototype.addSelectionHandle=function(){var n=this.beans,t=n.gridOptionsWrapper,u=Je(n.rangeService.getCellRanges()).type,f=t.isEnableFillHandle()&&s(u)?Ci.FILL:Ci.RANGE;this.selectionHandle&&this.selectionHandle.getType()!==f&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),this.selectionHandle||(this.selectionHandle=this.beans.selectionHandleFactory.createSelectionHandle(f)),this.selectionHandle.refresh(this.cellCtrl)},p.prototype.destroy=function(){this.beans.context.destroyBean(this.selectionHandle)},p}(),wh=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),Sh=function(p){function n(t,o){var u=p.call(this)||this;return u.cellCtrl=t,u.beans=o,u.column=t.getColumn(),u.rowNode=t.getRowNode(),u.setupColSpan(),u.setupRowSpan(),u}return wh(n,p),n.prototype.setupRowSpan=function(){this.rowSpan=this.column.getRowSpan(this.rowNode)},n.prototype.setComp=function(t){this.eGui=t,this.onLeftChanged(),this.onWidthChanged(),this.applyRowSpan()},n.prototype.onDisplayColumnsChanged=function(){var t=this.getColSpanningList();It(this.colsSpanning,t)||(this.colsSpanning=t,this.onWidthChanged(),this.onLeftChanged())},n.prototype.setupColSpan=function(){null!=this.column.getColDef().colSpan&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListener(this.beans.eventService,V.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayColumnsChanged.bind(this)),this.addManagedListener(this.beans.eventService,V.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onWidthChanged.bind(this)))},n.prototype.onWidthChanged=function(){if(this.eGui){var t=this.getCellWidth();this.eGui.style.width=t+"px"}},n.prototype.getCellWidth=function(){return this.colsSpanning?this.colsSpanning.reduce(function(t,o){return t+o.getActualWidth()},0):this.column.getActualWidth()},n.prototype.getColSpanningList=function(){var t=this.column.getColSpan(this.rowNode),o=[];if(1===t)o.push(this.column);else for(var u=this.column,c=this.column.getPinned(),f=0;u&&f<t&&(o.push(u),(u=this.beans.columnModel.getDisplayedColAfter(u))&&!s(u)&&c===u.getPinned());f++);return o},n.prototype.onLeftChanged=function(){if(this.eGui){var t=this.modifyLeftForPrintLayout(this.getCellLeft());this.eGui.style.left=t+"px"}},n.prototype.getCellLeft=function(){return(this.beans.gridOptionsWrapper.isEnableRtl()&&this.colsSpanning?Je(this.colsSpanning):this.column).getLeft()},n.prototype.modifyLeftForPrintLayout=function(t){if(!this.cellCtrl.isPrintLayout()||this.column.getPinned()===ee.PINNED_LEFT)return t;var o=this.beans.columnModel.getDisplayedColumnsLeftWidth();return this.column.getPinned()===ee.PINNED_RIGHT?o+this.beans.columnModel.getBodyContainerWidth()+(t||0):o+(t||0)},n.prototype.applyRowSpan=function(){if(1!==this.rowSpan){var t=this.beans.gridOptionsWrapper.getRowHeightAsNumber();this.eGui.style.height=t*this.rowSpan+"px",this.eGui.style.zIndex="1"}},n.prototype.destroy=function(){p.prototype.destroy.call(this)},n}(Se),Ph=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),Dh=function(p){function n(t,o){var u=p.call(this)||this;return u.staticClasses=[],u.cellCtrl=t,u.beans=o,u.column=t.getColumn(),u.rowNode=t.getRowNode(),u}return Ph(n,p),n.prototype.setComp=function(t){this.cellComp=t,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()},n.prototype.applyCellClassRules=function(){var t=this,o=this.column.getColDef(),u={value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,colDef:o,column:this.column,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()};this.beans.stylingService.processClassRules(o.cellClassRules,u,function(c){return t.cellComp.addOrRemoveCssClass(c,!0)},function(c){return t.cellComp.addOrRemoveCssClass(c,!1)})},n.prototype.applyUserStyles=function(){var t=this.column.getColDef();if(t.cellStyle){var o;if("function"==typeof t.cellStyle){var u={column:this.column,value:this.cellCtrl.getValue(),colDef:t,data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()};o=(0,t.cellStyle)(u)}else o=t.cellStyle;this.cellComp.setUserStyles(o)}},n.prototype.applyClassesFromColDef=function(){var t=this,o=this.column.getColDef(),u={value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,column:this.column,colDef:o,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()};this.staticClasses.length&&this.staticClasses.forEach(function(c){return t.cellComp.addOrRemoveCssClass(c,!1)}),this.staticClasses=this.beans.stylingService.getStaticCellClasses(o,u),this.staticClasses.length&&this.staticClasses.forEach(function(c){return t.cellComp.addOrRemoveCssClass(c,!0)})},n.prototype.destroy=function(){p.prototype.destroy.call(this)},n}(Se),Rh=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),ba=function(p){function n(t,o){var u=p.call(this)||this;return u.ctrl=t,u.beans=o,u}return Rh(n,p),n.prototype.setComp=function(t){this.comp=t,this.setupTooltip()},n.prototype.setupTooltip=function(){this.browserTooltips=this.beans.gridOptionsWrapper.isEnableBrowserTooltips(),this.updateTooltipText(),this.browserTooltips?this.comp.setTitle(null!=this.tooltip?this.tooltip:void 0):this.createTooltipFeatureIfNeeded()},n.prototype.updateTooltipText=function(){this.tooltip=this.ctrl.getTooltipValue()},n.prototype.createTooltipFeatureIfNeeded=function(){var t=this;null==this.genericTooltipFeature&&(this.genericTooltipFeature=this.createManagedBean(new ca({getTooltipParams:function(){return t.getTooltipParams()},getGui:function(){return t.ctrl.getGui()}}),this.beans.context))},n.prototype.refreshToolTip=function(){this.updateTooltipText(),this.browserTooltips&&this.comp.setTitle(null!=this.tooltip?this.tooltip:void 0)},n.prototype.getTooltipParams=function(){var t=this.ctrl,o=t.getColumn?t.getColumn():void 0,u=t.getColDef?t.getColDef():void 0,c=t.getRowNode?t.getRowNode():void 0;return{location:t.getLocation(),colDef:u,column:o,rowIndex:t.getRowIndex?t.getRowIndex():void 0,node:c,data:c?c.data:void 0,value:this.getTooltipText(),valueFormatted:t.getValueFormatted?t.getValueFormatted():void 0}},n.prototype.getTooltipText=function(){return this.tooltip},n.prototype.destroy=function(){p.prototype.destroy.call(this)},n}(Se),ze=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},kl=function(){function p(){}return p.prototype.postConstruct=function(){this.doingMasterDetail=this.gridOptionsWrapper.isMasterDetail(),this.gridOptionsWrapper.isRowModelDefault()&&(this.clientSideRowModel=this.rowModel),this.gridOptionsWrapper.isRowModelServerSide()&&(this.serverSideRowModel=this.rowModel)},ze([I("resizeObserverService")],p.prototype,"resizeObserverService",void 0),ze([I("paginationProxy")],p.prototype,"paginationProxy",void 0),ze([I("context")],p.prototype,"context",void 0),ze([I("columnApi")],p.prototype,"columnApi",void 0),ze([I("gridApi")],p.prototype,"gridApi",void 0),ze([I("gridOptionsWrapper")],p.prototype,"gridOptionsWrapper",void 0),ze([I("expressionService")],p.prototype,"expressionService",void 0),ze([I("rowRenderer")],p.prototype,"rowRenderer",void 0),ze([I("templateService")],p.prototype,"templateService",void 0),ze([I("valueService")],p.prototype,"valueService",void 0),ze([I("eventService")],p.prototype,"eventService",void 0),ze([I("columnModel")],p.prototype,"columnModel",void 0),ze([I("headerNavigationService")],p.prototype,"headerNavigationService",void 0),ze([I("navigationService")],p.prototype,"navigationService",void 0),ze([I("columnAnimationService")],p.prototype,"columnAnimationService",void 0),ze([xe("rangeService")],p.prototype,"rangeService",void 0),ze([I("focusService")],p.prototype,"focusService",void 0),ze([xe("contextMenuFactory")],p.prototype,"contextMenuFactory",void 0),ze([I("popupService")],p.prototype,"popupService",void 0),ze([I("valueFormatterService")],p.prototype,"valueFormatterService",void 0),ze([I("stylingService")],p.prototype,"stylingService",void 0),ze([I("columnHoverService")],p.prototype,"columnHoverService",void 0),ze([I("userComponentFactory")],p.prototype,"userComponentFactory",void 0),ze([I("userComponentRegistry")],p.prototype,"userComponentRegistry",void 0),ze([I("animationFrameService")],p.prototype,"animationFrameService",void 0),ze([I("dragAndDropService")],p.prototype,"dragAndDropService",void 0),ze([I("sortController")],p.prototype,"sortController",void 0),ze([I("filterManager")],p.prototype,"filterManager",void 0),ze([I("rowContainerHeightService")],p.prototype,"rowContainerHeightService",void 0),ze([I("frameworkOverrides")],p.prototype,"frameworkOverrides",void 0),ze([I("cellPositionUtils")],p.prototype,"cellPositionUtils",void 0),ze([I("rowPositionUtils")],p.prototype,"rowPositionUtils",void 0),ze([I("selectionService")],p.prototype,"selectionService",void 0),ze([xe("selectionHandleFactory")],p.prototype,"selectionHandleFactory",void 0),ze([I("rowCssClassCalculator")],p.prototype,"rowCssClassCalculator",void 0),ze([I("rowModel")],p.prototype,"rowModel",void 0),ze([I("ctrlsService")],p.prototype,"ctrlsService",void 0),ze([I("ctrlsFactory")],p.prototype,"ctrlsFactory",void 0),ze([I("agStackComponentsRegistry")],p.prototype,"agStackComponentsRegistry",void 0),ze([I("valueCache")],p.prototype,"valueCache",void 0),ze([I("rowNodeEventThrottle")],p.prototype,"rowNodeEventThrottle",void 0),ze([Ee],p.prototype,"postConstruct",null),ze([me("beans")],p)}(),Th=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),bh=function(p){function n(t,o,u){var c=p.call(this)||this;return c.cellCtrl=t,c.beans=o,c.column=u,c}return Th(n,p),n.prototype.onMouseEvent=function(t,o){if(!H(o))switch(t){case"click":this.onCellClicked(o);break;case"mousedown":case"touchstart":this.onMouseDown(o);break;case"dblclick":this.onCellDoubleClicked(o);break;case"mouseout":this.onMouseOut(o);break;case"mouseover":this.onMouseOver(o)}},n.prototype.onCellClicked=function(t){if(this.isDoubleClickOnIPad())return this.onCellDoubleClicked(t),void t.preventDefault();var o=this.beans,u=o.eventService,c=o.rangeService,f=o.gridOptionsWrapper;c&&(t.ctrlKey||t.metaKey)&&c.getCellRangeCount(this.cellCtrl.getCellPosition())>1&&c.intersectLastRange(!0);var C=this.cellCtrl.createEvent(t,V.EVENT_CELL_CLICKED);u.dispatchEvent(C);var O=this.column.getColDef();O.onCellClicked&&window.setTimeout(function(){return O.onCellClicked(C)},0),(f.isSingleClickEdit()||O.singleClickEdit)&&!f.isSuppressClickEdit()&&this.cellCtrl.startRowOrCellEdit()},n.prototype.isDoubleClickOnIPad=function(){if(!Nr()||Z("dblclick"))return!1;var t=(new Date).getTime(),o=t-this.lastIPadMouseClickEvent<200;return this.lastIPadMouseClickEvent=t,o},n.prototype.onCellDoubleClicked=function(t){var o=this.column.getColDef(),u=this.cellCtrl.createEvent(t,V.EVENT_CELL_DOUBLE_CLICKED);this.beans.eventService.dispatchEvent(u),"function"==typeof o.onCellDoubleClicked&&window.setTimeout(function(){return o.onCellDoubleClicked(u)},0),!this.beans.gridOptionsWrapper.isSingleClickEdit()&&!this.beans.gridOptionsWrapper.isSuppressClickEdit()&&this.cellCtrl.startRowOrCellEdit(null,null,t)},n.prototype.onMouseDown=function(t){var o=t.ctrlKey,u=t.metaKey,c=t.shiftKey,f=t.target,g=this.beans,C=g.eventService,O=g.rangeService;if(!this.isRightClickInExistingRange(t)){var P=O&&0!=O.getCellRanges().length;if(!c||!P){var R=En()&&!this.cellCtrl.isEditing()&&!ks(f);this.cellCtrl.focusCell(R)}if(c&&P&&t.preventDefault(),!this.containsWidget(f)){if(O){var x=this.cellCtrl.getCellPosition();c?O.extendLatestRangeToCell(x):O.setRangeToCell(x,o||u)}C.dispatchEvent(this.cellCtrl.createEvent(t,V.EVENT_CELL_MOUSE_DOWN))}}},n.prototype.isRightClickInExistingRange=function(t){var o=this.beans.rangeService;return!(!o||!o.isCellInAnyRange(this.cellCtrl.getCellPosition())||2!==t.button)},n.prototype.containsWidget=function(t){return Gr(t,"ag-selection-checkbox",3)},n.prototype.onMouseOut=function(t){if(!this.mouseStayingInsideCell(t)){var o=this.cellCtrl.createEvent(t,V.EVENT_CELL_MOUSE_OUT);this.beans.eventService.dispatchEvent(o),this.beans.columnHoverService.clearMouseOver()}},n.prototype.onMouseOver=function(t){if(!this.mouseStayingInsideCell(t)){var o=this.cellCtrl.createEvent(t,V.EVENT_CELL_MOUSE_OVER);this.beans.eventService.dispatchEvent(o),this.beans.columnHoverService.setMouseOver([this.column])}},n.prototype.mouseStayingInsideCell=function(t){if(!t.target||!t.relatedTarget)return!1;var o=this.cellCtrl.getGui(),u=o.contains(t.target),c=o.contains(t.relatedTarget);return u&&c},n.prototype.destroy=function(){},n}(kl),Mh=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),Ah=function(p){function n(t,o,u,c,f){var g=p.call(this)||this;return g.cellCtrl=t,g.beans=o,g.rowNode=c,g.rowCtrl=f,g}return Mh(n,p),n.prototype.setComp=function(t){this.eGui=t},n.prototype.onKeyDown=function(t){var o=t.key;switch(o){case ye.ENTER:this.onEnterKeyDown(t);break;case ye.F2:this.onF2KeyDown(t);break;case ye.ESCAPE:this.onEscapeKeyDown(t);break;case ye.TAB:this.onTabKeyDown(t);break;case ye.BACKSPACE:case ye.DELETE:this.onBackspaceOrDeleteKeyPressed(o,t);break;case ye.DOWN:case ye.UP:case ye.RIGHT:case ye.LEFT:this.onNavigationKeyPressed(t,o)}},n.prototype.onNavigationKeyPressed=function(t,o){this.cellCtrl.isEditing()||(t.shiftKey&&this.cellCtrl.isRangeSelectionEnabled()?this.onShiftRangeSelect(t):this.beans.navigationService.navigateToNextCell(t,o,this.cellCtrl.getCellPosition(),!0),t.preventDefault())},n.prototype.onShiftRangeSelect=function(t){if(this.beans.rangeService){var o=this.beans.rangeService.extendLatestRangeInDirection(t);o&&this.beans.navigationService.ensureCellVisible(o)}},n.prototype.onTabKeyDown=function(t){this.beans.navigationService.onTabKeyDown(this.cellCtrl,t)},n.prototype.onBackspaceOrDeleteKeyPressed=function(t,o){this.cellCtrl.isEditing()||this.cellCtrl.startRowOrCellEdit(t,void 0,o)},n.prototype.onEnterKeyDown=function(t){this.cellCtrl.isEditing()||this.rowCtrl.isEditing()?this.cellCtrl.stopEditingAndFocus():this.beans.gridOptionsWrapper.isEnterMovesDown()?this.beans.navigationService.navigateToNextCell(null,ye.DOWN,this.cellCtrl.getCellPosition(),!1):(this.cellCtrl.startRowOrCellEdit(ye.ENTER,void 0,t),this.cellCtrl.isEditing()&&t.preventDefault())},n.prototype.onF2KeyDown=function(t){this.cellCtrl.isEditing()||this.cellCtrl.startRowOrCellEdit(ye.F2,void 0,t)},n.prototype.onEscapeKeyDown=function(t){this.cellCtrl.isEditing()&&(this.cellCtrl.stopRowOrCellEdit(!0),this.cellCtrl.focusCell(!0))},n.prototype.onKeyPress=function(t){if(t.target===this.eGui&&!this.cellCtrl.isEditing()){var c=String.fromCharCode(t.charCode);" "===c?this.onSpaceKeyPressed(t):ul(t)&&(this.cellCtrl.startRowOrCellEdit(null,c,t),t.preventDefault())}},n.prototype.onSpaceKeyPressed=function(t){var o=this.beans.gridOptionsWrapper;if(!this.cellCtrl.isEditing()&&o.isRowSelection()){var u=this.rowNode.isSelected(),c=!u;if(c||!o.isSuppressRowDeselection()){var f=this.beans.gridOptionsWrapper.isGroupSelectsFiltered(),g=this.rowNode.setSelectedParams({newValue:c,rangeSelect:t.shiftKey,groupSelectsFiltered:f});void 0===u&&0===g&&this.rowNode.setSelectedParams({newValue:!1,rangeSelect:t.shiftKey,groupSelectsFiltered:f})}}t.preventDefault()},n.prototype.destroy=function(){p.prototype.destroy.call(this)},n}(Se),xh=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),Lh=function(p){function n(t,o,u,c){var f=p.call(this,'<div class="ag-drag-handle ag-row-drag" draggable="true"></div>')||this;return f.rowNode=t,f.column=o,f.beans=u,f.eCell=c,f}return xh(n,p),n.prototype.postConstruct=function(){this.getGui().appendChild(dt("rowDrag",this.beans.gridOptionsWrapper,null)),this.addGuiEventListener("mousedown",function(o){o.stopPropagation()}),this.addDragSource(),this.checkVisibility()},n.prototype.addDragSource=function(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))},n.prototype.onDragStart=function(t){var o=this,u=this.column.getColDef().dndSourceOnRowDrag;t.dataTransfer.setDragImage(this.eCell,0,0),u?u({rowNode:this.rowNode,dragEvent:t,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()}):function(){try{var g=JSON.stringify(o.rowNode.data);t.dataTransfer.setData("application/json",g),t.dataTransfer.setData("text/plain",g)}catch{}}()},n.prototype.checkVisibility=function(){var t=this.column.isDndSource(this.rowNode);this.setDisplayed(t)},function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);u>3&&c&&Object.defineProperty(n,t,c)}([Ee],n.prototype,"postConstruct",null),n}(je),Fh=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),jn=function(){return jn=Object.assign||function(p){for(var n,t=1,o=arguments.length;t<o;t++)for(var u in n=arguments[t])Object.prototype.hasOwnProperty.call(n,u)&&(p[u]=n[u]);return p},jn.apply(this,arguments)},Vl="ag-cell-not-inline-editing",Kh=0,qr=function(p){function n(t,o,u,c){var f=p.call(this)||this;return f.suppressRefreshCell=!1,f.onCellCompAttachedFuncs=[],f.column=t,f.rowNode=o,f.beans=u,f.rowCtrl=c,f.instanceId=t.getId()+"-"+Kh++,f.createCellPosition(),f.addFeatures(),f}return Fh(n,p),n.prototype.addFeatures=function(){var t=this;this.cellPositionFeature=new Sh(this,this.beans),this.addDestroyFunc(function(){return t.cellPositionFeature.destroy()}),this.cellCustomStyleFeature=new Dh(this,this.beans),this.addDestroyFunc(function(){return t.cellCustomStyleFeature.destroy()}),this.cellMouseListenerFeature=new bh(this,this.beans,this.column),this.addDestroyFunc(function(){return t.cellMouseListenerFeature.destroy()}),this.cellKeyboardListenerFeature=new Ah(this,this.beans,this.column,this.rowNode,this.rowCtrl),this.addDestroyFunc(function(){return t.cellKeyboardListenerFeature.destroy()}),this.beans.rangeService&&this.beans.gridOptionsWrapper.isEnableRangeSelection()&&(this.cellRangeFeature=new Oh(this.beans,this),this.addDestroyFunc(function(){return t.cellRangeFeature.destroy()})),this.addTooltipFeature()},n.prototype.addTooltipFeature=function(){var t=this;this.tooltipFeature=new ba({getColumn:function(){return t.column},getColDef:function(){return t.column.getColDef()},getRowIndex:function(){return t.cellPosition.rowIndex},getRowNode:function(){return t.rowNode},getGui:function(){return t.getGui()},getLocation:function(){return"cell"},getTooltipValue:function(){var c=t.column.getColDef(),f=t.rowNode.data;if(c.tooltipField&&a(f))return oe(f,c.tooltipField,t.column.isTooltipFieldContainsDots());var g=c.tooltipValueGetter;return g?g({location:"cell",api:t.beans.gridOptionsWrapper.getApi(),columnApi:t.beans.gridOptionsWrapper.getColumnApi(),context:t.beans.gridOptionsWrapper.getContext(),colDef:t.column.getColDef(),column:t.column,rowIndex:t.cellPosition.rowIndex,node:t.rowNode,data:t.rowNode.data,value:t.value,valueFormatted:t.valueFormatted}):null},getValueFormatted:function(){return t.valueFormatted}},this.beans),this.addDestroyFunc(function(){return t.tooltipFeature.destroy()})},n.prototype.setComp=function(t,o,u,c,f){this.cellComp=t,this.gow=this.beans.gridOptionsWrapper,this.eGui=o,this.eCellWrapper=u,this.printLayout=c,this.updateAndFormatValue(!0),this.addDomData(),this.onCellFocused(),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),this.setupAutoHeight(),this.setAriaColIndex(),this.gow.isSuppressCellFocus()||this.cellComp.setTabIndex(-1);var g=rr(this.column.getId());this.cellComp.setColId(g),this.cellComp.setRole("gridcell"),this.cellPositionFeature.setComp(o),this.cellCustomStyleFeature.setComp(t),this.tooltipFeature.setComp(t),this.cellKeyboardListenerFeature.setComp(this.eGui),this.cellRangeFeature&&this.cellRangeFeature.setComp(t,o),f&&this.isCellEditable()?this.startEditing():this.showValue(),this.onCellCompAttachedFuncs.length&&(this.onCellCompAttachedFuncs.forEach(function(C){return C()}),this.onCellCompAttachedFuncs=[])},n.prototype.setupAutoHeight=function(){var t=this;if(this.column.isAutoHeight()){var o=this.eCellWrapper,u=o.parentElement,c=this.beans.gridOptionsWrapper.getRowHeightForNode(this.rowNode).height,f=function(O){if(!t.editing&&t.isAlive()){var P=Wr(u),U=o.offsetHeight+P.paddingTop+P.paddingBottom;if(O<5){var q=t.beans.gridOptionsWrapper.getDocument();if(!q||!q.contains(o)||0==U)return void t.beans.frameworkOverrides.setTimeout(function(){return f(O+1)},0)}var ae=Math.max(U,c);t.rowNode.setRowAutoHeight(ae,t.column)}},g=function(){return f(0)};g();var C=this.beans.resizeObserverService.observeResize(o,g);this.addDestroyFunc(function(){C(),t.rowNode.setRowAutoHeight(void 0,t.column)})}},n.prototype.getInstanceId=function(){return this.instanceId},n.prototype.showValue=function(t){void 0===t&&(t=!1);var o=null!=this.valueFormatted?this.valueFormatted:this.value,u=this.createCellRendererParams(),c=this.beans.userComponentFactory.getCellRendererDetails(this.column.getColDef(),u);this.cellComp.setRenderDetails(c,o,t),this.refreshHandle()},n.prototype.setupControlComps=function(){var t=this.column.getColDef();this.includeSelection=this.isIncludeControl(t.checkboxSelection),this.includeRowDrag=this.isIncludeControl(t.rowDrag),this.includeDndSource=this.isIncludeControl(t.dndSource),this.cellComp.setIncludeSelection(this.includeSelection),this.cellComp.setIncludeDndSource(this.includeDndSource),this.cellComp.setIncludeRowDrag(this.includeRowDrag)},n.prototype.isForceWrapper=function(){return this.beans.gridOptionsWrapper.isEnableCellTextSelection()||this.column.isAutoHeight()},n.prototype.isIncludeControl=function(t){return!(null!=this.rowNode.rowPinned||"function"!=typeof t&&!0!==t)},n.prototype.refreshShouldDestroy=function(){var t=this.column.getColDef(),o=this.includeSelection!=this.isIncludeControl(t.checkboxSelection),u=this.includeRowDrag!=this.isIncludeControl(t.rowDrag),c=this.includeDndSource!=this.isIncludeControl(t.dndSource);return o||u||c},n.prototype.startEditing=function(t,o,u,c){var g,C,f=this;if(void 0===t&&(t=null),void 0===o&&(o=null),void 0===u&&(u=!1),void 0===c&&(c=null),this.isCellEditable()&&!this.editing){if(!this.cellComp)return void this.onCellCompAttachedFuncs.push(function(){f.startEditing(t,o,u,c)});var O=this.createCellEditorParams(t,o,u),P=this.column.getColDef(),R=this.beans.userComponentFactory.getCellEditorDetails(P,O),x=null!=(null===(g=R)||void 0===g?void 0:g.popupFromSelector)?R.popupFromSelector:!!P.cellEditorPopup,W=null!=(null===(C=R)||void 0===C?void 0:C.popupPositionFromSelector)?R.popupPositionFromSelector:P.cellEditorPopupPosition;this.setEditing(!0,x),this.cellComp.setEditDetails(R,x,W);var U=this.createEvent(c,V.EVENT_CELL_EDITING_STARTED);this.beans.eventService.dispatchEvent(U)}},n.prototype.setEditing=function(t,o){void 0===o&&(o=!1),this.editing!==t&&(this.editing=t,this.editingInPopup=o,this.setInlineEditingClass(),this.refreshHandle())},n.prototype.stopRowOrCellEdit=function(t){void 0===t&&(t=!1),this.beans.gridOptionsWrapper.isFullRowEdit()?this.rowCtrl.stopRowEditing(t):this.stopEditing(t)},n.prototype.onPopupEditorClosed=function(){!this.isEditing()||this.stopEditingAndFocus()},n.prototype.takeValueFromCellEditor=function(t){var o={newValueExists:!1};if(t)return o;var u=this.cellComp.getCellEditor();return u?u.isCancelAfterEnd&&u.isCancelAfterEnd()?o:{newValue:u.getValue(),newValueExists:!0}:o},n.prototype.saveNewValue=function(t,o){if(o===t)return!1;if(this.beans.gridOptionsWrapper.isReadOnlyEdit())return this.dispatchEventForSaveValueReadOnly(t,o),!1;this.suppressRefreshCell=!0;var u=this.rowNode.setDataValue(this.column,o);return this.suppressRefreshCell=!1,u},n.prototype.dispatchEventForSaveValueReadOnly=function(t,o){var u=this.rowNode,c={type:V.EVENT_CELL_EDIT_REQUEST,event:null,rowIndex:u.rowIndex,rowPinned:u.rowPinned,column:this.column,api:this.beans.gridApi,columnApi:this.beans.columnApi,colDef:this.column.getColDef(),context:this.beans.gridOptionsWrapper.getContext(),data:u.data,node:u,oldValue:t,newValue:o,value:o,source:void 0};this.beans.eventService.dispatchEvent(c)},n.prototype.stopEditing=function(t){if(void 0===t&&(t=!1),!this.editing)return!1;var o=this.takeValueFromCellEditor(t),u=o.newValue,c=o.newValueExists,f=this.getValueFromValueService(),g=!1;return c&&(g=this.saveNewValue(f,u)),this.setEditing(!1),this.cellComp.setEditDetails(),this.updateAndFormatValue(),this.refreshCell({forceRefresh:!0,suppressFlash:!0}),this.dispatchEditingStoppedEvent(f,u),g},n.prototype.dispatchEditingStoppedEvent=function(t,o){var u=jn(jn({},this.createEvent(null,V.EVENT_CELL_EDITING_STOPPED)),{oldValue:t,newValue:o});this.beans.eventService.dispatchEvent(u)},n.prototype.setInlineEditingClass=function(){var t=this;if(this.isAlive()){if(!this.cellComp)return void this.onCellCompAttachedFuncs.push(function(){t.setInlineEditingClass()});var o=this.editing&&!this.editingInPopup,u=this.editing&&this.editingInPopup;this.cellComp.addOrRemoveCssClass("ag-cell-inline-editing",o),this.cellComp.addOrRemoveCssClass(Vl,!o),this.cellComp.addOrRemoveCssClass("ag-cell-popup-editing",u),this.rowCtrl.setInlineEditingCss(this.editing)}},n.prototype.hackSayEditingInPopup=function(){this.editingInPopup||(this.editingInPopup=!0,this.setInlineEditingClass())},n.prototype.createCellEditorParams=function(t,o,u){return{value:this.getValueFromValueService(),key:t,eventKey:t,charPress:o,column:this.column,colDef:this.column.getColDef(),rowIndex:this.getCellPosition().rowIndex,node:this.rowNode,data:this.rowNode.data,api:this.beans.gridOptionsWrapper.getApi(),cellStartedEdit:u,columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext(),onKeyDown:this.onKeyDown.bind(this),stopEditing:this.stopEditingAndFocus.bind(this),eGridCell:this.getGui(),parseValue:this.parseValue.bind(this),formatValue:this.formatValue.bind(this)}},n.prototype.createCellRendererParams=function(){var t=this;return{value:this.value,valueFormatted:this.valueFormatted,getValue:this.getValueFromValueService.bind(this),setValue:function(c){return t.beans.valueService.setValue(t.rowNode,t.column,c)},formatValue:this.formatValue.bind(this),data:this.rowNode.data,node:this.rowNode,pinned:this.column.getPinned(),colDef:this.column.getColDef(),column:this.column,rowIndex:this.getCellPosition().rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext(),refreshCell:this.refreshCell.bind(this),eGridCell:this.getGui(),eParentOfValue:this.cellComp.getParentOfValue(),registerRowDragger:function(c,f,g,C){return t.registerRowDragger(c,f,C)},addRowCompListener:function(c,f){console.warn("AG Grid: since AG Grid v26, params.addRowCompListener() is deprecated. If you need this functionality, please contact AG Grid support and advise why so that we can revert with an appropriate workaround, as we dont have any valid use cases for it. This method was originally provided as a work around to know when cells were destroyed in AG Grid before custom Cell Renderers could be provided."),t.rowCtrl.addEventListener(c,f)}}},n.prototype.parseValue=function(t){var o=this.column.getColDef(),u={node:this.rowNode,data:this.rowNode.data,oldValue:this.getValue(),newValue:t,colDef:o,column:this.column,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()},c=o.valueParser;return a(c)?this.beans.expressionService.evaluate(c,u):t},n.prototype.setFocusOutOnEditor=function(){if(this.editing){var t=this.cellComp.getCellEditor();t&&t.focusOut&&t.focusOut()}},n.prototype.setFocusInOnEditor=function(){if(this.editing){var t=this.cellComp.getCellEditor();t&&t.focusIn?t.focusIn():this.focusCell(!0)}},n.prototype.onCellChanged=function(t){this.cellComp&&t.column===this.column&&this.refreshCell({})},n.prototype.refreshCell=function(t){if(!this.suppressRefreshCell&&!this.editing&&this.cellComp){var o=this.column.getColDef(),u=null!=t&&!!t.newData,c=null!=t&&!!t.suppressFlash||!!o.suppressCellFlash,g=t&&t.forceRefresh||null==o.field&&null==o.valueGetter&&null==o.showRowGroup||u,C=this.updateAndFormatValue();if(g||C){this.showValue(u);var P=this.beans.filterManager.isSuppressFlashingCellsBecauseFiltering();!c&&!P&&(this.beans.gridOptionsWrapper.isEnableCellChangeFlash()||o.enableCellChangeFlash)&&this.flashCell(),this.cellCustomStyleFeature.applyUserStyles(),this.cellCustomStyleFeature.applyClassesFromColDef()}this.refreshToolTip(),this.cellCustomStyleFeature.applyCellClassRules()}},n.prototype.stopEditingAndFocus=function(t){void 0===t&&(t=!1),this.stopRowOrCellEdit(),this.focusCell(!0),t||this.navigateAfterEdit()},n.prototype.navigateAfterEdit=function(){this.beans.gridOptionsWrapper.isFullRowEdit()||this.beans.gridOptionsWrapper.isEnterMovesDownAfterEdit()&&this.beans.navigationService.navigateToNextCell(null,ye.DOWN,this.getCellPosition(),!1)},n.prototype.flashCell=function(t){this.animateCell("data-changed",t&&t.flashDelay,t&&t.fadeDelay)},n.prototype.animateCell=function(t,o,u){var c=this,f="ag-cell-"+t,g="ag-cell-"+t+"-animation",C=this.beans.gridOptionsWrapper;o||(o=C.getCellFlashDelay()),a(u)||(u=C.getCellFadeDelay()),this.cellComp.addOrRemoveCssClass(f,!0),this.cellComp.addOrRemoveCssClass(g,!1),window.setTimeout(function(){!c.isAlive()||(c.cellComp.addOrRemoveCssClass(f,!1),c.cellComp.addOrRemoveCssClass(g,!0),c.eGui.style.transition="background-color "+u+"ms",window.setTimeout(function(){!c.isAlive()||(c.cellComp.addOrRemoveCssClass(g,!1),c.eGui.style.transition="")},u))},o)},n.prototype.onFlashCells=function(t){if(this.cellComp){var o=this.beans.cellPositionUtils.createId(this.getCellPosition());t.cells[o]&&this.animateCell("highlight")}},n.prototype.isCellEditable=function(){return this.column.isCellEditable(this.rowNode)},n.prototype.isSuppressFillHandle=function(){return this.column.isSuppressFillHandle()},n.prototype.formatValue=function(t){return this.callValueFormatter(t)??t},n.prototype.callValueFormatter=function(t){return this.beans.valueFormatterService.formatValue(this.column,this.rowNode,t)},n.prototype.updateAndFormatValue=function(t){void 0===t&&(t=!1);var o=this.value,u=this.valueFormatted;return this.value=this.getValueFromValueService(),this.valueFormatted=this.callValueFormatter(this.value),!!t||!this.valuesAreEqual(o,this.value)||this.valueFormatted!=u},n.prototype.valuesAreEqual=function(t,o){var u=this.column.getColDef();return u.equals?u.equals(t,o):t===o},n.prototype.getComp=function(){return this.cellComp},n.prototype.getValueFromValueService=function(){var t=this.rowNode.leafGroup&&this.beans.columnModel.isPivotMode(),o=this.rowNode.group&&this.rowNode.expanded&&!this.rowNode.footer&&!t,u=this.beans.gridOptionsWrapper.isGroupIncludeFooter(),c=this.beans.gridOptionsWrapper.isGroupSuppressBlankHeader();return this.beans.valueService.getValue(this.column,this.rowNode,!1,o&&u&&!c)},n.prototype.getValue=function(){return this.value},n.prototype.getValueFormatted=function(){return this.valueFormatted},n.prototype.addDomData=function(){var t=this,o=this.getGui();this.beans.gridOptionsWrapper.setDomData(o,n.DOM_DATA_KEY_CELL_CTRL,this),this.addDestroyFunc(function(){return t.beans.gridOptionsWrapper.setDomData(o,n.DOM_DATA_KEY_CELL_CTRL,null)})},n.prototype.createEvent=function(t,o){return{type:o,node:this.rowNode,data:this.rowNode.data,value:this.value,column:this.column,colDef:this.column.getColDef(),context:this.beans.gridOptionsWrapper.getContext(),api:this.beans.gridApi,columnApi:this.beans.columnApi,rowPinned:this.rowNode.rowPinned,event:t,rowIndex:this.rowNode.rowIndex}},n.prototype.onKeyPress=function(t){this.cellKeyboardListenerFeature.onKeyPress(t)},n.prototype.onKeyDown=function(t){this.cellKeyboardListenerFeature.onKeyDown(t)},n.prototype.onMouseEvent=function(t,o){this.cellMouseListenerFeature.onMouseEvent(t,o)},n.prototype.getGui=function(){return this.eGui},n.prototype.refreshToolTip=function(){this.tooltipFeature.refreshToolTip()},n.prototype.getColSpanningList=function(){return this.cellPositionFeature.getColSpanningList()},n.prototype.onLeftChanged=function(){!this.cellComp||this.cellPositionFeature.onLeftChanged()},n.prototype.onDisplayedColumnsChanged=function(){!this.eGui||this.setAriaColIndex()},n.prototype.setAriaColIndex=function(){var t=this.beans.columnModel.getAriaColumnIndex(this.column);na(this.getGui(),t)},n.prototype.isSuppressNavigable=function(){return this.column.isSuppressNavigable(this.rowNode)},n.prototype.onWidthChanged=function(){return this.cellPositionFeature.onWidthChanged()},n.prototype.getColumn=function(){return this.column},n.prototype.getRowNode=function(){return this.rowNode},n.prototype.getBeans=function(){return this.beans},n.prototype.isPrintLayout=function(){return this.printLayout},n.prototype.appendChild=function(t){this.eGui.appendChild(t)},n.prototype.refreshHandle=function(){this.cellRangeFeature&&this.cellRangeFeature.refreshHandle()},n.prototype.getCellPosition=function(){return this.cellPosition},n.prototype.isEditing=function(){return this.editing},n.prototype.startRowOrCellEdit=function(t,o,u){void 0===u&&(u=null),this.cellComp&&(this.beans.gridOptionsWrapper.isFullRowEdit()?this.rowCtrl.startRowEditing(t,o,this):this.startEditing(t,o,!0,u))},n.prototype.getRowCtrl=function(){return this.rowCtrl},n.prototype.getRowPosition=function(){return{rowIndex:this.cellPosition.rowIndex,rowPinned:this.cellPosition.rowPinned}},n.prototype.updateRangeBordersIfRangeCount=function(){!this.cellComp||this.cellRangeFeature&&this.cellRangeFeature.updateRangeBordersIfRangeCount()},n.prototype.onRangeSelectionChanged=function(){!this.cellComp||this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()},n.prototype.isRangeSelectionEnabled=function(){return null!=this.cellRangeFeature},n.prototype.focusCell=function(t){void 0===t&&(t=!1),this.beans.focusService.setFocusedCell({rowIndex:this.getCellPosition().rowIndex,column:this.column,rowPinned:this.rowNode.rowPinned,forceBrowserFocus:t})},n.prototype.onRowIndexChanged=function(){this.createCellPosition(),this.onCellFocused(),this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()},n.prototype.onFirstRightPinnedChanged=function(){if(this.cellComp){var t=this.column.isFirstRightPinned();this.cellComp.addOrRemoveCssClass("ag-cell-first-right-pinned",t)}},n.prototype.onLastLeftPinnedChanged=function(){if(this.cellComp){var t=this.column.isLastLeftPinned();this.cellComp.addOrRemoveCssClass("ag-cell-last-left-pinned",t)}},n.prototype.onCellFocused=function(t){if(this.cellComp&&!this.gow.isSuppressCellFocus()){var o=this.beans.focusService.isCellFocused(this.cellPosition);this.cellComp.addOrRemoveCssClass("ag-cell-focus",o),o&&t&&t.forceBrowserFocus&&this.cellComp.getFocusableElement().focus({preventScroll:!!t.preventScrollOnBrowserFocus});var c=this.beans.gridOptionsWrapper.isFullRowEdit();!o&&!c&&this.editing&&this.stopRowOrCellEdit()}},n.prototype.createCellPosition=function(){this.cellPosition={rowIndex:this.rowNode.rowIndex,rowPinned:i(this.rowNode.rowPinned),column:this.column}},n.prototype.applyStaticCssClasses=function(){this.cellComp.addOrRemoveCssClass("ag-cell",!0),this.cellComp.addOrRemoveCssClass(Vl,!0);var t=1==this.column.isAutoHeight();this.cellComp.addOrRemoveCssClass("ag-cell-auto-height",t),this.cellComp.addOrRemoveCssClass("ag-cell-normal-height",!t)},n.prototype.onColumnHover=function(){if(this.cellComp&&this.beans.gridOptionsWrapper.isColumnHoverHighlight()){var t=this.beans.columnHoverService.isHovered(this.column);this.cellComp.addOrRemoveCssClass("ag-column-hover",t)}},n.prototype.onColDefChanged=function(){!this.cellComp||(this.setWrapText(),this.editing||this.refreshCell({forceRefresh:!0,suppressFlash:!0}))},n.prototype.setWrapText=function(){var t=1==this.column.getColDef().wrapText;this.cellComp.addOrRemoveCssClass("ag-cell-wrap-text",t)},n.prototype.dispatchCellContextMenuEvent=function(t){var o=this.column.getColDef(),u=this.createEvent(t,V.EVENT_CELL_CONTEXT_MENU);this.beans.eventService.dispatchEvent(u),o.onCellContextMenu&&window.setTimeout(function(){return o.onCellContextMenu(u)},0)},n.prototype.getCellRenderer=function(){return this.cellComp?this.cellComp.getCellRenderer():null},n.prototype.getCellEditor=function(){return this.cellComp?this.cellComp.getCellEditor():null},n.prototype.destroy=function(){this.onCellCompAttachedFuncs=[],p.prototype.destroy.call(this)},n.prototype.createSelectionCheckbox=function(){var t=new bl;return this.beans.context.createBean(t),t.init({rowNode:this.rowNode,column:this.column}),t},n.prototype.createDndSource=function(){var t=new Lh(this.rowNode,this.column,this.beans,this.eGui);return this.beans.context.createBean(t),t},n.prototype.registerRowDragger=function(t,o,u){var c=this;if(this.customRowDragComp)this.customRowDragComp.setDragElement(t,o);else{var f=this.createRowDragComp(t,o,u);f&&(this.customRowDragComp=f,this.addDestroyFunc(function(){return c.beans.context.destroyBean(f)}))}},n.prototype.createRowDragComp=function(t,o,u){var c=this,f=this.beans.gridOptionsWrapper.isPagination(),g=this.beans.gridOptionsWrapper.isRowDragManaged(),C=this.beans.gridOptionsWrapper.isRowModelDefault();if(g){if(!C)return void z(function(){return console.warn("AG Grid: managed row dragging is only allowed in the Client Side Row Model")},"CellComp.addRowDragging");if(f)return void z(function(){return console.warn("AG Grid: managed row dragging is not possible when doing pagination")},"CellComp.addRowDragging")}var O=new kn(function(){return c.value},this.rowNode,this.column,t,o,u);return this.beans.context.createBean(O),O},n.DOM_DATA_KEY_CELL_CTRL="cellCtrl",n}(Se),zh=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),Xh=function(p,n){var t="function"==typeof Symbol&&p[Symbol.iterator];if(!t)return p;var u,f,o=t.call(p),c=[];try{for(;(void 0===n||n-- >0)&&!(u=o.next()).done;)c.push(u.value)}catch(g){f={error:g}}finally{try{u&&!u.done&&(t=o.return)&&t.call(o)}finally{if(f)throw f.error}}return c},xt=(()=>(function(p){p.Normal="Normal",p.FullWidth="FullWidth",p.FullWidthLoading="FullWidthLoading",p.FullWidthGroup="FullWidthGroup",p.FullWidthDetail="FullWidthDetail"}(xt||(xt={})),xt))(),Zh=0,Zr=function(p){function n(t,o,u,c,f){var g=p.call(this)||this;return g.allRowGuis=[],g.active=!0,g.centerCellCtrls={list:[],map:{}},g.leftCellCtrls={list:[],map:{}},g.rightCellCtrls={list:[],map:{}},g.lastMouseDownOnDragger=!1,g.updateColumnListsPending=!1,g.beans=o,g.rowNode=t,g.paginationPage=g.beans.paginationProxy.getCurrentPage(),g.useAnimationFrameForCreate=c,g.printLayout=f,g.instanceId=t.id+"-"+Zh++,g.setAnimateFlags(u),g.rowFocused=g.beans.focusService.isRowFocused(g.rowNode.rowIndex,g.rowNode.rowPinned),g.rowLevel=g.beans.rowCssClassCalculator.calculateRowLevel(g.rowNode),g.setRowType(),g.addListeners(),g}return zh(n,p),n.prototype.isSticky=function(){return this.rowNode.sticky},n.prototype.getBeans=function(){return this.beans},n.prototype.getInstanceId=function(){return this.instanceId},n.prototype.setComp=function(t,o,u){var c={rowComp:t,element:o,containerType:u};this.allRowGuis.push(c),u===Nt.LEFT?this.leftGui=c:u===Nt.RIGHT?this.rightGui=c:u===Nt.FULL_WIDTH?this.fullWidthGui=c:this.centerGui=c,(null!=this.leftGui&&null!=this.rightGui&&null!=this.centerGui||null!=this.fullWidthGui)&&this.initialiseRowComps(),"FullWidthLoading"!==this.rowType&&this.beans.rowRenderer.dispatchFirstDataRenderedEvent()},n.prototype.isCacheable=function(){return this.rowType===xt.FullWidthDetail&&this.beans.gridOptionsWrapper.isKeepDetailRows()},n.prototype.setCached=function(t){var o=t?"none":"";this.allRowGuis.forEach(function(u){return u.element.style.display=o})},n.prototype.initialiseRowComps=function(){var t=this,o=this.beans.gridOptionsWrapper;this.onRowHeightChanged(),this.updateRowIndexes(),this.setFocusedClasses(),this.setStylesFromGridOptions(),o.isRowSelection()&&this.rowNode.selectable&&this.onRowSelected(),this.updateColumnLists(!this.useAnimationFrameForCreate),this.slideRowIn&&be(this.onTopChanged.bind(this)),this.fadeRowIn&&be(function(){t.allRowGuis.forEach(function(g){return g.rowComp.addOrRemoveCssClass("ag-opacity-zero",!1)})});var u=this.getRowBusinessKey(),c=rr(this.rowNode.id),f=rr(u);this.allRowGuis.forEach(function(g){var C=g.rowComp;C.setRole("row"),t.getInitialRowClasses(g.containerType).forEach(function(P){return C.addOrRemoveCssClass(P,!0)}),t.rowNode.group&&Vt(g.element,1==t.rowNode.expanded),null!=c&&C.setRowId(c),null!=f&&C.setRowBusinessKey(f),t.isFullWidth()&&!t.beans.gridOptionsWrapper.isSuppressCellFocus()&&C.setTabIndex(-1),o.setDomData(g.element,n.DOM_DATA_KEY_ROW_CTRL,t),t.addDestroyFunc(function(){return o.setDomData(g.element,n.DOM_DATA_KEY_ROW_CTRL,null)}),t.useAnimationFrameForCreate?t.beans.animationFrameService.createTask(t.addHoverFunctionality.bind(t,g.element),t.rowNode.rowIndex,"createTasksP2"):t.addHoverFunctionality(g.element),t.isFullWidth()&&t.setupFullWidth(g),o.isRowDragEntireRow()&&t.addRowDraggerToRow(g),t.useAnimationFrameForCreate&&t.beans.animationFrameService.addDestroyTask(function(){!t.isAlive()||g.rowComp.addOrRemoveCssClass("ag-after-created",!0)})}),this.executeProcessRowPostCreateFunc()},n.prototype.addRowDraggerToRow=function(t){if(this.beans.gridOptionsWrapper.isEnableRangeSelection())z(function(){console.warn("AG Grid: Setting `rowDragEntireRow: true` in the gridOptions doesn't work with `enableRangeSelection: true`")},"rowDragAndRangeSelectionEnabled");else{var u=new kn(function(){return"1 row"},this.rowNode,void 0,t.element,void 0,!0);this.createManagedBean(u,this.beans.context)}},n.prototype.setupFullWidth=function(t){var o=this.getPinnedForContainer(t.containerType),u=this.createFullWidthParams(t.element,o),c=Ne.isRegistered(Fe.MasterDetailModule);if(this.rowType!=xt.FullWidthDetail||c){var f;switch(this.rowType){case xt.FullWidthDetail:f=this.beans.userComponentFactory.getFullWidthDetailCellRendererDetails(u);break;case xt.FullWidthGroup:f=this.beans.userComponentFactory.getFullWidthGroupCellRendererDetails(u);break;case xt.FullWidthLoading:f=this.beans.userComponentFactory.getFullWidthLoadingCellRendererDetails(u);break;default:f=this.beans.userComponentFactory.getFullWidthCellRendererDetails(u)}t.rowComp.showFullWidth(f)}else Ne.isPackageBased()?console.warn("AG Grid: cell renderer 'agDetailCellRenderer' (for master detail) not found. Can only be used with ag-grid-enterprise package."):console.warn("AG Grid: cell renderer 'agDetailCellRenderer' (for master detail) not found. Can only be used with AG Grid Enterprise Module "+Fe.MasterDetailModule)},n.prototype.isPrintLayout=function(){return this.printLayout},n.prototype.getCellElement=function(t){var o=this.getCellCtrl(t);return o?o.getGui():null},n.prototype.executeProcessRowPostCreateFunc=function(){var t=this.beans.gridOptionsWrapper.getProcessRowPostCreateFunc();t&&t({eRow:this.centerGui?this.centerGui.element:void 0,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)})},n.prototype.setRowType=function(){var t=this.rowNode.stub,o=this.rowNode.isFullWidthCell(),u=this.beans.doingMasterDetail&&this.rowNode.detail,c=this.beans.columnModel.isPivotMode(),g=!!this.rowNode.group&&!this.rowNode.footer&&this.beans.gridOptionsWrapper.isGroupUseEntireRow(c);this.rowType=t?xt.FullWidthLoading:u?xt.FullWidthDetail:o?xt.FullWidth:g?xt.FullWidthGroup:xt.Normal},n.prototype.updateColumnLists=function(t){var o=this;if(void 0===t&&(t=!1),!this.isFullWidth()){if(t||this.beans.gridOptionsWrapper.isSuppressAnimationFrame()||this.printLayout)return void this.updateColumnListsImpl();this.updateColumnListsPending||(this.beans.animationFrameService.createTask(function(){!o.active||o.updateColumnListsImpl()},this.rowNode.rowIndex,"createTasksP1"),this.updateColumnListsPending=!0)}},n.prototype.createCellCtrls=function(t,o,u){var c=this;void 0===u&&(u=null);var f={list:[],map:{}},g=function(C,O){f.list.push(O),f.map[C]=O};return o.forEach(function(C){var O=C.getInstanceId(),P=t.map[O];P||(P=new qr(C,c.rowNode,c.beans,c)),g(O,P)}),t.list.forEach(function(C){if(null==f.map[C.getColumn().getInstanceId()]){if(!c.isCellEligibleToBeRemoved(C,u))return void g(C.getColumn().getInstanceId(),C);C.destroy()}}),f},n.prototype.updateColumnListsImpl=function(){var t=this;this.updateColumnListsPending=!1;var o=this.beans.columnModel;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,o.getAllDisplayedColumns()),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{var u=o.getViewportCenterColumnsForRow(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,u);var c=o.getDisplayedLeftColumnsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,c,ee.PINNED_LEFT);var f=o.getDisplayedRightColumnsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,f,ee.PINNED_RIGHT)}this.allRowGuis.forEach(function(g){g.rowComp.setCellCtrls((g.containerType===Nt.LEFT?t.leftCellCtrls:g.containerType===Nt.RIGHT?t.rightCellCtrls:t.centerCellCtrls).list)})},n.prototype.isCellEligibleToBeRemoved=function(t,o){var u=!0;if(t.getColumn().getPinned()!=o)return u;var g=t.isEditing(),C=this.beans.focusService.isCellFocused(t.getCellPosition());if(g||C){var P=t.getColumn();return!(this.beans.columnModel.getAllDisplayedColumns().indexOf(P)>=0)&&u}return u},n.prototype.setAnimateFlags=function(t){if(!this.isSticky()&&t){var o=a(this.rowNode.oldRowTop);this.slideRowIn=o,this.fadeRowIn=!o}else this.slideRowIn=!1,this.fadeRowIn=!1},n.prototype.isEditing=function(){return this.editingRow},n.prototype.stopRowEditing=function(t){this.stopEditing(t)},n.prototype.isFullWidth=function(){return this.rowType!==xt.Normal},n.prototype.getRowType=function(){return this.rowType},n.prototype.refreshFullWidth=function(){var t=this,o=function(O,P){if(!O)return!0;var R=O.rowComp.getFullWidthCellRenderer();if(!R||!R.refresh)return!1;var x=t.createFullWidthParams(O.element,P);return R.refresh(x)},u=o(this.fullWidthGui,null),c=o(this.centerGui,null),f=o(this.leftGui,ee.PINNED_LEFT),g=o(this.rightGui,ee.PINNED_RIGHT);return u&&c&&f&&g},n.prototype.addListeners=function(){this.addManagedListener(this.rowNode,Ke.EVENT_HEIGHT_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.rowNode,Ke.EVENT_ROW_SELECTED,this.onRowSelected.bind(this)),this.addManagedListener(this.rowNode,Ke.EVENT_ROW_INDEX_CHANGED,this.onRowIndexChanged.bind(this)),this.addManagedListener(this.rowNode,Ke.EVENT_TOP_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(this.rowNode,Ke.EVENT_EXPANDED_CHANGED,this.updateExpandedCss.bind(this)),this.addManagedListener(this.rowNode,Ke.EVENT_HAS_CHILDREN_CHANGED,this.updateExpandedCss.bind(this)),this.addManagedListener(this.rowNode,Ke.EVENT_DATA_CHANGED,this.onRowNodeDataChanged.bind(this)),this.addManagedListener(this.rowNode,Ke.EVENT_CELL_CHANGED,this.onRowNodeCellChanged.bind(this)),this.addManagedListener(this.rowNode,Ke.EVENT_HIGHLIGHT_CHANGED,this.onRowNodeHighlightChanged.bind(this)),this.addManagedListener(this.rowNode,Ke.EVENT_DRAGGING_CHANGED,this.onRowNodeDraggingChanged.bind(this)),this.addManagedListener(this.rowNode,Ke.EVENT_UI_LEVEL_CHANGED,this.onUiLevelChanged.bind(this));var t=this.beans.eventService;this.addManagedListener(t,V.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,this.onPaginationPixelOffsetChanged.bind(this)),this.addManagedListener(t,V.EVENT_HEIGHT_SCALE_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(t,V.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(t,V.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addManagedListener(t,V.EVENT_CELL_FOCUSED,this.onCellFocusChanged.bind(this)),this.addManagedListener(t,V.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),this.addManagedListener(t,V.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedListener(t,V.EVENT_COLUMN_MOVED,this.onColumnMoved.bind(this)),this.addListenersForCellComps()},n.prototype.onColumnMoved=function(){this.updateColumnLists()},n.prototype.addListenersForCellComps=function(){var t=this;this.addManagedListener(this.rowNode,Ke.EVENT_ROW_INDEX_CHANGED,function(){t.getAllCellCtrls().forEach(function(o){return o.onRowIndexChanged()})}),this.addManagedListener(this.rowNode,Ke.EVENT_CELL_CHANGED,function(o){t.getAllCellCtrls().forEach(function(u){return u.onCellChanged(o)})})},n.prototype.onRowNodeDataChanged=function(t){this.getAllCellCtrls().forEach(function(o){return o.refreshCell({suppressFlash:!t.update,newData:!t.update})}),this.onRowSelected(),this.postProcessCss()},n.prototype.onRowNodeCellChanged=function(){this.postProcessCss()},n.prototype.postProcessCss=function(){this.setStylesFromGridOptions(),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()},n.prototype.onRowNodeHighlightChanged=function(){var t=this.rowNode.highlighted;this.allRowGuis.forEach(function(o){var c=t===or.Below;o.rowComp.addOrRemoveCssClass("ag-row-highlight-above",t===or.Above),o.rowComp.addOrRemoveCssClass("ag-row-highlight-below",c)})},n.prototype.onRowNodeDraggingChanged=function(){this.postProcessRowDragging()},n.prototype.postProcessRowDragging=function(){var t=this.rowNode.dragging;this.allRowGuis.forEach(function(o){return o.rowComp.addOrRemoveCssClass("ag-row-dragging",t)})},n.prototype.updateExpandedCss=function(){var t=this.rowNode.isExpandable(),o=1==this.rowNode.expanded;this.allRowGuis.forEach(function(u){u.rowComp.addOrRemoveCssClass("ag-row-group",t),u.rowComp.addOrRemoveCssClass("ag-row-group-expanded",t&&o),u.rowComp.addOrRemoveCssClass("ag-row-group-contracted",t&&!o),Vt(u.element,t&&o)})},n.prototype.onDisplayedColumnsChanged=function(){this.updateColumnLists(!0),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights()},n.prototype.onVirtualColumnsChanged=function(){this.updateColumnLists()},n.prototype.getRowPosition=function(){return{rowPinned:i(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}},n.prototype.onKeyboardNavigate=function(t){var o=this.allRowGuis.find(function(O){return O.element.contains(t.target)});if((o?o.element:null)===t.target){var f=this.rowNode,g=this.beans.focusService.getFocusedCell();this.beans.navigationService.navigateToNextCell(t,t.key,{rowIndex:f.rowIndex,rowPinned:f.rowPinned,column:g&&g.column},!0),t.preventDefault()}},n.prototype.onTabKeyDown=function(t){if(!t.defaultPrevented&&!H(t)){var o=this.allRowGuis.find(function(g){return g.element.contains(t.target)}),u=o?o.element:null,c=u===t.target,f=null;c||(f=this.beans.focusService.findNextFocusableElement(u,!1,t.shiftKey)),(this.isFullWidth()&&c||!f)&&this.beans.navigationService.onTabKeyDown(this,t)}},n.prototype.onFullWidthRowFocused=function(t){var o,u=this.rowNode,c=this.isFullWidth()&&t.rowIndex===u.rowIndex&&t.rowPinned==u.rowPinned,f=this.fullWidthGui?this.fullWidthGui.element:null===(o=this.centerGui)||void 0===o?void 0:o.element;!f||(f.classList.toggle("ag-full-width-focus",c),c&&f.focus({preventScroll:!0}))},n.prototype.refreshCell=function(t){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,t),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,t),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,t),this.updateColumnLists()},n.prototype.removeCellCtrl=function(t,o){var u={list:[],map:{}};return t.list.forEach(function(c){c!==o&&(u.list.push(c),u.map[c.getInstanceId()]=c)}),u},n.prototype.onMouseEvent=function(t,o){switch(t){case"dblclick":this.onRowDblClick(o);break;case"click":this.onRowClick(o);break;case"touchstart":case"mousedown":this.onRowMouseDown(o)}},n.prototype.createRowEvent=function(t,o){return{type:t,node:this.rowNode,data:this.rowNode.data,rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,context:this.beans.gridOptionsWrapper.getContext(),api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),event:o}},n.prototype.createRowEventWithSource=function(t,o){var u=this.createRowEvent(t,o);return u.source=this,u},n.prototype.onRowDblClick=function(t){if(!H(t)){var o=this.createRowEventWithSource(V.EVENT_ROW_DOUBLE_CLICKED,t);this.beans.eventService.dispatchEvent(o)}},n.prototype.onRowMouseDown=function(t){if(this.lastMouseDownOnDragger=Gr(t.target,"ag-row-drag",3),this.isFullWidth()){var o=this.rowNode,u=this.beans.columnModel;this.beans.rangeService&&this.beans.rangeService.removeAllCellRanges(),this.beans.focusService.setFocusedCell({rowIndex:o.rowIndex,column:u.getAllDisplayedColumns()[0],rowPinned:o.rowPinned,forceBrowserFocus:!0})}},n.prototype.onRowClick=function(t){if(!H(t)&&!this.lastMouseDownOnDragger){var u=this.createRowEventWithSource(V.EVENT_ROW_CLICKED,t);this.beans.eventService.dispatchEvent(u);var c=t.ctrlKey||t.metaKey,f=t.shiftKey;if(!(this.beans.gridOptionsWrapper.isGroupSelectsChildren()&&this.rowNode.group||!this.rowNode.selectable||this.rowNode.rowPinned||!this.beans.gridOptionsWrapper.isRowSelection()||this.beans.gridOptionsWrapper.isSuppressRowClickSelection())){var C=this.beans.gridOptionsWrapper.isRowMultiSelectWithClick(),O=!this.beans.gridOptionsWrapper.isSuppressRowDeselection();this.rowNode.isSelected()?C?this.rowNode.setSelectedParams({newValue:!1,event:t}):c?O&&this.rowNode.setSelectedParams({newValue:!1,event:t}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!f,rangeSelect:f,event:t}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!C&&!c,rangeSelect:f,event:t})}}},n.prototype.setupDetailRowAutoHeight=function(t){var o=this;if(this.rowType===xt.FullWidthDetail&&this.beans.gridOptionsWrapper.isDetailRowAutoHeight()){var u=function(){var f=t.clientHeight;null!=f&&f>0&&o.beans.frameworkOverrides.setTimeout(function(){o.rowNode.setRowHeight(f),o.beans.clientSideRowModel?o.beans.clientSideRowModel.onRowHeightChanged():o.beans.serverSideRowModel&&o.beans.serverSideRowModel.onRowHeightChanged()},0)},c=this.beans.resizeObserverService.observeResize(t,u);this.addDestroyFunc(c),u()}},n.prototype.createFullWidthParams=function(t,o){var u=this;return{fullWidth:!0,data:this.rowNode.data,node:this.rowNode,value:this.rowNode.key,valueFormatted:this.rowNode.key,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext(),eGridCell:t,eParentOfValue:t,pinned:o,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:function(f,g,C,O){return u.addFullWidthRowDragging(f,g,C,O)}}},n.prototype.addFullWidthRowDragging=function(t,o,u,c){if(void 0===u&&(u=""),this.isFullWidth()){var f=new kn(function(){return u},this.rowNode,void 0,t,o,c);this.createManagedBean(f,this.beans.context)}},n.prototype.onUiLevelChanged=function(){var t=this.beans.rowCssClassCalculator.calculateRowLevel(this.rowNode);if(this.rowLevel!=t){var o="ag-row-level-"+t,u="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach(function(c){c.rowComp.addOrRemoveCssClass(o,!0),c.rowComp.addOrRemoveCssClass(u,!1)})}this.rowLevel=t},n.prototype.isFirstRowOnPage=function(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageFirstRow()},n.prototype.isLastRowOnPage=function(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageLastRow()},n.prototype.onModelUpdated=function(){this.refreshFirstAndLastRowStyles()},n.prototype.refreshFirstAndLastRowStyles=function(){var t=this.isFirstRowOnPage(),o=this.isLastRowOnPage();this.firstRowOnPage!==t&&(this.firstRowOnPage=t,this.allRowGuis.forEach(function(u){return u.rowComp.addOrRemoveCssClass("ag-row-first",t)})),this.lastRowOnPage!==o&&(this.lastRowOnPage=o,this.allRowGuis.forEach(function(u){return u.rowComp.addOrRemoveCssClass("ag-row-last",o)}))},n.prototype.stopEditing=function(t){var o,u;if(void 0===t&&(t=!1),!this.stoppingRowEdit){var c=this.getAllCellCtrls(),f=this.editingRow;this.stoppingRowEdit=!0;var g=!1;try{for(var C=function(p){var n="function"==typeof Symbol&&Symbol.iterator,t=n&&p[n],o=0;if(t)return t.call(p);if(p&&"number"==typeof p.length)return{next:function(){return p&&o>=p.length&&(p=void 0),{value:p&&p[o++],done:!p}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(c),O=C.next();!O.done;O=C.next()){var R=O.value.stopEditing(t);f&&!t&&!g&&R&&(g=!0)}}catch(W){o={error:W}}finally{try{O&&!O.done&&(u=C.return)&&u.call(C)}finally{if(o)throw o.error}}if(g){var x=this.createRowEvent(V.EVENT_ROW_VALUE_CHANGED);this.beans.eventService.dispatchEvent(x)}f&&this.setEditingRow(!1),this.stoppingRowEdit=!1}},n.prototype.setInlineEditingCss=function(t){this.allRowGuis.forEach(function(o){o.rowComp.addOrRemoveCssClass("ag-row-inline-editing",t),o.rowComp.addOrRemoveCssClass("ag-row-not-inline-editing",!t)})},n.prototype.setEditingRow=function(t){this.editingRow=t,this.allRowGuis.forEach(function(u){return u.rowComp.addOrRemoveCssClass("ag-row-editing",t)});var o=this.createRowEvent(t?V.EVENT_ROW_EDITING_STARTED:V.EVENT_ROW_EDITING_STOPPED);this.beans.eventService.dispatchEvent(o)},n.prototype.startRowEditing=function(t,o,u,c){void 0===t&&(t=null),void 0===o&&(o=null),void 0===u&&(u=null),void 0===c&&(c=null),!this.editingRow&&(this.getAllCellCtrls().forEach(function(f){var g=f===u;g?f.startEditing(t,o,g,c):f.startEditing(null,null,g,c)}),this.setEditingRow(!0))},n.prototype.getAllCellCtrls=function(){var t=function(){for(var p=[],n=0;n<arguments.length;n++)p=p.concat(Xh(arguments[n]));return p}(this.centerCellCtrls.list,this.leftCellCtrls.list,this.rightCellCtrls.list);return t},n.prototype.postProcessClassesFromGridOptions=function(){var t=this,o=this.beans.rowCssClassCalculator.processClassesFromGridOptions(this.rowNode);!o||!o.length||o.forEach(function(u){t.allRowGuis.forEach(function(c){return c.rowComp.addOrRemoveCssClass(u,!0)})})},n.prototype.postProcessRowClassRules=function(){var t=this;this.beans.rowCssClassCalculator.processRowClassRules(this.rowNode,function(o){t.allRowGuis.forEach(function(u){return u.rowComp.addOrRemoveCssClass(o,!0)})},function(o){t.allRowGuis.forEach(function(u){return u.rowComp.addOrRemoveCssClass(o,!1)})})},n.prototype.setStylesFromGridOptions=function(){var t=this.processStylesFromGridOptions();this.allRowGuis.forEach(function(o){return o.rowComp.setUserStyles(t)})},n.prototype.getRowBusinessKey=function(){var t=this.beans.gridOptionsWrapper.getBusinessKeyForNodeFunc();if("function"==typeof t)return t(this.rowNode)},n.prototype.getPinnedForContainer=function(t){return t===Nt.LEFT?ee.PINNED_LEFT:t===Nt.RIGHT?ee.PINNED_RIGHT:null},n.prototype.getInitialRowClasses=function(t){var o=this.getPinnedForContainer(t),u={rowNode:this.rowNode,rowFocused:this.rowFocused,fadeRowIn:this.fadeRowIn,rowIsEven:this.rowNode.rowIndex%2==0,rowLevel:this.rowLevel,fullWidthRow:this.isFullWidth(),firstRowOnPage:this.isFirstRowOnPage(),lastRowOnPage:this.isLastRowOnPage(),printLayout:this.printLayout,expandable:this.rowNode.isExpandable(),pinned:o};return this.beans.rowCssClassCalculator.getInitialRowClasses(u)},n.prototype.processStylesFromGridOptions=function(){var t=this.beans.gridOptionsWrapper.getRowStyle();if(!t||"function"!=typeof t){var u,o=this.beans.gridOptionsWrapper.getRowStyleFunc();return o&&(u=o({data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex})),Object.assign({},t,u)}console.warn("AG Grid: rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead")},n.prototype.onRowSelected=function(){var t=this,o=!!this.rowNode.isSelected();this.allRowGuis.forEach(function(u){u.rowComp.addOrRemoveCssClass("ag-row-selected",o),vi(u.element,!!o||void 0);var c=t.createAriaLabel();Hr(u.element,c??"")})},n.prototype.createAriaLabel=function(){var t=this.rowNode.isSelected();if(!t||!this.beans.gridOptionsWrapper.isSuppressRowDeselection())return this.beans.gridOptionsWrapper.getLocaleTextFunc()(t?"ariaRowDeselect":"ariaRowSelect","Press SPACE to "+(t?"deselect":"select")+" this row.")},n.prototype.isUseAnimationFrameForCreate=function(){return this.useAnimationFrameForCreate},n.prototype.addHoverFunctionality=function(t){var o=this;!this.active||(this.addManagedListener(t,"mouseenter",function(){return o.rowNode.onMouseEnter()}),this.addManagedListener(t,"mouseleave",function(){return o.rowNode.onMouseLeave()}),this.addManagedListener(this.rowNode,Ke.EVENT_MOUSE_ENTER,function(){o.beans.gridOptionsWrapper.isSuppressRowHoverHighlight()||t.classList.add("ag-row-hover")}),this.addManagedListener(this.rowNode,Ke.EVENT_MOUSE_LEAVE,function(){t.classList.remove("ag-row-hover")}))},n.prototype.roundRowTopToBounds=function(t){var u=this.beans.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),c=this.applyPaginationOffset(u.top,!0)-100,f=this.applyPaginationOffset(u.bottom,!0)+100;return Math.min(Math.max(c,t),f)},n.prototype.getFrameworkOverrides=function(){return this.beans.frameworkOverrides},n.prototype.onRowHeightChanged=function(){if(null!=this.rowNode.rowHeight){var t=this.rowNode.rowHeight,o=this.beans.gridOptionsWrapper.getDefaultRowHeight(),c=this.beans.gridOptionsWrapper.isGetRowHeightFunction()?this.beans.gridOptionsWrapper.getRowHeightForNode(this.rowNode).height:void 0,f=c?Math.min(o,c)-2+"px":void 0;this.allRowGuis.forEach(function(g){g.element.style.height=t+"px",f&&g.element.style.setProperty("--ag-line-height",f)})}},n.prototype.addEventListener=function(t,o){("renderedRowRemoved"===t||"rowRemoved"===t)&&(t=V.EVENT_VIRTUAL_ROW_REMOVED,console.warn("AG Grid: Since version 11, event renderedRowRemoved is now called "+V.EVENT_VIRTUAL_ROW_REMOVED)),p.prototype.addEventListener.call(this,t,o)},n.prototype.removeEventListener=function(t,o){("renderedRowRemoved"===t||"rowRemoved"===t)&&(t=V.EVENT_VIRTUAL_ROW_REMOVED,console.warn("AG Grid: Since version 11, event renderedRowRemoved and rowRemoved is now called "+V.EVENT_VIRTUAL_ROW_REMOVED)),p.prototype.removeEventListener.call(this,t,o)},n.prototype.destroyFirstPass=function(){this.active=!1,this.setupRemoveAnimation();var t=this.createRowEvent(V.EVENT_VIRTUAL_ROW_REMOVED);this.dispatchEvent(t),this.beans.eventService.dispatchEvent(t),p.prototype.destroy.call(this)},n.prototype.setupRemoveAnimation=function(){if(!this.isSticky())if(null!=this.rowNode.rowTop){var o=this.roundRowTopToBounds(this.rowNode.rowTop);this.setRowTop(o)}else this.allRowGuis.forEach(function(u){return u.rowComp.addOrRemoveCssClass("ag-opacity-zero",!0)})},n.prototype.destroySecondPass=function(){this.allRowGuis.length=0;var t=function(o){return o.list.forEach(function(u){return u.destroy()}),{list:[],map:{}}};this.centerCellCtrls=t(this.centerCellCtrls),this.leftCellCtrls=t(this.leftCellCtrls),this.rightCellCtrls=t(this.rightCellCtrls)},n.prototype.setFocusedClasses=function(){var t=this;this.allRowGuis.forEach(function(o){o.rowComp.addOrRemoveCssClass("ag-row-focus",t.rowFocused),o.rowComp.addOrRemoveCssClass("ag-row-no-focus",!t.rowFocused)})},n.prototype.onCellFocusChanged=function(){var t=this.beans.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);t!==this.rowFocused&&(this.rowFocused=t,this.setFocusedClasses()),!t&&this.editingRow&&this.stopEditing(!1)},n.prototype.onPaginationChanged=function(){var t=this.beans.paginationProxy.getCurrentPage();this.paginationPage!==t&&(this.paginationPage=t,this.onTopChanged()),this.refreshFirstAndLastRowStyles()},n.prototype.onTopChanged=function(){this.setRowTop(this.rowNode.rowTop)},n.prototype.onPaginationPixelOffsetChanged=function(){this.onTopChanged()},n.prototype.applyPaginationOffset=function(t,o){return void 0===o&&(o=!1),this.rowNode.isRowPinned()?t:t+this.beans.paginationProxy.getPixelOffset()*(o?1:-1)},n.prototype.setRowTop=function(t){if(!this.printLayout&&a(t)){var o=this.applyPaginationOffset(t),u=this.rowNode.isRowPinned()?o:this.beans.rowContainerHeightService.getRealPixelPosition(o);this.setRowTopStyle(u+"px")}},n.prototype.getInitialRowTop=function(){return this.beans.gridOptionsWrapper.isSuppressRowTransform()?this.getInitialRowTopShared():void 0},n.prototype.getInitialTransform=function(){return this.beans.gridOptionsWrapper.isSuppressRowTransform()?void 0:"translateY("+this.getInitialRowTopShared()+")"},n.prototype.getInitialRowTopShared=function(){if(this.printLayout)return"";var t;if(this.isSticky())t=this.rowNode.stickyRowTop;else{var o=this.slideRowIn?this.roundRowTopToBounds(this.rowNode.oldRowTop):this.rowNode.rowTop,u=this.applyPaginationOffset(o);t=this.rowNode.isRowPinned()?u:this.beans.rowContainerHeightService.getRealPixelPosition(u)}return t+"px"},n.prototype.setRowTopStyle=function(t){var o=this.beans.gridOptionsWrapper.isSuppressRowTransform();this.allRowGuis.forEach(function(u){return o?u.rowComp.setTop(t):u.rowComp.setTransform("translateY("+t+")")})},n.prototype.getRowNode=function(){return this.rowNode},n.prototype.getCellCtrl=function(t){var o=null;return this.getAllCellCtrls().forEach(function(u){u.getColumn()==t&&(o=u)}),null!=o||this.getAllCellCtrls().forEach(function(u){u.getColSpanningList().indexOf(t)>=0&&(o=u)}),o},n.prototype.onRowIndexChanged=function(){null!=this.rowNode.rowIndex&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())},n.prototype.updateRowIndexes=function(){var t=this.rowNode.getRowIndexString(),o=this.beans.headerNavigationService.getHeaderRowCount(),u=this.rowNode.rowIndex%2==0,c=o+this.rowNode.rowIndex+1;this.allRowGuis.forEach(function(f){f.rowComp.setRowIndex(t),f.rowComp.addOrRemoveCssClass("ag-row-even",u),f.rowComp.addOrRemoveCssClass("ag-row-odd",!u),ia(f.element,c)})},n.prototype.getPinnedLeftRowElement=function(){return this.leftGui?this.leftGui.element:void 0},n.prototype.getPinnedRightRowElement=function(){return this.rightGui?this.rightGui.element:void 0},n.prototype.getBodyRowElement=function(){return this.centerGui?this.centerGui.element:void 0},n.prototype.getFullWidthRowElement=function(){return this.fullWidthGui?this.fullWidthGui.element:void 0},n.DOM_DATA_KEY_ROW_CTRL="renderedRow",n}(Se),Jh=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),Ut=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},ef=function(p){function n(t){var o=p.call(this)||this;return o.element=t,o}return Jh(n,p),n.prototype.postConstruct=function(){this.addMouseListeners(),this.mockContextMenuForIPad(),this.addKeyboardEvents()},n.prototype.addKeyboardEvents=function(){var t=this;["keydown","keypress"].forEach(function(u){var c=t.processKeyboardEvent.bind(t,u);t.addManagedListener(t.element,u,c)})},n.prototype.addMouseListeners=function(){var t=this;["dblclick","contextmenu","mouseover","mouseout","click",Z("touchstart")?"touchstart":"mousedown"].forEach(function(c){var f=t.processMouseEvent.bind(t,c);t.addManagedListener(t.element,c,f)})},n.prototype.processMouseEvent=function(t,o){if(this.mouseEventService.isEventFromThisGrid(o)&&!H(o)){var u=this.getRowForEvent(o),c=this.mouseEventService.getRenderedCellForEvent(o);"contextmenu"===t?this.handleContextMenuMouseEvent(o,null,u,c):(c&&c.onMouseEvent(t,o),u&&u.onMouseEvent(t,o))}},n.prototype.mockContextMenuForIPad=function(){var t=this;if(Nr()){var o=new Kt(this.element);this.addManagedListener(o,Kt.EVENT_LONG_TAP,function(c){var f=t.getRowForEvent(c.touchEvent),g=t.mouseEventService.getRenderedCellForEvent(c.touchEvent);t.handleContextMenuMouseEvent(null,c.touchEvent,f,g)}),this.addDestroyFunc(function(){return o.destroy()})}},n.prototype.getRowForEvent=function(t){for(var o=t.target;o;){var u=this.gridOptionsWrapper.getDomData(o,Zr.DOM_DATA_KEY_ROW_CTRL);if(u)return u;o=o.parentElement}return null},n.prototype.handleContextMenuMouseEvent=function(t,o,u,c){var f=u?u.getRowNode():null,g=c?c.getColumn():null,C=null;g&&(c.dispatchCellContextMenuEvent(t||o),C=this.valueService.getValue(g,f));var P=this.ctrlsService.getGridBodyCtrl(),R=c?c.getGui():P.getGridBodyElement();this.contextMenuFactory&&this.contextMenuFactory.onContextMenu(t,o,f,g,C,R)},n.prototype.processKeyboardEvent=function(t,o){var u=B(this.gridOptionsWrapper,o,qr.DOM_DATA_KEY_CELL_CTRL),c=B(this.gridOptionsWrapper,o,Zr.DOM_DATA_KEY_ROW_CTRL);o.defaultPrevented||(u?this.processCellKeyboardEvent(u,t,o):c&&c.isFullWidth()&&this.processFullWidthRowKeyboardEvent(c,t,o))},n.prototype.processCellKeyboardEvent=function(t,o,u){var c=t.getRowNode(),f=t.getColumn(),g=t.isEditing();if(!An(this.gridOptionsWrapper,u,c,f,g))switch(o){case"keydown":!g&&this.navigationService.handlePageScrollingKey(u)||t.onKeyDown(u),this.doGridOperations(u,t.isEditing());break;case"keypress":t.onKeyPress(u)}if("keydown"===o){var P=t.createEvent(u,V.EVENT_CELL_KEY_DOWN);this.eventService.dispatchEvent(P)}if("keypress"===o){var R=t.createEvent(u,V.EVENT_CELL_KEY_PRESS);this.eventService.dispatchEvent(R)}},n.prototype.processFullWidthRowKeyboardEvent=function(t,o,u){var c=t.getRowNode(),f=this.focusService.getFocusedCell();if(!An(this.gridOptionsWrapper,u,c,f&&f.column,!1)&&"keydown"===o)switch(u.key){case ye.UP:case ye.DOWN:t.onKeyboardNavigate(u);break;case ye.TAB:t.onTabKeyDown(u)}if("keydown"===o){var P=t.createRowEvent(V.EVENT_CELL_KEY_DOWN,u);this.eventService.dispatchEvent(P)}if("keypress"===o){var R=t.createRowEvent(V.EVENT_CELL_KEY_PRESS,u);this.eventService.dispatchEvent(R)}},n.prototype.doGridOperations=function(t,o){if((t.ctrlKey||t.metaKey)&&!o&&this.mouseEventService.isEventFromThisGrid(t)){var u=pl(t);if(u===ye.A)return this.onCtrlAndA(t);if(u===ye.C)return this.onCtrlAndC(t);if(u===ye.V)return this.onCtrlAndV();if(u===ye.D)return this.onCtrlAndD(t);if(u===ye.Z)return t.shiftKey?this.undoRedoService.redo():this.undoRedoService.undo();if(u===ye.Y)return this.undoRedoService.redo()}},n.prototype.onCtrlAndA=function(t){var o=this,u=o.pinnedRowModel,f=o.rangeService,g=ee.PINNED_BOTTOM,C=ee.PINNED_TOP;if(f&&o.paginationProxy.isRowsToRender()){var O=function(p,n){var t="function"==typeof Symbol&&p[Symbol.iterator];if(!t)return p;var u,f,o=t.call(p),c=[];try{for(;(void 0===n||n-- >0)&&!(u=o.next()).done;)c.push(u.value)}catch(g){f={error:g}}finally{try{u&&!u.done&&(t=o.return)&&t.call(o)}finally{if(f)throw f.error}}return c}([u.isEmpty(C),u.isEmpty(g)],2),x=O[0]?null:C,W=void 0,U=void 0;O[1]?(W=null,U=this.paginationProxy.getRowCount()-1):(W=g,U=u.getPinnedBottomRowData().length-1);var q=this.columnModel.getAllDisplayedColumns();if(d(q))return;f.setCellRange({rowStartIndex:0,rowStartPinned:x,rowEndIndex:U,rowEndPinned:W,columnStart:q[0],columnEnd:Je(q)})}t.preventDefault()},n.prototype.onCtrlAndC=function(t){!this.clipboardService||this.gridOptionsWrapper.isEnableCellTextSelection()||(this.clipboardService.copyToClipboard(),t.preventDefault())},n.prototype.onCtrlAndV=function(){Ne.isRegistered(Fe.ClipboardModule)&&!this.gridOptionsWrapper.isSuppressClipboardPaste()&&this.clipboardService.pasteFromClipboard()},n.prototype.onCtrlAndD=function(t){Ne.isRegistered(Fe.ClipboardModule)&&!this.gridOptionsWrapper.isSuppressClipboardPaste()&&this.clipboardService.copyRangeDown(),t.preventDefault()},Ut([I("mouseEventService")],n.prototype,"mouseEventService",void 0),Ut([I("valueService")],n.prototype,"valueService",void 0),Ut([xe("contextMenuFactory")],n.prototype,"contextMenuFactory",void 0),Ut([I("ctrlsService")],n.prototype,"ctrlsService",void 0),Ut([I("navigationService")],n.prototype,"navigationService",void 0),Ut([I("focusService")],n.prototype,"focusService",void 0),Ut([I("undoRedoService")],n.prototype,"undoRedoService",void 0),Ut([I("columnModel")],n.prototype,"columnModel",void 0),Ut([I("paginationProxy")],n.prototype,"paginationProxy",void 0),Ut([I("pinnedRowModel")],n.prototype,"pinnedRowModel",void 0),Ut([xe("rangeService")],n.prototype,"rangeService",void 0),Ut([xe("clipboardService")],n.prototype,"clipboardService",void 0),Ut([Ee],n.prototype,"postConstruct",null),n}(Se),tf=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),Kn=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},rf=function(p){function n(t){var o=p.call(this)||this;return o.centerContainerCtrl=t,o}return tf(n,p),n.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady(function(){t.gridBodyCtrl=t.ctrlsService.getGridBodyCtrl(),t.listenForResize()}),this.addManagedListener(this.eventService,V.EVENT_SCROLLBAR_WIDTH_CHANGED,this.onScrollbarWidthChanged.bind(this))},n.prototype.listenForResize=function(){var t=this,o=function(){return t.onCenterViewportResized()};this.centerContainerCtrl.registerViewportResizeListener(o),this.gridBodyCtrl.registerBodyViewportResizeListener(o)},n.prototype.onScrollbarWidthChanged=function(){this.checkViewportAndScrolls()},n.prototype.onCenterViewportResized=function(){if(this.centerContainerCtrl.isViewportVisible()){this.checkViewportAndScrolls();var t=this.centerContainerCtrl.getCenterWidth();t!==this.centerWidth&&(this.centerWidth=t,this.columnModel.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0},n.prototype.checkViewportAndScrolls=function(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.getScrollFeature().checkScrollLeft()},n.prototype.getBodyHeight=function(){return this.bodyHeight},n.prototype.checkBodyHeight=function(){var o=Hi(this.gridBodyCtrl.getBodyViewportElement());this.bodyHeight!==o&&(this.bodyHeight=o,this.eventService.dispatchEvent({type:V.EVENT_BODY_HEIGHT_CHANGED}))},n.prototype.updateScrollVisibleService=function(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)},n.prototype.updateScrollVisibleServiceImpl=function(){var t={horizontalScrollShowing:this.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleService.setScrollsVisible(t),this.gridBodyCtrl.setVerticalScrollPaddingVisible(t.verticalScrollShowing)},n.prototype.isHorizontalScrollShowing=function(){return this.gridOptionsWrapper.isAlwaysShowHorizontalScroll()||this.centerContainerCtrl.isViewportHScrollShowing()},n.prototype.onHorizontalViewportChanged=function(){var t=this.centerContainerCtrl.getCenterWidth(),o=this.centerContainerCtrl.getViewportScrollLeft();this.columnModel.setViewportPosition(t,o)},Kn([I("ctrlsService")],n.prototype,"ctrlsService",void 0),Kn([I("columnModel")],n.prototype,"columnModel",void 0),Kn([I("scrollVisibleService")],n.prototype,"scrollVisibleService",void 0),Kn([Ee],n.prototype,"postConstruct",null),n}(Se),nf=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),Hl=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},of=function(p){function n(t){var o=p.call(this)||this;return o.element=t,o}return nf(n,p),n.prototype.postConstruct=function(){this.addManagedListener(this.eventService,V.EVENT_LEFT_PINNED_WIDTH_CHANGED,this.onPinnedLeftWidthChanged.bind(this))},n.prototype.onPinnedLeftWidthChanged=function(){var t=this.pinnedWidthService.getPinnedLeftWidth(),o=t>0;at(this.element,o),o&&ir(this.element,t)},Hl([I("pinnedWidthService")],n.prototype,"pinnedWidthService",void 0),Hl([Ee],n.prototype,"postConstruct",null),n}(Se),af=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),Ul=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},sf=function(p){function n(t){var o=p.call(this)||this;return o.element=t,o}return af(n,p),n.prototype.postConstruct=function(){this.addManagedListener(this.eventService,V.EVENT_RIGHT_PINNED_WIDTH_CHANGED,this.onPinnedRightWidthChanged.bind(this))},n.prototype.onPinnedRightWidthChanged=function(){var t=this.pinnedWidthService.getPinnedRightWidth(),o=t>0;at(this.element,o),o&&ir(this.element,t)},Ul([I("pinnedWidthService")],n.prototype,"pinnedWidthService",void 0),Ul([Ee],n.prototype,"postConstruct",null),n}(Se),lf=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),$l=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},uf=function(p){function n(t,o){var u=p.call(this)||this;return u.eContainer=t,u.eWrapper=o,u}return lf(n,p),n.prototype.postConstruct=function(){this.addManagedListener(this.eventService,V.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,this.onHeightChanged.bind(this))},n.prototype.onHeightChanged=function(){var t=this.maxDivHeightScaler.getUiContainerHeight(),o=null!=t?t+"px":"";this.eContainer.style.height=o,this.eWrapper&&(this.eWrapper.style.height=o)},$l([I("rowContainerHeightService")],n.prototype,"maxDivHeightScaler",void 0),$l([Ee],n.prototype,"postConstruct",null),n}(Se),cf=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),Ma=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},pf=function(p){function n(t){var o=p.call(this)||this;return o.eContainer=t,o}return cf(n,p),n.prototype.postConstruct=function(){var t=this;if(this.gridOptionsWrapper.isEnableRangeSelection()&&!s(this.rangeService)){var o={eElement:this.eContainer,onDragStart:this.rangeService.onDragStart.bind(this.rangeService),onDragStop:this.rangeService.onDragStop.bind(this.rangeService),onDragging:this.rangeService.onDragging.bind(this.rangeService)};this.dragService.addDragSource(o),this.addDestroyFunc(function(){return t.dragService.removeDragSource(o)})}},Ma([xe("rangeService")],n.prototype,"rangeService",void 0),Ma([I("dragService")],n.prototype,"dragService",void 0),Ma([Ee],n.prototype,"postConstruct",null),n}(Se),df=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),jl=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},Aa=function(p){function n(t){var o=p.call(this)||this;return o.callback=t,o}return df(n,p),n.prototype.postConstruct=function(){var t=this.setWidth.bind(this);this.addManagedListener(this.gridOptionsWrapper,Re.PROP_DOM_LAYOUT,t),this.addManagedListener(this.eventService,V.EVENT_DISPLAYED_COLUMNS_CHANGED,t),this.addManagedListener(this.eventService,V.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,t),this.setWidth()},n.prototype.setWidth=function(){var t=this.columnModel,o=this.gridOptionsWrapper.getDomLayout()===ee.DOM_LAYOUT_PRINT,u=t.getBodyContainerWidth(),c=t.getDisplayedColumnsLeftWidth(),f=t.getDisplayedColumnsRightWidth();this.callback(o?u+c+f:u)},jl([I("columnModel")],n.prototype,"columnModel",void 0),jl([Ee],n.prototype,"postConstruct",null),n}(Se),hf=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),Jr=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},ff=function(p,n){var t="function"==typeof Symbol&&p[Symbol.iterator];if(!t)return p;var u,f,o=t.call(p),c=[];try{for(;(void 0===n||n-- >0)&&!(u=o.next()).done;)c.push(u.value)}catch(g){f={error:g}}finally{try{u&&!u.done&&(t=o.return)&&t.call(o)}finally{if(f)throw f.error}}return c},de=(()=>(function(p){p.LEFT="left",p.RIGHT="right",p.CENTER="center",p.FULL_WIDTH="fullWidth",p.TOP_LEFT="topLeft",p.TOP_RIGHT="topRight",p.TOP_CENTER="topCenter",p.TOP_FULL_WIDTH="topFullWidth",p.STICKY_TOP_LEFT="stickyTopLeft",p.STICKY_TOP_RIGHT="stickyTopRight",p.STICKY_TOP_CENTER="stickyTopCenter",p.STICKY_TOP_FULL_WIDTH="stickyTopFullWidth",p.BOTTOM_LEFT="bottomLeft",p.BOTTOM_RIGHT="bottomRight",p.BOTTOM_CENTER="bottomCenter",p.BOTTOM_FULL_WIDTH="bottomFullWidth"}(de||(de={})),de))(),Nt=(()=>(function(p){p.LEFT="left",p.RIGHT="right",p.CENTER="center",p.FULL_WIDTH="fullWidth"}(Nt||(Nt={})),Nt))(),_f=yr([[de.CENTER,"ag-center-cols-container"],[de.LEFT,"ag-pinned-left-cols-container"],[de.RIGHT,"ag-pinned-right-cols-container"],[de.FULL_WIDTH,"ag-full-width-container"],[de.TOP_CENTER,"ag-floating-top-container"],[de.TOP_LEFT,"ag-pinned-left-floating-top"],[de.TOP_RIGHT,"ag-pinned-right-floating-top"],[de.TOP_FULL_WIDTH,"ag-floating-top-full-width-container"],[de.STICKY_TOP_CENTER,"ag-sticky-top-container"],[de.STICKY_TOP_LEFT,"ag-pinned-left-sticky-top"],[de.STICKY_TOP_RIGHT,"ag-pinned-right-sticky-top"],[de.STICKY_TOP_FULL_WIDTH,"ag-sticky-top-full-width-container"],[de.BOTTOM_CENTER,"ag-floating-bottom-container"],[de.BOTTOM_LEFT,"ag-pinned-left-floating-bottom"],[de.BOTTOM_RIGHT,"ag-pinned-right-floating-bottom"],[de.BOTTOM_FULL_WIDTH,"ag-floating-bottom-full-width-container"]]),yf=yr([[de.CENTER,"ag-center-cols-viewport"],[de.TOP_CENTER,"ag-floating-top-viewport"],[de.STICKY_TOP_CENTER,"ag-sticky-top-viewport"],[de.BOTTOM_CENTER,"ag-floating-bottom-viewport"]]),mf=yr([[de.CENTER,"ag-center-cols-clipper"]]),xa=function(p){function n(t){var o=p.call(this)||this;return o.name=t,o}return hf(n,p),n.getRowContainerCssClasses=function(t){return{container:_f.get(t),viewport:yf.get(t),wrapper:mf.get(t)}},n.getPinned=function(t){switch(t){case de.BOTTOM_LEFT:case de.TOP_LEFT:case de.STICKY_TOP_LEFT:case de.LEFT:return ee.PINNED_LEFT;case de.BOTTOM_RIGHT:case de.TOP_RIGHT:case de.STICKY_TOP_RIGHT:case de.RIGHT:return ee.PINNED_RIGHT;default:return null}},n.prototype.postConstruct=function(){var t=this;this.enableRtl=this.gridOptionsWrapper.isEnableRtl(),this.embedFullWidthRows=this.gridOptionsWrapper.isEmbedFullWidthRows(),this.forContainers([de.CENTER],function(){return t.viewportSizeFeature=t.createManagedBean(new rf(t))})},n.prototype.registerWithCtrlsService=function(){switch(this.name){case de.CENTER:this.ctrlsService.registerCenterRowContainerCtrl(this);break;case de.LEFT:this.ctrlsService.registerLeftRowContainerCtrl(this);break;case de.RIGHT:this.ctrlsService.registerRightRowContainerCtrl(this);break;case de.TOP_CENTER:this.ctrlsService.registerTopCenterRowContainerCtrl(this);break;case de.TOP_LEFT:this.ctrlsService.registerTopLeftRowContainerCon(this);break;case de.TOP_RIGHT:this.ctrlsService.registerTopRightRowContainerCtrl(this);break;case de.STICKY_TOP_CENTER:this.ctrlsService.registerStickyTopCenterRowContainerCtrl(this);break;case de.STICKY_TOP_LEFT:this.ctrlsService.registerStickyTopLeftRowContainerCon(this);break;case de.STICKY_TOP_RIGHT:this.ctrlsService.registerStickyTopRightRowContainerCtrl(this);break;case de.BOTTOM_CENTER:this.ctrlsService.registerBottomCenterRowContainerCtrl(this);break;case de.BOTTOM_LEFT:this.ctrlsService.registerBottomLeftRowContainerCtrl(this);break;case de.BOTTOM_RIGHT:this.ctrlsService.registerBottomRightRowContainerCtrl(this)}},n.prototype.forContainers=function(t,o){t.indexOf(this.name)>=0&&o()},n.prototype.getContainerElement=function(){return this.eContainer},n.prototype.getViewportSizeFeature=function(){return this.viewportSizeFeature},n.prototype.setComp=function(t,o,u,c){var f=this;this.comp=t,this.eContainer=o,this.eViewport=u,this.eWrapper=c,this.createManagedBean(new ef(this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder(),this.stopHScrollOnPinnedRows();var R=function(){for(var p=[],n=0;n<arguments.length;n++)p=p.concat(ff(arguments[n]));return p}([de.TOP_CENTER,de.TOP_LEFT,de.TOP_RIGHT],[de.BOTTOM_CENTER,de.BOTTOM_LEFT,de.BOTTOM_RIGHT],[de.CENTER,de.LEFT,de.RIGHT],[de.STICKY_TOP_CENTER,de.STICKY_TOP_LEFT,de.STICKY_TOP_RIGHT]),x=[de.CENTER,de.LEFT,de.RIGHT,de.FULL_WIDTH],W=[de.CENTER,de.TOP_CENTER,de.STICKY_TOP_CENTER,de.BOTTOM_CENTER],q=[de.RIGHT,de.BOTTOM_RIGHT,de.TOP_RIGHT,de.STICKY_TOP_RIGHT];this.forContainers([de.LEFT,de.BOTTOM_LEFT,de.TOP_LEFT,de.STICKY_TOP_LEFT],function(){return f.createManagedBean(new of(f.eContainer))}),this.forContainers(q,function(){return f.createManagedBean(new sf(f.eContainer))}),this.forContainers(x,function(){return f.createManagedBean(new uf(f.eContainer,f.eWrapper))}),this.forContainers(R,function(){return f.createManagedBean(new pf(f.eContainer))}),this.forContainers(W,function(){return f.createManagedBean(new Aa(function(te){return f.comp.setContainerWidth(te+"px")}))}),this.addListeners(),this.registerWithCtrlsService()},n.prototype.addListeners=function(){var t=this;this.addManagedListener(this.eventService,V.EVENT_SCROLL_VISIBILITY_CHANGED,function(){return t.onScrollVisibilityChanged()}),this.addManagedListener(this.eventService,V.EVENT_DISPLAYED_COLUMNS_CHANGED,function(){return t.onDisplayedColumnsChanged()}),this.addManagedListener(this.eventService,V.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,function(){return t.onDisplayedColumnsWidthChanged()}),this.addManagedListener(this.eventService,V.EVENT_DISPLAYED_ROWS_CHANGED,function(){return t.onDisplayedRowsChanged()}),this.onScrollVisibilityChanged(),this.onDisplayedColumnsChanged(),this.onDisplayedColumnsWidthChanged(),this.onDisplayedRowsChanged()},n.prototype.listenOnDomOrder=function(){var t=this;if([de.STICKY_TOP_CENTER,de.STICKY_TOP_LEFT,de.STICKY_TOP_RIGHT,de.STICKY_TOP_FULL_WIDTH].indexOf(this.name)>=0)this.comp.setDomOrder(!0);else{var c=function(){return t.comp.setDomOrder(t.gridOptionsWrapper.isEnsureDomOrder())};this.addManagedListener(this.gridOptionsWrapper,Re.PROP_DOM_LAYOUT,c),c()}},n.prototype.stopHScrollOnPinnedRows=function(){var t=this;this.forContainers([de.TOP_CENTER,de.STICKY_TOP_CENTER,de.BOTTOM_CENTER],function(){t.addManagedListener(t.eViewport,"scroll",function(){return t.eViewport.scrollLeft=0})})},n.prototype.onDisplayedColumnsChanged=function(){var t=this;this.forContainers([de.CENTER],function(){return t.onHorizontalViewportChanged()})},n.prototype.onDisplayedColumnsWidthChanged=function(){var t=this;this.forContainers([de.CENTER],function(){return t.onHorizontalViewportChanged()})},n.prototype.onScrollVisibilityChanged=function(){if(this.name===de.CENTER){var o=this.scrollVisibleService.isHorizontalScrollShowing()&&this.gridOptionsWrapper.getScrollbarWidth()||0;this.comp.setViewportHeight(0==o?"100%":"calc(100% + "+o+"px)")}},n.prototype.addPreventScrollWhileDragging=function(){var t=this,o=function(u){t.dragService.isDragging()&&u.cancelable&&u.preventDefault()};this.eContainer.addEventListener("touchmove",o,{passive:!1}),this.addDestroyFunc(function(){return t.eContainer.removeEventListener("touchmove",o)})},n.prototype.onHorizontalViewportChanged=function(){var t=this.getCenterWidth(),o=this.getCenterViewportScrollLeft();this.columnModel.setViewportPosition(t,o)},n.prototype.getCenterWidth=function(){return Rn(this.eViewport)},n.prototype.getCenterViewportScrollLeft=function(){return $i(this.eViewport,this.enableRtl)},n.prototype.registerViewportResizeListener=function(t){var o=this.resizeObserverService.observeResize(this.eViewport,t);this.addDestroyFunc(function(){return o()})},n.prototype.isViewportVisible=function(){return gi(this.eViewport)},n.prototype.isViewportHScrollShowing=function(){return Xo(this.eViewport)},n.prototype.getViewportScrollLeft=function(){return $i(this.eViewport,this.enableRtl)},n.prototype.isHorizontalScrollShowing=function(){return this.gridOptionsWrapper.isAlwaysShowHorizontalScroll()||Xo(this.eViewport)},n.prototype.getViewportElement=function(){return this.eViewport},n.prototype.setContainerTranslateX=function(t){this.eContainer.style.transform="translateX("+t+"px)"},n.prototype.getHScrollPosition=function(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}},n.prototype.setCenterViewportScrollLeft=function(t){bn(this.eViewport,t,this.enableRtl)},n.prototype.onDisplayedRowsChanged=function(){var t=this,o=this.name===de.TOP_FULL_WIDTH||this.name===de.STICKY_TOP_FULL_WIDTH||this.name===de.BOTTOM_FULL_WIDTH||this.name===de.FULL_WIDTH,f=this.getRowCtrls().filter(function(g){var C=g.isFullWidth(),O=t.gridOptionsWrapper.getDomLayout()===ee.DOM_LAYOUT_PRINT,P=t.embedFullWidthRows||O;return o?!P&&C:P||!C});this.comp.setRowCtrls(f)},n.prototype.getRowCtrls=function(){switch(this.name){case de.TOP_CENTER:case de.TOP_LEFT:case de.TOP_RIGHT:case de.TOP_FULL_WIDTH:return this.rowRenderer.getTopRowCtrls();case de.STICKY_TOP_CENTER:case de.STICKY_TOP_LEFT:case de.STICKY_TOP_RIGHT:case de.STICKY_TOP_FULL_WIDTH:return this.rowRenderer.getStickyTopRowCtrls();case de.BOTTOM_CENTER:case de.BOTTOM_LEFT:case de.BOTTOM_RIGHT:case de.BOTTOM_FULL_WIDTH:return this.rowRenderer.getBottomRowCtrls();default:return this.rowRenderer.getRowCtrls()}},Jr([I("scrollVisibleService")],n.prototype,"scrollVisibleService",void 0),Jr([I("dragService")],n.prototype,"dragService",void 0),Jr([I("ctrlsService")],n.prototype,"ctrlsService",void 0),Jr([I("columnModel")],n.prototype,"columnModel",void 0),Jr([I("resizeObserverService")],n.prototype,"resizeObserverService",void 0),Jr([I("rowRenderer")],n.prototype,"rowRenderer",void 0),Jr([Ee],n.prototype,"postConstruct",null),n}(Se),Cf=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),Dr=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},Ef='<div class="ag-root ag-unselectable" role="grid">\n        <ag-header-root ref="gridHeader"></ag-header-root>\n        <div class="ag-floating-top" ref="eTop" role="presentation">\n            <ag-row-container ref="topLeftContainer" name="'+de.TOP_LEFT+'"></ag-row-container>\n            <ag-row-container ref="topCenterContainer" name="'+de.TOP_CENTER+'"></ag-row-container>\n            <ag-row-container ref="topRightContainer" name="'+de.TOP_RIGHT+'"></ag-row-container>\n            <ag-row-container ref="topFullWidthContainer" name="'+de.TOP_FULL_WIDTH+'"></ag-row-container>\n        </div>\n        <div class="ag-body-viewport" ref="eBodyViewport" role="presentation">\n            <ag-row-container ref="leftContainer" name="'+de.LEFT+'"></ag-row-container>\n            <ag-row-container ref="centerContainer" name="'+de.CENTER+'"></ag-row-container>\n            <ag-row-container ref="rightContainer" name="'+de.RIGHT+'"></ag-row-container>\n            <ag-row-container ref="fullWidthContainer" name="'+de.FULL_WIDTH+'"></ag-row-container>\n        </div>\n        <div class="ag-sticky-top" ref="eStickyTop" role="presentation">\n            <ag-row-container ref="stickyTopLeftContainer" name="'+de.STICKY_TOP_LEFT+'"></ag-row-container>\n            <ag-row-container ref="stickyTopCenterContainer" name="'+de.STICKY_TOP_CENTER+'"></ag-row-container>\n            <ag-row-container ref="stickyTopRightContainer" name="'+de.STICKY_TOP_RIGHT+'"></ag-row-container>\n            <ag-row-container ref="stickyTopFullWidthContainer" name="'+de.STICKY_TOP_FULL_WIDTH+'"></ag-row-container>\n        </div>\n        <div class="ag-floating-bottom" ref="eBottom" role="presentation">\n            <ag-row-container ref="bottomLeftContainer" name="'+de.BOTTOM_LEFT+'"></ag-row-container>\n            <ag-row-container ref="bottomCenterContainer" name="'+de.BOTTOM_CENTER+'"></ag-row-container>\n            <ag-row-container ref="bottomRightContainer" name="'+de.BOTTOM_RIGHT+'"></ag-row-container>\n            <ag-row-container ref="bottomFullWidthContainer" name="'+de.BOTTOM_FULL_WIDTH+'"></ag-row-container>\n        </div>\n        <ag-fake-horizontal-scroll></ag-fake-horizontal-scroll>\n        <ag-overlay-wrapper></ag-overlay-wrapper>\n    </div>',Of=function(p){function n(){return p.call(this,Ef)||this}return Cf(n,p),n.prototype.init=function(){var t=this,o=function(c,f){var g=c+"px";f.style.minHeight=g,f.style.height=g},u={setRowAnimationCssOnBodyViewport:function(c,f){return t.setRowAnimationCssOnBodyViewport(c,f)},setColumnCount:function(c){return il(t.getGui(),c)},setRowCount:function(c){return rl(t.getGui(),c)},setTopHeight:function(c){return o(c,t.eTop)},setBottomHeight:function(c){return o(c,t.eBottom)},setTopDisplay:function(c){return t.eTop.style.display=c},setBottomDisplay:function(c){return t.eBottom.style.display=c},setStickyTopHeight:function(c){return t.eStickyTop.style.height=c},setStickyTopTop:function(c){return t.eStickyTop.style.top=c},setStickyTopWidth:function(c){return t.eStickyTop.style.width=c},setColumnMovingCss:function(c,f){return t.addOrRemoveCssClass(Bl,f)},updateLayoutClasses:function(c,f){var g=t.eBodyViewport.classList;g.toggle(ft.AUTO_HEIGHT,f.autoHeight),g.toggle(ft.NORMAL,f.normal),g.toggle(ft.PRINT,f.print),t.addOrRemoveCssClass(ft.AUTO_HEIGHT,f.autoHeight),t.addOrRemoveCssClass(ft.NORMAL,f.normal),t.addOrRemoveCssClass(ft.PRINT,f.print)},setAlwaysVerticalScrollClass:function(c,f){return t.eBodyViewport.classList.toggle(Wl,f)},registerBodyViewportResizeListener:function(c){var f=t.resizeObserverService.observeResize(t.eBodyViewport,c);t.addDestroyFunc(function(){return f()})},setPinnedTopBottomOverflowY:function(c){return t.eTop.style.overflowY=t.eBottom.style.overflowY=c},setCellSelectableCss:function(c,f){[t.eTop,t.eBodyViewport,t.eBottom].forEach(function(g){return g.classList.toggle(Gl,f)})}};this.ctrl=this.createManagedBean(new hh),this.ctrl.setComp(u,this.getGui(),this.eBodyViewport,this.eTop,this.eBottom,this.eStickyTop),(this.rangeService||this.gridOptionsWrapper.isRowSelectionMulti())&&tl(this.getGui(),!0)},n.prototype.setRowAnimationCssOnBodyViewport=function(t,o){var u=this.eBodyViewport.classList;u.toggle(Xr.ANIMATION_ON,o),u.toggle(Xr.ANIMATION_OFF,!o)},n.prototype.getFloatingTopBottom=function(){return[this.eTop,this.eBottom]},Dr([I("resizeObserverService")],n.prototype,"resizeObserverService",void 0),Dr([xe("rangeService")],n.prototype,"rangeService",void 0),Dr([_e("eBodyViewport")],n.prototype,"eBodyViewport",void 0),Dr([_e("eStickyTop")],n.prototype,"eStickyTop",void 0),Dr([_e("eTop")],n.prototype,"eTop",void 0),Dr([_e("eBottom")],n.prototype,"eBottom",void 0),Dr([_e("gridHeader")],n.prototype,"headerRootComp",void 0),Dr([Ee],n.prototype,"init",null),n}(je),wf=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),Ia=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},Sf=function(p){function n(){return null!==p&&p.apply(this,arguments)||this}return wf(n,p),n.prototype.postConstruct=function(){this.addManagedListener(this.eventService,V.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,V.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this))},n.prototype.onDisplayedColumnsChanged=function(){this.update()},n.prototype.onDisplayedColumnsWidthChanged=function(){this.update()},n.prototype.update=function(){this.updateImpl(),setTimeout(this.updateImpl.bind(this),500)},n.prototype.updateImpl=function(){var t=this.ctrlsService.getCenterRowContainerCtrl();if(t){var o={horizontalScrollShowing:t.isHorizontalScrollShowing(),verticalScrollShowing:this.isVerticalScrollShowing()};this.setScrollsVisible(o)}},n.prototype.setScrollsVisible=function(t){this.horizontalScrollShowing===t.horizontalScrollShowing&&this.verticalScrollShowing===t.verticalScrollShowing||(this.horizontalScrollShowing=t.horizontalScrollShowing,this.verticalScrollShowing=t.verticalScrollShowing,this.eventService.dispatchEvent({type:V.EVENT_SCROLL_VISIBILITY_CHANGED}))},n.prototype.isHorizontalScrollShowing=function(){return this.horizontalScrollShowing},n.prototype.isVerticalScrollShowing=function(){return this.verticalScrollShowing},Ia([I("ctrlsService")],n.prototype,"ctrlsService",void 0),Ia([Ee],n.prototype,"postConstruct",null),Ia([me("scrollVisibleService")],n)}(Se),Pf=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),Kl=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},Df=function(p){function n(){var o=null!==p&&p.apply(this,arguments)||this;return o.gridInstanceId=t.gridInstanceSequence.next(),o}var t;return Pf(n,p),t=n,n.prototype.stampTopLevelGridCompWithGridInstance=function(o){o[t.GRID_DOM_KEY]=this.gridInstanceId},n.prototype.getRenderedCellForEvent=function(o){return B(this.gridOptionsWrapper,o,qr.DOM_DATA_KEY_CELL_CTRL)},n.prototype.isEventFromThisGrid=function(o){return this.isElementInThisGrid(o.target)},n.prototype.isElementInThisGrid=function(o){for(var u=o;u;){var c=u[t.GRID_DOM_KEY];if(a(c))return c===this.gridInstanceId;u=u.parentElement}return!1},n.prototype.getCellPositionForEvent=function(o){var u=this.getRenderedCellForEvent(o);return u?u.getCellPosition():null},n.prototype.getNormalisedPosition=function(o){var f,g,u=this.gridOptionsWrapper.getDomLayout()===ee.DOM_LAYOUT_NORMAL;if(null!=o.clientX||null!=o.clientY?(f=o.clientX,g=o.clientY):(f=o.x,g=o.y),u){var C=this.ctrlsService.getGridBodyCtrl(),O=C.getScrollFeature().getVScrollPosition();f+=C.getScrollFeature().getHScrollPosition().left,g+=O.top}return{x:f,y:g}},n.gridInstanceSequence=new Ur,n.GRID_DOM_KEY="__ag_grid_instance",Kl([I("ctrlsService")],n.prototype,"ctrlsService",void 0),t=Kl([me("mouseEventService")],n)}(Se),Rf=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),zn=function(){return zn=Object.assign||function(p){for(var n,t=1,o=arguments.length;t<o;t++)for(var u in n=arguments[t])Object.prototype.hasOwnProperty.call(n,u)&&(p[u]=n[u]);return p},zn.apply(this,arguments)},Gt=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},Tf=function(p){function n(){var t=p.call(this)||this;return t.onPageDown=Le(t.onPageDown,100),t.onPageUp=Le(t.onPageUp,100),t}return Rf(n,p),n.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady(function(o){t.gridBodyCon=o.gridBodyCtrl})},n.prototype.handlePageScrollingKey=function(t){var o=t.key,u=t.altKey,c=t.ctrlKey||t.metaKey,f=!!this.rangeService&&t.shiftKey,g=this.mouseEventService.getCellPositionForEvent(t);if(!g)return!1;var C=!1;switch(o){case ye.PAGE_HOME:case ye.PAGE_END:!c&&!u&&(this.onHomeOrEndKey(o),C=!0);break;case ye.LEFT:case ye.RIGHT:case ye.UP:case ye.DOWN:c&&!u&&!f&&(this.onCtrlUpDownLeftRight(o,g),C=!0);break;case ye.PAGE_DOWN:!c&&!u&&(this.onPageDown(g),C=!0);break;case ye.PAGE_UP:!c&&!u&&(this.onPageUp(g),C=!0)}return C&&t.preventDefault(),C},n.prototype.navigateTo=function(t){var o=t.scrollIndex,u=t.scrollType,c=t.scrollColumn,f=t.focusIndex,g=t.focusColumn;a(c)&&!c.isPinned()&&this.gridBodyCon.getScrollFeature().ensureColumnVisible(c),a(o)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(o,u),t.isAsync||this.gridBodyCon.getScrollFeature().ensureIndexVisible(f),this.focusService.setFocusedCell({rowIndex:f,column:g,rowPinned:null,forceBrowserFocus:!0}),this.rangeService&&this.rangeService.setRangeToCell({rowIndex:f,rowPinned:null,column:g})},n.prototype.onPageDown=function(t){var u=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),c=this.getViewportHeight(),f=this.paginationProxy.getPixelOffset(),C=this.paginationProxy.getRowIndexAtPixel(u.top+c+f);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(t,C):this.navigateToNextPage(t,C)},n.prototype.onPageUp=function(t){var u=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),c=this.paginationProxy.getPixelOffset(),g=this.paginationProxy.getRowIndexAtPixel(u.top+c);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(t,g,!0):this.navigateToNextPage(t,g,!0)},n.prototype.navigateToNextPage=function(t,o,u){void 0===u&&(u=!1);var c,f,te,g=this.getViewportHeight(),C=this.paginationProxy.getPageFirstRow(),O=this.paginationProxy.getPageLastRow(),P=this.paginationProxy.getPixelOffset(),R=this.paginationProxy.getRow(t.rowIndex),x=u?(null===(c=R)||void 0===c?void 0:c.rowHeight)-g-P:g-P,W=(null===(f=R)||void 0===f?void 0:f.rowTop)+x,U=this.paginationProxy.getRowIndexAtPixel(W+P);U===t.rowIndex&&(o=U=t.rowIndex+(u?-1:1)),u?(te="bottom",U<C&&(U=C),o<C&&(o=C)):(te="top",U>O&&(U=O),o>O&&(o=O)),this.isRowTallerThanView(U)&&(o=U,te="top"),this.navigateTo({scrollIndex:o,scrollType:te,scrollColumn:null,focusIndex:U,focusColumn:t.column})},n.prototype.navigateToNextPageWithAutoHeight=function(t,o,u){var c=this;void 0===u&&(u=!1),this.navigateTo({scrollIndex:o,scrollType:u?"bottom":"top",scrollColumn:null,focusIndex:o,focusColumn:t.column}),setTimeout(function(){var f=c.getNextFocusIndexForAutoHeight(t,u);c.navigateTo({scrollIndex:o,scrollType:u?"bottom":"top",scrollColumn:null,focusIndex:f,focusColumn:t.column,isAsync:!0})},50)},n.prototype.getNextFocusIndexForAutoHeight=function(t,o){void 0===o&&(o=!1);for(var c=o?-1:1,f=this.getViewportHeight(),g=this.paginationProxy.getPageLastRow(),C=0,O=t.rowIndex;O>=0&&O<=g;){var P=this.paginationProxy.getRow(O);if(P){var R=P.rowHeight??0;if(C+R>f)break;C+=R}O+=c}return Math.max(0,Math.min(O,g))},n.prototype.getViewportHeight=function(){var o=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),u=this.gridOptionsWrapper.getScrollbarWidth(),c=o.bottom-o.top;return this.ctrlsService.getCenterRowContainerCtrl().isHorizontalScrollShowing()&&(c-=u),c},n.prototype.isRowTallerThanView=function(t){var o=this.paginationProxy.getRow(t);if(!o)return!1;var u=o.rowHeight;return"number"==typeof u&&u>this.getViewportHeight()},n.prototype.onCtrlUpDownLeftRight=function(t,o){var u=this.cellNavigationService.getNextCellToFocus(t,o,!0),c=u.rowIndex,f=u.column;this.navigateTo({scrollIndex:c,scrollType:null,scrollColumn:f,focusIndex:c,focusColumn:f})},n.prototype.onHomeOrEndKey=function(t){var o=t===ye.PAGE_HOME,u=this.columnModel.getAllDisplayedColumns(),c=o?u[0]:Je(u),f=o?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow();this.navigateTo({scrollIndex:f,scrollType:null,scrollColumn:c,focusIndex:f,focusColumn:c})},n.prototype.onTabKeyDown=function(t,o){var u=o.shiftKey;if(this.tabToNextCellCommon(t,u,o))o.preventDefault();else if(u){var f=t.getRowPosition(),g=f.rowIndex;(f.rowPinned?0===g:g===this.paginationProxy.getPageFirstRow())&&(o.preventDefault(),this.focusService.focusLastHeader(o))}else t instanceof qr&&t.focusCell(!0),this.focusService.focusNextGridCoreContainer(u)&&o.preventDefault()},n.prototype.tabToNextCell=function(t,o){var u=this.focusService.getFocusedCell();if(!u)return!1;var c=this.getCellByPosition(u);return!!(c||(c=this.rowRenderer.getRowByPosition(u),c&&c.isFullWidth()))&&this.tabToNextCellCommon(c,t,o)},n.prototype.tabToNextCellCommon=function(t,o,u){var c=t.isEditing();if(!c&&t instanceof qr){var g=t.getRowCtrl();g&&(c=g.isEditing())}return(c?this.gridOptionsWrapper.isFullRowEdit()?this.moveToNextEditingRow(t,o,u):this.moveToNextEditingCell(t,o,u):this.moveToNextCellNotEditing(t,o))||!!this.focusService.getFocusedHeader()},n.prototype.moveToNextEditingCell=function(t,o,u){void 0===u&&(u=null);var c=t.getCellPosition();t.getGui().focus(),t.stopEditing();var f=this.findNextCellToFocusOn(c,o,!0);return null!=f&&(f.startEditing(null,null,!0,u),f.focusCell(!1),!0)},n.prototype.moveToNextEditingRow=function(t,o,u){void 0===u&&(u=null);var c=t.getCellPosition(),f=this.findNextCellToFocusOn(c,o,!0);if(null==f)return!1;var g=f.getCellPosition(),C=this.isCellEditable(c),O=this.isCellEditable(g),P=g&&c.rowIndex===g.rowIndex&&c.rowPinned===g.rowPinned;return C&&t.setFocusOutOnEditor(),P||(t.getRowCtrl().stopEditing(),f.getRowCtrl().startRowEditing(void 0,void 0,void 0,u)),O?(f.setFocusInOnEditor(),f.focusCell()):f.focusCell(!0),!0},n.prototype.moveToNextCellNotEditing=function(t,o){var c,u=this.columnModel.getAllDisplayedColumns();c=t instanceof Zr?zn(zn({},t.getRowPosition()),{column:o?u[0]:Je(u)}):t.getCellPosition();var f=this.findNextCellToFocusOn(c,o,!1);if(f instanceof qr)f.focusCell(!0);else if(f)return this.tryToFocusFullWidthRow(f.getRowPosition(),o);return a(f)},n.prototype.findNextCellToFocusOn=function(t,o,u){for(var c=t;;){t!==c&&(t=c),o||(c=this.getLastCellOfColSpan(c)),c=this.cellNavigationService.getNextTabbedCell(c,o);var f=this.gridOptionsWrapper.getTabToNextCellFunc();if(a(f)){var C=f({backwards:o,editing:u,previousCellPosition:t,nextCellPosition:c||null});a(C)?(C.floating&&(z(function(){console.warn("AG Grid: tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?")},"no floating in userCell"),C.rowPinned=C.floating),c={rowIndex:C.rowIndex,column:C.column,rowPinned:C.rowPinned}):c=null}if(!c)return null;if(c.rowIndex<0){var O=this.headerNavigationService.getHeaderRowCount();return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:O+c.rowIndex,column:c.column}}),null}var P=this.gridOptionsWrapper.isFullRowEdit();if(!u||P||this.isCellEditable(c)){this.ensureCellVisible(c);var x=this.getCellByPosition(c);if(!x){var W=this.rowRenderer.getRowByPosition(c);if(!W||!W.isFullWidth())continue;return W}if(!x.isSuppressNavigable())return this.rangeService&&this.rangeService.setRangeToCell(c),x}}},n.prototype.isCellEditable=function(t){var o=this.lookupRowNodeForCell(t);return!!o&&t.column.isCellEditable(o)},n.prototype.getCellByPosition=function(t){var o=this.rowRenderer.getRowByPosition(t);return o?o.getCellCtrl(t.column):null},n.prototype.lookupRowNodeForCell=function(t){return t.rowPinned===ee.PINNED_TOP?this.pinnedRowModel.getPinnedTopRow(t.rowIndex):t.rowPinned===ee.PINNED_BOTTOM?this.pinnedRowModel.getPinnedBottomRow(t.rowIndex):this.paginationProxy.getRow(t.rowIndex)},n.prototype.navigateToNextCell=function(t,o,u,c){for(var f=u,g=!1;f&&(f===u||!this.isValidNavigateCell(f));)this.gridOptionsWrapper.isEnableRtl()?o===ye.LEFT&&(f=this.getLastCellOfColSpan(f)):o===ye.RIGHT&&(f=this.getLastCellOfColSpan(f)),g=s(f=this.cellNavigationService.getNextCellToFocus(o,f));if(g&&t&&t.key===ye.UP&&(f={rowIndex:-1,rowPinned:null,column:u.column}),c){var C=this.gridOptionsWrapper.getNavigateToNextCellFunc();if(a(C)){var P=C({key:o,previousCellPosition:u,nextCellPosition:f||null,event:t});a(P)?(P.floating&&(z(function(){console.warn("AG Grid: tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?")},"no floating in userCell"),P.rowPinned=P.floating),f={rowPinned:P.rowPinned,rowIndex:P.rowIndex,column:P.column}):f=null}}if(f){if(f.rowIndex<0){var R=this.headerNavigationService.getHeaderRowCount();return void this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:R+f.rowIndex,column:u.column},event:t||void 0})}var x=this.getNormalisedPosition(f);x?this.focusPosition(x):this.tryToFocusFullWidthRow(f)}},n.prototype.getNormalisedPosition=function(t){this.ensureCellVisible(t);var o=this.getCellByPosition(t);return o?(t=o.getCellPosition(),this.ensureCellVisible(t),t):null},n.prototype.tryToFocusFullWidthRow=function(t,o){void 0===o&&(o=!1);var u=this.columnModel.getAllDisplayedColumns(),c=this.rowRenderer.getRowByPosition(t);if(!c||!c.isFullWidth())return!1;var f=this.focusService.getFocusedCell(),g={rowIndex:t.rowIndex,rowPinned:t.rowPinned,column:t.column||(o?Je(u):u[0])};this.focusPosition(g);var C=null!=f&&this.rowPositionUtils.before(g,f);return this.eventService.dispatchEvent({type:V.EVENT_FULL_WIDTH_ROW_FOCUSED,rowIndex:g.rowIndex,rowPinned:g.rowPinned,column:g.column,isFullWidthCell:!0,floating:g.rowPinned,fromBelow:C}),!0},n.prototype.focusPosition=function(t){this.focusService.setFocusedCell({rowIndex:t.rowIndex,column:t.column,rowPinned:t.rowPinned,forceBrowserFocus:!0}),this.rangeService&&this.rangeService.setRangeToCell(t)},n.prototype.isValidNavigateCell=function(t){return!!this.rowPositionUtils.getRowNode(t)},n.prototype.getLastCellOfColSpan=function(t){var o=this.getCellByPosition(t);if(!o)return t;var u=o.getColSpanningList();return 1===u.length?t:{rowIndex:t.rowIndex,column:Je(u),rowPinned:t.rowPinned}},n.prototype.ensureCellVisible=function(t){var o,u=this.gridOptionsWrapper.isGroupRowsSticky(),c=this.rowModel.getRow(t.rowIndex);!(u&&(null===(o=c)||void 0===o?void 0:o.sticky))&&s(t.rowPinned)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(t.rowIndex),t.column.isPinned()||this.gridBodyCon.getScrollFeature().ensureColumnVisible(t.column)},Gt([I("mouseEventService")],n.prototype,"mouseEventService",void 0),Gt([I("paginationProxy")],n.prototype,"paginationProxy",void 0),Gt([I("focusService")],n.prototype,"focusService",void 0),Gt([xe("rangeService")],n.prototype,"rangeService",void 0),Gt([I("columnModel")],n.prototype,"columnModel",void 0),Gt([I("rowModel")],n.prototype,"rowModel",void 0),Gt([I("ctrlsService")],n.prototype,"ctrlsService",void 0),Gt([I("rowRenderer")],n.prototype,"rowRenderer",void 0),Gt([I("headerNavigationService")],n.prototype,"headerNavigationService",void 0),Gt([I("rowPositionUtils")],n.prototype,"rowPositionUtils",void 0),Gt([I("cellNavigationService")],n.prototype,"cellNavigationService",void 0),Gt([I("pinnedRowModel")],n.prototype,"pinnedRowModel",void 0),Gt([Ee],n.prototype,"postConstruct",null),Gt([me("navigationService")],n)}(Se),bf=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),Af=function(p){function n(t){var o=p.call(this,'<div class="ag-popup-editor" tabindex="-1"/>')||this;return o.params=t,o}return bf(n,p),n.prototype.postConstruct=function(){this.gridOptionsWrapper.setDomData(this.getGui(),n.DOM_KEY_POPUP_EDITOR_WRAPPER,!0),this.addKeyDownListener()},n.prototype.addKeyDownListener=function(){var t=this,o=this.getGui(),u=this.params;this.addManagedListener(o,"keydown",function(f){An(t.gridOptionsWrapper,f,u.node,u.column,!0)||u.onKeyDown(f)})},n.DOM_KEY_POPUP_EDITOR_WRAPPER="popupEditorWrapper",function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);u>3&&c&&Object.defineProperty(n,t,c)}([Ee],n.prototype,"postConstruct",null),n}(_i),xf=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),If=function(p){function n(t,o,u,c,f){var g=p.call(this)||this;g.rendererVersion=0,g.editorVersion=0,g.beans=t,g.column=o.getColumn(),g.rowNode=o.getRowNode(),g.rowCtrl=o.getRowCtrl(),g.eRow=c,g.setTemplate('<div comp-id="'+g.getCompId()+'"/>');var C=g.getGui();g.forceWrapper=o.isForceWrapper(),g.refreshWrapper(!1);var O=function(R,x,W){var U=W||C;null!=x&&""!=x?U.setAttribute(R,x):U.removeAttribute(R)},P={addOrRemoveCssClass:function(R,x){return g.addOrRemoveCssClass(R,x)},setUserStyles:function(R){return Yo(C,R)},getFocusableElement:function(){return g.getFocusableElement()},setTabIndex:function(R){return O("tabindex",R.toString())},setRole:function(R){return Mt(C,R)},setColId:function(R){return O("col-id",R)},setTitle:function(R){return O("title",R)},setIncludeSelection:function(R){return g.includeSelection=R},setIncludeRowDrag:function(R){return g.includeRowDrag=R},setIncludeDndSource:function(R){return g.includeDndSource=R},setRenderDetails:function(R,x,W){return g.setRenderDetails(R,x,W)},setEditDetails:function(R,x,W){return g.setEditDetails(R,x,W)},getCellEditor:function(){return g.cellEditor||null},getCellRenderer:function(){return g.cellRenderer||null},getParentOfValue:function(){return g.getParentOfValue()}};return g.cellCtrl=o,o.setComp(P,g.getGui(),g.eCellWrapper,u,f),g}return xf(n,p),n.prototype.getParentOfValue=function(){return this.eCellValue?this.eCellValue:this.eCellWrapper?this.eCellWrapper:this.getGui()},n.prototype.setRenderDetails=function(t,o,u){if(!this.cellEditor||this.cellEditorPopupWrapper){this.firstRender=null==this.firstRender;var f=this.refreshWrapper(!1);t?!u&&!f&&this.refreshCellRenderer(t)||(this.destroyRenderer(),this.createCellRendererInstance(t)):(this.destroyRenderer(),this.insertValueWithoutCellRenderer(o))}},n.prototype.setEditDetails=function(t,o,u){t?this.createCellEditorInstance(t,o,u):this.destroyEditor()},n.prototype.removeControls=function(){this.checkboxSelectionComp=this.beans.context.destroyBean(this.checkboxSelectionComp),this.dndSourceComp=this.beans.context.destroyBean(this.dndSourceComp),this.rowDraggingComp=this.beans.context.destroyBean(this.rowDraggingComp)},n.prototype.refreshWrapper=function(t){var o=this.includeRowDrag||this.includeDndSource||this.includeSelection,u=o||this.forceWrapper,c=u&&null==this.eCellWrapper;c&&(this.eCellWrapper=mt('<div class="ag-cell-wrapper" role="presentation"></div>'),this.getGui().appendChild(this.eCellWrapper));var f=!u&&null!=this.eCellWrapper;f&&(Br(this.eCellWrapper),this.eCellWrapper=void 0),this.addOrRemoveCssClass("ag-cell-value",!u);var g=!t&&u,C=g&&null==this.eCellValue;C&&(this.eCellValue=mt('<span class="ag-cell-value" role="presentation"></span>'),this.eCellWrapper.appendChild(this.eCellValue));var O=!g&&null!=this.eCellValue;O&&(Br(this.eCellValue),this.eCellValue=void 0);var P=c||f||C||O;return P&&this.removeControls(),!t&&o&&this.addControls(),P},n.prototype.addControls=function(){var t=this.eCellValue.id="cell-"+this.getCompId(),o=[];this.includeRowDrag&&null==this.rowDraggingComp&&(this.rowDraggingComp=this.cellCtrl.createRowDragComp(),this.rowDraggingComp&&this.eCellWrapper.insertBefore(this.rowDraggingComp.getGui(),this.eCellValue)),this.includeDndSource&&null==this.dndSourceComp&&(this.dndSourceComp=this.cellCtrl.createDndSource(),this.eCellWrapper.insertBefore(this.dndSourceComp.getGui(),this.eCellValue)),this.includeSelection&&(null==this.checkboxSelectionComp&&(this.checkboxSelectionComp=this.cellCtrl.createSelectionCheckbox(),this.eCellWrapper.insertBefore(this.checkboxSelectionComp.getGui(),this.eCellValue)),o.push(this.checkboxSelectionComp.getCheckboxId())),o.push(t),Qo(this.getGui(),o.join(" "))},n.prototype.createCellEditorInstance=function(t,o,u){var c=this,f=this.editorVersion,g=t.newAgStackInstance();if(g){var C=t.params;g.then(function(P){return c.afterCellEditorCreated(f,P,C,o,u)}),s(this.cellEditor)&&C.cellStartedEdit&&this.cellCtrl.focusCell(!0)}},n.prototype.insertValueWithoutCellRenderer=function(t){var o=this.getParentOfValue();kt(o);var u=null!=t?rr(t):null;null!=u&&(o.innerHTML=u)},n.prototype.destroyEditorAndRenderer=function(){this.destroyRenderer(),this.destroyEditor()},n.prototype.destroyRenderer=function(){this.cellRenderer=this.beans.context.destroyBean(this.cellRenderer),Br(this.cellRendererGui),this.cellRendererGui=null,this.rendererVersion++},n.prototype.destroyEditor=function(){var t=this.beans.context;this.hideEditorPopup&&this.hideEditorPopup(),this.hideEditorPopup=void 0,this.cellEditor=t.destroyBean(this.cellEditor),this.cellEditorPopupWrapper=t.destroyBean(this.cellEditorPopupWrapper),Br(this.cellEditorGui),this.cellEditorGui=null,this.editorVersion++},n.prototype.refreshCellRenderer=function(t){if(null==this.cellRenderer||null==this.cellRenderer.refresh||this.cellRendererClass!==t.componentClass)return!1;var o=this.cellRenderer.refresh(t.params);return!0===o||void 0===o},n.prototype.createCellRendererInstance=function(t){var o=this,u=this.beans.gridOptionsWrapper.isAngularCompileRows(),c=this.beans.gridOptionsWrapper.isSuppressAnimationFrame(),g=this.rendererVersion,C=t.componentClass,O=function(){if(o.rendererVersion===g&&o.isAlive()){var R=t.newAgStackInstance(),x=o.afterCellRendererCreated.bind(o,g,C);R&&R.then(x)}};u||c||!this.firstRender?O():this.beans.animationFrameService.createTask(O,this.rowNode.rowIndex,"createTasksP2")},n.prototype.getCtrl=function(){return this.cellCtrl},n.prototype.getRowCtrl=function(){return this.rowCtrl},n.prototype.getCellRenderer=function(){return this.cellRenderer},n.prototype.getCellEditor=function(){return this.cellEditor},n.prototype.afterCellRendererCreated=function(t,o,u){if(this.isAlive()&&t===this.rendererVersion){if(this.cellRenderer=u,this.cellRendererClass=o,this.cellRendererGui=this.cellRenderer.getGui(),null!=this.cellRendererGui){var f=this.getParentOfValue();kt(f),f.appendChild(this.cellRendererGui)}}else this.beans.context.destroyBean(u)},n.prototype.afterCellEditorCreated=function(t,o,u,c,f){if(t!==this.editorVersion)this.beans.context.destroyBean(o);else{if(o.isCancelBeforeStart&&o.isCancelBeforeStart())return this.beans.context.destroyBean(o),void this.cellCtrl.stopEditing();if(!o.getGui)return console.warn("AG Grid: cellEditor for column "+this.column.getId()+" is missing getGui() method"),void this.beans.context.destroyBean(o);this.cellEditor=o,this.cellEditorGui=o.getGui(),c||void 0!==o.isPopup&&o.isPopup()?(c||this.cellCtrl.hackSayEditingInPopup(),this.addPopupCellEditor(u,f)):this.addInCellEditor(),o.afterGuiAttached&&o.afterGuiAttached()}},n.prototype.addInCellEditor=function(){var t=this.getGui(),o=this.beans.gridOptionsWrapper.getDocument();t.contains(o.activeElement)&&t.focus(),this.destroyRenderer(),this.refreshWrapper(!0),this.clearParentOfValue(),this.cellEditorGui&&this.getParentOfValue().appendChild(this.cellEditorGui)},n.prototype.addPopupCellEditor=function(t,o){var u=this;this.beans.gridOptionsWrapper.isFullRowEdit()&&console.warn("AG Grid: popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.");var c=this.cellEditor;this.cellEditorPopupWrapper=this.beans.context.createBean(new Af(t));var f=this.cellEditorPopupWrapper.getGui();this.cellEditorGui&&f.appendChild(this.cellEditorGui);var g=this.beans.popupService,C=this.beans.gridOptionsWrapper.isStopEditingWhenCellsLoseFocus(),O=o??(c.getPopupPosition?c.getPopupPosition():"over"),P={column:this.column,rowNode:this.rowNode,type:"popupCellEditor",eventSource:this.getGui(),ePopup:f,keepWithinBounds:!0},R="under"===O?g.positionPopupUnderComponent.bind(g,P):g.positionPopupOverComponent.bind(g,P),x=this.beans.gridOptionsWrapper.getLocaleTextFunc(),W=g.addPopup({modal:C,eChild:f,closeOnEsc:!0,closedCallback:function(){u.cellCtrl.onPopupEditorClosed()},anchorToElement:this.getGui(),positionCallback:R,ariaLabel:x("ariaLabelCellEditor","Cell Editor")});W&&(this.hideEditorPopup=W.hideFunc)},n.prototype.detach=function(){this.eRow.removeChild(this.getGui())},n.prototype.destroy=function(){this.cellCtrl.stopEditing(),this.destroyEditorAndRenderer(),this.removeControls(),p.prototype.destroy.call(this)},n.prototype.clearParentOfValue=function(){var t=this.getGui(),o=this.beans.gridOptionsWrapper.getDocument();t.contains(o.activeElement)&&On()&&t.focus({preventScroll:!0}),kt(this.getParentOfValue())},n}(je),Lf=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),Ff=function(p){function n(t,o,u){var c=p.call(this)||this;c.cellComps={},c.beans=o,c.rowCtrl=t,c.setTemplate('<div comp-id="'+c.getCompId()+'" style="'+c.getInitialStyle()+'"/>');var f=c.getGui(),g=f.style;return t.setComp({setDomOrder:function(O){return c.domOrder=O},setCellCtrls:function(O){return c.setCellCtrls(O)},showFullWidth:function(O){return c.showFullWidth(O)},getFullWidthCellRenderer:function(){return c.getFullWidthCellRenderer()},addOrRemoveCssClass:function(O,P){return c.addOrRemoveCssClass(O,P)},setUserStyles:function(O){return Yo(f,O)},setTop:function(O){return g.top=O},setTransform:function(O){return g.transform=O},setRowIndex:function(O){return f.setAttribute("row-index",O)},setRole:function(O){return Mt(f,O)},setRowId:function(O){return f.setAttribute("row-id",O)},setRowBusinessKey:function(O){return f.setAttribute("row-business-key",O)},setTabIndex:function(O){return f.setAttribute("tabindex",O.toString())}},c.getGui(),u),c}return Lf(n,p),n.prototype.getInitialStyle=function(){var t=this.rowCtrl.getInitialTransform(),o=this.rowCtrl.getInitialRowTop();return t?"transform: "+t:"top: "+o},n.prototype.showFullWidth=function(t){var o=this,c=t.newAgStackInstance();!c||c.then(function(f){if(o.isAlive()){var g=f.getGui();o.getGui().appendChild(g),o.rowCtrl.setupDetailRowAutoHeight(g),o.setFullWidthRowComp(f)}else o.beans.context.destroyBean(f)})},n.prototype.setCellCtrls=function(t){var o=this,u=Object.assign({},this.cellComps);t.forEach(function(f){var g=f.getInstanceId();null==o.cellComps[g]?o.newCellComp(f):u[g]=null});var c=j(u).filter(function(f){return null!=f});this.destroyCells(c),this.ensureDomOrder(t)},n.prototype.ensureDomOrder=function(t){var o=this;if(this.domOrder){var u=[];t.forEach(function(c){var f=o.cellComps[c.getInstanceId()];f&&u.push(f.getGui())}),zo(this.getGui(),u)}},n.prototype.newCellComp=function(t){var o=new If(this.beans,t,this.rowCtrl.isPrintLayout(),this.getGui(),this.rowCtrl.isEditing());this.cellComps[t.getInstanceId()]=o,this.getGui().appendChild(o.getGui())},n.prototype.destroy=function(){p.prototype.destroy.call(this),this.destroyAllCells()},n.prototype.destroyAllCells=function(){var t=j(this.cellComps).filter(function(o){return null!=o});this.destroyCells(t)},n.prototype.setFullWidthRowComp=function(t){var o=this;this.fullWidthCellRenderer&&console.error("AG Grid - should not be setting fullWidthRowComponent twice"),this.fullWidthCellRenderer=t,this.addDestroyFunc(function(){o.fullWidthCellRenderer=o.beans.context.destroyBean(o.fullWidthCellRenderer)})},n.prototype.getFullWidthCellRenderer=function(){return this.fullWidthCellRenderer},n.prototype.destroyCells=function(t){var o=this;t.forEach(function(u){if(u){var c=u.getCtrl().getInstanceId();o.cellComps[c]===u&&(u.detach(),u.destroy(),o.cellComps[c]=null)}})},n}(je),Nf=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),La=function(){return La=Object.assign||function(p){for(var n,t=1,o=arguments.length;t<o;t++)for(var u in n=arguments[t])Object.prototype.hasOwnProperty.call(n,u)&&(p[u]=n[u]);return p},La.apply(this,arguments)},Ei=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},Wf=function(p){function n(){var t=p.call(this,function Gf(){var p=je.elementGettingCreated.getAttribute("name"),n=xa.getRowContainerCssClasses(p);return p===de.CENTER?'<div class="'+n.wrapper+'" ref="eWrapper" role="presentation">\n                <div class="'+n.viewport+'" ref="eViewport" role="presentation">\n                    <div class="'+n.container+'" ref="eContainer"></div>\n                </div>\n            </div>':p===de.TOP_CENTER||p===de.STICKY_TOP_CENTER||p===de.BOTTOM_CENTER?'<div class="'+n.viewport+'" ref="eViewport" role="presentation">\n                <div class="'+n.container+'" ref="eContainer"></div>\n            </div>':'<div class="'+n.container+'" ref="eContainer"></div>'}())||this;return t.rowComps={},t.name=je.elementGettingCreated.getAttribute("name"),t.type=function vf(p){switch(p){case de.CENTER:case de.TOP_CENTER:case de.STICKY_TOP_CENTER:case de.BOTTOM_CENTER:return Nt.CENTER;case de.LEFT:case de.TOP_LEFT:case de.STICKY_TOP_LEFT:case de.BOTTOM_LEFT:return Nt.LEFT;case de.RIGHT:case de.TOP_RIGHT:case de.STICKY_TOP_RIGHT:case de.BOTTOM_RIGHT:return Nt.RIGHT;case de.FULL_WIDTH:case de.TOP_FULL_WIDTH:case de.STICKY_TOP_FULL_WIDTH:case de.BOTTOM_FULL_WIDTH:return Nt.FULL_WIDTH;default:throw Error("Invalid Row Container Type")}}(t.name),t}return Nf(n,p),n.prototype.postConstruct=function(){var t=this,o={setViewportHeight:function(c){return t.eViewport.style.height=c},setRowCtrls:function(c){return t.setRowCtrls(c)},setDomOrder:function(c){t.domOrder=c},setContainerWidth:function(c){return t.eContainer.style.width=c}};this.createManagedBean(new xa(this.name)).setComp(o,this.eContainer,this.eViewport,this.eWrapper)},n.prototype.preDestroy=function(){this.setRowCtrls([])},n.prototype.setRowCtrls=function(t){var o=this,u=La({},this.rowComps);this.rowComps={},this.lastPlacedElement=null,t.forEach(function(f){var g=f.getInstanceId(),C=u[g];if(C)o.rowComps[g]=C,delete u[g],o.ensureDomOrder(C.getGui());else{var O=o.newRowComp(f);o.rowComps[g]=O,o.appendRow(O.getGui())}}),j(u).forEach(function(f){o.eContainer.removeChild(f.getGui()),f.destroy()}),Mt(this.eContainer,t.length?"rowgroup":"presentation")},n.prototype.appendRow=function(t){this.domOrder?Hs(this.eContainer,t,this.lastPlacedElement):this.eContainer.appendChild(t),this.lastPlacedElement=t},n.prototype.ensureDomOrder=function(t){this.domOrder&&(Ko(this.eContainer,t,this.lastPlacedElement),this.lastPlacedElement=t)},n.prototype.newRowComp=function(t){return xa.getPinned(this.name),new Ff(t,this.beans,this.type)},Ei([I("beans")],n.prototype,"beans",void 0),Ei([_e("eViewport")],n.prototype,"eViewport",void 0),Ei([_e("eContainer")],n.prototype,"eContainer",void 0),Ei([_e("eWrapper")],n.prototype,"eWrapper",void 0),Ei([Ee],n.prototype,"postConstruct",null),Ei([Pe],n.prototype,"preDestroy",null),n}(je),zl=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},Bf=function(){function p(n){this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[],this.pinned=n}return p.prototype.onDragEnter=function(n){var t=this;if(this.clearColumnsList(),!this.gridOptionsWrapper.isFunctionsReadOnly()){var o=n.dragItem.columns;!o||o.forEach(function(u){!u.isPrimary()||u.isAnyFunctionActive()||(u.isAllowValue()?t.columnsToAggregate.push(u):u.isAllowRowGroup()?t.columnsToGroup.push(u):u.isAllowPivot()&&t.columnsToPivot.push(u))})}},p.prototype.getIconName=function(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?Ot.ICON_PINNED:Ot.ICON_MOVE:null},p.prototype.onDragLeave=function(n){this.clearColumnsList()},p.prototype.clearColumnsList=function(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0},p.prototype.onDragging=function(n){},p.prototype.onDragStop=function(n){this.columnsToAggregate.length>0&&this.columnModel.addValueColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&this.columnModel.addRowGroupColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&this.columnModel.addPivotColumns(this.columnsToPivot,"toolPanelDragAndDrop")},zl([I("columnModel")],p.prototype,"columnModel",void 0),zl([I("gridOptionsWrapper")],p.prototype,"gridOptionsWrapper",void 0),p}(),rn=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},Vf=function(){function p(n,t){this.needToMoveLeft=!1,this.needToMoveRight=!1,this.pinned=n,this.eContainer=t,this.centerContainer=!a(n)}return p.prototype.init=function(){var n=this;this.ctrlsService.whenReady(function(){n.gridBodyCon=n.ctrlsService.getGridBodyCtrl()})},p.prototype.getIconName=function(){return this.pinned?Ot.ICON_PINNED:Ot.ICON_MOVE},p.prototype.onDragEnter=function(n){var t=n.dragItem.columns;if(n.dragSource.type===Tt.ToolPanel)this.setColumnsVisible(t,!0,"uiColumnDragged");else{var u=n.dragItem.visibleState,c=(t||[]).filter(function(f){return u[f.getId()]});this.setColumnsVisible(c,!0,"uiColumnDragged")}this.setColumnsPinned(t,this.pinned,"uiColumnDragged"),this.onDragging(n,!0,!0)},p.prototype.onDragLeave=function(n){this.ensureIntervalCleared()},p.prototype.setColumnsVisible=function(n,t,o){if(void 0===o&&(o="api"),n){var u=n.filter(function(c){return!c.getColDef().lockVisible});this.columnModel.setColumnsVisible(u,t,o)}},p.prototype.setColumnsPinned=function(n,t,o){if(void 0===o&&(o="api"),n){var u=n.filter(function(c){return!c.getColDef().lockPinned});this.columnModel.setColumnsPinned(u,t,o)}},p.prototype.onDragStop=function(){this.ensureIntervalCleared()},p.prototype.normaliseX=function(n){return this.gridOptionsWrapper.isEnableRtl()&&(n=this.eContainer.clientWidth-n),this.centerContainer&&(n+=this.ctrlsService.getCenterRowContainerCtrl().getCenterViewportScrollLeft()),n},p.prototype.checkCenterForScrolling=function(n){if(this.centerContainer){var t=this.ctrlsService.getCenterRowContainerCtrl().getCenterViewportScrollLeft(),o=t+this.ctrlsService.getCenterRowContainerCtrl().getCenterWidth();this.gridOptionsWrapper.isEnableRtl()?(this.needToMoveRight=n<t+50,this.needToMoveLeft=n>o-50):(this.needToMoveLeft=n<t+50,this.needToMoveRight=n>o-50),this.needToMoveLeft||this.needToMoveRight?this.ensureIntervalStarted():this.ensureIntervalCleared()}},p.prototype.onDragging=function(n,t,o){var u=this;if(void 0===t&&(t=!1),void 0===o&&(o=!1),this.lastDraggingEvent=n,!s(n.hDirection)){var c=this.normaliseX(n.x);t||this.checkCenterForScrolling(c);var f=this.normaliseDirection(n.hDirection),g=n.dragSource.type,C=n.dragSource.getDragItem().columns;C=C.filter(function(O){return!O.getColDef().lockPinned||O.getPinned()==u.pinned}),this.attemptMoveColumns(g,C,f,c,t,o)}},p.prototype.normaliseDirection=function(n){if(!this.gridOptionsWrapper.isEnableRtl())return n;switch(n){case qt.Left:return qt.Right;case qt.Right:return qt.Left;default:console.error("AG Grid: Unknown direction "+n)}},p.prototype.calculateOldIndex=function(n){var t=this.columnModel.getAllGridColumns(),o=si(n.map(function(C){return t.indexOf(C)})),u=o[0];return Je(o)-u!=o.length-1?null:u},p.prototype.attemptMoveColumns=function(n,t,o,u,c,f){var g=o===qt.Left,C=o===qt.Right;if(n===Tt.HeaderCell){var O=[];t.forEach(function(Ae){for(var He=null,ke=Ae.getParent();null!=ke&&1===ke.getDisplayedLeafColumns().length;)He=ke,ke=ke.getParent();null!=He?He.getLeafColumns().forEach(function(Ye){O.includes(Ye)||O.push(Ye)}):O.includes(Ae)||O.push(Ae)}),t=O}var P=t.slice();this.columnModel.sortColumnsLikeGridColumns(P);var R=this.calculateValidMoves(P,C,u),x=this.calculateOldIndex(P);if(0!==R.length){var W=R[0],U=null!==x&&!c;if(n==Tt.HeaderCell&&(U=null!==x),!U||f||!(g&&W>=x||C&&W<=x)){for(var q=this.columnModel.getAllDisplayedColumns(),te=[],se=null,ae=0;ae<R.length;ae++){var Ce=R[ae],Oe=this.columnModel.getProposedColumnOrder(P,Ce);if(this.columnModel.doesOrderPassRules(Oe)){var Me=Oe.filter(function(Ae){return q.includes(Ae)});if(null===se)se=Me;else if(!Ge.areEqual(Me,se))break;var Be=this.groupFragCount(Oe);te.push({move:Ce,fragCount:Be})}}0!==te.length&&(te.sort(function(Ae,He){return Ae.fragCount-He.fragCount}),this.columnModel.moveColumns(P,te[0].move,"uiColumnDragged"))}}},p.prototype.groupFragCount=function(n){function t(f){for(var g=[],C=f.getOriginalParent();null!=C;)g.push(C),C=C.getOriginalParent();return g}for(var o=0,u=function(f){var g,C=t(n[f]),O=t(n[f+1]);g=function(p,n){var t="function"==typeof Symbol&&p[Symbol.iterator];if(!t)return p;var u,f,o=t.call(p),c=[];try{for(;(void 0===n||n-- >0)&&!(u=o.next()).done;)c.push(u.value)}catch(g){f={error:g}}finally{try{u&&!u.done&&(t=o.return)&&t.call(o)}finally{if(f)throw f.error}}return c}(C.length>O.length?[C,O]:[O,C],2),O=g[1],(C=g[0]).forEach(function(P){-1===O.indexOf(P)&&o++})},c=0;c<n.length-1;c++)u(c);return o},p.prototype.calculateValidMoves=function(n,t,o){if(this.gridOptionsWrapper.isSuppressMovableColumns()||n.some(function(Ve){return Ve.getColDef().suppressMovable}))return[];var q,c=this.columnModel.getDisplayedColumns(this.pinned),f=this.columnModel.getAllGridColumns(),g=c.filter(function(Ve){return St(n,Ve)}),C=c.filter(function(Ve){return!St(n,Ve)}),O=f.filter(function(Ve){return!St(n,Ve)}),P=0,R=o;if(t){var x=0;g.forEach(function(Ve){return x+=Ve.getActualWidth()}),R-=x}if(R>0){for(var W=0;W<C.length&&!((R-=C[W].getActualWidth())<0);W++)P++;t&&P++}P>0?q=O.indexOf(C[P-1])+1:-1===(q=O.indexOf(C[0]))&&(q=0);var se=[q],ae=function(Ve,Ae){return Ve-Ae};if(t){for(var Ce=q+1,Oe=f.length-1;Ce<=Oe;)se.push(Ce),Ce++;se.sort(ae)}else{Oe=f.length-1;for(var Me=f[Ce=q];Ce<=Oe&&this.isColumnHidden(c,Me);)Ce++,se.push(Ce),Me=f[Ce];for(Ce=q-1;Ce>=0;)se.push(Ce),Ce--;se.sort(ae).reverse()}return se},p.prototype.isColumnHidden=function(n,t){return n.indexOf(t)<0},p.prototype.ensureIntervalStarted=function(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),100),this.dragAndDropService.setGhostIcon(this.needToMoveLeft?Ot.ICON_LEFT:Ot.ICON_RIGHT,!0))},p.prototype.ensureIntervalCleared=function(){this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.dragAndDropService.setGhostIcon(Ot.ICON_MOVE))},p.prototype.moveInterval=function(){var n;this.intervalCount++,(n=10+5*this.intervalCount)>100&&(n=100);var t=null,o=this.gridBodyCon.getScrollFeature();if(this.needToMoveLeft?t=o.scrollHorizontally(-n):this.needToMoveRight&&(t=o.scrollHorizontally(n)),0!==t)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;var c=this.lastDraggingEvent.dragItem.columns.filter(function(g){return!g.getColDef().lockPinned});c.length>0&&(this.dragAndDropService.setGhostIcon(Ot.ICON_PINNED),this.failedMoveAttempts>7)&&(this.setColumnsPinned(c,this.needToMoveLeft?ee.PINNED_LEFT:ee.PINNED_RIGHT,"uiColumnDragged"),this.dragAndDropService.nudge())}},rn([I("columnModel")],p.prototype,"columnModel",void 0),rn([I("dragAndDropService")],p.prototype,"dragAndDropService",void 0),rn([I("gridOptionsWrapper")],p.prototype,"gridOptionsWrapper",void 0),rn([I("ctrlsService")],p.prototype,"ctrlsService",void 0),rn([Ee],p.prototype,"init",null),p}(),Hf=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),nn=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},Uf=function(p){function n(t,o){var u=p.call(this)||this;return u.pinned=t,u.eContainer=o,u}return Hf(n,p),n.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady(function(o){switch(t.pinned){case ee.PINNED_LEFT:t.eSecondaryContainers=[[o.gridBodyCtrl.getBodyViewportElement(),o.leftRowContainerCtrl.getContainerElement()],[o.bottomLeftRowContainerCtrl.getContainerElement()],[o.topLeftRowContainerCtrl.getContainerElement()]];break;case ee.PINNED_RIGHT:t.eSecondaryContainers=[[o.gridBodyCtrl.getBodyViewportElement(),o.rightRowContainerCtrl.getContainerElement()],[o.bottomRightRowContainerCtrl.getContainerElement()],[o.topRightRowContainerCtrl.getContainerElement()]];break;default:t.eSecondaryContainers=[[o.gridBodyCtrl.getBodyViewportElement(),o.centerRowContainerCtrl.getViewportElement()],[o.bottomCenterRowContainerCtrl.getViewportElement()],[o.topCenterRowContainerCtrl.getViewportElement()]]}})},n.prototype.isInterestedIn=function(t){return t===Tt.HeaderCell||t===Tt.ToolPanel&&this.gridOptionsWrapper.isAllowDragFromColumnsToolPanel()},n.prototype.getSecondaryContainers=function(){return this.eSecondaryContainers},n.prototype.getContainer=function(){return this.eContainer},n.prototype.init=function(){this.moveColumnFeature=this.createManagedBean(new Vf(this.pinned,this.eContainer)),this.bodyDropPivotTarget=this.createManagedBean(new Bf(this.pinned)),this.dragAndDropService.addDropTarget(this)},n.prototype.getIconName=function(){return this.currentDropListener.getIconName()},n.prototype.isDropColumnInPivotMode=function(t){return this.columnModel.isPivotMode()&&t.dragSource.type===Tt.ToolPanel},n.prototype.onDragEnter=function(t){this.currentDropListener=this.isDropColumnInPivotMode(t)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(t)},n.prototype.onDragLeave=function(t){this.currentDropListener.onDragLeave(t)},n.prototype.onDragging=function(t){this.currentDropListener.onDragging(t)},n.prototype.onDragStop=function(t){this.currentDropListener.onDragStop(t)},nn([I("dragAndDropService")],n.prototype,"dragAndDropService",void 0),nn([I("columnModel")],n.prototype,"columnModel",void 0),nn([I("ctrlsService")],n.prototype,"ctrlsService",void 0),nn([Ee],n.prototype,"postConstruct",null),nn([Ee],n.prototype,"init",null),n}(Se),$f=function(p,n){var t="function"==typeof Symbol&&p[Symbol.iterator];if(!t)return p;var u,f,o=t.call(p),c=[];try{for(;(void 0===n||n-- >0)&&!(u=o.next()).done;)c.push(u.value)}catch(g){f={error:g}}finally{try{u&&!u.done&&(t=o.return)&&t.call(o)}finally{if(f)throw f.error}}return c},Fa=function(){function p(){}return p.getHeaderClassesFromColDef=function(n,t,o,u){return s(n)?[]:this.getColumnClassesFromCollDef(n.headerClass,n,t,o,u)},p.getToolPanelClassesFromColDef=function(n,t,o,u){return s(n)?[]:this.getColumnClassesFromCollDef(n.toolPanelClass,n,t,o,u)},p.getClassParams=function(n,t,o,u){return{colDef:n,column:o,columnGroup:u,api:t.getApi(),columnApi:t.getColumnApi(),context:t.getContext()}},p.getColumnClassesFromCollDef=function(n,t,o,u,c){return s(n)?[]:"string"==typeof(f="function"==typeof n?n(this.getClassParams(t,o,u,c)):n)?[f]:Array.isArray(f)?function(){for(var p=[],n=0;n<arguments.length;n++)p=p.concat($f(arguments[n]));return p}(f):[];var f},p}(),Kf=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),Yn=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},zf=function(p){function n(t){var o=p.call(this,n.TEMPLATE,t)||this;return o.headerCompVersion=0,o.column=t.getColumnGroupChild(),o.pinned=t.getPinned(),o}return Kf(n,p),n.prototype.postConstruct=function(){var t=this,o=this.getGui(),u=function(g,C,O){var P=O||o;null!=C&&""!=C?P.setAttribute(g,C):P.removeAttribute(g)};this.ctrl.setComp({setWidth:function(g){return o.style.width=g},addOrRemoveCssClass:function(g,C){return t.addOrRemoveCssClass(g,C)},setColId:function(g){return u("col-id",g)},setTitle:function(g){return u("title",g)},setAriaDescription:function(g){return Js(o,g)},setAriaSort:function(g){return g?ol(o,g):al(o)},setUserCompDetails:function(g){return t.setUserCompDetails(g)},getUserCompInstance:function(){return t.headerComp}},this.getGui(),this.eResize,this.eHeaderCompWrapper);var f=this.ctrl.getSelectAllGui();this.eResize.insertAdjacentElement("afterend",f)},n.prototype.destroyHeaderComp=function(){this.headerComp&&(this.eHeaderCompWrapper.removeChild(this.headerCompGui),this.headerComp=this.destroyBean(this.headerComp),this.headerCompGui=void 0)},n.prototype.setUserCompDetails=function(t){var o=this;this.headerCompVersion++;var u=this.headerCompVersion;t.newAgStackInstance().then(function(c){return o.afterCompCreated(u,c)})},n.prototype.afterCompCreated=function(t,o){t==this.headerCompVersion&&this.isAlive()?(this.destroyHeaderComp(),this.headerComp=o,this.headerCompGui=o.getGui(),this.eHeaderCompWrapper.appendChild(this.headerCompGui),this.ctrl.setDragSource(this.getGui())):this.destroyBean(o)},n.TEMPLATE='<div class="ag-header-cell" role="columnheader" tabindex="-1">\n            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>\n            <div ref="eHeaderCompWrapper" class="ag-header-cell-comp-wrapper" role="presentation"></div>\n        </div>',Yn([_e("eResize")],n.prototype,"eResize",void 0),Yn([_e("eHeaderCompWrapper")],n.prototype,"eHeaderCompWrapper",void 0),Yn([Ee],n.prototype,"postConstruct",null),Yn([Pe],n.prototype,"destroyHeaderComp",null),n}(Da),Yf=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),Na=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},Xf=function(p){function n(t){return p.call(this,n.TEMPLATE,t)||this}return Yf(n,p),n.prototype.postConstruct=function(){var t=this,o=this.getGui(),u=function(f,g){return null!=g?o.setAttribute(f,g):o.removeAttribute(f)};this.ctrl.setComp({addOrRemoveCssClass:function(f,g){return t.addOrRemoveCssClass(f,g)},addOrRemoveResizableCssClass:function(f,g){return t.eResize.classList.toggle(f,g)},setWidth:function(f){return o.style.width=f},setColId:function(f){return o.setAttribute("col-id",f)},setAriaExpanded:function(f){return u("aria-expanded",f)},setTitle:function(f){return u("title",f)},setUserCompDetails:function(f){return t.setUserCompDetails(f)}},o,this.eResize)},n.prototype.setUserCompDetails=function(t){var o=this;t.newAgStackInstance().then(function(u){return o.afterHeaderCompCreated(u)})},n.prototype.afterHeaderCompCreated=function(t){var o=this,u=function(){return o.destroyBean(t)};this.isAlive()?(this.getGui().appendChild(t.getGui()),this.addDestroyFunc(u),this.ctrl.setDragSource(t.getGui())):u()},n.TEMPLATE='<div class="ag-header-group-cell" role="columnheader" tabindex="-1">\n            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>\n        </div>',Na([I("userComponentFactory")],n.prototype,"userComponentFactory",void 0),Na([_e("eResize")],n.prototype,"eResize",void 0),Na([Ee],n.prototype,"postConstruct",null),n}(Da),qf=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),Yl=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},At=(()=>(function(p){p.COLUMN_GROUP="group",p.COLUMN="column",p.FLOATING_FILTER="filter"}(At||(At={})),At))(),Zf=function(p){function n(t){var o=p.call(this)||this;o.headerComps={};var u=t.getType()==At.COLUMN_GROUP?"ag-header-row-column-group":t.getType()==At.FLOATING_FILTER?"ag-header-row-column-filter":"ag-header-row-column";return o.setTemplate('<div class="ag-header-row '+u+'" role="row"></div>'),o.ctrl=t,o}return qf(n,p),n.prototype.init=function(){var t=this;this.ctrl.setComp({setTransform:function(u){return t.getGui().style.transform=u},setHeight:function(u){return t.getGui().style.height=u},setTop:function(u){return t.getGui().style.top=u},setHeaderCtrls:function(u){return t.setHeaderCtrls(u)},setWidth:function(u){return t.getGui().style.width=u},setAriaRowIndex:function(u){return ia(t.getGui(),u)}})},n.prototype.destroyHeaderCtrls=function(){this.setHeaderCtrls([])},n.prototype.setHeaderCtrls=function(t){var o=this;if(this.isAlive()){var u=this.headerComps;if(this.headerComps={},t.forEach(function(C){var O=C.getInstanceId(),P=u[O];delete u[O],null==P&&(P=o.createHeaderComp(C),o.getGui().appendChild(P.getGui())),o.headerComps[O]=P}),b(u,function(C,O){o.getGui().removeChild(O.getGui()),o.destroyBean(O)}),this.gridOptionsWrapper.isEnsureDomOrder()){var f=j(this.headerComps);f.sort(function(C,O){return C.getCtrl().getColumnGroupChild().getLeft()-O.getCtrl().getColumnGroupChild().getLeft()});var g=f.map(function(C){return C.getGui()});zo(this.getGui(),g)}}},n.prototype.createHeaderComp=function(t){var o;switch(this.ctrl.getType()){case At.COLUMN_GROUP:o=new Xf(t);break;case At.FLOATING_FILTER:o=new nh(t);break;default:o=new zf(t)}return this.createBean(o),o.setParentComponent(this),o},Yl([Ee],n.prototype,"init",null),Yl([Pe],n.prototype,"destroyHeaderCtrls",null),n}(je),Jf=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),Ga=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},Qf=0,Xn=function(p){function n(t,o){var u=p.call(this)||this;return u.lastFocusEvent=null,u.columnGroupChild=t,u.parentRowCtrl=o,u.instanceId=t.getUniqueId()+"-"+Qf++,u}return Jf(n,p),n.prototype.shouldStopEventPropagation=function(t){var o=this.focusService.getFocusedHeader();return cl(this.gridOptionsWrapper,t,o.headerRowIndex,o.column)},n.prototype.getWrapperHasFocus=function(){return this.gridOptionsWrapper.getDocument().activeElement===this.eGui},n.prototype.setGui=function(t){this.eGui=t,this.addDomData()},n.prototype.handleKeyDown=function(t){var o=this.getWrapperHasFocus();switch(t.key){case ye.PAGE_DOWN:case ye.PAGE_UP:case ye.PAGE_HOME:case ye.PAGE_END:o&&t.preventDefault()}},n.prototype.addDomData=function(){var t=this,o=n.DOM_DATA_KEY_HEADER_CTRL;this.gridOptionsWrapper.setDomData(this.eGui,o,this),this.addDestroyFunc(function(){return t.gridOptionsWrapper.setDomData(t.eGui,o,null)})},n.prototype.getGui=function(){return this.eGui},n.prototype.focus=function(t){return!!this.eGui&&(this.lastFocusEvent=t||null,this.eGui.focus(),!0)},n.prototype.getRowIndex=function(){return this.parentRowCtrl.getRowIndex()},n.prototype.getParentRowCtrl=function(){return this.parentRowCtrl},n.prototype.getPinned=function(){return this.parentRowCtrl.getPinned()},n.prototype.getInstanceId=function(){return this.instanceId},n.prototype.getColumnGroupChild=function(){return this.columnGroupChild},n.DOM_DATA_KEY_HEADER_CTRL="headerCtrl",Ga([I("focusService")],n.prototype,"focusService",void 0),Ga([I("beans")],n.prototype,"beans",void 0),Ga([I("userComponentFactory")],n.prototype,"userComponentFactory",void 0),n}(Se),Qe=(()=>(function(p){p.EVERYTHING="group",p.FILTER="filter",p.SORT="sort",p.MAP="map",p.AGGREGATE="aggregate",p.FILTER_AGGREGATES="filter_aggregates",p.PIVOT="pivot",p.NOTHING="nothing"}(Qe||(Qe={})),Qe))(),Ze=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c};function Qr(p){return null!=p&&null!=p.getFrameworkComponentInstance?p.getFrameworkComponentInstance():p}var eg=function(){function p(){this.detailGridInfoMap={},this.destroyCalled=!1}return p.prototype.registerOverlayWrapperComp=function(n){this.overlayWrapperComp=n},p.prototype.registerSideBarComp=function(n){this.sideBarComp=n},p.prototype.init=function(){var n=this;switch(this.rowModel.getType()){case ee.ROW_MODEL_TYPE_CLIENT_SIDE:this.clientSideRowModel=this.rowModel;break;case ee.ROW_MODEL_TYPE_INFINITE:this.infiniteRowModel=this.rowModel;break;case ee.ROW_MODEL_TYPE_SERVER_SIDE:this.serverSideRowModel=this.rowModel}this.ctrlsService.whenReady(function(){n.gridBodyCtrl=n.ctrlsService.getGridBodyCtrl()})},p.prototype.__getAlignedGridService=function(){return this.alignedGridsService},p.prototype.__getContext=function(){return this.context},p.prototype.addDetailGridInfo=function(n,t){this.detailGridInfoMap[n]=t},p.prototype.removeDetailGridInfo=function(n){this.detailGridInfoMap[n]=void 0},p.prototype.getDetailGridInfo=function(n){return this.detailGridInfoMap[n]},p.prototype.forEachDetailGridInfo=function(n){var t=0;b(this.detailGridInfoMap,function(o,u){a(u)&&(n(u,t),t++)})},p.prototype.getDataAsCsv=function(n){if(Ne.assertRegistered(Fe.CsvExportModule,"api.getDataAsCsv"))return this.csvCreator.getDataAsCsv(n)},p.prototype.exportDataAsCsv=function(n){Ne.assertRegistered(Fe.CsvExportModule,"api.exportDataAsCSv")&&this.csvCreator.exportDataAsCsv(n)},p.prototype.getExcelExportMode=function(n){var t=this.gridOptionsWrapper.getDefaultExportParams("excel");return Object.assign({exportMode:"xlsx"},t,n).exportMode},p.prototype.getDataAsExcel=function(n){if(Ne.assertRegistered(Fe.ExcelExportModule,"api.getDataAsExcel")){var t=this.getExcelExportMode(n);return this.excelCreator.getFactoryMode(t)===Yr.MULTI_SHEET?void console.warn("AG Grid: The Excel Exporter is currently on Multi Sheet mode. End that operation by calling `api.getMultipleSheetAsExcel()` or `api.exportMultipleSheetsAsExcel()`"):this.excelCreator.getDataAsExcel(n)}},p.prototype.exportDataAsExcel=function(n){if(Ne.assertRegistered(Fe.ExcelExportModule,"api.exportDataAsExcel")){var t=this.getExcelExportMode(n);if(this.excelCreator.getFactoryMode(t)===Yr.MULTI_SHEET)return void console.warn("AG Grid: The Excel Exporter is currently on Multi Sheet mode. End that operation by calling `api.getMultipleSheetAsExcel()` or `api.exportMultipleSheetsAsExcel()`");this.excelCreator.exportDataAsExcel(n)}},p.prototype.getSheetDataForExcel=function(n){if(Ne.assertRegistered(Fe.ExcelExportModule,"api.getSheetDataForExcel")){var t=this.getExcelExportMode(n);return this.excelCreator.setFactoryMode(Yr.MULTI_SHEET,t),this.excelCreator.getSheetDataForExcel(n)}},p.prototype.getMultipleSheetsAsExcel=function(n){if(Ne.assertRegistered(Fe.ExcelExportModule,"api.getMultipleSheetsAsExcel"))return this.excelCreator.getMultipleSheetsAsExcel(n)},p.prototype.exportMultipleSheetsAsExcel=function(n){if(Ne.assertRegistered(Fe.ExcelExportModule,"api.exportMultipleSheetsAsExcel"))return this.excelCreator.exportMultipleSheetsAsExcel(n)},p.prototype.setEnterpriseDatasource=function(n){console.warn("AG Grid: since version 18.x, api.setEnterpriseDatasource() should be replaced with api.setServerSideDatasource()"),this.setServerSideDatasource(n)},p.prototype.setGridAriaProperty=function(n,t){if(n){var o=this.ctrlsService.getGridBodyCtrl().getGui(),u="aria-"+n;null===t?o.removeAttribute(u):o.setAttribute(u,t)}},p.prototype.setServerSideDatasource=function(n){this.serverSideRowModel?this.serverSideRowModel.setDatasource(n):console.warn("AG Grid: you can only use an enterprise datasource when gridOptions.rowModelType is '"+ee.ROW_MODEL_TYPE_SERVER_SIDE+"'")},p.prototype.setCacheBlockSize=function(n){this.serverSideRowModel?(this.gridOptionsWrapper.setProperty("cacheBlockSize",n),this.serverSideRowModel.resetRootStore()):console.warn("AG Grid: you can only set cacheBlockSize with gridOptions.rowModelType '"+ee.ROW_MODEL_TYPE_SERVER_SIDE+"'")},p.prototype.setDatasource=function(n){this.gridOptionsWrapper.isRowModelInfinite()?this.rowModel.setDatasource(n):console.warn("AG Grid: you can only use a datasource when gridOptions.rowModelType is '"+ee.ROW_MODEL_TYPE_INFINITE+"'")},p.prototype.setViewportDatasource=function(n){this.gridOptionsWrapper.isRowModelViewport()?this.rowModel.setViewportDatasource(n):console.warn("AG Grid: you can only use a viewport datasource when gridOptions.rowModelType is '"+ee.ROW_MODEL_TYPE_VIEWPORT+"'")},p.prototype.setRowData=function(n){null==this.immutableService?console.warn("AG Grid: you can only set rowData when using the Client Side Row Model"):this.immutableService.isActive()?this.immutableService.setRowData(n):(this.selectionService.reset(),this.clientSideRowModel.setRowData(n))},p.prototype.setFloatingTopRowData=function(n){console.warn("AG Grid: since v12, api.setFloatingTopRowData() is now api.setPinnedTopRowData()"),this.setPinnedTopRowData(n)},p.prototype.setFloatingBottomRowData=function(n){console.warn("AG Grid: since v12, api.setFloatingBottomRowData() is now api.setPinnedBottomRowData()"),this.setPinnedBottomRowData(n)},p.prototype.getFloatingTopRowCount=function(){return console.warn("AG Grid: since v12, api.getFloatingTopRowCount() is now api.getPinnedTopRowCount()"),this.getPinnedTopRowCount()},p.prototype.getFloatingBottomRowCount=function(){return console.warn("AG Grid: since v12, api.getFloatingBottomRowCount() is now api.getPinnedBottomRowCount()"),this.getPinnedBottomRowCount()},p.prototype.getFloatingTopRow=function(n){return console.warn("AG Grid: since v12, api.getFloatingTopRow() is now api.getPinnedTopRow()"),this.getPinnedTopRow(n)},p.prototype.getFloatingBottomRow=function(n){return console.warn("AG Grid: since v12, api.getFloatingBottomRow() is now api.getPinnedBottomRow()"),this.getPinnedBottomRow(n)},p.prototype.setPinnedTopRowData=function(n){this.pinnedRowModel.setPinnedTopRowData(n)},p.prototype.setPinnedBottomRowData=function(n){this.pinnedRowModel.setPinnedBottomRowData(n)},p.prototype.getPinnedTopRowCount=function(){return this.pinnedRowModel.getPinnedTopRowCount()},p.prototype.getPinnedBottomRowCount=function(){return this.pinnedRowModel.getPinnedBottomRowCount()},p.prototype.getPinnedTopRow=function(n){return this.pinnedRowModel.getPinnedTopRow(n)},p.prototype.getPinnedBottomRow=function(n){return this.pinnedRowModel.getPinnedBottomRow(n)},p.prototype.setColumnDefs=function(n,t){void 0===t&&(t="api"),this.columnModel.setColumnDefs(n,t)},p.prototype.setAutoGroupColumnDef=function(n,t){this.gridOptionsWrapper.setProperty(Re.PROP_AUTO_GROUP_COLUMN_DEF,n,!0)},p.prototype.setDefaultColDef=function(n,t){this.gridOptionsWrapper.setProperty(Re.PROP_DEFAULT_COL_DEF,n,!0)},p.prototype.expireValueCache=function(){this.valueCache.expire()},p.prototype.getVerticalPixelRange=function(){return this.gridBodyCtrl.getScrollFeature().getVScrollPosition()},p.prototype.getHorizontalPixelRange=function(){return this.gridBodyCtrl.getScrollFeature().getHScrollPosition()},p.prototype.setAlwaysShowHorizontalScroll=function(n){this.gridOptionsWrapper.setProperty("alwaysShowHorizontalScroll",n)},p.prototype.setAlwaysShowVerticalScroll=function(n){this.gridOptionsWrapper.setProperty("alwaysShowVerticalScroll",n)},p.prototype.refreshToolPanel=function(){!this.sideBarComp||this.sideBarComp.refresh()},p.prototype.refreshCells=function(n){void 0===n&&(n={}),Array.isArray(n)?console.warn("since AG Grid v11.1, refreshCells() now takes parameters, please see the documentation."):this.rowRenderer.refreshCells(n)},p.prototype.flashCells=function(n){void 0===n&&(n={}),this.rowRenderer.flashCells(n)},p.prototype.redrawRows=function(n){void 0===n&&(n={}),this.rowRenderer.redrawRows(n?n.rowNodes:void 0)},p.prototype.setFunctionsReadOnly=function(n){this.gridOptionsWrapper.setProperty("functionsReadOnly",n)},p.prototype.refreshHeader=function(){this.ctrlsService.getHeaderRowContainerCtrls().forEach(function(n){return n.refresh()})},p.prototype.isAnyFilterPresent=function(){return this.filterManager.isAnyFilterPresent()},p.prototype.isColumnFilterPresent=function(){return this.filterManager.isColumnFilterPresent()||this.filterManager.isAggregateFilterPresent()},p.prototype.isQuickFilterPresent=function(){return this.filterManager.isQuickFilterPresent()},p.prototype.getModel=function(){return this.rowModel},p.prototype.setRowNodeExpanded=function(n,t){n&&n.setExpanded(t)},p.prototype.onGroupExpandedOrCollapsed=function(n){s(this.clientSideRowModel)&&console.warn("AG Grid: cannot call onGroupExpandedOrCollapsed unless using normal row model"),a(n)&&console.warn("AG Grid: api.onGroupExpandedOrCollapsed - refreshFromIndex parameter is no longer used, the grid will refresh all rows"),this.clientSideRowModel.refreshModel({step:Qe.MAP})},p.prototype.refreshInMemoryRowModel=function(n){console.warn("ag-grid: since version 18.x, api.refreshInMemoryRowModel() should be replaced with api.refreshClientSideRowModel()"),this.refreshClientSideRowModel(n)},p.prototype.refreshClientSideRowModel=function(n){s(this.clientSideRowModel)&&console.warn("cannot call refreshClientSideRowModel unless using normal row model");var t=Qe.EVERYTHING,o={group:Qe.EVERYTHING,filter:Qe.FILTER,map:Qe.MAP,aggregate:Qe.AGGREGATE,sort:Qe.SORT,pivot:Qe.PIVOT};if(a(n)&&(t=o[n]),s(t))console.error("AG Grid: invalid step "+n+", available steps are "+Object.keys(o).join(", "));else{var u=!this.gridOptionsWrapper.isSuppressAnimationFrame();this.clientSideRowModel.refreshModel({step:t,keepRenderedRows:!0,keepEditingRows:!0,animate:u})}},p.prototype.isAnimationFrameQueueEmpty=function(){return this.animationFrameService.isQueueEmpty()},p.prototype.flushAllAnimationFrames=function(){this.animationFrameService.flushAllFrames()},p.prototype.getRowNode=function(n){return this.rowModel.getRowNode(n)},p.prototype.getSizesForCurrentTheme=function(){return{rowHeight:this.gridOptionsWrapper.getRowHeightAsNumber(),headerHeight:this.gridOptionsWrapper.getHeaderHeight()}},p.prototype.expandAll=function(){this.clientSideRowModel?this.clientSideRowModel.expandOrCollapseAll(!0):this.serverSideRowModel?this.serverSideRowModel.expandAll(!0):console.warn("AG Grid: expandAll only works with Client Side Row Model and Server Side Row Model")},p.prototype.collapseAll=function(){this.clientSideRowModel?this.clientSideRowModel.expandOrCollapseAll(!1):this.serverSideRowModel?this.serverSideRowModel.expandAll(!1):console.warn("AG Grid: collapseAll only works with Client Side Row Model and Server Side Row Model")},p.prototype.getToolPanelInstance=function(n){if(this.sideBarComp)return Qr(this.sideBarComp.getToolPanelInstance(n));console.warn("AG Grid: toolPanel is only available in AG Grid Enterprise")},p.prototype.addVirtualRowListener=function(n,t,o){"string"!=typeof n&&console.warn("AG Grid: addVirtualRowListener is deprecated, please use addRenderedRowListener."),this.addRenderedRowListener(n,t,o)},p.prototype.addRenderedRowListener=function(n,t,o){"virtualRowSelected"===n&&console.warn("AG Grid: event virtualRowSelected is deprecated, to register for individual row\n                selection events, add a listener directly to the row node."),this.rowRenderer.addRenderedRowListener(n,t,o)},p.prototype.setQuickFilter=function(n){this.filterManager.setQuickFilter(n)},p.prototype.selectIndex=function(n,t,o){console.warn("AG Grid: do not use api for selection, call node.setSelected(value) instead"),o&&console.warn("AG Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),this.selectionService.selectIndex(n,t)},p.prototype.deselectIndex=function(n,t){void 0===t&&(t=!1),console.warn("AG Grid: do not use api for selection, call node.setSelected(value) instead"),t&&console.warn("AG Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),this.selectionService.deselectIndex(n)},p.prototype.selectNode=function(n,t,o){void 0===t&&(t=!1),void 0===o&&(o=!1),console.warn("AG Grid: API for selection is deprecated, call node.setSelected(value) instead"),o&&console.warn("AG Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),n.setSelectedParams({newValue:!0,clearSelection:!t})},p.prototype.deselectNode=function(n,t){void 0===t&&(t=!1),console.warn("AG Grid: API for selection is deprecated, call node.setSelected(value) instead"),t&&console.warn("AG Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),n.setSelectedParams({newValue:!1})},p.prototype.selectAll=function(){this.selectionService.selectAllRowNodes()},p.prototype.deselectAll=function(){this.selectionService.deselectAllRowNodes()},p.prototype.selectAllFiltered=function(){this.selectionService.selectAllRowNodes(!0)},p.prototype.deselectAllFiltered=function(){this.selectionService.deselectAllRowNodes(!0)},p.prototype.recomputeAggregates=function(){s(this.clientSideRowModel)&&console.warn("cannot call recomputeAggregates unless using normal row model"),console.warn("recomputeAggregates is deprecated, please call api.refreshClientSideRowModel('aggregate') instead"),this.clientSideRowModel.refreshModel({step:Qe.AGGREGATE})},p.prototype.sizeColumnsToFit=function(n){this.gridBodyCtrl.sizeColumnsToFit(n)},p.prototype.showLoadingOverlay=function(){this.overlayWrapperComp.showLoadingOverlay()},p.prototype.showNoRowsOverlay=function(){this.overlayWrapperComp.showNoRowsOverlay()},p.prototype.hideOverlay=function(){this.overlayWrapperComp.hideOverlay()},p.prototype.isNodeSelected=function(n){return console.warn("AG Grid: no need to call api.isNodeSelected(), just call node.isSelected() instead"),n.isSelected()},p.prototype.getSelectedNodesById=function(){return console.error("AG Grid: since version 3.4, getSelectedNodesById no longer exists, use getSelectedNodes() instead"),null},p.prototype.getSelectedNodes=function(){return this.selectionService.getSelectedNodes()},p.prototype.getSelectedRows=function(){return this.selectionService.getSelectedRows()},p.prototype.getBestCostNodeSelection=function(){return this.selectionService.getBestCostNodeSelection()},p.prototype.getRenderedNodes=function(){return this.rowRenderer.getRenderedNodes()},p.prototype.ensureColIndexVisible=function(n){console.warn("AG Grid: ensureColIndexVisible(index) no longer supported, use ensureColumnVisible(colKey) instead.")},p.prototype.ensureColumnVisible=function(n,t){void 0===t&&(t="auto"),this.gridBodyCtrl.getScrollFeature().ensureColumnVisible(n,t)},p.prototype.ensureIndexVisible=function(n,t){this.gridBodyCtrl.getScrollFeature().ensureIndexVisible(n,t)},p.prototype.ensureNodeVisible=function(n,t){void 0===t&&(t=null),this.gridBodyCtrl.getScrollFeature().ensureNodeVisible(n,t)},p.prototype.forEachLeafNode=function(n){s(this.clientSideRowModel)&&console.warn("cannot call forEachNode unless using normal row model"),this.clientSideRowModel.forEachLeafNode(n)},p.prototype.forEachNode=function(n){this.rowModel.forEachNode(n)},p.prototype.forEachNodeAfterFilter=function(n){s(this.clientSideRowModel)&&console.warn("cannot call forEachNodeAfterFilter unless using normal row model"),this.clientSideRowModel.forEachNodeAfterFilter(n)},p.prototype.forEachNodeAfterFilterAndSort=function(n){s(this.clientSideRowModel)&&console.warn("cannot call forEachNodeAfterFilterAndSort unless using normal row model"),this.clientSideRowModel.forEachNodeAfterFilterAndSort(n)},p.prototype.getFilterInstance=function(n,t){var o=this.getFilterInstanceImpl(n,function(c){if(t){var f=Qr(c);t(f)}});return Qr(o)},p.prototype.getFilterInstanceImpl=function(n,t){var o=this.columnModel.getPrimaryColumn(n);if(o){var u=this.filterManager.getFilterComponent(o,"NO_UI"),c=u&&u.resolveNow(null,function(f){return f});return c?setTimeout(t,0,c):u&&u.then(function(f){t(f)}),c}},p.prototype.destroyFilter=function(n){var t=this.columnModel.getPrimaryColumn(n);if(t)return this.filterManager.destroyFilter(t,"filterDestroyed")},p.prototype.getStatusPanel=function(n){if(this.statusBarService)return Qr(this.statusBarService.getStatusPanel(n))},p.prototype.getColumnDef=function(n){var t=this.columnModel.getPrimaryColumn(n);return t?t.getColDef():null},p.prototype.getColumnDefs=function(){return this.columnModel.getColumnDefs()},p.prototype.onFilterChanged=function(){this.filterManager.onFilterChanged()},p.prototype.onSortChanged=function(){this.sortController.onSortChanged("api")},p.prototype.setFilterModel=function(n){this.filterManager.setFilterModel(n)},p.prototype.getFilterModel=function(){return this.filterManager.getFilterModel()},p.prototype.getFocusedCell=function(){return this.focusService.getFocusedCell()},p.prototype.clearFocusedCell=function(){return this.focusService.clearFocusedCell()},p.prototype.setFocusedCell=function(n,t,o){this.focusService.setFocusedCell({rowIndex:n,column:t,rowPinned:o,forceBrowserFocus:!0})},p.prototype.setSuppressRowDrag=function(n){this.gridOptionsWrapper.setProperty(Re.PROP_SUPPRESS_ROW_DRAG,n)},p.prototype.setSuppressMoveWhenRowDragging=function(n){this.gridOptionsWrapper.setProperty(Re.PROP_SUPPRESS_MOVE_WHEN_ROW_DRAG,n)},p.prototype.setSuppressRowClickSelection=function(n){this.gridOptionsWrapper.setProperty(Re.PROP_SUPPRESS_ROW_CLICK_SELECTION,n)},p.prototype.addRowDropZone=function(n){this.gridBodyCtrl.getRowDragFeature().addRowDropZone(n)},p.prototype.removeRowDropZone=function(n){var t=this.dragAndDropService.findExternalZone(n);t&&this.dragAndDropService.removeDropTarget(t)},p.prototype.getRowDropZoneParams=function(n){return this.gridBodyCtrl.getRowDragFeature().getRowDropZone(n)},p.prototype.setHeaderHeight=function(n){this.gridOptionsWrapper.setProperty(Re.PROP_HEADER_HEIGHT,n)},p.prototype.setDomLayout=function(n){this.gridOptionsWrapper.setProperty(Re.PROP_DOM_LAYOUT,n)},p.prototype.setEnableCellTextSelection=function(n){this.gridBodyCtrl.setCellTextSelection(n)},p.prototype.setFillHandleDirection=function(n){this.gridOptionsWrapper.setProperty(Re.PROP_FILL_HANDLE_DIRECTION,n)},p.prototype.setGroupHeaderHeight=function(n){this.gridOptionsWrapper.setProperty(Re.PROP_GROUP_HEADER_HEIGHT,n)},p.prototype.setFloatingFiltersHeight=function(n){this.gridOptionsWrapper.setProperty(Re.PROP_FLOATING_FILTERS_HEIGHT,n)},p.prototype.setPivotHeaderHeight=function(n){this.gridOptionsWrapper.setProperty(Re.PROP_PIVOT_HEADER_HEIGHT,n)},p.prototype.setPivotGroupHeaderHeight=function(n){this.gridOptionsWrapper.setProperty(Re.PROP_PIVOT_GROUP_HEADER_HEIGHT,n)},p.prototype.setIsExternalFilterPresent=function(n){this.gridOptionsWrapper.setProperty(Re.PROP_IS_EXTERNAL_FILTER_PRESENT,n)},p.prototype.setDoesExternalFilterPass=function(n){this.gridOptionsWrapper.setProperty(Re.PROP_DOES_EXTERNAL_FILTER_PASS,n)},p.prototype.setNavigateToNextCell=function(n){this.gridOptionsWrapper.setProperty(Re.PROP_NAVIGATE_TO_NEXT_CELL,n)},p.prototype.setTabToNextCell=function(n){this.gridOptionsWrapper.setProperty(Re.PROP_TAB_TO_NEXT_CELL,n)},p.prototype.setTabToNextHeader=function(n){this.gridOptionsWrapper.setProperty(Re.PROP_TAB_TO_NEXT_HEADER,n)},p.prototype.setNavigateToNextHeader=function(n){this.gridOptionsWrapper.setProperty(Re.PROP_NAVIGATE_TO_NEXT_HEADER,n)},p.prototype.setGroupRowAggNodes=function(n){this.gridOptionsWrapper.setProperty(Re.PROP_GROUP_ROW_AGG_NODES,n)},p.prototype.setGetGroupRowAgg=function(n){this.gridOptionsWrapper.setProperty(Re.PROP_GET_GROUP_ROW_AGG,n)},p.prototype.setGetBusinessKeyForNode=function(n){this.gridOptionsWrapper.setProperty(Re.PROP_GET_BUSINESS_KEY_FOR_NODE,n)},p.prototype.setGetChildCount=function(n){this.gridOptionsWrapper.setProperty(Re.PROP_GET_CHILD_COUNT,n)},p.prototype.setProcessRowPostCreate=function(n){this.gridOptionsWrapper.setProperty(Re.PROP_PROCESS_ROW_POST_CREATE,n)},p.prototype.setGetRowNodeId=function(n){this.gridOptionsWrapper.setProperty(Re.PROP_GET_ROW_NODE_ID,n)},p.prototype.setGetRowId=function(n){this.gridOptionsWrapper.setProperty(Re.PROP_GET_ROW_ID,n)},p.prototype.setGetRowClass=function(n){this.gridOptionsWrapper.setProperty(Re.PROP_GET_ROW_CLASS,n)},p.prototype.setIsFullWidthCell=function(n){this.gridOptionsWrapper.setProperty(Re.PROP_IS_FULL_WIDTH_CELL,n)},p.prototype.setIsFullWidthRow=function(n){this.gridOptionsWrapper.setProperty(Re.PROP_IS_FULL_WIDTH_ROW,n)},p.prototype.setIsRowSelectable=function(n){this.gridOptionsWrapper.setProperty(Re.PROP_IS_ROW_SELECTABLE,n)},p.prototype.setIsRowMaster=function(n){this.gridOptionsWrapper.setProperty(Re.PROP_IS_ROW_MASTER,n)},p.prototype.setPostSort=function(n){this.gridOptionsWrapper.setProperty(Re.PROP_POST_SORT,n)},p.prototype.setPostSortRows=function(n){this.gridOptionsWrapper.setProperty(Re.PROP_POST_SORT_ROWS,n)},p.prototype.setGetDocument=function(n){this.gridOptionsWrapper.setProperty(Re.PROP_GET_DOCUMENT,n)},p.prototype.setGetContextMenuItems=function(n){this.gridOptionsWrapper.setProperty(Re.PROP_GET_CONTEXT_MENU_ITEMS,n)},p.prototype.setGetMainMenuItems=function(n){this.gridOptionsWrapper.setProperty(Re.PROP_GET_MAIN_MENU_ITEMS,n)},p.prototype.setProcessCellForClipboard=function(n){this.gridOptionsWrapper.setProperty(Re.PROP_PROCESS_CELL_FOR_CLIPBOARD,n)},p.prototype.setSendToClipboard=function(n){this.gridOptionsWrapper.setProperty(Re.PROP_SEND_TO_CLIPBOARD,n)},p.prototype.setProcessCellFromClipboard=function(n){this.gridOptionsWrapper.setProperty(Re.PROP_PROCESS_CELL_FROM_CLIPBOARD,n)},p.prototype.setProcessSecondaryColDef=function(n){console.warn("AG Grid: since version 28.0.x setProcessSecondaryColDef has been renamed, please use setProcessPivotResultColDef instead"),this.setProcessPivotResultColDef(n)},p.prototype.setProcessSecondaryColGroupDef=function(n){console.warn("AG Grid: since version 28.0.x setProcessSecondaryColGroupDef has been renamed, please use setProcessPivotResultColGroupDef instead"),this.setProcessPivotResultColGroupDef(n)},p.prototype.setProcessPivotResultColDef=function(n){this.gridOptionsWrapper.setProperty(Re.PROP_PROCESS_PIVOT_RESULT_COL_DEF,n)},p.prototype.setProcessPivotResultColGroupDef=function(n){this.gridOptionsWrapper.setProperty(Re.PROP_PROCESS_PIVOT_RESULT_COL_GROUP_DEF,n)},p.prototype.setPostProcessPopup=function(n){this.gridOptionsWrapper.setProperty(Re.PROP_POST_PROCESS_POPUP,n)},p.prototype.setDefaultGroupOrderComparator=function(n){this.gridOptionsWrapper.setProperty(Re.PROP_DEFAULT_GROUP_ORDER_COMPARATOR,n)},p.prototype.setInitialGroupOrderComparator=function(n){this.gridOptionsWrapper.setProperty(Re.PROP_INITIAL_GROUP_ORDER_COMPARATOR,n)},p.prototype.setGetChartToolbarItems=function(n){this.gridOptionsWrapper.setProperty(Re.PROP_GET_CHART_TOOLBAR_ITEMS,n)},p.prototype.setPaginationNumberFormatter=function(n){this.gridOptionsWrapper.setProperty(Re.PROP_PAGINATION_NUMBER_FORMATTER,n)},p.prototype.setGetServerSideStoreParams=function(n){this.setGetServerSideGroupLevelParams(n)},p.prototype.setGetServerSideGroupLevelParams=function(n){this.gridOptionsWrapper.setProperty(Re.PROP_GET_SERVER_SIDE_GROUP_PARAMS,n)},p.prototype.setIsServerSideGroupOpenByDefault=function(n){this.gridOptionsWrapper.setProperty(Re.PROP_IS_SERVER_SIDE_GROUPS_OPEN_BY_DEFAULT,n)},p.prototype.setIsApplyServerSideTransaction=function(n){this.gridOptionsWrapper.setProperty(Re.PROP_IS_APPLY_SERVER_SIDE_TRANSACTION,n)},p.prototype.setIsServerSideGroup=function(n){this.gridOptionsWrapper.setProperty(Re.PROP_IS_SERVER_SIDE_GROUP,n)},p.prototype.setGetServerSideGroupKey=function(n){this.gridOptionsWrapper.setProperty(Re.PROP_GET_SERVER_SIDE_GROUP_KEY,n)},p.prototype.setGetRowStyle=function(n){this.gridOptionsWrapper.setProperty(Re.PROP_GET_ROW_STYLE,n)},p.prototype.setGetRowHeight=function(n){this.gridOptionsWrapper.setProperty(Re.PROP_GET_ROW_HEIGHT,n)},p.prototype.isSideBarVisible=function(){return!!this.sideBarComp&&this.sideBarComp.isDisplayed()},p.prototype.setSideBarVisible=function(n){this.sideBarComp?this.sideBarComp.setDisplayed(n):n&&console.warn("AG Grid: sideBar is not loaded")},p.prototype.setSideBarPosition=function(n){this.sideBarComp?this.sideBarComp.setSideBarPosition(n):console.warn("AG Grid: sideBar is not loaded")},p.prototype.openToolPanel=function(n){this.sideBarComp?this.sideBarComp.openToolPanel(n):console.warn("AG Grid: toolPanel is only available in AG Grid Enterprise")},p.prototype.closeToolPanel=function(){this.sideBarComp?this.sideBarComp.close():console.warn("AG Grid: toolPanel is only available in AG Grid Enterprise")},p.prototype.getOpenedToolPanel=function(){return this.sideBarComp?this.sideBarComp.openedItem():null},p.prototype.getSideBar=function(){return this.gridOptionsWrapper.getSideBar()},p.prototype.setSideBar=function(n){this.gridOptionsWrapper.setProperty("sideBar",Os.parse(n))},p.prototype.setSuppressClipboardPaste=function(n){this.gridOptionsWrapper.setProperty(Re.PROP_SUPPRESS_CLIPBOARD_PASTE,n)},p.prototype.isToolPanelShowing=function(){return this.sideBarComp.isToolPanelShowing()},p.prototype.doLayout=function(){z(function(){return console.warn("AG Grid - since version 25.1, doLayout was taken out, as it's not needed. The grid responds to grid size changes automatically")},"doLayoutDeprecated")},p.prototype.resetRowHeights=function(){if(a(this.clientSideRowModel)){if(this.columnModel.isAutoRowHeightActive())return void console.warn("AG Grid: calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.");this.clientSideRowModel.resetRowHeights()}},p.prototype.setGroupRemoveSingleChildren=function(n){this.gridOptionsWrapper.setProperty(Re.PROP_GROUP_REMOVE_SINGLE_CHILDREN,n)},p.prototype.setGroupRemoveLowestSingleChildren=function(n){this.gridOptionsWrapper.setProperty(Re.PROP_GROUP_REMOVE_LOWEST_SINGLE_CHILDREN,n)},p.prototype.setGroupDisplayType=function(n){this.gridOptionsWrapper.setProperty(Re.PROP_GROUP_DISPLAY_TYPE,n)},p.prototype.onRowHeightChanged=function(){this.clientSideRowModel?this.clientSideRowModel.onRowHeightChanged():this.serverSideRowModel&&this.serverSideRowModel.onRowHeightChanged()},p.prototype.getValue=function(n,t){var o=this.columnModel.getPrimaryColumn(n);return s(o)&&(o=this.columnModel.getGridColumn(n)),s(o)?null:this.valueService.getValue(o,t)},p.prototype.addEventListener=function(n,t){var o=this.gridOptionsWrapper.useAsyncEvents();this.eventService.addEventListener(n,t,o)},p.prototype.addGlobalListener=function(n){var t=this.gridOptionsWrapper.useAsyncEvents();this.eventService.addGlobalListener(n,t)},p.prototype.removeEventListener=function(n,t){var o=this.gridOptionsWrapper.useAsyncEvents();this.eventService.removeEventListener(n,t,o)},p.prototype.removeGlobalListener=function(n){var t=this.gridOptionsWrapper.useAsyncEvents();this.eventService.removeGlobalListener(n,t)},p.prototype.dispatchEvent=function(n){this.eventService.dispatchEvent(n)},p.prototype.destroy=function(){if(!this.destroyCalled){this.destroyCalled=!0;var n=this.ctrlsService.getGridCtrl();n&&n.destroyGridUi(),this.context.destroy()}},p.prototype.cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid=function(){setTimeout(fe.bind(window,this,"Grid API"),100)},p.prototype.warnIfDestroyed=function(n){return this.destroyCalled&&console.warn("AG Grid: Grid API method "+n+" was called on a grid that was destroyed."),this.destroyCalled},p.prototype.resetQuickFilter=function(){this.warnIfDestroyed("resetQuickFilter")||this.rowModel.forEachNode(function(n){return n.quickFilterAggregateText=null})},p.prototype.getRangeSelections=function(){return console.warn("AG Grid: in v20.1.x, api.getRangeSelections() is gone, please use getCellRanges() instead.\n        We had to change how cell selections works a small bit to allow charting to integrate. The return type of\n        getCellRanges() is a bit different, please check the AG Grid documentation."),null},p.prototype.getCellRanges=function(){return this.rangeService?this.rangeService.getCellRanges():(console.warn("AG Grid: cell range selection is only available in AG Grid Enterprise"),null)},p.prototype.camelCaseToHumanReadable=function(n){return Ro(n)},p.prototype.addRangeSelection=function(n){console.warn("AG Grid: As of version 21.x, range selection changed slightly to allow charting integration. Please call api.addCellRange() instead of api.addRangeSelection()")},p.prototype.addCellRange=function(n){this.rangeService||console.warn("AG Grid: cell range selection is only available in AG Grid Enterprise"),this.rangeService.addCellRange(n)},p.prototype.clearRangeSelection=function(){this.rangeService||console.warn("AG Grid: cell range selection is only available in AG Grid Enterprise"),this.rangeService.removeAllCellRanges()},p.prototype.undoCellEditing=function(){this.undoRedoService.undo()},p.prototype.redoCellEditing=function(){this.undoRedoService.redo()},p.prototype.getCurrentUndoSize=function(){return this.undoRedoService.getCurrentUndoStackSize()},p.prototype.getCurrentRedoSize=function(){return this.undoRedoService.getCurrentRedoStackSize()},p.prototype.getChartModels=function(){if(Ne.assertRegistered(Fe.RangeSelectionModule,"api.getChartModels")&&Ne.assertRegistered(Fe.GridChartsModule,"api.getChartModels"))return this.chartService.getChartModels()},p.prototype.getChartRef=function(n){if(Ne.assertRegistered(Fe.RangeSelectionModule,"api.getChartRef")&&Ne.assertRegistered(Fe.GridChartsModule,"api.getChartRef"))return this.chartService.getChartRef(n)},p.prototype.getChartImageDataURL=function(n){if(Ne.assertRegistered(Fe.RangeSelectionModule,"api.getChartImageDataURL")&&Ne.assertRegistered(Fe.GridChartsModule,"api.getChartImageDataURL"))return this.chartService.getChartImageDataURL(n)},p.prototype.createRangeChart=function(n){if(Ne.assertRegistered(Fe.RangeSelectionModule,"api.createRangeChart")&&Ne.assertRegistered(Fe.GridChartsModule,"api.createRangeChart"))return this.chartService.createRangeChart(n)},p.prototype.createCrossFilterChart=function(n){if(Ne.assertRegistered(Fe.RangeSelectionModule,"api.createCrossFilterChart")&&Ne.assertRegistered(Fe.GridChartsModule,"api.createCrossFilterChart"))return this.chartService.createCrossFilterChart(n)},p.prototype.restoreChart=function(n,t){if(Ne.assertRegistered(Fe.RangeSelectionModule,"api.restoreChart")&&Ne.assertRegistered(Fe.GridChartsModule,"api.restoreChart"))return this.chartService.restoreChart(n,t)},p.prototype.createPivotChart=function(n){if(Ne.assertRegistered(Fe.RangeSelectionModule,"api.createPivotChart")&&Ne.assertRegistered(Fe.GridChartsModule,"api.createPivotChart"))return this.chartService.createPivotChart(n)},p.prototype.copySelectedRowsToClipboard=function(n){this.clipboardService||console.warn("AG Grid: clipboard is only available in AG Grid Enterprise"),this.clipboardService.copySelectedRowsToClipboard(n)},p.prototype.copySelectedRangeToClipboard=function(n){this.clipboardService||console.warn("AG Grid: clipboard is only available in AG Grid Enterprise"),this.clipboardService.copySelectedRangeToClipboard(n)},p.prototype.copySelectedRangeDown=function(){this.clipboardService||console.warn("AG Grid: clipboard is only available in AG Grid Enterprise"),this.clipboardService.copyRangeDown()},p.prototype.showColumnMenuAfterButtonClick=function(n,t){var o=this.columnModel.getGridColumn(n);this.menuFactory.showMenuAfterButtonClick(o,t,"columnMenu")},p.prototype.showColumnMenuAfterMouseClick=function(n,t){var o=this.columnModel.getGridColumn(n);o||(o=this.columnModel.getPrimaryColumn(n)),o?this.menuFactory.showMenuAfterMouseEvent(o,t):console.error("AG Grid: column '"+n+"' not found")},p.prototype.hidePopupMenu=function(){this.contextMenuFactory&&this.contextMenuFactory.hideActiveMenu(),this.menuFactory.hideActiveMenu()},p.prototype.setPopupParent=function(n){this.gridOptionsWrapper.setProperty(Re.PROP_POPUP_PARENT,n)},p.prototype.tabToNextCell=function(n){return this.navigationService.tabToNextCell(!1,n)},p.prototype.tabToPreviousCell=function(n){return this.navigationService.tabToNextCell(!0,n)},p.prototype.getCellRendererInstances=function(n){return void 0===n&&(n={}),this.rowRenderer.getCellRendererInstances(n).map(Qr)},p.prototype.getCellEditorInstances=function(n){return void 0===n&&(n={}),this.rowRenderer.getCellEditorInstances(n).map(Qr)},p.prototype.getEditingCells=function(){return this.rowRenderer.getEditingCells()},p.prototype.stopEditing=function(n){void 0===n&&(n=!1),this.rowRenderer.stopEditing(n)},p.prototype.startEditingCell=function(n){var t=this.columnModel.getGridColumn(n.colKey);if(t){var o={rowIndex:n.rowIndex,rowPinned:n.rowPinned||null,column:t};null==n.rowPinned&&this.gridBodyCtrl.getScrollFeature().ensureIndexVisible(n.rowIndex);var c=this.navigationService.getCellByPosition(o);!c||c.startRowOrCellEdit(n.key,n.charPress)}else console.warn("AG Grid: no column found for "+n.colKey)},p.prototype.addAggFunc=function(n,t){this.aggFuncService&&this.aggFuncService.addAggFunc(n,t)},p.prototype.addAggFuncs=function(n){this.aggFuncService&&this.aggFuncService.addAggFuncs(n)},p.prototype.clearAggFuncs=function(){this.aggFuncService&&this.aggFuncService.clear()},p.prototype.applyServerSideTransaction=function(n){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.applyTransaction(n);console.warn("AG Grid: Cannot apply Server Side Transaction if not using the Server Side Row Model.")},p.prototype.applyServerSideTransactionAsync=function(n,t){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.applyTransactionAsync(n,t);console.warn("AG Grid: Cannot apply Server Side Transaction if not using the Server Side Row Model.")},p.prototype.retryServerSideLoads=function(){this.serverSideRowModel?this.serverSideRowModel.retryLoads():console.warn("AG Grid: API retryServerSideLoads() can only be used when using Server-Side Row Model.")},p.prototype.flushServerSideAsyncTransactions=function(){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.flushAsyncTransactions();console.warn("AG Grid: Cannot flush Server Side Transaction if not using the Server Side Row Model.")},p.prototype.applyTransaction=function(n){if(this.clientSideRowModel){var t=this.clientSideRowModel.updateRowData(n);return this.rowRenderer.refreshFullWidthRows(t.update),this.gridOptionsWrapper.isSuppressChangeDetection()||this.rowRenderer.refreshCells(),t}console.error("AG Grid: updateRowData() only works with ClientSideRowModel. Working with InfiniteRowModel was deprecated in v23.1 and removed in v24.1")},p.prototype.setDeltaSort=function(n){this.gridOptionsWrapper.setProperty("deltaSort",n)},p.prototype.updateRowData=function(n){return z(function(){return console.warn("AG Grid: as of v23.1, grid API updateRowData(transaction) is now called applyTransaction(transaction). updateRowData is deprecated and will be removed in a future major release.")},"updateRowData deprecated"),this.applyTransaction(n)},p.prototype.applyTransactionAsync=function(n,t){this.clientSideRowModel?this.clientSideRowModel.batchUpdateRowData(n,t):console.error("AG Grid: api.applyTransactionAsync() only works with ClientSideRowModel.")},p.prototype.flushAsyncTransactions=function(){this.clientSideRowModel?this.clientSideRowModel.flushAsyncTransactions():console.error("AG Grid: api.applyTransactionAsync() only works with ClientSideRowModel.")},p.prototype.batchUpdateRowData=function(n,t){z(function(){return console.warn("AG Grid: as of v23.1, grid API batchUpdateRowData(transaction, callback) is now called applyTransactionAsync(transaction, callback). batchUpdateRowData is deprecated and will be removed in a future major release.")},"batchUpdateRowData deprecated"),this.applyTransactionAsync(n,t)},p.prototype.insertItemsAtIndex=function(n,t,o){console.warn("AG Grid: insertItemsAtIndex() is deprecated, use updateRowData(transaction) instead."),this.updateRowData({add:t,addIndex:n,update:null,remove:null})},p.prototype.removeItems=function(n,t){console.warn("AG Grid: removeItems() is deprecated, use updateRowData(transaction) instead.");var o=n.map(function(u){return u.data});this.updateRowData({add:null,addIndex:null,update:null,remove:o})},p.prototype.addItems=function(n,t){console.warn("AG Grid: addItems() is deprecated, use updateRowData(transaction) instead."),this.updateRowData({add:n,addIndex:null,update:null,remove:null})},p.prototype.refreshVirtualPageCache=function(){console.warn("AG Grid: refreshVirtualPageCache() is now called refreshInfiniteCache(), please call refreshInfiniteCache() instead"),this.refreshInfiniteCache()},p.prototype.refreshInfinitePageCache=function(){console.warn("AG Grid: refreshInfinitePageCache() is now called refreshInfiniteCache(), please call refreshInfiniteCache() instead"),this.refreshInfiniteCache()},p.prototype.refreshInfiniteCache=function(){this.infiniteRowModel?this.infiniteRowModel.refreshCache():console.warn("AG Grid: api.refreshInfiniteCache is only available when rowModelType='infinite'.")},p.prototype.purgeVirtualPageCache=function(){console.warn("AG Grid: purgeVirtualPageCache() is now called purgeInfiniteCache(), please call purgeInfiniteCache() instead"),this.purgeInfinitePageCache()},p.prototype.purgeInfinitePageCache=function(){console.warn("AG Grid: purgeInfinitePageCache() is now called purgeInfiniteCache(), please call purgeInfiniteCache() instead"),this.purgeInfiniteCache()},p.prototype.purgeInfiniteCache=function(){this.infiniteRowModel?this.infiniteRowModel.purgeCache():console.warn("AG Grid: api.purgeInfiniteCache is only available when rowModelType='infinite'.")},p.prototype.purgeEnterpriseCache=function(n){console.warn("ag-grid: since version 18.x, api.purgeEnterpriseCache() should be replaced with api.purgeServerSideCache()"),this.purgeServerSideCache(n)},p.prototype.purgeServerSideCache=function(n){void 0===n&&(n=[]),this.serverSideRowModel?(console.warn("AG Grid: since v25.0, api.purgeServerSideCache is deprecated. Please use api.refreshServerSide({purge: true}) instead."),this.refreshServerSide({route:n,purge:!0})):console.warn("AG Grid: api.purgeServerSideCache is only available when rowModelType='serverSide'.")},p.prototype.refreshServerSide=function(n){this.serverSideRowModel||console.warn("AG Grid: api.refreshServerSide is only available when rowModelType='serverSide'."),this.serverSideRowModel.refreshStore(n)},p.prototype.refreshServerSideStore=function(n){return z(function(){return console.warn("AG Grid: Grid API refreshServerSideStore() was renamed to refreshServerSide() in v28.0")},"refreshServerSideStore-renamed"),this.refreshServerSide(n)},p.prototype.getServerSideStoreState=function(){return z(function(){return console.warn("AG Grid: Grid API getServerSideStoreState() was renamed to getServerSideGroupLevelState() in v28.0")},"getServerSideStoreState-renamed"),this.getServerSideGroupLevelState()},p.prototype.getServerSideGroupLevelState=function(){return this.serverSideRowModel?this.serverSideRowModel.getStoreState():(console.warn("AG Grid: api.getServerSideGroupLevelState is only available when rowModelType='serverSide'."),[])},p.prototype.getVirtualRowCount=function(){return console.warn("AG Grid: getVirtualRowCount() is now called getInfiniteRowCount(), please call getInfiniteRowCount() instead"),this.getInfiniteRowCount()},p.prototype.getInfiniteRowCount=function(){if(this.infiniteRowModel)return this.infiniteRowModel.getRowCount();console.warn("AG Grid: api.getVirtualRowCount is only available when rowModelType='virtual'.")},p.prototype.isMaxRowFound=function(){return console.warn("AG Grid: api.isLastRowIndexKnown is deprecated, please use api.isLastRowIndexKnown()"),this.isLastRowIndexKnown()},p.prototype.isLastRowIndexKnown=function(){if(this.infiniteRowModel)return this.infiniteRowModel.isLastRowIndexKnown();console.warn("AG Grid: api.isMaxRowFound is only available when rowModelType='virtual'.")},p.prototype.setVirtualRowCount=function(n,t){console.warn("AG Grid: setVirtualRowCount() is now called setInfiniteRowCount(), please call setInfiniteRowCount() instead"),this.setRowCount(n,t)},p.prototype.setInfiniteRowCount=function(n,t){console.warn("AG Grid: setInfiniteRowCount() is now called setRowCount(), please call setRowCount() instead"),this.setRowCount(n,t)},p.prototype.setRowCount=function(n,t){this.infiniteRowModel?this.infiniteRowModel.setRowCount(n,t):console.warn("AG Grid: api.setRowCount is only available for Infinite Row Model.")},p.prototype.getVirtualPageState=function(){return console.warn("AG Grid: getVirtualPageState() is now called getCacheBlockState(), please call getCacheBlockState() instead"),this.getCacheBlockState()},p.prototype.getInfinitePageState=function(){return console.warn("AG Grid: getInfinitePageState() is now called getCacheBlockState(), please call getCacheBlockState() instead"),this.getCacheBlockState()},p.prototype.getCacheBlockState=function(){return this.rowNodeBlockLoader.getBlockState()},p.prototype.checkGridSize=function(){console.warn("in AG Grid v25.2.0, checkGridSize() was removed, as it was legacy and didn't do anything uesful.")},p.prototype.getFirstRenderedRow=function(){return console.warn("in AG Grid v12, getFirstRenderedRow() was renamed to getFirstDisplayedRow()"),this.getFirstDisplayedRow()},p.prototype.getFirstDisplayedRow=function(){return this.rowRenderer.getFirstVirtualRenderedRow()},p.prototype.getLastRenderedRow=function(){return console.warn("in AG Grid v12, getLastRenderedRow() was renamed to getLastDisplayedRow()"),this.getLastDisplayedRow()},p.prototype.getLastDisplayedRow=function(){return this.rowRenderer.getLastVirtualRenderedRow()},p.prototype.getDisplayedRowAtIndex=function(n){return this.rowModel.getRow(n)},p.prototype.getDisplayedRowCount=function(){return this.rowModel.getRowCount()},p.prototype.paginationIsLastPageFound=function(){return this.paginationProxy.isLastPageFound()},p.prototype.paginationGetPageSize=function(){return this.paginationProxy.getPageSize()},p.prototype.paginationSetPageSize=function(n){this.gridOptionsWrapper.setProperty("paginationPageSize",n)},p.prototype.paginationGetCurrentPage=function(){return this.paginationProxy.getCurrentPage()},p.prototype.paginationGetTotalPages=function(){return this.paginationProxy.getTotalPages()},p.prototype.paginationGetRowCount=function(){return this.paginationProxy.getMasterRowCount()},p.prototype.paginationGoToNextPage=function(){this.paginationProxy.goToNextPage()},p.prototype.paginationGoToPreviousPage=function(){this.paginationProxy.goToPreviousPage()},p.prototype.paginationGoToFirstPage=function(){this.paginationProxy.goToFirstPage()},p.prototype.paginationGoToLastPage=function(){this.paginationProxy.goToLastPage()},p.prototype.paginationGoToPage=function(n){this.paginationProxy.goToPage(n)},p.prototype.setRowClass=function(n){this.gridOptionsWrapper.setProperty(Re.PROP_ROW_CLASS,n)},Ze([xe("immutableService")],p.prototype,"immutableService",void 0),Ze([xe("csvCreator")],p.prototype,"csvCreator",void 0),Ze([xe("excelCreator")],p.prototype,"excelCreator",void 0),Ze([I("rowRenderer")],p.prototype,"rowRenderer",void 0),Ze([I("navigationService")],p.prototype,"navigationService",void 0),Ze([I("filterManager")],p.prototype,"filterManager",void 0),Ze([I("columnModel")],p.prototype,"columnModel",void 0),Ze([I("selectionService")],p.prototype,"selectionService",void 0),Ze([I("gridOptionsWrapper")],p.prototype,"gridOptionsWrapper",void 0),Ze([I("valueService")],p.prototype,"valueService",void 0),Ze([I("alignedGridsService")],p.prototype,"alignedGridsService",void 0),Ze([I("eventService")],p.prototype,"eventService",void 0),Ze([I("pinnedRowModel")],p.prototype,"pinnedRowModel",void 0),Ze([I("context")],p.prototype,"context",void 0),Ze([I("rowModel")],p.prototype,"rowModel",void 0),Ze([I("sortController")],p.prototype,"sortController",void 0),Ze([I("paginationProxy")],p.prototype,"paginationProxy",void 0),Ze([I("focusService")],p.prototype,"focusService",void 0),Ze([I("dragAndDropService")],p.prototype,"dragAndDropService",void 0),Ze([xe("rangeService")],p.prototype,"rangeService",void 0),Ze([xe("clipboardService")],p.prototype,"clipboardService",void 0),Ze([xe("aggFuncService")],p.prototype,"aggFuncService",void 0),Ze([I("menuFactory")],p.prototype,"menuFactory",void 0),Ze([xe("contextMenuFactory")],p.prototype,"contextMenuFactory",void 0),Ze([I("valueCache")],p.prototype,"valueCache",void 0),Ze([I("animationFrameService")],p.prototype,"animationFrameService",void 0),Ze([xe("statusBarService")],p.prototype,"statusBarService",void 0),Ze([xe("chartService")],p.prototype,"chartService",void 0),Ze([xe("undoRedoService")],p.prototype,"undoRedoService",void 0),Ze([xe("rowNodeBlockLoader")],p.prototype,"rowNodeBlockLoader",void 0),Ze([xe("ssrmTransactionManager")],p.prototype,"serverSideTransactionManager",void 0),Ze([I("ctrlsService")],p.prototype,"ctrlsService",void 0),Ze([xe("frameworkComponentWrapper")],p.prototype,"frameworkComponentWrapper",void 0),Ze([Ee],p.prototype,"init",null),Ze([Pe],p.prototype,"cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid",null),Ze([me("gridApi")],p)}(),tg=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),Wa=function(p){function n(t,o,u,c){var f=p.call(this)||this;return f.columnOrGroup=t,f.eCell=o,f.ariaEl=f.eCell.querySelector("[role=columnheader]")||f.eCell,f.colsSpanning=c,f.beans=u,f}return tg(n,p),n.prototype.setColsSpanning=function(t){this.colsSpanning=t,this.onLeftChanged()},n.prototype.getColumnOrGroup=function(){return this.beans.gridOptionsWrapper.isEnableRtl()&&this.colsSpanning?Je(this.colsSpanning):this.columnOrGroup},n.prototype.postConstruct=function(){this.addManagedListener(this.columnOrGroup,$e.EVENT_LEFT_CHANGED,this.onLeftChanged.bind(this)),this.setLeftFirstTime(),this.addManagedListener(this.eventService,V.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onLeftChanged.bind(this)),this.addManagedListener(this.beans.gridOptionsWrapper,Re.PROP_DOM_LAYOUT,this.onLeftChanged.bind(this))},n.prototype.setLeftFirstTime=function(){var t=this.beans.gridOptionsWrapper.isSuppressColumnMoveAnimation(),o=a(this.columnOrGroup.getOldLeft());this.beans.columnAnimationService.isActive()&&o&&!t?this.animateInLeft():this.onLeftChanged()},n.prototype.animateInLeft=function(){var t=this,o=this.getColumnOrGroup(),u=o.getLeft(),c=o.getOldLeft(),f=this.modifyLeftForPrintLayout(o,c),g=this.modifyLeftForPrintLayout(o,u);this.setLeft(f),this.actualLeft=g,this.beans.columnAnimationService.executeNextVMTurn(function(){t.actualLeft===g&&t.setLeft(g)})},n.prototype.onLeftChanged=function(){var t=this.getColumnOrGroup(),o=t.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(t,o),this.setLeft(this.actualLeft)},n.prototype.modifyLeftForPrintLayout=function(t,o){if(this.beans.gridOptionsWrapper.getDomLayout()!==ee.DOM_LAYOUT_PRINT||t.getPinned()===ee.PINNED_LEFT)return o;var c=this.beans.columnModel.getDisplayedColumnsLeftWidth();return t.getPinned()===ee.PINNED_RIGHT?c+this.beans.columnModel.getBodyContainerWidth()+o:c+o},n.prototype.setLeft=function(t){var o;if(a(t)&&(this.eCell.style.left=t+"px"),this.columnOrGroup instanceof $e)o=this.columnOrGroup;else{var c=this.columnOrGroup.getLeafColumns();if(!c.length)return;c.length>1&&nl(this.ariaEl,c.length),o=c[0]}var f=this.beans.columnModel.getAriaColumnIndex(o);na(this.ariaEl,f)},function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);u>3&&c&&Object.defineProperty(n,t,c)}([Ee],n.prototype,"postConstruct",null),n}(Se),ig=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),Xl=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},Ba=function(p){function n(t,o){var u=p.call(this)||this;return u.columns=t,u.element=o,u}return ig(n,p),n.prototype.postConstruct=function(){this.gridOptionsWrapper.isColumnHoverHighlight()&&this.addMouseHoverListeners()},n.prototype.addMouseHoverListeners=function(){this.addManagedListener(this.element,"mouseout",this.onMouseOut.bind(this)),this.addManagedListener(this.element,"mouseover",this.onMouseOver.bind(this))},n.prototype.onMouseOut=function(){this.columnHoverService.clearMouseOver()},n.prototype.onMouseOver=function(){this.columnHoverService.setMouseOver(this.columns)},Xl([I("columnHoverService")],n.prototype,"columnHoverService",void 0),Xl([Ee],n.prototype,"postConstruct",null),n}(Se),ng=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),ka=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},og=function(p){function n(t,o){var u=p.call(this,t,o)||this;return u.column=t,u}return ng(n,p),n.prototype.setComp=function(t,o,u,c){p.prototype.setGui.call(this,o),this.comp=t,this.eButtonShowMainFilter=u,this.eFloatingFilterBody=c;var f=this.column.getColDef();this.active=!(!f.filter&&!f.filterFramework||!f.floatingFilter),this.setupWidth(),this.setupLeft(),this.setupHover(),this.setupFocus(),this.setupUserComp(),this.setupSyncWithFilter(),this.setupUi(),this.addManagedListener(this.eButtonShowMainFilter,"click",this.showParentFilter.bind(this))},n.prototype.setupUi=function(){if(this.comp.addOrRemoveButtonWrapperCssClass("ag-hidden",!this.active||this.suppressFilterButton),this.active){this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton);var t=dt("filter",this.gridOptionsWrapper,this.column);t&&this.eButtonShowMainFilter.appendChild(t)}},n.prototype.setupFocus=function(){this.createManagedBean(new pr(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))},n.prototype.onTabKeyDown=function(t){if(this.gridOptionsWrapper.getDocument().activeElement!==this.eGui){var f=this.focusService.findNextFocusableElement(this.eGui,null,t.shiftKey);if(f)return this.beans.headerNavigationService.scrollToColumn(this.column),t.preventDefault(),void f.focus();var g=this.findNextColumnWithFloatingFilter(t.shiftKey);!g||this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:this.getParentRowCtrl().getRowIndex(),column:g},event:t})&&t.preventDefault()}},n.prototype.findNextColumnWithFloatingFilter=function(t){var o=this.beans.columnModel,u=this.column;do{if(!(u=t?o.getDisplayedColBefore(u):o.getDisplayedColAfter(u)))break}while(!u.getColDef().filter||!u.getColDef().floatingFilter);return u},n.prototype.handleKeyDown=function(t){p.prototype.handleKeyDown.call(this,t);var o=this.getWrapperHasFocus();switch(t.key){case ye.UP:case ye.DOWN:o||t.preventDefault();case ye.LEFT:case ye.RIGHT:if(o)return;t.stopPropagation();case ye.ENTER:o&&this.focusService.focusInto(this.eGui)&&t.preventDefault();break;case ye.ESCAPE:o||this.eGui.focus()}},n.prototype.onFocusIn=function(t){if(!this.eGui.contains(t.relatedTarget)){var u=!!t.relatedTarget&&!t.relatedTarget.classList.contains("ag-floating-filter"),c=!!t.relatedTarget&&Gr(t.relatedTarget,"ag-floating-filter");if(u&&c&&t.target===this.eGui){var f=this.lastFocusEvent;f&&f&&f.key===ye.TAB&&this.focusService.focusInto(this.eGui,f.shiftKey)}var O=this.getRowIndex();this.beans.focusService.setFocusedHeader(O,this.column)}},n.prototype.setupHover=function(){var t=this;this.createManagedBean(new Ba([this.column],this.eGui));var o=function(){if(t.gridOptionsWrapper.isColumnHoverHighlight()){var u=t.columnHoverService.isHovered(t.column);t.comp.addOrRemoveCssClass("ag-column-hover",u)}};this.addManagedListener(this.eventService,V.EVENT_COLUMN_HOVER_CHANGED,o),o()},n.prototype.setupLeft=function(){var t=new Wa(this.column,this.eGui,this.beans);this.createManagedBean(t)},n.prototype.setupUserComp=function(){var t=this;if(this.active){var o=this.column.getColDef(),u=this.filterManager.createFilterParams(this.column,o),c=this.userComponentFactory.mergeParamsWithApplicationProvidedParams(o,Pa,u),f=this.userComponentFactory.getDefaultFloatingFilterType(o);null==f&&(f="agReadOnlyFloatingFilter");var g={column:this.column,filterParams:c,currentParentModel:function(){return t.currentParentModel()},parentFilterInstance:function(O){return t.parentFilterInstance(O)},showParentFilter:function(){return t.showParentFilter()},suppressFilterButton:!1};this.suppressFilterButton=!!o.floatingFilterComponentParams&&!!o.floatingFilterComponentParams.suppressFilterButton;var C=this.userComponentFactory.getFloatingFilterCompDetails(o,g,f);C&&this.comp.setCompDetails(C)}},n.prototype.currentParentModel=function(){var t=this.getFilterComponent(!1);return t?t.resolveNow(null,function(o){return o&&o.getModel()}):null},n.prototype.getFilterComponent=function(t){return void 0===t&&(t=!0),this.filterManager.getFilterComponent(this.column,"NO_UI",t)},n.prototype.parentFilterInstance=function(t){this.getFilterComponent()?.then(function(u){t(Qr(u))})},n.prototype.showParentFilter=function(){this.menuFactory.showMenuAfterButtonClick(this.column,this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter,"floatingFilter","filterMenuTab",["filterMenuTab"])},n.prototype.setupSyncWithFilter=function(){var t=this;if(this.active){var o=function(u){var c=t.comp.getFloatingFilterComp();if(c){var f=t.currentParentModel();c.then(function(g){g&&g.onParentModelChanged(f,u)})}};this.addManagedListener(this.column,$e.EVENT_FILTER_CHANGED,o),this.filterManager.isFilterActive(this.column)&&o(null)}},n.prototype.setupWidth=function(){var t=this,o=function(){var u=t.column.getActualWidth()+"px";t.comp.setWidth(u)};this.addManagedListener(this.column,$e.EVENT_WIDTH_CHANGED,o),o()},ka([I("filterManager")],n.prototype,"filterManager",void 0),ka([I("columnHoverService")],n.prototype,"columnHoverService",void 0),ka([I("menuFactory")],n.prototype,"menuFactory",void 0),n}(Xn),ag=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),Va=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},sg=function(p){function n(t,o,u,c,f){var g=p.call(this)||this;return g.pinned=t,g.column=o,g.eResize=u,g.comp=c,g.ctrl=f,g}return ag(n,p),n.prototype.postConstruct=function(){var c,f,t=this,o=this.column.getColDef(),u=[],C=function(){u.forEach(function(P){return P()}),u.length=0},O=function(){var P=t.column.isResizable(),R=!t.gridOptionsWrapper.isSuppressAutoSize()&&!o.suppressAutoSize;(P!==c||R!==f)&&(c=P,f=R,C(),function(){if(at(t.eResize,c),c){var P=t.horizontalResizeService.addResizeBar({eResizeBar:t.eResize,onResizeStart:t.onResizeStart.bind(t),onResizing:t.onResizing.bind(t,!1),onResizeEnd:t.onResizing.bind(t,!0)});if(u.push(P),f){var R=t.gridOptionsWrapper.isSkipHeaderOnAutoSize(),x=function(){t.columnModel.autoSizeColumn(t.column,R,"uiColumnResized")};t.eResize.addEventListener("dblclick",x);var W=new Kt(t.eResize);W.addEventListener(Kt.EVENT_DOUBLE_TAP,x),t.addDestroyFunc(function(){t.eResize.removeEventListener("dblclick",x),W.removeEventListener(Kt.EVENT_DOUBLE_TAP,x),W.destroy()})}}}())};O(),this.addDestroyFunc(C),this.ctrl.addRefreshFunction(O)},n.prototype.onResizing=function(t,o){var u=this.normaliseResizeAmount(o);this.columnModel.setColumnWidths([{key:this.column,newWidth:this.resizeStartWidth+u}],this.resizeWithShiftKey,t,"uiColumnDragged"),t&&this.comp.addOrRemoveCssClass("ag-column-resizing",!1)},n.prototype.onResizeStart=function(t){this.resizeStartWidth=this.column.getActualWidth(),this.resizeWithShiftKey=t,this.comp.addOrRemoveCssClass("ag-column-resizing",!0)},n.prototype.normaliseResizeAmount=function(t){var o=t,u=this.pinned!==ee.PINNED_LEFT,c=this.pinned===ee.PINNED_RIGHT;return this.gridOptionsWrapper.isEnableRtl()?u&&(o*=-1):c&&(o*=-1),o},Va([I("horizontalResizeService")],n.prototype,"horizontalResizeService",void 0),Va([I("columnModel")],n.prototype,"columnModel",void 0),Va([Ee],n.prototype,"postConstruct",null),n}(Se),lg=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),Oi=function(p){function n(t,o,u){void 0===o&&(o="ag-checkbox"),void 0===u&&(u="checkbox");var c=p.call(this,t,o,u)||this;return c.labelAlignment="right",c.selected=!1,c.readOnly=!1,c.passive=!1,c}return lg(n,p),n.prototype.addInputListeners=function(){this.addManagedListener(this.eInput,"click",this.onCheckboxClick.bind(this)),this.addManagedListener(this.eLabel,"click",this.toggle.bind(this))},n.prototype.getNextValue=function(){return void 0===this.selected||!this.selected},n.prototype.setPassive=function(t){this.passive=t},n.prototype.isReadOnly=function(){return this.readOnly},n.prototype.setReadOnly=function(t){this.eWrapper.classList.toggle("ag-disabled",t),this.eInput.disabled=t,this.readOnly=t},n.prototype.setDisabled=function(t){return this.eWrapper.classList.toggle("ag-disabled",t),p.prototype.setDisabled.call(this,t)},n.prototype.toggle=function(){if(!this.eInput.disabled){var t=this.isSelected(),o=this.getNextValue();this.passive?this.dispatchChange(o,t):this.setValue(o)}},n.prototype.getValue=function(){return this.isSelected()},n.prototype.setValue=function(t,o){return this.refreshSelectedClass(t),this.setSelected(t,o),this},n.prototype.setName=function(t){return this.getInputElement().name=t,this},n.prototype.isSelected=function(){return this.selected},n.prototype.setSelected=function(t,o){this.isSelected()!==t&&(this.previousValue=this.isSelected(),t=this.selected="boolean"==typeof t?t:void 0,this.eInput.checked=t,this.eInput.indeterminate=void 0===t,o||this.dispatchChange(this.selected,this.previousValue))},n.prototype.dispatchChange=function(t,o,u){this.dispatchEvent({type:n.EVENT_CHANGED,selected:t,previousValue:o,event:u});var c=this.getInputElement();this.eventService.dispatchEvent({type:V.EVENT_CHECKBOX_CHANGED,id:c.id,name:c.name,selected:t,previousValue:o})},n.prototype.onCheckboxClick=function(t){if(!this.passive&&!this.eInput.disabled){var o=this.isSelected(),u=this.selected=t.target.checked;this.refreshSelectedClass(u),this.dispatchChange(u,o,t)}},n.prototype.refreshSelectedClass=function(t){this.eWrapper.classList.toggle("ag-checked",!0===t),this.eWrapper.classList.toggle("ag-indeterminate",null==t)},n}(dr),ug=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),qn=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},cg=function(p){function n(t){var o=p.call(this)||this;o.cbSelectAllVisible=!1,o.processingEventFromCheckbox=!1,o.column=t;var u=t.getColDef();return o.filteredOnly=!!u&&!!u.headerCheckboxSelectionFilteredOnly,o}return ug(n,p),n.prototype.onSpaceKeyPressed=function(t){var o=this.cbSelectAll,u=this.gridOptionsWrapper.getDocument();o.isDisplayed()&&!o.getGui().contains(u.activeElement)&&(t.preventDefault(),o.setValue(!o.getValue()))},n.prototype.getCheckboxGui=function(){return this.cbSelectAll.getGui()},n.prototype.setComp=function(t){this.headerCellCtrl=t,this.cbSelectAll=this.createManagedBean(new Oi),this.cbSelectAll.addCssClass("ag-header-select-all"),Mt(this.cbSelectAll.getGui(),"presentation"),this.showOrHideSelectAll(),this.addManagedListener(this.eventService,V.EVENT_NEW_COLUMNS_LOADED,this.showOrHideSelectAll.bind(this)),this.addManagedListener(this.eventService,V.EVENT_DISPLAYED_COLUMNS_CHANGED,this.showOrHideSelectAll.bind(this)),this.addManagedListener(this.eventService,V.EVENT_SELECTION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,V.EVENT_MODEL_UPDATED,this.onModelChanged.bind(this)),this.addManagedListener(this.cbSelectAll,Oi.EVENT_CHANGED,this.onCbSelectAll.bind(this)),this.cbSelectAll.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()},n.prototype.showOrHideSelectAll=function(){this.cbSelectAllVisible=this.isCheckboxSelection(),this.cbSelectAll.setDisplayed(this.cbSelectAllVisible),this.cbSelectAllVisible&&(this.checkRightRowModelType(),this.updateStateOfCheckbox()),this.refreshSelectAllLabel()},n.prototype.onModelChanged=function(){!this.cbSelectAllVisible||this.updateStateOfCheckbox()},n.prototype.onSelectionChanged=function(){!this.cbSelectAllVisible||this.updateStateOfCheckbox()},n.prototype.getNextCheckboxState=function(t){return(0!==t.selected||0!==t.notSelected)&&(t.selected>0&&t.notSelected>0?null:t.selected>0)},n.prototype.updateStateOfCheckbox=function(){if(!this.processingEventFromCheckbox){this.processingEventFromCheckbox=!0;var t=this.getSelectionCount(),o=this.getNextCheckboxState(t);this.cbSelectAll.setValue(o),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}},n.prototype.refreshSelectAllLabel=function(){if(this.cbSelectAllVisible){var t=this.gridOptionsWrapper.getLocaleTextFunc(),u=this.cbSelectAll.getValue()?t("ariaChecked","checked"):t("ariaUnchecked","unchecked"),c=t("ariaRowSelectAll","Press Space to toggle all rows selection");this.headerCellCtrl.setAriaDescriptionProperty("selectAll",c+" ("+u+")")}else this.headerCellCtrl.setAriaDescriptionProperty("selectAll",null);this.headerCellCtrl.refreshAriaDescription()},n.prototype.getSelectionCount=function(){var t=this,o=0,u=0,c=function(f){t.gridOptionsWrapper.isGroupSelectsChildren()&&f.group||(f.isSelected()?o++:f.selectable&&u++)};return this.filteredOnly?this.gridApi.forEachNodeAfterFilter(c):this.gridApi.forEachNode(c),{notSelected:u,selected:o}},n.prototype.checkRightRowModelType=function(){var t=this.rowModel.getType();t===ee.ROW_MODEL_TYPE_CLIENT_SIDE||console.warn("AG Grid: selectAllCheckbox is only available if using normal row model, you are using "+t)},n.prototype.onCbSelectAll=function(){!this.processingEventFromCheckbox&&this.cbSelectAllVisible&&(this.cbSelectAll.getValue()?this.selectionService.selectAllRowNodes(this.filteredOnly):this.selectionService.deselectAllRowNodes(this.filteredOnly))},n.prototype.isCheckboxSelection=function(){var t=this.column.getColDef().headerCheckboxSelection;return"function"==typeof t&&(t=t({column:this.column,colDef:this.column.getColDef(),columnApi:this.columnApi,api:this.gridApi,context:this.gridOptionsWrapper.getContext()})),!(!t||(this.gridOptionsWrapper.isRowModelServerSide()?(console.warn("AG Grid: headerCheckboxSelection is not supported for Server Side Row Model"),1):this.gridOptionsWrapper.isRowModelInfinite()?(console.warn("AG Grid: headerCheckboxSelection is not supported for Infinite Row Model"),1):this.gridOptionsWrapper.isRowModelViewport()&&(console.warn("AG Grid: headerCheckboxSelection is not supported for Viewport Row Model"),1)))},qn([I("gridApi")],n.prototype,"gridApi",void 0),qn([I("columnApi")],n.prototype,"columnApi",void 0),qn([I("rowModel")],n.prototype,"rowModel",void 0),qn([I("selectionService")],n.prototype,"selectionService",void 0),n}(Se),pg=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),hr=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},dg=function(p){function n(t,o){var u=p.call(this,t,o)||this;return u.refreshFunctions=[],u.userHeaderClasses=new Set,u.ariaDescriptionProperties=new Map,u.column=t,u}return pg(n,p),n.prototype.setComp=function(t,o,u,c){var f=this;p.prototype.setGui.call(this,o),this.comp=t,this.updateState(),this.setupWidth(),this.setupMovingCss(),this.setupMenuClass(),this.setupSortableClass(),this.setupWrapTextClass(),this.setupAutoHeight(c),this.addColumnHoverListener(),this.setupFilterCss(),this.setupColId(),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(),this.setupSelectAll(),this.setupUserComp(),this.refreshAria(),this.createManagedBean(new sg(this.getPinned(),this.column,u,t,this)),this.createManagedBean(new Ba([this.column],o)),this.createManagedBean(new Wa(this.column,o,this.beans)),this.createManagedBean(new pr(o,{shouldStopEventPropagation:function(g){return f.shouldStopEventPropagation(g)},onTabKeyDown:function(){return null},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedListener(this.column,$e.EVENT_COL_DEF_CHANGED,this.onColDefChanged.bind(this)),this.addManagedListener(this.eventService,V.EVENT_COLUMN_VALUE_CHANGED,this.onColumnValueChanged.bind(this)),this.addManagedListener(this.eventService,V.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onColumnRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,V.EVENT_COLUMN_PIVOT_CHANGED,this.onColumnPivotChanged.bind(this))},n.prototype.setupUserComp=function(){var t=this.lookupUserCompDetails();this.setCompDetails(t)},n.prototype.setCompDetails=function(t){this.userCompDetails=t,this.comp.setUserCompDetails(t)},n.prototype.lookupUserCompDetails=function(){var t=this.createParams(),o=this.column.getColDef();return this.userComponentFactory.getHeaderCompDetails(o,t)},n.prototype.createParams=function(){var t=this,o=this.column.getColDef();return{column:this.column,displayName:this.displayName,enableSorting:o.sortable,enableMenu:this.menuEnabled,showColumnMenu:function(c){t.gridApi.showColumnMenuAfterButtonClick(t.column,c)},progressSort:function(c){t.sortController.progressSort(t.column,!!c,"uiColumnSorted")},setSort:function(c,f){t.sortController.setSortForColumn(t.column,c,!!f,"uiColumnSorted")},api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext(),eGridHeader:this.getGui()}},n.prototype.setupSelectAll=function(){this.selectAllFeature=this.createManagedBean(new cg(this.column)),this.selectAllFeature.setComp(this)},n.prototype.getSelectAllGui=function(){return this.selectAllFeature.getCheckboxGui()},n.prototype.handleKeyDown=function(t){p.prototype.handleKeyDown.call(this,t),t.key===ye.SPACE&&this.selectAllFeature.onSpaceKeyPressed(t),t.key===ye.ENTER&&this.onEnterKeyPressed(t)},n.prototype.onEnterKeyPressed=function(t){var o=this.comp.getUserCompInstance();o&&(t.ctrlKey||t.metaKey?this.menuEnabled&&o.showMenu&&(t.preventDefault(),o.showMenu()):this.sortable&&this.sortController.progressSort(this.column,t.shiftKey,"uiColumnSorted"))},n.prototype.isMenuEnabled=function(){return this.menuEnabled},n.prototype.onFocusIn=function(t){if(!this.getGui().contains(t.relatedTarget)){var o=this.getRowIndex();this.focusService.setFocusedHeader(o,this.column)}this.setActiveHeader(!0)},n.prototype.onFocusOut=function(t){this.getGui().contains(t.relatedTarget)||this.setActiveHeader(!1)},n.prototype.setupTooltip=function(){var t=this,u=this.createManagedBean(new ba({getColumn:function(){return t.column},getColDef:function(){return t.column.getColDef()},getGui:function(){return t.eGui},getLocation:function(){return"header"},getTooltipValue:function(){return t.column.getColDef().headerTooltip}},this.beans));u.setComp(this.comp),this.refreshFunctions.push(function(){return u.refreshToolTip()})},n.prototype.setupClassesFromColDef=function(){var t=this,o=function(){var u=t.column.getColDef(),f=Fa.getHeaderClassesFromColDef(u,t.gridOptionsWrapper,t.column,null),g=t.userHeaderClasses;t.userHeaderClasses=new Set(f),f.forEach(function(C){g.has(C)?g.delete(C):t.comp.addOrRemoveCssClass(C,!0)}),g.forEach(function(C){return t.comp.addOrRemoveCssClass(C,!1)})};this.refreshFunctions.push(o),o()},n.prototype.setDragSource=function(t){var o=this;if(this.dragSourceElement=t,this.removeDragSource(),t&&this.draggable){var u=!this.gridOptionsWrapper.isSuppressDragLeaveHidesColumns();this.moveDragSource={type:Tt.HeaderCell,eElement:t,defaultIconName:u?Ot.ICON_HIDE:Ot.ICON_NOT_ALLOWED,getDragItem:function(){return o.createDragItem()},dragItemName:this.displayName,onDragStarted:function(){return o.column.setMoving(!0,"uiColumnMoved")},onDragStopped:function(){return o.column.setMoving(!1,"uiColumnMoved")},onGridEnter:function(c){var f,g;if(u){var C=(null===(g=null===(f=c)||void 0===f?void 0:f.columns)||void 0===g?void 0:g.filter(function(O){return!O.getColDef().lockVisible}))||[];o.columnModel.setColumnsVisible(C,!0,"uiColumnMoved")}},onGridExit:function(c){var f,g;if(u){var C=(null===(g=null===(f=c)||void 0===f?void 0:f.columns)||void 0===g?void 0:g.filter(function(O){return!O.getColDef().lockVisible}))||[];o.columnModel.setColumnsVisible(C,!1,"uiColumnMoved")}}},this.dragAndDropService.addDragSource(this.moveDragSource,!0)}},n.prototype.createDragItem=function(){var t={};return t[this.column.getId()]=this.column.isVisible(),{columns:[this.column],visibleState:t}},n.prototype.removeDragSource=function(){this.moveDragSource&&(this.dragAndDropService.removeDragSource(this.moveDragSource),this.moveDragSource=void 0)},n.prototype.onColDefChanged=function(){this.refresh()},n.prototype.updateState=function(){var t=this.column.getColDef();this.menuEnabled=this.menuFactory.isMenuEnabled(this.column)&&!t.suppressMenu,this.sortable=t.sortable,this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()},n.prototype.addRefreshFunction=function(t){this.refreshFunctions.push(t)},n.prototype.refresh=function(){this.updateState(),this.refreshHeaderComp(),this.refreshAria(),this.refreshFunctions.forEach(function(t){return t()})},n.prototype.refreshHeaderComp=function(){var t=this.lookupUserCompDetails();null!=this.comp.getUserCompInstance()&&this.userCompDetails.componentClass==t.componentClass&&this.attemptHeaderCompRefresh(t.params)?this.setDragSource(this.dragSourceElement):this.setCompDetails(t)},n.prototype.attemptHeaderCompRefresh=function(t){var o=this.comp.getUserCompInstance();return!(!o||!o.refresh)&&o.refresh(t)},n.prototype.calculateDisplayName=function(){return this.columnModel.getDisplayNameForColumn(this.column,"header",!0)},n.prototype.checkDisplayName=function(){this.displayName!==this.calculateDisplayName()&&this.refresh()},n.prototype.workOutDraggable=function(){var t=this.column.getColDef();return!(this.gridOptionsWrapper.isSuppressMovableColumns()||t.suppressMovable||t.lockPosition)||!!t.enableRowGroup||!!t.enablePivot},n.prototype.onColumnRowGroupChanged=function(){this.checkDisplayName()},n.prototype.onColumnPivotChanged=function(){this.checkDisplayName()},n.prototype.onColumnValueChanged=function(){this.checkDisplayName()},n.prototype.setupWidth=function(){var t=this,o=function(){t.comp.setWidth(t.column.getActualWidth()+"px")};this.addManagedListener(this.column,$e.EVENT_WIDTH_CHANGED,o),o()},n.prototype.setupMovingCss=function(){var t=this,o=function(){t.comp.addOrRemoveCssClass("ag-header-cell-moving",t.column.isMoving())};this.addManagedListener(this.column,$e.EVENT_MOVING_CHANGED,o),o()},n.prototype.setupMenuClass=function(){var t=this,o=function(){t.comp.addOrRemoveCssClass("ag-column-menu-visible",t.column.isMenuVisible())};this.addManagedListener(this.column,$e.EVENT_MENU_VISIBLE_CHANGED,o),o()},n.prototype.setupSortableClass=function(){var t=this,o=function(){t.comp.addOrRemoveCssClass("ag-header-cell-sortable",!!t.sortable)};o(),this.addRefreshFunction(o),this.addManagedListener(this.column,$e.EVENT_SORT_CHANGED,this.refreshAriaSort.bind(this))},n.prototype.setupWrapTextClass=function(){var t=this,o=function(){var u=!!t.column.getColDef().wrapHeaderText;t.comp.addOrRemoveCssClass("ag-header-cell-wrap-text",u)};o(),this.addRefreshFunction(o)},n.prototype.setupAutoHeight=function(t){var f,o=this,u=function(P){if(o.isAlive()){var R=Wr(o.getGui()),q=t.offsetHeight+R.paddingTop+R.paddingBottom;if(P<5){var te=o.beans.gridOptionsWrapper.getDocument();if(!te||!te.contains(t)||0==q)return void o.beans.frameworkOverrides.setTimeout(function(){return u(P+1)},0)}o.columnModel.setColumnHeaderHeight(o.column,q)}},c=!1,g=function(){var P=o.column.isAutoHeaderHeight();P&&!c&&C(),!P&&c&&O()},C=function(){c=!0,u(0),f=o.resizeObserverService.observeResize(t,function(){return u(0)})},O=function(){c=!1,f&&f(),f=void 0};g(),this.addDestroyFunc(function(){return O()}),this.addManagedListener(this.column,$e.EVENT_WIDTH_CHANGED,function(){return c&&u(0)}),this.addManagedListener(this.column,$e.EVENT_SORT_CHANGED,function(){c&&o.beans.frameworkOverrides.setTimeout(function(){return u(0)})}),this.addRefreshFunction(g)},n.prototype.refreshAriaSort=function(){if(this.sortable){var t=this.gridOptionsWrapper.getLocaleTextFunc();this.comp.setAriaSort(Xs(this.column)),this.setAriaDescriptionProperty("sort",t("ariaSortableColumn","Press ENTER to sort."))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)},n.prototype.refreshAriaMenu=function(){if(this.menuEnabled){var t=this.gridOptionsWrapper.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",t("ariaMenuColumn","Press CTRL ENTER to open column menu."))}else this.setAriaDescriptionProperty("menu",null)},n.prototype.setAriaDescriptionProperty=function(t,o){null!=o?this.ariaDescriptionProperties.set(t,o):this.ariaDescriptionProperties.delete(t)},n.prototype.refreshAriaDescription=function(){var t=Array.from(this.ariaDescriptionProperties.values());this.comp.setAriaDescription(t.length?t.join(" "):void 0)},n.prototype.refreshAria=function(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaDescription()},n.prototype.addColumnHoverListener=function(){var t=this,o=function(){if(t.gridOptionsWrapper.isColumnHoverHighlight()){var u=t.columnHoverService.isHovered(t.column);t.comp.addOrRemoveCssClass("ag-column-hover",u)}};this.addManagedListener(this.eventService,V.EVENT_COLUMN_HOVER_CHANGED,o),o()},n.prototype.setupFilterCss=function(){var t=this,o=function(){t.comp.addOrRemoveCssClass("ag-header-cell-filtered",t.column.isFilterActive())};this.addManagedListener(this.column,$e.EVENT_FILTER_ACTIVE_CHANGED,o),o()},n.prototype.setupColId=function(){this.comp.setColId(this.column.getColId())},n.prototype.addActiveHeaderMouseListeners=function(){var t=this,o=function(u){return t.setActiveHeader("mouseenter"===u.type)};this.addManagedListener(this.getGui(),"mouseenter",o),this.addManagedListener(this.getGui(),"mouseleave",o)},n.prototype.setActiveHeader=function(t){this.comp.addOrRemoveCssClass("ag-header-active",t)},hr([I("columnModel")],n.prototype,"columnModel",void 0),hr([I("columnHoverService")],n.prototype,"columnHoverService",void 0),hr([I("sortController")],n.prototype,"sortController",void 0),hr([I("menuFactory")],n.prototype,"menuFactory",void 0),hr([I("dragAndDropService")],n.prototype,"dragAndDropService",void 0),hr([I("resizeObserverService")],n.prototype,"resizeObserverService",void 0),hr([I("gridApi")],n.prototype,"gridApi",void 0),hr([I("columnApi")],n.prototype,"columnApi",void 0),hr([Pe],n.prototype,"removeDragSource",null),n}(Xn),hg=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),Zn=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},fg=function(p){function n(t,o,u,c){var f=p.call(this)||this;return f.eResize=o,f.comp=t,f.pinned=u,f.columnGroup=c,f}return hg(n,p),n.prototype.postConstruct=function(){var t=this;if(this.columnGroup.isResizable()){var o=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(this.addDestroyFunc(o),!this.gridOptionsWrapper.isSuppressAutoSize()){var u=this.gridOptionsWrapper.isSkipHeaderOnAutoSize();this.eResize.addEventListener("dblclick",function(){var c=[];t.columnGroup.getDisplayedLeafColumns().forEach(function(g){g.getColDef().suppressAutoSize||c.push(g.getColId())}),c.length>0&&t.columnModel.autoSizeColumns({columns:c,skipHeader:u,stopAtGroup:t.columnGroup,source:"uiColumnResized"}),t.resizeLeafColumnsToFit()})}}else this.comp.addOrRemoveResizableCssClass("ag-hidden",!0)},n.prototype.onResizeStart=function(t){var o=this;this.calculateInitialValues();var u=null;if(t&&(u=this.columnModel.getDisplayedGroupAfter(this.columnGroup)),u){var c=u.getDisplayedLeafColumns();this.resizeTakeFromCols=c.filter(function(f){return f.isResizable()}),this.resizeTakeFromStartWidth=0,this.resizeTakeFromCols.forEach(function(f){return o.resizeTakeFromStartWidth+=f.getActualWidth()}),this.resizeTakeFromRatios=[],this.resizeTakeFromCols.forEach(function(f){return o.resizeTakeFromRatios.push(f.getActualWidth()/o.resizeTakeFromStartWidth)})}else this.resizeTakeFromCols=null,this.resizeTakeFromStartWidth=null,this.resizeTakeFromRatios=null;this.comp.addOrRemoveCssClass("ag-column-resizing",!0)},n.prototype.onResizing=function(t,o){var u=this.normaliseDragChange(o);this.resizeColumns(this.resizeStartWidth+u,t)},n.prototype.resizeLeafColumnsToFit=function(){var t=this.autoWidthCalculator.getPreferredWidthForColumnGroup(this.columnGroup);this.calculateInitialValues(),t>this.resizeStartWidth&&this.resizeColumns(t,!0)},n.prototype.resizeColumns=function(t,o){void 0===o&&(o=!0);var u=[];u.push({columns:this.resizeCols,ratios:this.resizeRatios,width:t}),this.resizeTakeFromCols&&u.push({columns:this.resizeTakeFromCols,ratios:this.resizeTakeFromRatios,width:this.resizeTakeFromStartWidth-(t-this.resizeStartWidth)}),this.columnModel.resizeColumnSets({resizeSets:u,finished:o,source:"uiColumnDragged"}),o&&this.comp.addOrRemoveCssClass("ag-column-resizing",!1)},n.prototype.calculateInitialValues=function(){var t=this,o=this.columnGroup.getDisplayedLeafColumns();this.resizeCols=o.filter(function(u){return u.isResizable()}),this.resizeStartWidth=0,this.resizeCols.forEach(function(u){return t.resizeStartWidth+=u.getActualWidth()}),this.resizeRatios=[],this.resizeCols.forEach(function(u){return t.resizeRatios.push(u.getActualWidth()/t.resizeStartWidth)})},n.prototype.normaliseDragChange=function(t){var o=t;return this.gridOptionsWrapper.isEnableRtl()?this.pinned!==ee.PINNED_LEFT&&(o*=-1):this.pinned===ee.PINNED_RIGHT&&(o*=-1),o},Zn([I("horizontalResizeService")],n.prototype,"horizontalResizeService",void 0),Zn([I("autoWidthCalculator")],n.prototype,"autoWidthCalculator",void 0),Zn([I("columnModel")],n.prototype,"columnModel",void 0),Zn([Ee],n.prototype,"postConstruct",null),n}(Se),gg=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),_g=function(p){function n(t,o){var u=p.call(this)||this;return u.removeChildListenersFuncs=[],u.columnGroup=o,u.comp=t,u}return gg(n,p),n.prototype.postConstruct=function(){this.addListenersToChildrenColumns(),this.addManagedListener(this.columnGroup,_t.EVENT_DISPLAYED_CHILDREN_CHANGED,this.onDisplayedChildrenChanged.bind(this)),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))},n.prototype.addListenersToChildrenColumns=function(){var t=this;this.removeListenersOnChildrenColumns();var o=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach(function(u){u.addEventListener($e.EVENT_WIDTH_CHANGED,o),u.addEventListener($e.EVENT_VISIBLE_CHANGED,o),t.removeChildListenersFuncs.push(function(){u.removeEventListener($e.EVENT_WIDTH_CHANGED,o),u.removeEventListener($e.EVENT_VISIBLE_CHANGED,o)})})},n.prototype.removeListenersOnChildrenColumns=function(){this.removeChildListenersFuncs.forEach(function(t){return t()}),this.removeChildListenersFuncs=[]},n.prototype.onDisplayedChildrenChanged=function(){this.addListenersToChildrenColumns(),this.onWidthChanged()},n.prototype.onWidthChanged=function(){this.comp.setWidth(this.columnGroup.getActualWidth()+"px")},function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);u>3&&c&&Object.defineProperty(n,t,c)}([Ee],n.prototype,"postConstruct",null),n}(Se),yg=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),Jn=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},mg=function(p){function n(t,o){var u=p.call(this,t,o)||this;return u.columnGroup=t,u}return yg(n,p),n.prototype.setComp=function(t,o,u){p.prototype.setGui.call(this,o),this.comp=t,this.displayName=this.columnModel.getDisplayNameForColumnGroup(this.columnGroup,"header"),this.addClasses(),this.addAttributes(),this.setupMovingCss(),this.setupExpandable(),this.setupTooltip(),this.setupUserComp();var c=this.getParentRowCtrl().getPinned(),f=this.columnGroup.getProvidedColumnGroup().getLeafColumns();this.createManagedBean(new Ba(f,o)),this.createManagedBean(new Wa(this.columnGroup,o,this.beans)),this.createManagedBean(new _g(t,this.columnGroup)),this.groupResizeFeature=this.createManagedBean(new fg(t,u,c,this.columnGroup)),this.createManagedBean(new pr(o,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:function(){},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))},n.prototype.resizeLeafColumnsToFit=function(){this.groupResizeFeature.onResizeStart(!1),this.groupResizeFeature.resizeLeafColumnsToFit()},n.prototype.setupUserComp=function(){var t=this,o=this.displayName,u={displayName:this.displayName,columnGroup:this.columnGroup,setExpanded:function(O){t.columnModel.setColumnGroupOpened(t.columnGroup.getProvidedColumnGroup(),O,"gridInitializing")},api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext()};if(!o){for(var c=this.columnGroup,f=c.getLeafColumns();c.getParent()&&c.getParent().getLeafColumns().length===f.length;)c=c.getParent();var g=c.getColGroupDef();g&&(o=g.headerName),o||(o=f?this.columnModel.getDisplayNameForColumn(f[0],"header",!0):"")}var C=this.userComponentFactory.getHeaderGroupCompDetails(u);this.comp.setUserCompDetails(C)},n.prototype.setupTooltip=function(){var t=this,o=this.columnGroup.getColGroupDef(),u={getColumn:function(){return t.columnGroup},getGui:function(){return t.eGui},getLocation:function(){return"headerGroup"},getTooltipValue:function(){return o&&o.headerTooltip}};o&&(u.getColDef=function(){return o}),this.createManagedBean(new ba(u,this.beans)).setComp(this.comp)},n.prototype.setupExpandable=function(){var t=this.columnGroup.getProvidedColumnGroup();this.refreshExpanded(),this.addManagedListener(t,ot.EVENT_EXPANDABLE_CHANGED,this.refreshExpanded.bind(this)),this.addManagedListener(t,ot.EVENT_EXPANDED_CHANGED,this.refreshExpanded.bind(this))},n.prototype.refreshExpanded=function(){var t=this.columnGroup;this.expandable=t.isExpandable();var o=t.isExpanded();this.comp.setAriaExpanded(this.expandable?o?"true":"false":void 0)},n.prototype.addAttributes=function(){this.comp.setColId(this.columnGroup.getUniqueId())},n.prototype.addClasses=function(){var t=this,o=this.columnGroup.getColGroupDef(),u=Fa.getHeaderClassesFromColDef(o,this.gridOptionsWrapper,null,this.columnGroup);u.push(this.columnGroup.isPadding()?"ag-header-group-cell-no-group":"ag-header-group-cell-with-group"),u.forEach(function(c){return t.comp.addOrRemoveCssClass(c,!0)})},n.prototype.setupMovingCss=function(){var t=this,u=this.columnGroup.getProvidedColumnGroup().getLeafColumns(),c=function(){return t.comp.addOrRemoveCssClass("ag-header-cell-moving",t.columnGroup.isMoving())};u.forEach(function(f){t.addManagedListener(f,$e.EVENT_MOVING_CHANGED,c)}),c()},n.prototype.onFocusIn=function(t){if(!this.eGui.contains(t.relatedTarget)){var o=this.getRowIndex();this.beans.focusService.setFocusedHeader(o,this.columnGroup)}},n.prototype.handleKeyDown=function(t){p.prototype.handleKeyDown.call(this,t);var o=this.getWrapperHasFocus();if(this.expandable&&o&&t.key===ye.ENTER){var u=this.columnGroup,c=!u.isExpanded();this.columnModel.setColumnGroupOpened(u.getProvidedColumnGroup(),c,"uiColumnExpanded")}},n.prototype.setDragSource=function(t){var o=this;if(!this.isSuppressMoving()){var u=this.columnGroup.getProvidedColumnGroup().getLeafColumns(),c=!this.gridOptionsWrapper.isSuppressDragLeaveHidesColumns(),f={type:Tt.HeaderCell,eElement:t,defaultIconName:c?Ot.ICON_HIDE:Ot.ICON_NOT_ALLOWED,dragItemName:this.displayName,getDragItem:this.getDragItemForGroup.bind(this),onDragStarted:function(){return u.forEach(function(g){return g.setMoving(!0,"uiColumnDragged")})},onDragStopped:function(){return u.forEach(function(g){return g.setMoving(!1,"uiColumnDragged")})},onGridEnter:function(g){var C,O;if(c){var P=(null===(O=null===(C=g)||void 0===C?void 0:C.columns)||void 0===O?void 0:O.filter(function(R){return!R.getColDef().lockVisible}))||[];o.columnModel.setColumnsVisible(P,!0,"uiColumnMoved")}},onGridExit:function(g){var C,O;if(c){var P=(null===(O=null===(C=g)||void 0===C?void 0:C.columns)||void 0===O?void 0:O.filter(function(R){return!R.getColDef().lockVisible}))||[];o.columnModel.setColumnsVisible(P,!1,"uiColumnMoved")}}};this.dragAndDropService.addDragSource(f,!0),this.addDestroyFunc(function(){return o.dragAndDropService.removeDragSource(f)})}},n.prototype.getDragItemForGroup=function(){var t=this.columnGroup.getProvidedColumnGroup().getLeafColumns(),o={};t.forEach(function(c){return o[c.getId()]=c.isVisible()});var u=[];return this.columnModel.getAllDisplayedColumns().forEach(function(c){t.indexOf(c)>=0&&(u.push(c),vt(t,c))}),t.forEach(function(c){return u.push(c)}),{columns:u,visibleState:o}},n.prototype.isSuppressMoving=function(){var t=!1;return this.columnGroup.getLeafColumns().forEach(function(u){(u.getColDef().suppressMovable||u.getColDef().lockPosition)&&(t=!0)}),t||this.gridOptionsWrapper.isSuppressMovableColumns()},Jn([I("columnModel")],n.prototype,"columnModel",void 0),Jn([I("dragAndDropService")],n.prototype,"dragAndDropService",void 0),Jn([I("gridApi")],n.prototype,"gridApi",void 0),Jn([I("columnApi")],n.prototype,"columnApi",void 0),n}(Xn),Cg=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),Ha=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},Eg=0,Ua=function(p){function n(t,o,u){var c=p.call(this)||this;return c.instanceId=Eg++,c.headerCellCtrls={},c.rowIndex=t,c.pinned=o,c.type=u,c}return Cg(n,p),n.prototype.getInstanceId=function(){return this.instanceId},n.prototype.setComp=function(t){this.comp=t,this.onRowHeightChanged(),this.onVirtualColumnsChanged(),this.setWidth(),this.addEventListeners(),ci()&&this.comp.setTransform("translateZ(0)"),t.setAriaRowIndex(this.rowIndex+1)},n.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,V.EVENT_COLUMN_RESIZED,this.onColumnResized.bind(this)),this.addManagedListener(this.gridOptionsWrapper,Re.PROP_DOM_LAYOUT,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,V.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,V.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addManagedListener(this.eventService,V.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,Re.PROP_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,Re.PROP_PIVOT_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,Re.PROP_GROUP_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,Re.PROP_PIVOT_GROUP_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,Re.PROP_FLOATING_FILTERS_HEIGHT,this.onRowHeightChanged.bind(this))},n.prototype.getHeaderCellCtrl=function(t){return S(this.headerCellCtrls).find(function(o){return o.getColumnGroupChild()===t})},n.prototype.onDisplayedColumnsChanged=function(){this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()},n.prototype.getType=function(){return this.type},n.prototype.onColumnResized=function(){this.setWidth()},n.prototype.setWidth=function(){var t=this.getWidthForRow();this.comp.setWidth(t+"px")},n.prototype.getWidthForRow=function(){return this.gridOptionsWrapper.getDomLayout()===ee.DOM_LAYOUT_PRINT?null!=this.pinned?0:this.columnModel.getContainerWidth(ee.PINNED_RIGHT)+this.columnModel.getContainerWidth(ee.PINNED_LEFT)+this.columnModel.getContainerWidth(null):this.columnModel.getContainerWidth(this.pinned)},n.prototype.onRowHeightChanged=function(){var t=this.columnModel.getHeaderRowCount(),o=[],u=0;this.columnModel.hasFloatingFilters()&&(t++,u=1);for(var c=this.columnModel.getColumnGroupHeaderRowHeight(),f=this.columnModel.getColumnHeaderRowHeight(),C=t-(1+u),O=0;O<C;O++)o.push(c);for(o.push(f),O=0;O<u;O++)o.push(this.gridOptionsWrapper.getFloatingFiltersHeight());var P=0;for(O=0;O<this.rowIndex;O++)P+=o[O];var R=o[this.rowIndex]+"px";this.comp.setTop(P+"px"),this.comp.setHeight(R)},n.prototype.getPinned=function(){return this.pinned},n.prototype.getRowIndex=function(){return this.rowIndex},n.prototype.onVirtualColumnsChanged=function(){var t=this,o=this.headerCellCtrls;this.headerCellCtrls={},this.getColumnsInViewport().forEach(function(g){if(!g.isEmptyGroup()){var C=g.getUniqueId(),O=o[C];if(delete o[C],O&&O.getColumnGroupChild()!=g&&(t.destroyBean(O),O=void 0),null==O)switch(t.type){case At.FLOATING_FILTER:O=t.createBean(new og(g,t));break;case At.COLUMN_GROUP:O=t.createBean(new mg(g,t));break;default:O=t.createBean(new dg(g,t))}t.headerCellCtrls[C]=O}}),b(o,function(g,C){var O=function(g){return!!t.focusService.isHeaderWrapperFocused(g)&&t.columnModel.isDisplayed(g.getColumnGroupChild())}(C);O?t.headerCellCtrls[g]=C:t.destroyBean(C)});var f=j(this.headerCellCtrls);this.comp.setHeaderCtrls(f)},n.prototype.destroyCtrls=function(){var t=this;b(this.headerCellCtrls,function(o,u){t.destroyBean(u)}),this.headerCellCtrls={}},n.prototype.getColumnsInViewport=function(){return this.gridOptionsWrapper.getDomLayout()===ee.DOM_LAYOUT_PRINT?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout()},n.prototype.getColumnsInViewportPrintLayout=function(){var t=this;if(null!=this.pinned)return[];var o=[],u=this.getActualDepth();return[ee.PINNED_LEFT,null,ee.PINNED_RIGHT].forEach(function(c){var f=t.columnModel.getVirtualHeaderGroupRow(c,u);o=o.concat(f)}),o},n.prototype.getActualDepth=function(){return this.type==At.FLOATING_FILTER?this.rowIndex-1:this.rowIndex},n.prototype.getColumnsInViewportNormalLayout=function(){return this.columnModel.getVirtualHeaderGroupRow(this.pinned,this.getActualDepth())},n.prototype.focusHeader=function(t,o){var c=j(this.headerCellCtrls).find(function(f){return f.getColumnGroupChild()==t});return!!c&&(c.focus(o),!0)},Ha([I("columnModel")],n.prototype,"columnModel",void 0),Ha([I("focusService")],n.prototype,"focusService",void 0),Ha([Pe],n.prototype,"destroyCtrls",null),n}(Se),Og=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),on=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},wg=function(p,n){var t="function"==typeof Symbol&&p[Symbol.iterator];if(!t)return p;var u,f,o=t.call(p),c=[];try{for(;(void 0===n||n-- >0)&&!(u=o.next()).done;)c.push(u.value)}catch(g){f={error:g}}finally{try{u&&!u.done&&(t=o.return)&&t.call(o)}finally{if(f)throw f.error}}return c},Pg=function(p){function n(t){var o=p.call(this)||this;return o.groupsRowCtrls=[],o.pinned=t,o}return Og(n,p),n.prototype.setComp=function(t,o){this.comp=t,this.eViewport=o,this.setupCenterWidth(),this.setupPinnedWidth(),this.setupDragAndDrop(this.eViewport),this.addManagedListener(this.eventService,V.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eViewport,"scroll",this.resetScrollLeft.bind(this)),this.ctrlsService.registerHeaderContainer(this,this.pinned),this.columnModel.isReady()&&this.refresh()},n.prototype.setupDragAndDrop=function(t){var o=new Uf(this.pinned,t);this.createManagedBean(o)},n.prototype.refresh=function(t){var o=this;void 0===t&&(t=!1);var P,u=new Ur,c=this.focusService.getFocusHeaderToUseAfterRefresh();(function(){var P=o.columnModel.getHeaderRowCount()-1;o.groupsRowCtrls=o.destroyBeans(o.groupsRowCtrls);for(var R=0;R<P;R++){var x=o.createBean(new Ua(u.next(),o.pinned,At.COLUMN_GROUP));o.groupsRowCtrls.push(x)}})(),P=u.next(),(null==o.columnsRowCtrl||!t||o.columnsRowCtrl.getRowIndex()!==P)&&(o.destroyBean(o.columnsRowCtrl),o.columnsRowCtrl=o.createBean(new Ua(P,o.pinned,At.COLUMN))),function(){var R=function(){o.filtersRowCtrl=o.destroyBean(o.filtersRowCtrl)};if(o.columnModel.hasFloatingFilters()){var x=u.next();if(o.filtersRowCtrl){var W=o.filtersRowCtrl.getRowIndex()!==x;(!t||W)&&R()}o.filtersRowCtrl||(o.filtersRowCtrl=o.createBean(new Ua(x,o.pinned,At.FLOATING_FILTER)))}else R()}();var O=this.getAllCtrls();this.comp.setCtrls(O),this.restoreFocusOnHeader(c)},n.prototype.restoreFocusOnHeader=function(t){null==t||t.column.getPinned()!=this.pinned||this.focusService.focusHeaderPosition({headerPosition:t})},n.prototype.getAllCtrls=function(){var t=function(){for(var p=[],n=0;n<arguments.length;n++)p=p.concat(wg(arguments[n]));return p}(this.groupsRowCtrls,[this.columnsRowCtrl]);return this.filtersRowCtrl&&t.push(this.filtersRowCtrl),t},n.prototype.onGridColumnsChanged=function(){this.refresh(!0)},n.prototype.setupCenterWidth=function(){var t=this;null==this.pinned&&this.createManagedBean(new Aa(function(o){return t.comp.setCenterWidth(o+"px")}))},n.prototype.setHorizontalScroll=function(t){this.comp.setContainerTransform("translateX("+t+"px)")},n.prototype.resetScrollLeft=function(){this.eViewport.scrollLeft=0},n.prototype.setupPinnedWidth=function(){var t=this;if(null!=this.pinned){var o=this.pinned===ee.PINNED_LEFT,u=this.pinned===ee.PINNED_RIGHT,c=function(){var f=o?t.pinnedWidthService.getPinnedLeftWidth():t.pinnedWidthService.getPinnedRightWidth();if(null!=f){var g=0==f,C=t.gridOptionsWrapper.isEnableRtl(),O=t.gridOptionsWrapper.getScrollbarWidth(),P=t.scrollVisibleService.isVerticalScrollShowing()&&(C&&o||!C&&u);t.comp.setPinnedContainerWidth((P?f+O:f)+"px"),t.comp.addOrRemoveCssClass("ag-hidden",g)}};this.addManagedListener(this.eventService,V.EVENT_LEFT_PINNED_WIDTH_CHANGED,c),this.addManagedListener(this.eventService,V.EVENT_RIGHT_PINNED_WIDTH_CHANGED,c),this.addManagedListener(this.eventService,V.EVENT_SCROLL_VISIBILITY_CHANGED,c),this.addManagedListener(this.eventService,V.EVENT_SCROLLBAR_WIDTH_CHANGED,c)}},n.prototype.getHeaderCtrlForColumn=function(t){if(t instanceof $e)return this.columnsRowCtrl?this.columnsRowCtrl.getHeaderCellCtrl(t):void 0;if(0!==this.groupsRowCtrls.length)for(var o=0;o<this.groupsRowCtrls.length;o++){var u=this.groupsRowCtrls[o].getHeaderCellCtrl(t);if(u)return u}},n.prototype.getHtmlElementForColumnHeader=function(t){var o=this.getHeaderCtrlForColumn(t);return o?o.getGui():null},n.prototype.getRowType=function(t){var u=this.getAllCtrls()[t];return u?u.getType():void 0},n.prototype.focusHeader=function(t,o,u){var f=this.getAllCtrls()[t];return!!f&&f.focusHeader(o,u)},n.prototype.getRowCount=function(){return this.getAllCtrls().length},on([I("ctrlsService")],n.prototype,"ctrlsService",void 0),on([I("scrollVisibleService")],n.prototype,"scrollVisibleService",void 0),on([I("pinnedWidthService")],n.prototype,"pinnedWidthService",void 0),on([I("columnModel")],n.prototype,"columnModel",void 0),on([I("focusService")],n.prototype,"focusService",void 0),n}(Se),Dg=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),$a=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},ja=function(p){function n(t){var o=p.call(this)||this;return o.headerRowComps={},o.rowCompsList=[],o.pinned=t,o}return Dg(n,p),n.prototype.init=function(){var t=this;this.selectAndSetTemplate();var o={addOrRemoveCssClass:function(c,f){return t.addOrRemoveCssClass(c,f)},setCtrls:function(c){return t.setCtrls(c)},setCenterWidth:function(c){return t.eCenterContainer.style.width=c},setContainerTransform:function(c){return t.eCenterContainer.style.transform=c},setPinnedContainerWidth:function(c){var f=t.getGui();f.style.width=c,f.style.maxWidth=c,f.style.minWidth=c}};this.createManagedBean(new Pg(this.pinned)).setComp(o,this.getGui())},n.prototype.selectAndSetTemplate=function(){this.setTemplate(this.pinned==ee.PINNED_LEFT?n.PINNED_LEFT_TEMPLATE:this.pinned==ee.PINNED_RIGHT?n.PINNED_RIGHT_TEMPLATE:n.CENTER_TEMPLATE),this.eRowContainer=this.eCenterContainer?this.eCenterContainer:this.getGui()},n.prototype.destroyRowComps=function(){this.setCtrls([])},n.prototype.destroyRowComp=function(t){this.destroyBean(t),this.eRowContainer.removeChild(t.getGui())},n.prototype.setCtrls=function(t){var c,o=this,u=this.headerRowComps;this.headerRowComps={},this.rowCompsList=[],t.forEach(function(g){var C=g.getInstanceId(),O=u[C];delete u[C];var P=O||o.createBean(new Zf(g));o.headerRowComps[C]=P,o.rowCompsList.push(P),function(g){var C=g.getGui();C.parentElement!=o.eRowContainer&&o.eRowContainer.appendChild(C),c&&Ko(o.eRowContainer,C,c),c=C}(P)}),j(u).forEach(function(g){return o.destroyRowComp(g)})},n.PINNED_LEFT_TEMPLATE='<div class="ag-pinned-left-header" role="presentation"/>',n.PINNED_RIGHT_TEMPLATE='<div class="ag-pinned-right-header" role="presentation"/>',n.CENTER_TEMPLATE='<div class="ag-header-viewport" role="presentation">\n            <div class="ag-header-container" ref="eCenterContainer" role="rowgroup"></div>\n        </div>',$a([_e("eCenterContainer")],n.prototype,"eCenterContainer",void 0),$a([Ee],n.prototype,"init",null),$a([Pe],n.prototype,"destroyRowComps",null),n}(je),Rg=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),wi=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},Zt=(()=>(function(p){p[p.UP=0]="UP",p[p.DOWN=1]="DOWN",p[p.LEFT=2]="LEFT",p[p.RIGHT=3]="RIGHT"}(Zt||(Zt={})),Zt))(),Tg=function(p){function n(){return null!==p&&p.apply(this,arguments)||this}return Rg(n,p),n.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady(function(o){t.gridBodyCon=o.gridBodyCtrl})},n.prototype.getHeaderRowCount=function(){var t=this.ctrlsService.getHeaderRowContainerCtrl();return t?t.getRowCount():0},n.prototype.getHeaderRowType=function(t){var o=this.ctrlsService.getHeaderRowContainerCtrl();if(o)return o.getRowType(t)},n.prototype.navigateVertically=function(t,o,u){if(o||(o=this.focusService.getFocusedHeader()),!o)return!1;var c=o.headerRowIndex,f=o.column,g=this.getHeaderRowCount(),C=t===Zt.UP,O=C?c-1:c+1,P=null,R=!1;O<0&&(O=0,P=f,R=!0),O>=g&&(O=-1);var x=this.getHeaderRowType(c);if(!R){if(x===At.COLUMN_GROUP){var W=f;P=C?f.getParent():W.getDisplayedChildren()[0]}else x===At.FLOATING_FILTER?P=f:(W=f,P=C?W.getParent():W);if(!P)return!1}return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:O,column:P},allowUserOverride:!0,event:u})},n.prototype.navigateHorizontally=function(t,o,u){void 0===o&&(o=!1);var C,O,c=this.focusService.getFocusedHeader();return(C=t===Zt.LEFT!==this.gridOptionsWrapper.isEnableRtl()?this.headerPositionUtils.findHeader(c,O="Before"):this.headerPositionUtils.findHeader(c,O="After"))||!o?this.focusService.focusHeaderPosition({headerPosition:C,direction:O,fromTab:o,allowUserOverride:!0,event:u}):this.focusNextHeaderRow(c,O,u)},n.prototype.focusNextHeaderRow=function(t,o,u){var c=t.headerRowIndex,f=null;return"Before"===o?c>0&&(f=this.headerPositionUtils.findColAtEdgeForHeaderRow(c-1,"end")):f=this.headerPositionUtils.findColAtEdgeForHeaderRow(c+1,"start"),this.focusService.focusHeaderPosition({headerPosition:f,direction:o,fromTab:!0,allowUserOverride:!0,event:u})},n.prototype.scrollToColumn=function(t,o){if(void 0===o&&(o="After"),!t.getPinned()){var u;if(t instanceof _t){var c=t.getDisplayedLeafColumns();u="Before"===o?Je(c):c[0]}else u=t;this.gridBodyCon.getScrollFeature().ensureColumnVisible(u)}},wi([I("focusService")],n.prototype,"focusService",void 0),wi([I("headerPositionUtils")],n.prototype,"headerPositionUtils",void 0),wi([I("animationFrameService")],n.prototype,"animationFrameService",void 0),wi([I("ctrlsService")],n.prototype,"ctrlsService",void 0),wi([Ee],n.prototype,"postConstruct",null),wi([me("headerNavigationService")],n)}(Se),bg=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),Qn=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},Mg=function(p){function n(){return null!==p&&p.apply(this,arguments)||this}return bg(n,p),n.prototype.setComp=function(t,o,u){this.comp=t,this.eGui=o,this.createManagedBean(new pr(u,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedListener(this.eventService,V.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onPivotModeChanged.bind(this)),this.onPivotModeChanged(),this.setupHeaderHeight(),this.ctrlsService.registerGridHeaderCtrl(this)},n.prototype.setupHeaderHeight=function(){var t=this.setHeaderHeight.bind(this);t(),this.addManagedListener(this.gridOptionsWrapper,Re.PROP_HEADER_HEIGHT,t),this.addManagedListener(this.gridOptionsWrapper,Re.PROP_PIVOT_HEADER_HEIGHT,t),this.addManagedListener(this.gridOptionsWrapper,Re.PROP_GROUP_HEADER_HEIGHT,t),this.addManagedListener(this.gridOptionsWrapper,Re.PROP_PIVOT_GROUP_HEADER_HEIGHT,t),this.addManagedListener(this.gridOptionsWrapper,Re.PROP_FLOATING_FILTERS_HEIGHT,t),this.addManagedListener(this.eventService,V.EVENT_DISPLAYED_COLUMNS_CHANGED,t),this.addManagedListener(this.eventService,V.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,t)},n.prototype.getHeaderHeight=function(){return this.headerHeight},n.prototype.setHeaderHeight=function(){var g,o=this.columnModel,u=this.gridOptionsWrapper,c=0,f=o.getHeaderRowCount();o.hasFloatingFilters()&&(f++,c=1);var O=this.columnModel.getColumnGroupHeaderRowHeight(),P=this.columnModel.getColumnHeaderRowHeight(),x=f-(1+c);g=c*u.getFloatingFiltersHeight(),g+=x*O,this.headerHeight!==(g+=P)&&(this.headerHeight=g,this.comp.setHeightAndMinHeight(g+1+"px"),this.eventService.dispatchEvent({type:V.EVENT_HEADER_HEIGHT_CHANGED}))},n.prototype.onPivotModeChanged=function(){var t=this.columnModel.isPivotMode();this.comp.addOrRemoveCssClass("ag-pivot-on",t),this.comp.addOrRemoveCssClass("ag-pivot-off",!t)},n.prototype.onTabKeyDown=function(t){var o=this.gridOptionsWrapper.isEnableRtl();(this.headerNavigationService.navigateHorizontally(t.shiftKey!==o?Zt.LEFT:Zt.RIGHT,!0,t)||this.focusService.focusNextGridCoreContainer(t.shiftKey))&&t.preventDefault()},n.prototype.handleKeyDown=function(t){var o=null;switch(t.key){case ye.LEFT:o=Zt.LEFT;case ye.RIGHT:a(o)||(o=Zt.RIGHT),this.headerNavigationService.navigateHorizontally(o,!1,t);break;case ye.UP:o=Zt.UP;case ye.DOWN:a(o)||(o=Zt.DOWN),this.headerNavigationService.navigateVertically(o,null,t)&&t.preventDefault();break;default:return}},n.prototype.onFocusOut=function(t){var o=this.gridOptionsWrapper.getDocument(),u=t.relatedTarget;!u&&this.eGui.contains(o.activeElement)||this.eGui.contains(u)||this.focusService.clearFocusedHeader()},Qn([I("headerNavigationService")],n.prototype,"headerNavigationService",void 0),Qn([I("focusService")],n.prototype,"focusService",void 0),Qn([I("columnModel")],n.prototype,"columnModel",void 0),Qn([I("ctrlsService")],n.prototype,"ctrlsService",void 0),n}(Se),Ag=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),Ig=function(p){function n(){return p.call(this,n.TEMPLATE)||this}return Ag(n,p),n.prototype.postConstruct=function(){var t=this,o={addOrRemoveCssClass:function(f,g){return t.addOrRemoveCssClass(f,g)},setHeightAndMinHeight:function(f){t.getGui().style.height=f,t.getGui().style.minHeight=f}};this.createManagedBean(new Mg).setComp(o,this.getGui(),this.getFocusableElement());var c=function(f){t.createManagedBean(f),t.appendChild(f)};c(new ja(ee.PINNED_LEFT)),c(new ja(null)),c(new ja(ee.PINNED_RIGHT))},n.TEMPLATE='<div class="ag-header" role="presentation"/>',function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);u>3&&c&&Object.defineProperty(n,t,c)}([Ee],n.prototype,"postConstruct",null),n}(je),Lg=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),Ka=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},Fg=function(p){function n(){return null!==p&&p.apply(this,arguments)||this}return Lg(n,p),n.prototype.addResizeBar=function(t){var o=this,u={dragStartPixels:t.dragStartPixels||0,eElement:t.eResizeBar,onDragStart:this.onDragStart.bind(this,t),onDragStop:this.onDragStop.bind(this,t),onDragging:this.onDragging.bind(this,t)};return this.dragService.addDragSource(u,!0),function(){return o.dragService.removeDragSource(u)}},n.prototype.onDragStart=function(t,o){this.dragStartX=o.clientX,this.setResizeIcons();var u=o instanceof MouseEvent&&!0===o.shiftKey;t.onResizeStart(u)},n.prototype.setResizeIcons=function(){var t=this.ctrlsService.getGridCtrl();t.setResizeCursor(!0),t.disableUserSelect(!0)},n.prototype.onDragStop=function(t,o){t.onResizeEnd(this.resizeAmount),this.resetIcons()},n.prototype.resetIcons=function(){var t=this.ctrlsService.getGridCtrl();t.setResizeCursor(!1),t.disableUserSelect(!1)},n.prototype.onDragging=function(t,o){this.resizeAmount=o.clientX-this.dragStartX,t.onResizing(this.resizeAmount)},Ka([I("dragService")],n.prototype,"dragService",void 0),Ka([I("ctrlsService")],n.prototype,"ctrlsService",void 0),Ka([me("horizontalResizeService")],n)}(Se),Ng=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),an=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},Gg=function(p){function n(){return null!==p&&p.apply(this,arguments)||this}return Ng(n,p),n.prototype.hideActiveMenu=function(){this.hidePopup&&this.hidePopup()},n.prototype.showMenuAfterMouseEvent=function(t,o){var u=this;this.showPopup(t,function(c){u.popupService.positionPopupUnderMouseEvent({column:t,type:"columnMenu",mouseEvent:o,ePopup:c})},o.target)},n.prototype.showMenuAfterButtonClick=function(t,o,u){var c=this;this.showPopup(t,function(f){c.popupService.positionPopupUnderComponent({type:u,eventSource:o,ePopup:f,keepWithinBounds:!0,column:t})},o)},n.prototype.showPopup=function(t,o,u){var c=this,f=this.filterManager.getOrCreateFilterWrapper(t,"COLUMN_MENU");if(!f)throw new Error("AG Grid - unable to show popup filter, filter instantiation failed");var g=document.createElement("div");Mt(g,"presentation"),g.classList.add("ag-menu"),this.tabListener=this.addManagedListener(g,"keydown",function(W){return c.trapFocusWithin(W,g)}),f.guiPromise.then(function(W){return g.appendChild(W)});var C,O=u||this.ctrlsService.getGridBodyCtrl().getGui(),R=this.gridOptionsWrapper.getLocaleTextFunc(),x=this.popupService.addPopup({modal:!0,eChild:g,closeOnEsc:!0,closedCallback:function(W){t.setMenuVisible(!1,"contextMenu");var U=W instanceof KeyboardEvent;if(c.tabListener&&(c.tabListener=c.tabListener()),U&&u&&gi(u)){var q=c.focusService.findTabbableParent(u);q&&q.focus()}},positionCallback:function(){return o(g)},anchorToElement:O,ariaLabel:R("ariaLabelColumnMenu","Column Menu")});x&&(this.hidePopup=C=x.hideFunc),f.filterPromise.then(function(W){o(g),W.afterGuiAttached&&W.afterGuiAttached({container:"columnMenu",hidePopup:C})}),t.setMenuVisible(!0,"contextMenu")},n.prototype.trapFocusWithin=function(t,o){t.key!==ye.TAB||t.defaultPrevented||this.focusService.findNextFocusableElement(o,!1,t.shiftKey)||(t.preventDefault(),this.focusService.focusInto(o,t.shiftKey))},n.prototype.isMenuEnabled=function(t){return t.isFilterAllowed()},an([I("filterManager")],n.prototype,"filterManager",void 0),an([I("popupService")],n.prototype,"popupService",void 0),an([I("focusService")],n.prototype,"focusService",void 0),an([I("ctrlsService")],n.prototype,"ctrlsService",void 0),an([me("menuFactory")],n)}(Se),Wg=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),eo=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},Bg=function(p){function n(t){var o=p.call(this,n.getTemplate(t.cssClass))||this;return o.items=[],o.tabbedItemScrollMap=new Map,o.params=t,t.items&&t.items.forEach(function(u){return o.addItem(u)}),o}return Wg(n,p),n.prototype.postConstruct=function(){this.createManagedBean(new pr(this.getFocusableElement(),{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this)}))},n.getTemplate=function(t){return'<div class="ag-tabs '+t+'">\n            <div ref="eHeader" role="tablist" class="ag-tabs-header '+(t?t+"-header":"")+'"></div>\n            <div ref="eBody" role="presentation" class="ag-tabs-body '+(t?t+"-body":"")+'"></div>\n        </div>'},n.prototype.handleKeyDown=function(t){var o=this.gridOptionsWrapper.getDocument();switch(t.key){case ye.RIGHT:case ye.LEFT:if(!this.eHeader.contains(o.activeElement))return;var u=t.key===ye.RIGHT,c=this.gridOptionsWrapper.isEnableRtl(),f=this.items.indexOf(this.activeItem),g=u!==c?Math.min(f+1,this.items.length-1):Math.max(f-1,0);if(f===g)return;t.preventDefault();var C=this.items[g];this.showItemWrapper(C),C.eHeaderButton.focus();break;case ye.UP:case ye.DOWN:t.stopPropagation()}},n.prototype.onTabKeyDown=function(t){if(!t.defaultPrevented){var o=this,u=o.focusService,c=o.eHeader,f=o.eBody,g=o.activeItem,O=this.gridOptionsWrapper.getDocument().activeElement;if(t.preventDefault(),c.contains(O))u.focusInto(f,t.shiftKey);else if(u.isFocusUnderManagedComponent(f))g.eHeaderButton.focus();else{var P=u.findNextFocusableElement(f,!1,t.shiftKey);P?P.focus():g.eHeaderButton.focus()}}},n.prototype.setAfterAttachedParams=function(t){this.afterAttachedParams=t},n.prototype.showFirstItem=function(){this.items.length>0&&this.showItemWrapper(this.items[0])},n.prototype.addItem=function(t){var o=document.createElement("span");Mt(o,"tab"),o.setAttribute("tabIndex","-1"),o.appendChild(t.title),o.classList.add("ag-tab"),this.eHeader.appendChild(o),Hr(o,t.titleLabel);var u={tabbedItem:t,eHeaderButton:o};this.items.push(u),o.addEventListener("click",this.showItemWrapper.bind(this,u))},n.prototype.showItem=function(t){var o=this.items.find(function(u){return u.tabbedItem===t});o&&this.showItemWrapper(o)},n.prototype.showItemWrapper=function(t){var o=this,u=t.tabbedItem,c=t.eHeaderButton;this.params.onItemClicked&&this.params.onItemClicked({item:u}),this.activeItem!==t?(this.lastScrollListener&&(this.lastScrollListener=this.lastScrollListener()),kt(this.eBody),u.bodyPromise.then(function(f){o.eBody.appendChild(f);var g=!o.focusService.isKeyboardMode();if(o.focusService.focusInto(o.eBody,!1,g),u.afterAttachedCallback&&u.afterAttachedCallback(o.afterAttachedParams),o.params.keepScrollPosition){var C=u.getScrollableContainer&&u.getScrollableContainer()||f;o.lastScrollListener=o.addManagedListener(C,"scroll",function(){o.tabbedItemScrollMap.set(u.name,C.scrollTop)});var O=o.tabbedItemScrollMap.get(u.name);void 0!==O&&setTimeout(function(){C.scrollTop=O},0)}}),this.activeItem&&this.activeItem.eHeaderButton.classList.remove("ag-tab-selected"),c.classList.add("ag-tab-selected"),this.activeItem=t):We(this.params.onActiveItemClicked)},eo([I("focusService")],n.prototype,"focusService",void 0),eo([_e("eHeader")],n.prototype,"eHeader",void 0),eo([_e("eBody")],n.prototype,"eBody",void 0),eo([Ee],n.prototype,"postConstruct",null),n}(je),kg=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),Hg=function(p){function n(){var t=null!==p&&p.apply(this,arguments)||this;return t.polyfillFunctions=[],t}return kg(n,p),n.prototype.observeResize=function(t,o){var x,u=this,f=this.gridOptionsWrapper.getDocument().defaultView||window,g=De(o,50),P=this.gridOptionsWrapper.isSuppressBrowserResizeObserver();return f.ResizeObserver&&!P?((x=new f.ResizeObserver(g)).observe(t),function(){return x.disconnect()}):function(){var x=jo(t),W=$o(t),U=!0,q=function(){if(U){var te=jo(t),se=$o(t);(te!==x||se!==W)&&(x=te,W=se,o()),u.doNextPolyfillTurn(q)}};return q(),function(){return U=!1}}()},n.prototype.doNextPolyfillTurn=function(t){this.polyfillFunctions.push(t),this.schedulePolyfill()},n.prototype.schedulePolyfill=function(){var t=this;this.polyfillScheduled||(this.polyfillScheduled=!0,this.getFrameworkOverrides().setTimeout(function(){var u=t.polyfillFunctions;t.polyfillScheduled=!1,t.polyfillFunctions=[],u.forEach(function(c){return c()})},50))},n=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c}([me("resizeObserverService")],n),n}(Se),Ug=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),za=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},$g=function(p){function n(){var t=null!==p&&p.apply(this,arguments)||this;return t.createTasksP1={list:[],sorted:!1},t.createTasksP2={list:[],sorted:!1},t.destroyTasks=[],t.ticking=!1,t.scrollGoingDown=!0,t.lastScrollTop=0,t.taskCount=0,t.cancelledTasks=new Set,t}return Ug(n,p),n.prototype.setScrollTop=function(t){this.scrollGoingDown=t>this.lastScrollTop,this.lastScrollTop=t},n.prototype.init=function(){this.useAnimationFrame=!this.gridOptionsWrapper.isSuppressAnimationFrame()},n.prototype.isOn=function(){return this.useAnimationFrame},n.prototype.verifyAnimationFrameOn=function(t){!1===this.useAnimationFrame&&console.warn("AG Grid: AnimationFrameService."+t+" called but animation frames are off")},n.prototype.createTask=function(t,o,u){this.verifyAnimationFrameOn(u);var c={task:t,index:o,createOrder:++this.taskCount};this.addTaskToList(this[u],c),this.schedule()},n.prototype.cancelTask=function(t){this.cancelledTasks.add(t)},n.prototype.addTaskToList=function(t,o){t.list.push(o),t.sorted=!1},n.prototype.sortTaskList=function(t){if(!t.sorted){var o=this.scrollGoingDown?1:-1;t.list.sort(function(u,c){return u.index!==c.index?o*(c.index-u.index):c.createOrder-u.createOrder}),t.sorted=!0}},n.prototype.addDestroyTask=function(t){this.verifyAnimationFrameOn("createTasksP3"),this.destroyTasks.push(t),this.schedule()},n.prototype.executeFrame=function(t){this.verifyAnimationFrameOn("executeFrame");for(var o=this.createTasksP1,u=o.list,c=this.createTasksP2,f=c.list,g=this.destroyTasks,C=(new Date).getTime(),O=(new Date).getTime()-C,P=t<=0,R=this.ctrlsService.getGridBodyCtrl();P||O<t;){if(!R.getScrollFeature().executeAnimationFrameScroll()){var W=void 0;if(u.length)this.sortTaskList(o),W=u.pop().task;else if(f.length)this.sortTaskList(c),W=f.pop().task;else{if(!g.length){this.cancelledTasks.clear();break}W=g.pop()}this.cancelledTasks.has(W)||W()}O=(new Date).getTime()-C}u.length||f.length||g.length?this.requestFrame():this.stopTicking()},n.prototype.stopTicking=function(){this.ticking=!1},n.prototype.flushAllFrames=function(){!this.useAnimationFrame||this.executeFrame(-1)},n.prototype.schedule=function(){!this.useAnimationFrame||this.ticking||(this.ticking=!0,this.requestFrame())},n.prototype.requestFrame=function(){var t=this.executeFrame.bind(this,60),u=this.gridOptionsWrapper.getDocument().defaultView||window;u.requestAnimationFrame?u.requestAnimationFrame(t):u.webkitRequestAnimationFrame?u.webkitRequestAnimationFrame(t):u.setTimeout(t,0)},n.prototype.isQueueEmpty=function(){return!this.ticking},n.prototype.debounce=function(t){var o=this,u=!1;return function(){o.isOn()?u||(u=!0,o.addDestroyTask(function(){u=!1,t()})):o.getFrameworkOverrides().setTimeout(t,0)}},za([I("ctrlsService")],n.prototype,"ctrlsService",void 0),za([Ee],n.prototype,"init",null),za([me("animationFrameService")],n)}(Se),jg=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),Zl=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},Ql=function(p){function n(t,o){var u=p.call(this)||this;return u.element=t,u.dragStartPosition={x:0,y:0},u.position={x:0,y:0},u.lastSize={width:-1,height:-1},u.positioned=!1,u.resizersAdded=!1,u.resizeListeners=[],u.boundaryEl=null,u.isResizing=!1,u.isMoving=!1,u.resizable={},u.movable=!1,u.currentResizer=null,u.config=Object.assign({},{popup:!1},o),u}return jg(n,p),n.prototype.center=function(){var t=this.offsetParent,o=t.clientHeight,c=t.clientWidth/2-this.getWidth()/2,f=o/2-this.getHeight()/2;this.offsetElement(c,f)},n.prototype.initialisePosition=function(){var t=this.config,o=t.centered,u=t.forcePopupParentAsOffsetParent,c=t.minWidth,f=t.width,g=t.minHeight,C=t.height,O=t.x,P=t.y;this.offsetParent||this.setOffsetParent();var R=0,x=0,W=!!this.element.offsetParent;if(W){var U=this.findBoundaryElement(),q=window.getComputedStyle(U);if(null!=q.minWidth){var te=U.offsetWidth-this.element.offsetWidth;x=parseInt(q.minWidth,10)-te}if(null!=q.minHeight){var se=U.offsetHeight-this.element.offsetHeight;R=parseInt(q.minHeight,10)-se}}if(this.minHeight=g||R,this.minWidth=c||x,f&&this.setWidth(f),C&&this.setHeight(C),(!f||!C)&&this.refreshSize(),o)this.center();else if(O||P)this.offsetElement(O,P);else if(W&&u&&this.boundaryEl){var ae=parseFloat(this.boundaryEl.style.top),Ce=parseFloat(this.boundaryEl.style.left);this.offsetElement(isNaN(Ce)?0:Ce,isNaN(ae)?0:ae)}this.positioned=!!this.offsetParent},n.prototype.isPositioned=function(){return this.positioned},n.prototype.getPosition=function(){return this.position},n.prototype.setMovable=function(t,o){if(this.config.popup&&t!==this.movable){this.movable=t;var u=this.moveElementDragListener||{eElement:o,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};t?(this.dragService.addDragSource(u),this.moveElementDragListener=u):(this.dragService.removeDragSource(u),this.moveElementDragListener=void 0)}},n.prototype.setResizable=function(t){var o=this;if(this.clearResizeListeners(),t?this.addResizers():this.removeResizers(),"boolean"==typeof t){if(!1===t)return;t={topLeft:t,top:t,topRight:t,right:t,bottomRight:t,bottom:t,bottomLeft:t,left:t}}Object.keys(t).forEach(function(u){var f=!!t[u],g=o.getResizerElement(u),C={dragStartPixels:0,eElement:g,onDragStart:function(O){return o.onResizeStart(O,u)},onDragging:o.onResize.bind(o),onDragStop:function(O){return o.onResizeEnd(O,u)}};(!!o.resizable[u]!==f||!o.isAlive()&&!f)&&(f?(o.dragService.addDragSource(C),o.resizeListeners.push(C),g.style.pointerEvents="all"):g.style.pointerEvents="none")})},n.prototype.removeSizeFromEl=function(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")},n.prototype.restoreLastSize=function(){this.element.style.flex="0 0 auto";var t=this.lastSize,o=t.height,u=t.width;-1!==u&&(this.element.style.width=u+"px"),-1!==o&&(this.element.style.height=o+"px")},n.prototype.getHeight=function(){return this.element.offsetHeight},n.prototype.setHeight=function(t){var o=this.config.popup,u=this.element,c=!1;if("string"==typeof t&&-1!==t.indexOf("%"))kr(u,t),t=Uo(u),c=!0;else if(this.positioned){var f=this.element.getBoundingClientRect(),g=this.offsetParent.getBoundingClientRect();t=Math.max(this.minHeight,t);var C=this.offsetParent.clientHeight,O=o?this.position.y:f.top;C&&t+O>C+(o?0:g.top)&&(t=C-O)}this.getHeight()!==t&&(c?(u.style.maxHeight="unset",u.style.minHeight="unset"):o?kr(u,t):(u.style.height=t+"px",u.style.flex="0 0 auto",this.lastSize.height="number"==typeof t?t:parseFloat(t)))},n.prototype.getWidth=function(){return this.element.offsetWidth},n.prototype.setWidth=function(t){var o=this.element,u=this.config.popup,c=!1;if("string"==typeof t&&-1!==t.indexOf("%"))ir(o,t),t=Tn(o),c=!0;else if(this.positioned){t=Math.max(this.minWidth,t);var f=this.offsetParent.clientWidth,g=u?this.position.x:this.element.getBoundingClientRect().left;f&&t+g>f&&(t=f-g)}this.getWidth()!==t&&(c?(o.style.maxWidth="unset",o.style.minWidth="unset"):this.config.popup?ir(o,t):(o.style.width=t+"px",o.style.flex=" unset",this.lastSize.width="number"==typeof t?t:parseFloat(t)))},n.prototype.offsetElement=function(t,o){void 0===t&&(t=0),void 0===o&&(o=0);var u=this.config.forcePopupParentAsOffsetParent?this.boundaryEl:this.element;this.popupService.positionPopup({ePopup:u,x:t,y:o,keepWithinBounds:!0}),this.setPosition(parseFloat(u.style.left),parseFloat(u.style.top))},n.prototype.setPosition=function(t,o){this.position.x=t,this.position.y=o},n.prototype.updateDragStartPosition=function(t,o){this.dragStartPosition={x:t,y:o}},n.prototype.calculateMouseMovement=function(t){var o=t.e,c=t.isTop,g=t.topBuffer,C=o.clientX-this.dragStartPosition.x,O=o.clientY-this.dragStartPosition.y;return{movementX:this.shouldSkipX(o,!!t.isLeft,!!t.anywhereWithin,C)?0:C,movementY:this.shouldSkipY(o,!!c,g,O)?0:O}},n.prototype.shouldSkipX=function(t,o,u,c){var f=this.element.getBoundingClientRect(),g=this.offsetParent.getBoundingClientRect(),C=this.boundaryEl.getBoundingClientRect(),O=this.config.popup?this.position.x:f.left,P=O<=0&&g.left>=t.clientX||g.right<=t.clientX&&g.right<=C.right;return!!P||(o?c<0&&t.clientX>O+g.left||c>0&&t.clientX<O+g.left:u?c<0&&t.clientX>C.right||c>0&&t.clientX<O+g.left:c<0&&t.clientX>C.right||c>0&&t.clientX<C.right)},n.prototype.shouldSkipY=function(t,o,u,c){void 0===u&&(u=0);var f=this.element.getBoundingClientRect(),g=this.offsetParent.getBoundingClientRect(),C=this.boundaryEl.getBoundingClientRect(),O=this.config.popup?this.position.y:f.top,P=O<=0&&g.top>=t.clientY||g.bottom<=t.clientY&&g.bottom<=C.bottom;return!!P||(o?c<0&&t.clientY>O+g.top+u||c>0&&t.clientY<O+g.top:c<0&&t.clientY>C.bottom||c>0&&t.clientY<C.bottom)},n.prototype.createResizeMap=function(){var t=this.element;this.resizerMap={topLeft:{element:t.querySelector("[ref=eTopLeftResizer]")},top:{element:t.querySelector("[ref=eTopResizer]")},topRight:{element:t.querySelector("[ref=eTopRightResizer]")},right:{element:t.querySelector("[ref=eRightResizer]")},bottomRight:{element:t.querySelector("[ref=eBottomRightResizer]")},bottom:{element:t.querySelector("[ref=eBottomResizer]")},bottomLeft:{element:t.querySelector("[ref=eBottomLeftResizer]")},left:{element:t.querySelector("[ref=eLeftResizer]")}}},n.prototype.addResizers=function(){if(!this.resizersAdded){var t=this.element;if(t){var u=(new DOMParser).parseFromString('<div class="ag-resizer-wrapper">\n        <div ref="eTopLeftResizer" class="ag-resizer ag-resizer-topLeft"></div>\n        <div ref="eTopResizer" class="ag-resizer ag-resizer-top"></div>\n        <div ref="eTopRightResizer" class="ag-resizer ag-resizer-topRight"></div>\n        <div ref="eRightResizer" class="ag-resizer ag-resizer-right"></div>\n        <div ref="eBottomRightResizer" class="ag-resizer ag-resizer-bottomRight"></div>\n        <div ref="eBottomResizer" class="ag-resizer ag-resizer-bottom"></div>\n        <div ref="eBottomLeftResizer" class="ag-resizer ag-resizer-bottomLeft"></div>\n        <div ref="eLeftResizer" class="ag-resizer ag-resizer-left"></div>\n    </div>',"text/html").body;t.appendChild(u.firstChild),this.createResizeMap(),this.resizersAdded=!0}}},n.prototype.removeResizers=function(){this.resizerMap=void 0;var t=this.element.querySelector(".ag-resizer-wrapper");t&&this.element.removeChild(t),this.resizersAdded=!1},n.prototype.getResizerElement=function(t){return this.resizerMap[t].element},n.prototype.onResizeStart=function(t,o){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!o.match(/top/i),isRight:!!o.match(/right/i),isBottom:!!o.match(/bottom/i),isLeft:!!o.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[o].element.classList.add("ag-active");var u=this.config;!u.popup&&!u.forcePopupParentAsOffsetParent&&this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(t.clientX,t.clientY)},n.prototype.getSiblings=function(){var o=this.element.parentElement;return o?Array.prototype.slice.call(o.children).filter(function(u){return!u.classList.contains("ag-hidden")}):null},n.prototype.getMinSizeOfSiblings=function(){for(var t=this.getSiblings()||[],o=0,u=0,c=0;c<t.length;c++){var f=t[c];if(f!==this.element){var C=this.minHeight||0,O=this.minWidth||0;if(f.style.flex&&"0 0 auto"!==f.style.flex){var P=window.getComputedStyle(f);P.minHeight&&(C=parseInt(P.minHeight,10)),P.minWidth&&(O=parseInt(P.minWidth,10))}else C=f.offsetHeight,O=f.offsetWidth;o+=C,u+=O}}return{height:o,width:u}},n.prototype.applySizeToSiblings=function(t){var o=null,u=this.getSiblings();if(u){for(var c=0;c<u.length;c++){var f=u[c];f!==o&&(t?f.style.height=f.offsetHeight+"px":f.style.width=f.offsetWidth+"px",f.style.flex="0 0 auto",f===this.element&&(o=u[c+1]))}o&&(o.style.removeProperty("height"),o.style.removeProperty("min-height"),o.style.removeProperty("max-height"),o.style.flex="1 1 auto")}},n.prototype.onResize=function(t){if(this.isResizing&&this.currentResizer){var o=this.config,u=o.popup,c=o.forcePopupParentAsOffsetParent,f=this.currentResizer,g=f.isTop,P=f.isLeft,R=f.isRight||P,x=f.isBottom||g,W=this.calculateMouseMovement({e:t,isLeft:P,isTop:g}),U=W.movementX,q=W.movementY,te=this.position.x,se=this.position.y,ae=0,Ce=0;if(R&&U){var Oe=P?-1:1,Me=this.getWidth(),Be=Me+U*Oe,Ve=!1;P&&(te+(ae=Me-Be)<=0||Be<=this.minWidth)&&(Ve=!0,ae=0),Ve||this.setWidth(Be)}if(x&&q){Oe=g?-1:1;var Ae=this.getHeight(),He=Ae+q*Oe,ke=!1;g?(se+(Ce=Ae-He)<=0||He<=this.minHeight)&&(ke=!0,Ce=0):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&Ae<He&&this.getMinSizeOfSiblings().height+He>this.element.parentElement.offsetHeight&&(ke=!0),ke||this.setHeight(He)}this.updateDragStartPosition(t.clientX,t.clientY),((u||c)&&ae||Ce)&&this.offsetElement(te+ae,se+Ce)}},n.prototype.onResizeEnd=function(t,o){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null;var u={type:"resize",api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()};this.element.classList.remove("ag-resizing"),this.resizerMap[o].element.classList.remove("ag-active"),this.dispatchEvent(u)},n.prototype.refreshSize=function(){var t=this.element;this.config.popup&&(this.config.width||this.setWidth(t.offsetWidth),this.config.height||this.setHeight(t.offsetHeight))},n.prototype.onMoveStart=function(t){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(t.clientX,t.clientY)},n.prototype.onMove=function(t){if(this.isMoving){var f,o=this.position,u=o.x,c=o.y;this.config.calculateTopBuffer&&(f=this.config.calculateTopBuffer());var g=this.calculateMouseMovement({e:t,isTop:!0,anywhereWithin:!0,topBuffer:f});this.offsetElement(u+g.movementX,c+g.movementY),this.updateDragStartPosition(t.clientX,t.clientY)}},n.prototype.onMoveEnd=function(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")},n.prototype.setOffsetParent=function(){this.offsetParent=this.config.forcePopupParentAsOffsetParent?this.popupService.getPopupParent():this.element.offsetParent},n.prototype.findBoundaryElement=function(){for(var t=this.element;t;){if("static"!==window.getComputedStyle(t).position)return t;t=t.parentElement}return this.element},n.prototype.clearResizeListeners=function(){for(;this.resizeListeners.length;){var t=this.resizeListeners.pop();this.dragService.removeDragSource(t)}},n.prototype.destroy=function(){p.prototype.destroy.call(this),this.moveElementDragListener&&this.dragService.removeDragSource(this.moveElementDragListener),this.clearResizeListeners(),this.removeResizers()},Zl([I("popupService")],n.prototype,"popupService",void 0),Zl([I("dragService")],n.prototype,"dragService",void 0),n}(Se),zg=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),sn=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},Yg=function(p){function n(){return null!==p&&p.apply(this,arguments)||this}return zg(n,p),n.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady(function(o){t.centerRowContainerCtrl=o.centerRowContainerCtrl})},n.prototype.getPreferredWidthForColumn=function(t,o){var u=this.getHeaderCellForColumn(t);if(!u)return-1;var c=this.rowRenderer.getAllCellsForColumn(t);return o||c.push(u),this.addElementsToContainerAndGetWidth(c)},n.prototype.getPreferredWidthForColumnGroup=function(t){var o=this.getHeaderCellForColumn(t);return o?this.addElementsToContainerAndGetWidth([o]):-1},n.prototype.addElementsToContainerAndGetWidth=function(t){var o=this,u=document.createElement("span");u.style.position="fixed";var c=this.centerRowContainerCtrl.getContainerElement();c.appendChild(u),t.forEach(function(C){return o.cloneItemIntoDummy(C,u)});var f=u.offsetWidth;return c.removeChild(u),f+this.gridOptionsWrapper.getAutoSizePadding()},n.prototype.getHeaderCellForColumn=function(t){var o=null;return this.ctrlsService.getHeaderRowContainerCtrls().forEach(function(u){var c=u.getHtmlElementForColumnHeader(t);null!=c&&(o=c)}),o},n.prototype.cloneItemIntoDummy=function(t,o){var u=t.cloneNode(!0);u.style.width="",u.style.position="static",u.style.left="";var c=document.createElement("div"),f=c.classList;["ag-header-cell","ag-header-group-cell"].some(function(x){return u.classList.contains(x)})?(f.add("ag-header","ag-header-row"),c.style.position="static"):f.add("ag-row");for(var C=t.parentElement;C;){if(["ag-header-row","ag-row"].some(function(x){return C.classList.contains(x)})){for(var P=0;P<C.classList.length;P++){var R=C.classList[P];"ag-row-position-absolute"!=R&&f.add(R)}break}C=C.parentElement}c.appendChild(u),o.appendChild(c)},sn([I("rowRenderer")],n.prototype,"rowRenderer",void 0),sn([I("ctrlsService")],n.prototype,"ctrlsService",void 0),sn([I("rowCssClassCalculator")],n.prototype,"rowCssClassCalculator",void 0),sn([Ee],n.prototype,"postConstruct",null),sn([me("autoWidthCalculator")],n)}(Se),Xg=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),to=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},Zg=function(p,n){var t="function"==typeof Symbol&&p[Symbol.iterator];if(!t)return p;var u,f,o=t.call(p),c=[];try{for(;(void 0===n||n-- >0)&&!(u=o.next()).done;)c.push(u.value)}catch(g){f={error:g}}finally{try{u&&!u.done&&(t=o.return)&&t.call(o)}finally{if(f)throw f.error}}return c},Qg=function(p){function n(t,o){var u=p.call(this)||this;return u.createRowCon=t,u.destroyRowCtrls=o,u.stickyRowCtrls=[],u.containerHeight=0,u}return Xg(n,p),n.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady(function(o){t.gridBodyCtrl=o.gridBodyCtrl})},n.prototype.getStickyRowCtrls=function(){return this.stickyRowCtrls},n.prototype.checkStickyRows=function(){var t=0;if(this.gridOptionsWrapper.isGroupRowsSticky()){for(var o=[],u=this.rowRenderer.getFirstVisibleVerticalPixel(),c=function(x){o.push(x);for(var W=x;W.expanded;)W=Je(W.childrenAfterSort);var U=W.rowTop+W.rowHeight,q=u+t+x.rowHeight;x.stickyRowTop=U<q?t+(U-q):t,t=0,o.forEach(function(te){var se=te.stickyRowTop+te.rowHeight;t<se&&(t=se)})};;){var f=u+t,g=this.rowModel.getRowIndexAtPixel(f),C=this.rowModel.getRow(g);if(null==C||C.level<0)break;for(var O=[],P=C.parent;P.level>=0;)O.push(P),P=P.parent;var R=O.reverse().find(function(x){return o.indexOf(x)<0&&x.displayed});if(R)c(R);else{if(!(C.group&&C.expanded&&!C.footer&&C.rowTop<f))break;c(C)}}this.refreshNodesAndContainerHeight(o,t)}else this.refreshNodesAndContainerHeight([],t)},n.prototype.refreshNodesAndContainerHeight=function(t,o){var u,c,f,g=this,C=this.stickyRowCtrls.filter(function(q){return-1===t.indexOf(q.getRowNode())}),O=t.filter(function(q){return-1===g.stickyRowCtrls.findIndex(function(te){return te.getRowNode()===q})}),P={};C.forEach(function(q){P[q.getRowNode().id]=q,g.stickyRowCtrls=g.stickyRowCtrls.filter(function(te){return te!==q})});try{for(var R=function(p){var n="function"==typeof Symbol&&Symbol.iterator,t=n&&p[n],o=0;if(t)return t.call(p);if(p&&"number"==typeof p.length)return{next:function(){return p&&o>=p.length&&(p=void 0),{value:p&&p[o++],done:!p}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(Object.values(P)),x=R.next();!x.done;x=R.next())x.value.getRowNode().sticky=!1}catch(q){u={error:q}}finally{try{x&&!x.done&&(c=R.return)&&c.call(R)}finally{if(u)throw u.error}}this.destroyRowCtrls(P,!1);var U=O.map(function(q){return q.sticky=!0,g.createRowCon(q,!1,!1)});(f=this.stickyRowCtrls).push.apply(f,function(){for(var p=[],n=0;n<arguments.length;n++)p=p.concat(Zg(arguments[n]));return p}(U)),this.stickyRowCtrls.forEach(function(q){return q.setRowTop(q.getRowNode().stickyRowTop)}),this.stickyRowCtrls.sort(function(q,te){return te.getRowNode().rowIndex-q.getRowNode().rowIndex}),this.containerHeight!==o&&(this.containerHeight=o,this.gridBodyCtrl.setStickyTopHeight(o))},to([I("rowModel")],n.prototype,"rowModel",void 0),to([I("rowRenderer")],n.prototype,"rowRenderer",void 0),to([I("ctrlsService")],n.prototype,"ctrlsService",void 0),to([Ee],n.prototype,"postConstruct",null),n}(Se),ev=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),Jt=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},tv=function(p,n){var t="function"==typeof Symbol&&p[Symbol.iterator];if(!t)return p;var u,f,o=t.call(p),c=[];try{for(;(void 0===n||n-- >0)&&!(u=o.next()).done;)c.push(u.value)}catch(g){f={error:g}}finally{try{u&&!u.done&&(t=o.return)&&t.call(o)}finally{if(f)throw f.error}}return c},eu=function(){for(var p=[],n=0;n<arguments.length;n++)p=p.concat(tv(arguments[n]));return p},rv=function(p){function n(){var t=null!==p&&p.apply(this,arguments)||this;return t.destroyFuncsForColumnListeners=[],t.rowCtrlsByRowIndex={},t.zombieRowCtrls={},t.allRowCtrls=[],t.topRowCtrls=[],t.bottomRowCtrls=[],t.refreshInProgress=!1,t.dataFirstRenderedFired=!1,t}return ev(n,p),n.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady(function(){t.gridBodyCtrl=t.ctrlsService.getGridBodyCtrl(),t.initialise()})},n.prototype.initialise=function(){this.addManagedListener(this.eventService,V.EVENT_PAGINATION_CHANGED,this.onPageLoaded.bind(this)),this.addManagedListener(this.eventService,V.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,V.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,V.EVENT_BODY_SCROLL,this.redrawAfterScroll.bind(this)),this.addManagedListener(this.eventService,V.EVENT_BODY_HEIGHT_CHANGED,this.redrawAfterScroll.bind(this)),this.addManagedListener(this.gridOptionsWrapper,Re.PROP_DOM_LAYOUT,this.onDomLayoutChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,Re.PROP_ROW_CLASS,this.redrawRows.bind(this)),this.gridOptionsWrapper.isGroupRowsSticky()&&(this.rowModel.getType()!=ee.ROW_MODEL_TYPE_CLIENT_SIDE?z(function(){return console.warn("AG Grid: The feature Sticky Row Groups only works with the Client Side Row Model")},"rowRenderer.stickyWorksWithCsrmOnly"):this.gridOptionsWrapper.isTreeData()?z(function(){return console.warn("AG Grid: The feature Sticky Row Groups does not work with Tree Data.")},"rowRenderer.stickyDoesNotWorkWithTreeData"):this.stickyRowFeature=this.createManagedBean(new Qg(this.createRowCon.bind(this),this.destroyRowCtrls.bind(this)))),this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=this.gridOptionsWrapper.getDomLayout()===ee.DOM_LAYOUT_PRINT,this.embedFullWidthRows=this.printLayout||this.gridOptionsWrapper.isEmbedFullWidthRows(),this.redrawAfterModelUpdate()},n.prototype.initialiseCache=function(){if(this.gridOptionsWrapper.isKeepDetailRows()){var t=this.gridOptionsWrapper.getKeepDetailRowsCount();this.cachedRowCtrls=new iv(t??3)}},n.prototype.getRowCtrls=function(){return this.allRowCtrls},n.prototype.getStickyTopRowCtrls=function(){return this.stickyRowFeature?this.stickyRowFeature.getStickyRowCtrls():[]},n.prototype.updateAllRowCtrls=function(){var t=j(this.rowCtrlsByRowIndex);this.gridOptionsWrapper.isEnsureDomOrder()&&t.sort(function(c,f){return c.getRowNode().rowIndex-f.getRowNode.rowIndex});var o=j(this.zombieRowCtrls),u=this.cachedRowCtrls?this.cachedRowCtrls.getEntries():[];this.allRowCtrls=eu(t,o,u)},n.prototype.registerCellEventListeners=function(){var t=this;this.addManagedListener(this.eventService,V.EVENT_CELL_FOCUSED,function(u){t.getAllCellCtrls().forEach(function(c){return c.onCellFocused(u)}),t.getFullWidthRowCtrls().forEach(function(c){c.onFullWidthRowFocused(u)})}),this.addManagedListener(this.eventService,V.EVENT_FLASH_CELLS,function(u){t.getAllCellCtrls().forEach(function(c){return c.onFlashCells(u)})}),this.addManagedListener(this.eventService,V.EVENT_COLUMN_HOVER_CHANGED,function(){t.getAllCellCtrls().forEach(function(u){return u.onColumnHover()})}),this.addManagedListener(this.eventService,V.EVENT_DISPLAYED_COLUMNS_CHANGED,function(){t.getAllCellCtrls().forEach(function(u){return u.onDisplayedColumnsChanged()})}),this.addManagedListener(this.eventService,V.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,function(){t.printLayout&&t.getAllCellCtrls().forEach(function(u){return u.onLeftChanged()})}),this.gridOptionsWrapper.isEnableRangeSelection()&&(this.addManagedListener(this.eventService,V.EVENT_RANGE_SELECTION_CHANGED,function(){t.getAllCellCtrls().forEach(function(u){return u.onRangeSelectionChanged()})}),this.addManagedListener(this.eventService,V.EVENT_COLUMN_MOVED,function(){t.getAllCellCtrls().forEach(function(u){return u.updateRangeBordersIfRangeCount()})}),this.addManagedListener(this.eventService,V.EVENT_COLUMN_PINNED,function(){t.getAllCellCtrls().forEach(function(u){return u.updateRangeBordersIfRangeCount()})}),this.addManagedListener(this.eventService,V.EVENT_COLUMN_VISIBLE,function(){t.getAllCellCtrls().forEach(function(u){return u.updateRangeBordersIfRangeCount()})})),this.refreshListenersToColumnsForCellComps(),this.addManagedListener(this.eventService,V.EVENT_GRID_COLUMNS_CHANGED,this.refreshListenersToColumnsForCellComps.bind(this)),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))},n.prototype.removeGridColumnListeners=function(){this.destroyFuncsForColumnListeners.forEach(function(t){return t()}),this.destroyFuncsForColumnListeners.length=0},n.prototype.refreshListenersToColumnsForCellComps=function(){var t=this;this.removeGridColumnListeners();var o=this.columnModel.getAllGridColumns();!o||o.forEach(function(u){var c=function(R){t.getAllCellCtrls().forEach(function(x){x.getColumn()===u&&R(x)})},f=function(){c(function(R){return R.onLeftChanged()})},g=function(){c(function(R){return R.onWidthChanged()})},C=function(){c(function(R){return R.onFirstRightPinnedChanged()})},O=function(){c(function(R){return R.onLastLeftPinnedChanged()})},P=function(){c(function(R){return R.onColDefChanged()})};u.addEventListener($e.EVENT_LEFT_CHANGED,f),u.addEventListener($e.EVENT_WIDTH_CHANGED,g),u.addEventListener($e.EVENT_FIRST_RIGHT_PINNED_CHANGED,C),u.addEventListener($e.EVENT_LAST_LEFT_PINNED_CHANGED,O),u.addEventListener($e.EVENT_COL_DEF_CHANGED,P),t.destroyFuncsForColumnListeners.push(function(){u.removeEventListener($e.EVENT_LEFT_CHANGED,f),u.removeEventListener($e.EVENT_WIDTH_CHANGED,g),u.removeEventListener($e.EVENT_FIRST_RIGHT_PINNED_CHANGED,C),u.removeEventListener($e.EVENT_LAST_LEFT_PINNED_CHANGED,O),u.removeEventListener($e.EVENT_COL_DEF_CHANGED,P)})})},n.prototype.onDomLayoutChanged=function(){var t=this.gridOptionsWrapper.getDomLayout()===ee.DOM_LAYOUT_PRINT,o=t||this.gridOptionsWrapper.isEmbedFullWidthRows(),u=o!==this.embedFullWidthRows||this.printLayout!==t;this.printLayout=t,this.embedFullWidthRows=o,u&&this.redrawAfterModelUpdate()},n.prototype.datasourceChanged=function(){this.firstRenderedRow=0,this.lastRenderedRow=-1;var t=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(t)},n.prototype.onPageLoaded=function(t){this.redrawAfterModelUpdate({recycleRows:t.keepRenderedRows,animate:t.animate,newData:t.newData,newPage:t.newPage,onlyBody:!0})},n.prototype.getAllCellsForColumn=function(t){var o=[];return this.getAllRowCtrls().forEach(function(u){var c=u.getCellElement(t);c&&o.push(c)}),o},n.prototype.refreshFloatingRowComps=function(){this.refreshFloatingRows(this.topRowCtrls,this.pinnedRowModel.getPinnedTopRowData()),this.refreshFloatingRows(this.bottomRowCtrls,this.pinnedRowModel.getPinnedBottomRowData())},n.prototype.getTopRowCtrls=function(){return this.topRowCtrls},n.prototype.getBottomRowCtrls=function(){return this.bottomRowCtrls},n.prototype.refreshFloatingRows=function(t,o){var u=this;t.forEach(function(c){c.destroyFirstPass(),c.destroySecondPass()}),t.length=0,o&&o.forEach(function(c){var f=new Zr(c,u.beans,!1,!1,u.printLayout);t.push(f)})},n.prototype.onPinnedRowDataChanged=function(){this.redrawAfterModelUpdate({recycleRows:!0})},n.prototype.getRenderedIndexesForRowNodes=function(t){var o=[];return s(t)||b(this.rowCtrlsByRowIndex,function(u,c){var f=c.getRowNode();t.indexOf(f)>=0&&o.push(u)}),o},n.prototype.redrawRows=function(t){var o=null!=t&&t.length>0;if(o){var u=this.getRenderedIndexesForRowNodes(t);this.removeRowCtrls(u)}this.redrawAfterModelUpdate({recycleRows:o})},n.prototype.getCellToRestoreFocusToAfterRefresh=function(t){var o,u=null!==(o=t)&&void 0!==o&&o.suppressKeepFocus?null:this.focusService.getFocusCellToUseAfterRefresh();if(null==u)return null;var f=this.gridOptionsWrapper.getDocument().activeElement,g=this.gridOptionsWrapper.getDomData(f,qr.DOM_DATA_KEY_CELL_CTRL),C=this.gridOptionsWrapper.getDomData(f,Zr.DOM_DATA_KEY_ROW_CTRL);return g||C?u:null},n.prototype.redrawAfterModelUpdate=function(t){void 0===t&&(t={}),this.getLockOnRefresh();var o=this.getCellToRestoreFocusToAfterRefresh(t);this.updateContainerHeights(),this.scrollToTopIfNewData(t);var u=!this.printLayout&&!!t.recycleRows,c=t.animate&&this.gridOptionsWrapper.isAnimateRows(),f=u?this.recycleRows():null;u||this.removeAllRowComps();var C=function(){if(null==o||null==f)return!1;var O=!1;return b(f,function(P,R){var x=R.getRowNode();x.rowIndex==o.rowIndex&&x.rowPinned==o.rowPinned&&(O=!0)}),O}();this.redraw(f,c),this.gridBodyCtrl.updateRowCount(),t.onlyBody||this.refreshFloatingRowComps(),this.dispatchDisplayedRowsChanged(),C||this.restoreFocusedCell(o),this.releaseLockOnRefresh()},n.prototype.scrollToTopIfNewData=function(t){var o=t.newData||t.newPage,u=this.gridOptionsWrapper.isSuppressScrollOnNewData();o&&!u&&this.gridBodyCtrl.getScrollFeature().scrollToTop()},n.prototype.updateContainerHeights=function(){if(this.printLayout)this.rowContainerHeightService.setModelHeight(null);else{var t=this.paginationProxy.getCurrentPageHeight();0===t&&(t=1),this.rowContainerHeightService.setModelHeight(t)}},n.prototype.getLockOnRefresh=function(){if(this.refreshInProgress)throw new Error("AG Grid: cannot get grid to draw rows when it is in the middle of drawing rows. Your code probably called a grid API method while the grid was in the render stage. To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). To see what part of your code that caused the refresh check this stacktrace.");this.refreshInProgress=!0},n.prototype.releaseLockOnRefresh=function(){this.refreshInProgress=!1},n.prototype.isRefreshInProgress=function(){return this.refreshInProgress},n.prototype.restoreFocusedCell=function(t){t&&this.focusService.setFocusedCell({rowIndex:t.rowIndex,column:t.column,rowPinned:t.rowPinned,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})},n.prototype.stopEditing=function(t){void 0===t&&(t=!1),this.getAllRowCtrls().forEach(function(o){o.stopEditing(t)})},n.prototype.getAllCellCtrls=function(){var t=[];return this.getAllRowCtrls().forEach(function(o){return t=t.concat(o.getAllCellCtrls())}),t},n.prototype.getAllRowCtrls=function(){var t=this,o=this.stickyRowFeature&&this.stickyRowFeature.getStickyRowCtrls()||[],u=eu(this.topRowCtrls,this.bottomRowCtrls,o);return Object.keys(this.rowCtrlsByRowIndex).forEach(function(c){return u.push(t.rowCtrlsByRowIndex[c])}),u},n.prototype.addRenderedRowListener=function(t,o,u){var c=this.rowCtrlsByRowIndex[o];c&&c.addEventListener(t,u)},n.prototype.flashCells=function(t){void 0===t&&(t={});var o=t.flashDelay,u=t.fadeDelay;this.getCellCtrls(t.rowNodes,t.columns).forEach(function(c){return c.flashCell({flashDelay:o,fadeDelay:u})})},n.prototype.refreshCells=function(t){void 0===t&&(t={});var o={forceRefresh:t.force,newData:!1,suppressFlash:t.suppressFlash};this.getCellCtrls(t.rowNodes,t.columns).forEach(function(u){if(u.refreshShouldDestroy()){var c=u.getRowCtrl();c&&c.refreshCell(u)}else u.refreshCell(o)}),this.getFullWidthRowCtrls(t.rowNodes).forEach(function(u){u.refreshFullWidth()})},n.prototype.getCellRendererInstances=function(t){return this.getCellCtrls(t.rowNodes,t.columns).map(function(u){return u.getCellRenderer()}).filter(function(u){return null!=u})},n.prototype.getCellEditorInstances=function(t){var o=[];return this.getCellCtrls(t.rowNodes,t.columns).forEach(function(u){var c=u.getCellEditor();c&&o.push(c)}),o},n.prototype.getEditingCells=function(){var t=[];return this.getAllCellCtrls().forEach(function(o){if(o.isEditing()){var u=o.getCellPosition();t.push(u)}}),t},n.prototype.mapRowNodes=function(t){if(t){var o={top:{},bottom:{},normal:{}};return t.forEach(function(u){var c=u.id;u.rowPinned===ee.PINNED_TOP?o.top[c]=u:u.rowPinned===ee.PINNED_BOTTOM?o.bottom[c]=u:o.normal[c]=u}),o}},n.prototype.isRowInMap=function(t,o){var u=t.id,c=t.rowPinned;return c===ee.PINNED_BOTTOM?null!=o.bottom[u]:c===ee.PINNED_TOP?null!=o.top[u]:null!=o.normal[u]},n.prototype.getCellCtrls=function(t,o){var g,u=this,c=this.mapRowNodes(t),f=[];a(o)&&(g={},o.forEach(function(O){var P=u.columnModel.getGridColumn(O);a(P)&&(g[P.getId()]=!0)}));var C=function(O){var P=O.getRowNode();null!=c&&!u.isRowInMap(P,c)||O.getAllCellCtrls().forEach(function(R){var x=R.getColumn().getId();g&&!g[x]||f.push(R)})};return b(this.rowCtrlsByRowIndex,function(O,P){C(P)}),this.topRowCtrls&&this.topRowCtrls.forEach(C),this.bottomRowCtrls&&this.bottomRowCtrls.forEach(C),f},n.prototype.destroy=function(){this.removeAllRowComps(),p.prototype.destroy.call(this)},n.prototype.removeAllRowComps=function(){var t=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(t)},n.prototype.recycleRows=function(){var t=[];b(this.rowCtrlsByRowIndex,function(u,c){null==c.getRowNode().id&&t.push(u)}),this.removeRowCtrls(t);var o={};return b(this.rowCtrlsByRowIndex,function(u,c){var f=c.getRowNode();o[f.id]=c}),this.rowCtrlsByRowIndex={},o},n.prototype.removeRowCtrls=function(t){var o=this;t.forEach(function(u){var c=o.rowCtrlsByRowIndex[u];c&&(c.destroyFirstPass(),c.destroySecondPass()),delete o.rowCtrlsByRowIndex[u]})},n.prototype.redrawAfterScroll=function(){var t;if(this.stickyRowFeature&&On()&&(t=this.getCellToRestoreFocusToAfterRefresh()||void 0),this.getLockOnRefresh(),this.redraw(null,!1,!0),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(),null!=t){var o=this.getCellToRestoreFocusToAfterRefresh();null!=t&&null==o&&(this.animationFrameService.flushAllFrames(),this.restoreFocusedCell(t))}},n.prototype.removeRowCompsNotToDraw=function(t){var o={};t.forEach(function(f){return o[f]=!0});var c=Object.keys(this.rowCtrlsByRowIndex).filter(function(f){return!o[f]});this.removeRowCtrls(c)},n.prototype.calculateIndexesToDraw=function(t){var o=this,u=Fs(this.firstRenderedRow,this.lastRenderedRow),c=function(f,g){var C=g.getRowNode().rowIndex;null!=C&&(C<o.firstRenderedRow||C>o.lastRenderedRow)&&o.doNotUnVirtualiseRow(g)&&u.push(C)};return b(this.rowCtrlsByRowIndex,c),b(t,c),u.sort(function(f,g){return f-g}),u=u.filter(function(f){var g=o.paginationProxy.getRow(f);return g&&!g.sticky})},n.prototype.redraw=function(t,o,u){var c=this;void 0===o&&(o=!1),void 0===u&&(u=!1),this.rowContainerHeightService.updateOffset(),this.workOutFirstAndLastRowsToRender(),this.stickyRowFeature&&this.stickyRowFeature.checkStickyRows();var f=this.calculateIndexesToDraw(t);this.removeRowCompsNotToDraw(f),this.printLayout&&(o=!1),f.forEach(function(C){a(c.createOrUpdateRowCtrl(C,t,o,u))}),t&&(!u||this.gridOptionsWrapper.isSuppressAnimationFrame()||this.printLayout?this.destroyRowCtrls(t,o):this.beans.animationFrameService.addDestroyTask(function(){c.destroyRowCtrls(t,o),c.updateAllRowCtrls(),c.dispatchDisplayedRowsChanged()})),this.updateAllRowCtrls()},n.prototype.dispatchDisplayedRowsChanged=function(){this.eventService.dispatchEvent({type:V.EVENT_DISPLAYED_ROWS_CHANGED})},n.prototype.onDisplayedColumnsChanged=function(){var t=this.columnModel.isPinningLeft(),o=this.columnModel.isPinningRight();(this.pinningLeft!==t||o!==this.pinningRight)&&(this.pinningLeft=t,this.pinningRight=o,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())},n.prototype.redrawFullWidthEmbeddedRows=function(){var t=[];this.getFullWidthRowCtrls().forEach(function(o){var u=o.getRowNode().rowIndex;t.push(u.toString())}),this.refreshFloatingRowComps(),this.removeRowCtrls(t),this.redrawAfterScroll()},n.prototype.getFullWidthRowCtrls=function(t){var o=this,u=this.mapRowNodes(t);return j(this.rowCtrlsByRowIndex).filter(function(c){if(!c.isFullWidth())return!1;var f=c.getRowNode();return!(null!=u&&!o.isRowInMap(f,u))})},n.prototype.refreshFullWidthRows=function(t){var o=[],u=!!t,c=u?{}:void 0;u&&c&&t.forEach(function(f){return c[f.id]=!0}),this.getFullWidthRowCtrls().forEach(function(f){var g=f.getRowNode();if((!u||!c||c[g.id]||c[g.level>0&&g.parent?g.parent.id:void 0])&&!f.refreshFullWidth()){var R=f.getRowNode().rowIndex;o.push(R.toString())}}),this.removeRowCtrls(o),this.redrawAfterScroll()},n.prototype.createOrUpdateRowCtrl=function(t,o,u,c){var f,g=this.rowCtrlsByRowIndex[t];if(g||a(f=this.paginationProxy.getRow(t))&&a(o)&&o[f.id]&&f.alreadyRendered&&(g=o[f.id],o[f.id]=null),!g){if(f||(f=this.paginationProxy.getRow(t)),!a(f))return;g=this.createRowCon(f,u,c)}return f&&(f.alreadyRendered=!0),this.rowCtrlsByRowIndex[t]=g,g},n.prototype.destroyRowCtrls=function(t,o){var u=this,c=[];b(t,function(f,g){if(g){if(u.cachedRowCtrls&&g.isCacheable())return void u.cachedRowCtrls.addRow(g);g.destroyFirstPass(),o?(u.zombieRowCtrls[g.getInstanceId()]=g,c.push(function(){g.destroySecondPass(),delete u.zombieRowCtrls[g.getInstanceId()]})):g.destroySecondPass()}}),o&&(c.push(function(){u.updateAllRowCtrls(),u.dispatchDisplayedRowsChanged()}),ne(c))},n.prototype.workOutFirstAndLastRowsToRender=function(){var t,o;if(this.paginationProxy.isRowsToRender())if(this.printLayout)t=this.paginationProxy.getPageFirstRow(),o=this.paginationProxy.getPageLastRow();else{var u=this.gridOptionsWrapper.getRowBufferInPixels(),c=this.ctrlsService.getGridBodyCtrl(),f=this.gridOptionsWrapper.isSuppressRowVirtualisation(),g=!1,C=void 0,O=void 0;do{var P=this.paginationProxy.getPixelOffset(),R=this.paginationProxy.getCurrentPagePixelRange(),x=R.pageFirstPixel,W=R.pageLastPixel,U=this.rowContainerHeightService.getDivStretchOffset(),q=c.getScrollFeature().getVScrollPosition(),te=q.top,se=q.bottom;f?(C=x+U,O=W+U):(C=Math.max(te+P-u,x)+U,O=Math.min(se+P+u,W)+U),this.firstVisibleVPixel=Math.max(te+P,x)+U,g=this.ensureAllRowsInRangeHaveHeightsCalculated(C,O)}while(g);var ae=this.paginationProxy.getRowIndexAtPixel(C),Ce=this.paginationProxy.getRowIndexAtPixel(O),Oe=this.paginationProxy.getPageFirstRow(),Me=this.paginationProxy.getPageLastRow();ae<Oe&&(ae=Oe),Ce>Me&&(Ce=Me),t=ae,o=Ce}else t=0,o=-1;var Be=this.gridOptionsWrapper.getDomLayout()===ee.DOM_LAYOUT_NORMAL,Ve=this.gridOptionsWrapper.isSuppressMaxRenderedRowRestriction(),Ae=Math.max(this.gridOptionsWrapper.getRowBuffer(),500);Be&&!Ve&&o-t>Ae&&(o=t+Ae),(t!==this.firstRenderedRow||o!==this.lastRenderedRow)&&(this.firstRenderedRow=t,this.lastRenderedRow=o,this.eventService.dispatchEvent({type:V.EVENT_VIEWPORT_CHANGED,firstRow:t,lastRow:o}))},n.prototype.dispatchFirstDataRenderedEvent=function(){var t=this;if(!this.dataFirstRenderedFired){this.dataFirstRenderedFired=!0;var o={type:V.EVENT_FIRST_DATA_RENDERED,firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow};window.requestAnimationFrame(function(){t.beans.eventService.dispatchEvent(o)})}},n.prototype.ensureAllRowsInRangeHaveHeightsCalculated=function(t,o){var u=this.paginationProxy.ensureRowHeightsValid(t,o,-1,-1);return u&&this.updateContainerHeights(),u},n.prototype.getFirstVisibleVerticalPixel=function(){return this.firstVisibleVPixel},n.prototype.getFirstVirtualRenderedRow=function(){return this.firstRenderedRow},n.prototype.getLastVirtualRenderedRow=function(){return this.lastRenderedRow},n.prototype.doNotUnVirtualiseRow=function(t){var c=t.getRowNode(),f=this.focusService.isRowNodeFocused(c),g=t.isEditing();return!!(f||g||c.detail)&&!!this.paginationProxy.isRowPresent(c)},n.prototype.createRowCon=function(t,o,u){var c=this.cachedRowCtrls?this.cachedRowCtrls.getRow(t):null;if(c)return c;var f=this.gridOptionsWrapper.isSuppressAnimationFrame();return new Zr(t,this.beans,o,u&&!f&&!this.printLayout,this.printLayout)},n.prototype.getRenderedNodes=function(){var t=this.rowCtrlsByRowIndex;return Object.keys(t).map(function(o){return t[o].getRowNode()})},n.prototype.getRowByPosition=function(t){var o,u=t.rowIndex;switch(t.rowPinned){case ee.PINNED_TOP:o=this.topRowCtrls[u];break;case ee.PINNED_BOTTOM:o=this.bottomRowCtrls[u];break;default:(o=this.rowCtrlsByRowIndex[u])||(o=this.getStickyTopRowCtrls().find(function(c){return c.getRowNode().rowIndex===u})||null)}return o},n.prototype.getRowNode=function(t){switch(t.rowPinned){case ee.PINNED_TOP:return this.pinnedRowModel.getPinnedTopRowData()[t.rowIndex];case ee.PINNED_BOTTOM:return this.pinnedRowModel.getPinnedBottomRowData()[t.rowIndex];default:return this.rowModel.getRow(t.rowIndex)}},n.prototype.isRangeInRenderedViewport=function(t,o){return!(null==t||null==o||o<this.firstRenderedRow||t>this.lastRenderedRow)},Jt([I("animationFrameService")],n.prototype,"animationFrameService",void 0),Jt([I("paginationProxy")],n.prototype,"paginationProxy",void 0),Jt([I("columnModel")],n.prototype,"columnModel",void 0),Jt([I("pinnedRowModel")],n.prototype,"pinnedRowModel",void 0),Jt([I("rowModel")],n.prototype,"rowModel",void 0),Jt([I("focusService")],n.prototype,"focusService",void 0),Jt([I("beans")],n.prototype,"beans",void 0),Jt([I("rowContainerHeightService")],n.prototype,"rowContainerHeightService",void 0),Jt([I("ctrlsService")],n.prototype,"ctrlsService",void 0),Jt([Ee],n.prototype,"postConstruct",null),Jt([me("rowRenderer")],n)}(Se),iv=function(){function p(n){this.entriesMap={},this.entriesList=[],this.maxCount=n}return p.prototype.addRow=function(n){if(this.entriesMap[n.getRowNode().id]=n,this.entriesList.push(n),n.setCached(!0),this.entriesList.length>this.maxCount){var t=this.entriesList[0];t.destroyFirstPass(),t.destroySecondPass(),this.removeFromCache(t)}},p.prototype.getRow=function(n){if(null==n||null==n.id)return null;var t=this.entriesMap[n.id];return t?(this.removeFromCache(t),t.setCached(!1),t.getRowNode()!=n?null:t):null},p.prototype.removeFromCache=function(n){var t=n.getRowNode().id;delete this.entriesMap[t],vt(this.entriesList,n)},p.prototype.getEntries=function(){return this.entriesList},p}(),nv=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),tu=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},ov=function(p){function n(){return null!==p&&p.apply(this,arguments)||this}return nv(n,p),n.prototype.formatValue=function(t,o,u,c,f){void 0===f&&(f=!0);var C,g=null,O=t.getColDef();if(c?C=c:f&&(C=o&&o.rowPinned&&O.pinnedRowValueFormatter?O.pinnedRowValueFormatter:O.valueFormatter),C){var P={value:u,node:o,data:o?o.data:null,colDef:O,column:t,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};g=this.expressionService.evaluate(C,P)}else if(O.refData)return O.refData[u]||"";return null==g&&Array.isArray(u)&&(g=u.join(", ")),g},tu([I("expressionService")],n.prototype,"expressionService",void 0),tu([me("valueFormatterService")],n)}(Se),av=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),Ya=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},sv=function(p){function n(){return null!==p&&p.apply(this,arguments)||this}return av(n,p),n.prototype.init=function(){this.setPinnedTopRowData(this.gridOptionsWrapper.getPinnedTopRowData()),this.setPinnedBottomRowData(this.gridOptionsWrapper.getPinnedBottomRowData())},n.prototype.isEmpty=function(t){return d(t===ee.PINNED_TOP?this.pinnedTopRows:this.pinnedBottomRows)},n.prototype.isRowsToRender=function(t){return!this.isEmpty(t)},n.prototype.getRowAtPixel=function(t,o){var u=o===ee.PINNED_TOP?this.pinnedTopRows:this.pinnedBottomRows;if(d(u))return 0;for(var c=0;c<u.length;c++){var f=u[c];if(f.rowTop+f.rowHeight-1>=t)return c}return u.length-1},n.prototype.setPinnedTopRowData=function(t){this.pinnedTopRows=this.createNodesFromData(t,!0),this.eventService.dispatchEvent({type:V.EVENT_PINNED_ROW_DATA_CHANGED})},n.prototype.setPinnedBottomRowData=function(t){this.pinnedBottomRows=this.createNodesFromData(t,!1),this.eventService.dispatchEvent({type:V.EVENT_PINNED_ROW_DATA_CHANGED})},n.prototype.createNodesFromData=function(t,o){var u=this,c=[];if(t){var f=0;t.forEach(function(g,C){var O=new Ke(u.beans);O.data=g,O.id=(o?Ke.ID_PREFIX_TOP_PINNED:Ke.ID_PREFIX_BOTTOM_PINNED)+C,O.rowPinned=o?ee.PINNED_TOP:ee.PINNED_BOTTOM,O.setRowTop(f),O.setRowHeight(u.gridOptionsWrapper.getRowHeightForNode(O).height),O.setRowIndex(C),f+=O.rowHeight,c.push(O)})}return c},n.prototype.getPinnedTopRowData=function(){return this.pinnedTopRows},n.prototype.getPinnedBottomRowData=function(){return this.pinnedBottomRows},n.prototype.getPinnedTopTotalHeight=function(){return this.getTotalHeight(this.pinnedTopRows)},n.prototype.getPinnedTopRowCount=function(){return this.pinnedTopRows?this.pinnedTopRows.length:0},n.prototype.getPinnedBottomRowCount=function(){return this.pinnedBottomRows?this.pinnedBottomRows.length:0},n.prototype.getPinnedTopRow=function(t){return this.pinnedTopRows[t]},n.prototype.getPinnedBottomRow=function(t){return this.pinnedBottomRows[t]},n.prototype.forEachPinnedTopRow=function(t){d(this.pinnedTopRows)||this.pinnedTopRows.forEach(t)},n.prototype.forEachPinnedBottomRow=function(t){d(this.pinnedBottomRows)||this.pinnedBottomRows.forEach(t)},n.prototype.getPinnedBottomTotalHeight=function(){return this.getTotalHeight(this.pinnedBottomRows)},n.prototype.getTotalHeight=function(t){if(!t||0===t.length)return 0;var o=Je(t);return o.rowTop+o.rowHeight},Ya([I("beans")],n.prototype,"beans",void 0),Ya([Ee],n.prototype,"init",null),Ya([me("pinnedRowModel")],n)}(Se),ro=(()=>(function(p){p.Applied="Applied",p.StoreNotFound="StoreNotFound",p.StoreLoading="StoreLoading",p.StoreWaitingToLoad="StoreWaitingToLoad",p.StoreLoadingFailed="StoreLoadingFailed",p.StoreWrongType="StoreWrongType",p.Cancelled="Cancelled"}(ro||(ro={})),ro))(),io=function(){function p(n,t){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=n,this.pathRoot={rowNode:t,children:null},this.mapToItems[t.id]=this.pathRoot}return p.prototype.setInactive=function(){this.active=!1},p.prototype.isActive=function(){return this.active},p.prototype.depthFirstSearchChangedPath=function(n,t){if(n.children)for(var o=0;o<n.children.length;o++)this.depthFirstSearchChangedPath(n.children[o],t);t(n.rowNode)},p.prototype.depthFirstSearchEverything=function(n,t,o){if(n.childrenAfterGroup)for(var u=0;u<n.childrenAfterGroup.length;u++){var c=n.childrenAfterGroup[u];c.childrenAfterGroup?this.depthFirstSearchEverything(n.childrenAfterGroup[u],t,o):o&&t(c)}t(n)},p.prototype.forEachChangedNodeDepthFirst=function(n,t){void 0===t&&(t=!1),this.active?this.depthFirstSearchChangedPath(this.pathRoot,n):this.depthFirstSearchEverything(this.pathRoot.rowNode,n,t)},p.prototype.executeFromRootNode=function(n){n(this.pathRoot.rowNode)},p.prototype.createPathItems=function(n){for(var t=n,o=0;!this.mapToItems[t.id];)this.mapToItems[t.id]={rowNode:t,children:null},o++,t=t.parent;return o},p.prototype.populateColumnsMap=function(n,t){var o=this;if(this.keepingColumns&&t)for(var u=n;u;)this.nodeIdsToColumns[u.id]||(this.nodeIdsToColumns[u.id]={}),t.forEach(function(c){return o.nodeIdsToColumns[u.id][c.getId()]=!0}),u=u.parent},p.prototype.linkPathItems=function(n,t){for(var o=n,u=0;u<t;u++){var c=this.mapToItems[o.id],f=this.mapToItems[o.parent.id];f.children||(f.children=[]),f.children.push(c),o=o.parent}},p.prototype.addParentNode=function(n,t){if(n&&!n.isRowPinned()){var o=this.createPathItems(n);this.linkPathItems(n,o),this.populateColumnsMap(n,t)}},p.prototype.canSkip=function(n){return this.active&&!this.mapToItems[n.id]},p.prototype.getValueColumnsForNode=function(n,t){if(!this.keepingColumns)return t;var o=this.nodeIdsToColumns[n.id];return t.filter(function(c){return o[c.getId()]})},p.prototype.getNotValueColumnsForNode=function(n,t){if(!this.keepingColumns)return null;var o=this.nodeIdsToColumns[n.id];return t.filter(function(c){return!o[c.getId()]})},p}(),lv=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),no=function(p){function n(t){var o=p.call(this)||this;return o.state=n.STATE_WAITING_TO_LOAD,o.version=0,o.id=t,o}return lv(n,p),n.prototype.getId=function(){return this.id},n.prototype.load=function(){this.state=n.STATE_LOADING,this.loadFromDatasource()},n.prototype.getVersion=function(){return this.version},n.prototype.setStateWaitingToLoad=function(){this.version++,this.state=n.STATE_WAITING_TO_LOAD},n.prototype.getState=function(){return this.state},n.prototype.pageLoadFailed=function(t){this.isRequestMostRecentAndLive(t)&&(this.state=n.STATE_FAILED,this.processServerFail()),this.dispatchLoadCompleted(!1)},n.prototype.success=function(t,o){this.successCommon(t,o)},n.prototype.pageLoaded=function(t,o,u){this.successCommon(t,{rowData:o,rowCount:u})},n.prototype.isRequestMostRecentAndLive=function(t){var o=t===this.version,u=this.isAlive();return o&&u},n.prototype.successCommon=function(t,o){this.dispatchLoadCompleted(),this.isRequestMostRecentAndLive(t)&&(this.state=n.STATE_LOADED,this.processServerResult(o))},n.prototype.dispatchLoadCompleted=function(t){void 0===t&&(t=!0),this.dispatchEvent({type:n.EVENT_LOAD_COMPLETE,success:t,block:this})},n.EVENT_LOAD_COMPLETE="loadComplete",n.STATE_WAITING_TO_LOAD="needsLoading",n.STATE_LOADING="loading",n.STATE_LOADED="loaded",n.STATE_FAILED="failed",n}(Se),uv=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),Xa=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},cv=function(p,n){return function(t,o){n(t,o,p)}},pv=function(p){function n(){var o=null!==p&&p.apply(this,arguments)||this;return o.activeBlockLoadsCount=0,o.blocks=[],o.active=!0,o}var t;return uv(n,p),t=n,n.prototype.postConstruct=function(){this.maxConcurrentRequests=this.gridOptionsWrapper.getMaxConcurrentDatasourceRequests();var o=this.gridOptionsWrapper.getBlockLoadDebounceMillis();o&&o>0&&(this.checkBlockToLoadDebounce=Ge.debounce(this.performCheckBlocksToLoad.bind(this),o))},n.prototype.setBeans=function(o){this.logger=o.create("RowNodeBlockLoader")},n.prototype.addBlock=function(o){this.blocks.push(o),o.addEventListener(no.EVENT_LOAD_COMPLETE,this.loadComplete.bind(this)),this.checkBlockToLoad()},n.prototype.removeBlock=function(o){Ge.removeFromArray(this.blocks,o)},n.prototype.destroy=function(){p.prototype.destroy.call(this),this.active=!1},n.prototype.loadComplete=function(){this.activeBlockLoadsCount--,this.checkBlockToLoad(),0==this.activeBlockLoadsCount&&this.dispatchEvent({type:t.BLOCK_LOADER_FINISHED_EVENT})},n.prototype.checkBlockToLoad=function(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()},n.prototype.performCheckBlocksToLoad=function(){if(this.active){if(this.printCacheStatus(),null!=this.maxConcurrentRequests&&this.activeBlockLoadsCount>=this.maxConcurrentRequests)return void this.logger.log("checkBlockToLoad: max loads exceeded");var o=void 0!==this.maxConcurrentRequests?this.maxConcurrentRequests-this.activeBlockLoadsCount:void 0,u=this.blocks.filter(function(c){return c.getState()===no.STATE_WAITING_TO_LOAD}).slice(0,o);this.activeBlockLoadsCount+=u.length,u.forEach(function(c){return c.load()}),this.printCacheStatus()}},n.prototype.getBlockState=function(){var o={};return this.blocks.forEach(function(u){var c=u.getBlockStateJson();o[c.id]=c.state}),o},n.prototype.printCacheStatus=function(){this.logger.isLogging()&&this.logger.log("printCacheStatus: activePageLoadsCount = "+this.activeBlockLoadsCount+", blocks = "+JSON.stringify(this.getBlockState()))},n.prototype.isLoading=function(){return this.activeBlockLoadsCount>0},n.BLOCK_LOADER_FINISHED_EVENT="blockLoaderFinished",Xa([Ee],n.prototype,"postConstruct",null),Xa([cv(0,tt("loggerFactory"))],n.prototype,"setBeans",null),t=Xa([me("rowNodeBlockLoader")],n)}(Se),dv=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),qa=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},hv=function(p){function n(){var t=null!==p&&p.apply(this,arguments)||this;return t.currentPage=0,t.topDisplayedRowIndex=0,t.bottomDisplayedRowIndex=0,t.pixelOffset=0,t.masterRowCount=0,t}return dv(n,p),n.prototype.postConstruct=function(){this.active=this.gridOptionsWrapper.isPagination(),this.paginateChildRows=this.gridOptionsWrapper.isPaginateChildRows(),this.addManagedListener(this.eventService,V.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedListener(this.gridOptionsWrapper,"paginationPageSize",this.onPaginationPageSizeChanged.bind(this)),this.onModelUpdated()},n.prototype.ensureRowHeightsValid=function(t,o,u,c){var f=this.rowModel.ensureRowHeightsValid(t,o,this.getPageFirstRow(),this.getPageLastRow());return f&&this.calculatePages(),f},n.prototype.onModelUpdated=function(t){this.calculatePages(),this.eventService.dispatchEvent({type:V.EVENT_PAGINATION_CHANGED,animate:!!t&&t.animate,newData:!!t&&t.newData,newPage:!!t&&t.newPage,keepRenderedRows:!!t&&t.keepRenderedRows})},n.prototype.onPaginationPageSizeChanged=function(){this.calculatePages(),this.eventService.dispatchEvent({type:V.EVENT_PAGINATION_CHANGED,animate:!1,newData:!1,newPage:!1,keepRenderedRows:!0})},n.prototype.goToPage=function(t){this.active&&this.currentPage!==t&&(this.currentPage=t,this.onModelUpdated({type:V.EVENT_MODEL_UPDATED,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!0}))},n.prototype.getPixelOffset=function(){return this.pixelOffset},n.prototype.getRow=function(t){return this.rowModel.getRow(t)},n.prototype.getRowNode=function(t){return this.rowModel.getRowNode(t)},n.prototype.getRowIndexAtPixel=function(t){return this.rowModel.getRowIndexAtPixel(t)},n.prototype.getCurrentPageHeight=function(){return s(this.topRowBounds)||s(this.bottomRowBounds)?0:Math.max(this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight-this.topRowBounds.rowTop,0)},n.prototype.getCurrentPagePixelRange=function(){return{pageFirstPixel:this.topRowBounds?this.topRowBounds.rowTop:0,pageLastPixel:this.bottomRowBounds?this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight:0}},n.prototype.isRowPresent=function(t){return!!this.rowModel.isRowPresent(t)&&t.rowIndex>=this.topDisplayedRowIndex&&t.rowIndex<=this.bottomDisplayedRowIndex},n.prototype.isEmpty=function(){return this.rowModel.isEmpty()},n.prototype.isRowsToRender=function(){return this.rowModel.isRowsToRender()},n.prototype.getNodesInRangeForSelection=function(t,o){return this.rowModel.getNodesInRangeForSelection(t,o)},n.prototype.forEachNode=function(t){return this.rowModel.forEachNode(t)},n.prototype.getType=function(){return this.rowModel.getType()},n.prototype.getRowBounds=function(t){var o=this.rowModel.getRowBounds(t);return o.rowIndex=t,o},n.prototype.getPageFirstRow=function(){return this.topRowBounds?this.topRowBounds.rowIndex:-1},n.prototype.getPageLastRow=function(){return this.bottomRowBounds?this.bottomRowBounds.rowIndex:-1},n.prototype.getRowCount=function(){return this.rowModel.getRowCount()},n.prototype.getPageForIndex=function(t){return Math.floor(t/this.pageSize)},n.prototype.goToPageWithIndex=function(t){if(this.active){var o=this.getPageForIndex(t);this.goToPage(o)}},n.prototype.isRowInPage=function(t){return!this.active||this.getPageForIndex(t.rowIndex)===this.currentPage},n.prototype.isLastPageFound=function(){return this.rowModel.isLastRowIndexKnown()},n.prototype.getCurrentPage=function(){return this.currentPage},n.prototype.goToNextPage=function(){this.goToPage(this.currentPage+1)},n.prototype.goToPreviousPage=function(){this.goToPage(this.currentPage-1)},n.prototype.goToFirstPage=function(){this.goToPage(0)},n.prototype.goToLastPage=function(){var t=this.rowModel.getRowCount(),o=Math.floor(t/this.pageSize);this.goToPage(o)},n.prototype.getPageSize=function(){return this.pageSize},n.prototype.getTotalPages=function(){return this.totalPages},n.prototype.setPageSize=function(){this.pageSize=this.gridOptionsWrapper.getPaginationPageSize(),(null==this.pageSize||this.pageSize<1)&&(this.pageSize=100)},n.prototype.calculatePages=function(){this.active?(this.setPageSize(),this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly()):this.calculatedPagesNotActive(),this.topRowBounds=this.rowModel.getRowBounds(this.topDisplayedRowIndex),this.topRowBounds&&(this.topRowBounds.rowIndex=this.topDisplayedRowIndex),this.bottomRowBounds=this.rowModel.getRowBounds(this.bottomDisplayedRowIndex),this.bottomRowBounds&&(this.bottomRowBounds.rowIndex=this.bottomDisplayedRowIndex),this.setPixelOffset(a(this.topRowBounds)?this.topRowBounds.rowTop:0)},n.prototype.setPixelOffset=function(t){this.pixelOffset!==t&&(this.pixelOffset=t,this.eventService.dispatchEvent({type:V.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED}))},n.prototype.setZeroRows=function(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0},n.prototype.calculatePagesMasterRowsOnly=function(){if(this.masterRowCount=this.rowModel.getTopLevelRowCount(),this.masterRowCount<=0)this.setZeroRows();else{var t=this.masterRowCount-1;this.totalPages=Math.floor(t/this.pageSize)+1,this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!Sn(this.currentPage)||this.currentPage<0)&&(this.currentPage=0);var u=this.pageSize*(this.currentPage+1)-1;if(u>t&&(u=t),this.topDisplayedRowIndex=this.rowModel.getTopLevelRowDisplayedIndex(this.pageSize*this.currentPage),u===t)this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1;else{var c=this.rowModel.getTopLevelRowDisplayedIndex(u+1);this.bottomDisplayedRowIndex=c-1}}},n.prototype.getMasterRowCount=function(){return this.masterRowCount},n.prototype.calculatePagesAllRows=function(){if(this.masterRowCount=this.rowModel.getRowCount(),0!==this.masterRowCount){var t=this.masterRowCount-1;this.totalPages=Math.floor(t/this.pageSize)+1,this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!Sn(this.currentPage)||this.currentPage<0)&&(this.currentPage=0),this.topDisplayedRowIndex=this.pageSize*this.currentPage,this.bottomDisplayedRowIndex=this.pageSize*(this.currentPage+1)-1,this.bottomDisplayedRowIndex>t&&(this.bottomDisplayedRowIndex=t)}else this.setZeroRows()},n.prototype.calculatedPagesNotActive=function(){this.pageSize=this.rowModel.getRowCount(),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1},qa([I("rowModel")],n.prototype,"rowModel",void 0),qa([Ee],n.prototype,"postConstruct",null),qa([me("paginationProxy")],n)}(Se),fv=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),ru=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},gv=function(p){function n(){return null!==p&&p.apply(this,arguments)||this}return fv(n,p),n.prototype.processAllCellClasses=function(t,o,u,c){this.processClassRules(t.cellClassRules,o,u,c),this.processStaticCellClasses(t,o,u)},n.prototype.processClassRules=function(t,o,u,c){if(null!=t){for(var f=Object.keys(t),g={},C={},O=function(x){var q,W=f[x],U=t[W];"string"==typeof U?q=P.expressionService.evaluate(U,o):"function"==typeof U&&(q=U(o)),W.split(" ").forEach(function(te){null==te||""==te.trim()||(q?g[te]=!0:C[te]=!0)})},P=this,R=0;R<f.length;R++)O(R);c&&Object.keys(C).forEach(c),Object.keys(g).forEach(u)}},n.prototype.getStaticCellClasses=function(t,o){var c,u=t.cellClass;return u?("string"==typeof(c="function"==typeof u?u(o):u)&&(c=[c]),c||[]):[]},n.prototype.processStaticCellClasses=function(t,o,u){this.getStaticCellClasses(t,o).forEach(function(f){u(f)})},ru([I("expressionService")],n.prototype,"expressionService",void 0),ru([me("stylingService")],n)}(Se),vv=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),iu=function(p){function n(t){return p.call(this,t,"ag-radio-button","radio")||this}return vv(n,p),n.prototype.isSelected=function(){return this.eInput.checked},n.prototype.toggle=function(){this.eInput.disabled||this.isSelected()||this.setValue(!0)},n.prototype.addInputListeners=function(){p.prototype.addInputListeners.call(this),this.addManagedListener(this.eventService,V.EVENT_CHECKBOX_CHANGED,this.onChange.bind(this))},n.prototype.onChange=function(t){t.selected&&t.name&&this.eInput.name&&this.eInput.name===t.name&&t.id&&this.eInput.id!==t.id&&this.setValue(!1,!0)},n}(Oi),_v=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),nu=function(p){function n(t){return p.call(this,t,"ag-toggle-button")||this}return _v(n,p),n.prototype.setValue=function(t,o){return p.prototype.setValue.call(this,t,o),this.addOrRemoveCssClass("ag-selected",this.getValue()),this},n}(Oi),yv=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),ou=function(p){function n(t,o,u){return void 0===o&&(o="ag-text-field"),void 0===u&&(u="text"),p.call(this,t,o,u)||this}return yv(n,p),n.prototype.postConstruct=function(){p.prototype.postConstruct.call(this),this.config.allowedCharPattern&&this.preventDisallowedCharacters()},n.prototype.setValue=function(t,o){var u=p.prototype.setValue.call(this,t,o);return this.eInput.value!==t&&(this.eInput.value=a(t)?t:""),u},n.prototype.preventDisallowedCharacters=function(){var t=new RegExp("["+this.config.allowedCharPattern+"]");this.addManagedListener(this.eInput,"keypress",function(u){u.key&&!t.test(u.key)&&u.preventDefault()}),this.addManagedListener(this.eInput,"paste",function(u){var c,f=null===(c=u.clipboardData)||void 0===c?void 0:c.getData("text");f&&f.split("").some(function(g){return!t.test(g)})&&u.preventDefault()})},n}(dr),mv=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),Cv=function(p){function n(t){return p.call(this,t,"ag-text-area",null,"textarea")||this}return mv(n,p),n.prototype.setValue=function(t,o){var u=p.prototype.setValue.call(this,t,o);return this.eInput.value=t,u},n.prototype.setCols=function(t){return this.eInput.cols=t,this},n.prototype.setRows=function(t){return this.eInput.rows=t,this},n}(dr),Ev=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),Ov=function(p){function n(t){return p.call(this,t,"ag-number-field","number")||this}return Ev(n,p),n.prototype.postConstruct=function(){var t=this;p.prototype.postConstruct.call(this),this.addManagedListener(this.eInput,"blur",function(){var o=parseFloat(t.eInput.value),u=isNaN(o)?"":t.normalizeValue(o.toString());t.value!==u&&t.setValue(u)}),this.addManagedListener(this.eInput,"wheel",this.onWheel.bind(this)),this.eInput.step="any"},n.prototype.onWheel=function(t){document.activeElement===this.eInput&&t.preventDefault()},n.prototype.normalizeValue=function(t){if(""===t)return"";this.precision&&(t=this.adjustPrecision(t));var o=parseFloat(t);return null!=this.min&&o<this.min?t=this.min.toString():null!=this.max&&o>this.max&&(t=this.max.toString()),t},n.prototype.adjustPrecision=function(t){if(this.precision){var o=parseFloat(t).toFixed(this.precision);t=parseFloat(o).toString()}return t},n.prototype.setMin=function(t){return this.min===t||(this.min=t,zi(this.eInput,"min",t)),this},n.prototype.setMax=function(t){return this.max===t||(this.max=t,zi(this.eInput,"max",t)),this},n.prototype.setPrecision=function(t){return this.precision=t,this},n.prototype.setStep=function(t){return this.step===t||(this.step=t,zi(this.eInput,"step",t)),this},n.prototype.setValue=function(t,o){return(t=this.adjustPrecision(t))!=this.normalizeValue(t)?this:p.prototype.setValue.call(this,t,o)},n}(ou),wv=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),Sv=function(p){function n(t){return p.call(this,t,"ag-range-field","range")||this}return wv(n,p),n.prototype.postConstruct=function(){p.prototype.postConstruct.call(this);var t=this.config,o=t.min,u=t.max,c=t.step;null!=o&&this.setMinValue(o),null!=u&&this.setMaxValue(u),this.setStep(c||1)},n.prototype.addInputListeners=function(){var t=this;this.addManagedListener(this.eInput,"input",function(o){t.setValue(o.target.value)})},n.prototype.setMinValue=function(t){return this.min=t,this.eInput.setAttribute("min",t.toString()),this},n.prototype.setMaxValue=function(t){return this.max=t,this.eInput.setAttribute("max",t.toString()),this},n.prototype.setStep=function(t){return this.eInput.setAttribute("step",t.toString()),this},n.prototype.setValue=function(t,o){null!=this.min&&(t=Math.max(parseFloat(t),this.min).toString()),null!=this.max&&(t=Math.min(parseFloat(t),this.max).toString());var u=p.prototype.setValue.call(this,t,o);return this.eInput.value=t,u},n}(dr),Pv=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),oo=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},au=function(p){function n(t){var o=p.call(this,t,n.TEMPLATE)||this;return o.labelAlignment="top",o}return Pv(n,p),n.prototype.init=function(){this.eSlider.addCssClass("ag-slider-field")},n.prototype.onValueChange=function(t){var o=this,u=nr.EVENT_CHANGED;return this.addManagedListener(this.eText,u,function(){var c=parseFloat(o.eText.getValue());o.eSlider.setValue(c.toString(),!0),t(c||0)}),this.addManagedListener(this.eSlider,u,function(){var c=o.eSlider.getValue();o.eText.setValue(c,!0),t(parseFloat(c))}),this},n.prototype.setSliderWidth=function(t){return this.eSlider.setWidth(t),this},n.prototype.setTextFieldWidth=function(t){return this.eText.setWidth(t),this},n.prototype.setMinValue=function(t){return this.eSlider.setMinValue(t),this.eText.setMin(t),this},n.prototype.setMaxValue=function(t){return this.eSlider.setMaxValue(t),this.eText.setMax(t),this},n.prototype.getValue=function(){return this.eText.getValue()},n.prototype.setValue=function(t){return this.getValue()===t||(this.eText.setValue(t,!0),this.eSlider.setValue(t,!0),this.dispatchEvent({type:nr.EVENT_CHANGED})),this},n.prototype.setStep=function(t){return this.eSlider.setStep(t),this.eText.setStep(t),this},n.TEMPLATE='<div class="ag-slider">\n            <label ref="eLabel"></label>\n            <div class="ag-wrapper ag-slider-wrapper">\n                <ag-input-range ref="eSlider"></ag-input-range>\n                <ag-input-number-field ref="eText"></ag-input-number-field>\n            </div>\n        </div>',oo([_e("eLabel")],n.prototype,"eLabel",void 0),oo([_e("eSlider")],n.prototype,"eSlider",void 0),oo([_e("eText")],n.prototype,"eText",void 0),oo([Ee],n.prototype,"init",null),n}(ga),Dv=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),ln=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},su=function(p){function n(t){var o=p.call(this,t,n.TEMPLATE)||this;return o.radius=0,o.offsetX=0,o.offsetY=0,o}return Dv(n,p),n.prototype.postConstruct=function(){var t=this;p.prototype.postConstruct.call(this),this.dragListener={eElement:this.eParentCircle,dragStartPixels:0,onDragStart:function(o){t.parentCircleRect=t.eParentCircle.getBoundingClientRect()},onDragging:function(o){return t.calculateAngleDrag(o)},onDragStop:function(){}},this.dragService.addDragSource(this.dragListener),this.eAngleValue.setLabel("").setLabelWidth(5).setInputWidth(45).setMin(0).setMax(360).setValue(""+this.degrees).onValueChange(function(o){(null==o||""===o)&&(o="0"),o=t.eAngleValue.normalizeValue(o);var u=parseFloat(o);u>180&&(u-=360),t.setValue(u)}),this.updateNumberInput(),a(this.getValue())&&this.eAngleValue.setValue(this.normalizeNegativeValue(this.getValue()).toString()),this.addManagedListener(this,nr.EVENT_CHANGED,function(){var o=t.gridOptionsWrapper.getDocument();t.eAngleValue.getInputElement().contains(o.activeElement)||t.updateNumberInput()})},n.prototype.updateNumberInput=function(){var t=this.normalizeNegativeValue(this.getValue());this.eAngleValue.setValue(t.toString())},n.prototype.positionChildCircle=function(t){var o=this.parentCircleRect||{width:24,height:24},u=this.eChildCircle,f=o.height/2;u.style.left=o.width/2+8*Math.cos(t)+"px",u.style.top=f+8*Math.sin(t)+"px"},n.prototype.calculatePolar=function(){var t=this.offsetX,o=this.offsetY,u=Math.atan2(o,t);this.degrees=this.toDegrees(u),this.radius=Math.sqrt(t*t+o*o),this.positionChildCircle(u)},n.prototype.calculateCartesian=function(){var t=this.toRadians(this.getValue()),o=this.getRadius();this.setOffsetX(Math.cos(t)*o).setOffsetY(Math.sin(t)*o)},n.prototype.setOffsetX=function(t){return this.offsetX!==t&&(this.offsetX=t,this.calculatePolar()),this},n.prototype.setOffsetY=function(t){return this.offsetY!==t&&(this.offsetY=t,this.calculatePolar()),this},n.prototype.calculateAngleDrag=function(t){var o=this.parentCircleRect,P=Math.atan2(t.clientY-o.top-o.height/2,t.clientX-o.left-o.width/2);this.setValue(P,!0)},n.prototype.toDegrees=function(t){return t/Math.PI*180},n.prototype.toRadians=function(t){return t/180*Math.PI},n.prototype.normalizeNegativeValue=function(t){return t<0?360+t:t},n.prototype.normalizeAngle180=function(t){return(t%=2*Math.PI)<-Math.PI?t+=2*Math.PI:t>=Math.PI&&(t-=2*Math.PI),t},n.prototype.getRadius=function(){return this.radius},n.prototype.setRadius=function(t){return this.radius===t||(this.radius=t,this.calculateCartesian()),this},n.prototype.onValueChange=function(t){var o=this;return this.addManagedListener(this,nr.EVENT_CHANGED,function(){t(o.degrees)}),this},n.prototype.getValue=function(t){return t?this.toRadians(this.degrees):this.degrees},n.prototype.setValue=function(t,o){var u;return u=o?t:this.normalizeAngle180(this.toRadians(t)),t=this.toDegrees(u),this.degrees!==t&&(this.degrees=Math.floor(t),this.calculateCartesian(),this.positionChildCircle(u),this.dispatchEvent({type:nr.EVENT_CHANGED})),this},n.prototype.setWidth=function(t){return ir(this.getGui(),t),this},n.prototype.setDisabled=function(t){return p.prototype.setDisabled.call(this,t),this.eAngleValue.setDisabled(t),this},n.prototype.destroy=function(){this.dragService.removeDragSource(this.dragListener),p.prototype.destroy.call(this)},n.TEMPLATE='<div class="ag-angle-select">\n            <div ref="eLabel"></div>\n            <div class="ag-wrapper ag-angle-select-wrapper">\n                <div ref="eAngleSelectField" class="ag-angle-select-field">\n                    <div ref="eParentCircle" class="ag-angle-select-parent-circle">\n                        <div ref="eChildCircle" class="ag-angle-select-child-circle"></div>\n                    </div>\n                </div>\n                <ag-input-number-field ref="eAngleValue"></ag-input-number-field>\n            </div>\n        </div>',ln([_e("eLabel")],n.prototype,"eLabel",void 0),ln([_e("eParentCircle")],n.prototype,"eParentCircle",void 0),ln([_e("eChildCircle")],n.prototype,"eChildCircle",void 0),ln([_e("eAngleValue")],n.prototype,"eAngleValue",void 0),ln([I("dragService")],n.prototype,"dragService",void 0),n}(ga),Rv=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),fr=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},bv=function(p){function n(t){var o=p.call(this,n.TEMPLATE)||this;return o.H=1,o.S=1,o.B=1,o.A=1,o.isSpectrumDragging=!1,o.isSpectrumHueDragging=!1,o.isSpectrumAlphaDragging=!1,o.colorChanged=!1,o.picker=t.picker,o}return Rv(n,p),n.prototype.postConstruct=function(){var t=this.getGui();this.initRecentColors(),this.addManagedListener(this.spectrumVal,"mousedown",this.onSpectrumDraggerDown.bind(this)),this.addManagedListener(t,"mousemove",this.onSpectrumDraggerMove.bind(this)),this.addManagedListener(this.spectrumHue,"mousedown",this.onSpectrumHueDown.bind(this)),this.addManagedListener(t,"mousemove",this.onSpectrumHueMove.bind(this)),this.addManagedListener(this.spectrumAlpha,"mousedown",this.onSpectrumAlphaDown.bind(this)),this.addManagedListener(t,"mousemove",this.onSpectrumAlphaMove.bind(this)),this.addManagedListener(document,"mouseup",this.onMouseUp.bind(this)),this.addManagedListener(this.recentColors,"click",this.onRecentColorClick.bind(this))},n.prototype.refreshSpectrumRect=function(){return this.spectrumValRect=this.spectrumVal.getBoundingClientRect()},n.prototype.refreshHueRect=function(){return this.spectrumHueRect=this.spectrumHue.getBoundingClientRect()},n.prototype.refreshAlphaRect=function(){return this.spectrumAlphaRect=this.spectrumAlpha.getBoundingClientRect()},n.prototype.onSpectrumDraggerDown=function(t){this.refreshSpectrumRect(),this.isSpectrumDragging=!0,this.moveDragger(t)},n.prototype.onSpectrumDraggerMove=function(t){this.isSpectrumDragging&&this.moveDragger(t)},n.prototype.onSpectrumHueDown=function(t){this.refreshHueRect(),this.isSpectrumHueDragging=!0,this.moveHueSlider(t)},n.prototype.onSpectrumHueMove=function(t){this.isSpectrumHueDragging&&this.moveHueSlider(t)},n.prototype.onSpectrumAlphaDown=function(t){this.refreshAlphaRect(),this.isSpectrumAlphaDragging=!0,this.moveAlphaSlider(t)},n.prototype.onSpectrumAlphaMove=function(t){this.isSpectrumAlphaDragging&&this.moveAlphaSlider(t)},n.prototype.onMouseUp=function(){this.isSpectrumDragging=!1,this.isSpectrumHueDragging=!1,this.isSpectrumAlphaDragging=!1},n.prototype.moveDragger=function(t){var o=this.spectrumValRect;if(o){var u=t.clientX-o.left,c=t.clientY-o.top;u=Math.max(u,0),u=Math.min(u,o.width),c=Math.max(c,0),c=Math.min(c,o.height),this.setSpectrumValue(u/o.width,1-c/o.height)}},n.prototype.moveHueSlider=function(t){var o=this.spectrumHueRect;if(o){var u=this.spectrumHueSlider,c=u.getBoundingClientRect(),f=t.clientX-o.left;f=Math.max(f,0),f=Math.min(f,o.width),this.H=1-f/o.width,u.style.left=f+c.width/2+"px",this.update()}},n.prototype.moveAlphaSlider=function(t){var o=this.spectrumAlphaRect;if(o){var u=this.spectrumAlphaSlider,c=u.getBoundingClientRect(),f=t.clientX-o.left;f=Math.max(f,0),f=Math.min(f,o.width),this.A=f/o.width,u.style.left=f+c.width/2+"px",this.update()}},n.prototype.update=function(){var t=hi.fromHSB(360*this.H,this.S,this.B,this.A),o=hi.fromHSB(360*this.H,1,1),u=t.toRgbaString(),c=this.picker;hi.fromString(c.getValue()).toRgbaString()!==u&&(this.colorChanged=!0),c.setValue(u),this.spectrumColor.style.backgroundColor=o.toRgbaString(),this.spectrumDragger.style.backgroundColor=u},n.prototype.setSpectrumValue=function(t,o){var u=this.spectrumValRect||this.refreshSpectrumRect();if(u){var c=this.spectrumDragger,f=c.getBoundingClientRect();t=Math.max(0,t),t=Math.min(1,t),o=Math.max(0,o),o=Math.min(1,o),this.S=t,this.B=o,c.style.left=t*u.width-f.width/2+"px",c.style.top=(1-o)*u.height-f.height/2+"px",this.update()}},n.prototype.initRecentColors=function(){var o=n.recentColors.map(function(u,c){return'<div class="ag-recent-color" id='+c+' style="background-color: '+u+'; width: 15px; height: 15px;" recent-color="'+u+'"></div>'});this.recentColors.innerHTML=o.join("")},n.prototype.setValue=function(t){var o=hi.fromString(t),u=function(p,n){var t="function"==typeof Symbol&&p[Symbol.iterator];if(!t)return p;var u,f,o=t.call(p),c=[];try{for(;(void 0===n||n-- >0)&&!(u=o.next()).done;)c.push(u.value)}catch(g){f={error:g}}finally{try{u&&!u.done&&(t=o.return)&&t.call(o)}finally{if(f)throw f.error}}return c}(o.toHSB(),3),c=u[0],f=u[1],g=u[2];this.H=(isNaN(c)?0:c)/360,this.A=o.a;var C=this.spectrumHueRect||this.refreshHueRect(),O=this.spectrumAlphaRect||this.refreshAlphaRect();this.spectrumHueSlider.style.left=(this.H-1)*-C.width+"px",this.spectrumAlphaSlider.style.left=this.A*O.width+"px",this.setSpectrumValue(f,g)},n.prototype.onRecentColorClick=function(t){var o=t.target;if(a(o.id)){var u=parseInt(o.id,10);this.setValue(n.recentColors[u]),this.destroy()}},n.prototype.addRecentColor=function(){var o=hi.fromHSB(360*this.H,this.S,this.B,this.A).toRgbaString(),u=n.recentColors;!this.colorChanged||u[0]===o||(u=u.filter(function(c){return c!=o}),(u=[o].concat(u)).length>n.maxRecentColors&&(u=u.slice(0,n.maxRecentColors)),n.recentColors=u)},n.prototype.destroy=function(){this.addRecentColor(),p.prototype.destroy.call(this)},n.maxRecentColors=8,n.recentColors=[],n.TEMPLATE='<div class="ag-color-panel">\n            <div ref="spectrumColor" class="ag-spectrum-color">\n                <div class="ag-spectrum-sat ag-spectrum-fill">\n                    <div ref="spectrumVal" class="ag-spectrum-val ag-spectrum-fill">\n                        <div ref="spectrumDragger" class="ag-spectrum-dragger"></div>\n                    </div>\n                </div>\n            </div>\n            <div class="ag-spectrum-tools">\n                <div ref="spectrumHue" class="ag-spectrum-hue ag-spectrum-tool">\n                    <div class="ag-spectrum-hue-background"></div>\n                    <div ref="spectrumHueSlider" class="ag-spectrum-slider"></div>\n                </div>\n                <div ref="spectrumAlpha" class="ag-spectrum-alpha ag-spectrum-tool">\n                    <div class="ag-spectrum-alpha-background"></div>\n                    <div ref="spectrumAlphaSlider" class="ag-spectrum-slider"></div>\n                </div>\n                <div ref="recentColors" class="ag-recent-colors"></div>\n            </div>\n        </div>',fr([_e("spectrumColor")],n.prototype,"spectrumColor",void 0),fr([_e("spectrumVal")],n.prototype,"spectrumVal",void 0),fr([_e("spectrumDragger")],n.prototype,"spectrumDragger",void 0),fr([_e("spectrumHue")],n.prototype,"spectrumHue",void 0),fr([_e("spectrumHueSlider")],n.prototype,"spectrumHueSlider",void 0),fr([_e("spectrumAlpha")],n.prototype,"spectrumAlpha",void 0),fr([_e("spectrumAlphaSlider")],n.prototype,"spectrumAlphaSlider",void 0),fr([_e("recentColors")],n.prototype,"recentColors",void 0),fr([Ee],n.prototype,"postConstruct",null),n}(je),Mv=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),un=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},Za=function(p){function n(t){var o=p.call(this,n.getTemplate(t))||this;return o.closable=!0,o.config=t,o}return Mv(n,p),n.getTemplate=function(t){var o=t&&t.cssIdentifier||"default";return'<div class="ag-panel ag-'+o+'-panel" tabindex="-1">\n            <div ref="eTitleBar" class="ag-panel-title-bar ag-'+o+'-panel-title-bar ag-unselectable">\n                <span ref="eTitle" class="ag-panel-title-bar-title ag-'+o+'-panel-title-bar-title"></span>\n                <div ref="eTitleBarButtons" class="ag-panel-title-bar-buttons ag-'+o+'-panel-title-bar-buttons"></div>\n            </div>\n            <div ref="eContentWrapper" class="ag-panel-content-wrapper ag-'+o+'-panel-content-wrapper"></div>\n        </div>'},n.prototype.postConstruct=function(){var t=this,o=this.config,u=o.component,c=o.closable,f=o.hideTitleBar,g=o.title,C=o.minWidth,O=void 0===C?250:C,P=o.width,R=o.minHeight,x=void 0===R?250:R,W=o.height,U=o.centered,q=o.popup,te=o.x,se=o.y;this.positionableFeature=new Ql(this.getGui(),{minWidth:O,width:P,minHeight:x,height:W,centered:U,x:te,y:se,popup:q,calculateTopBuffer:function(){return t.positionableFeature.getHeight()-t.getBodyHeight()}}),this.createManagedBean(this.positionableFeature);var ae=this.getGui();u&&this.setBodyComponent(u),f?this.eTitleBar.classList.add("ag-hidden"):(g&&this.setTitle(g),this.setClosable(c??this.closable)),this.addManagedListener(this.eTitleBar,"mousedown",function(Ce){var Oe=t.gridOptionsWrapper.getDocument();if(ae.contains(Ce.relatedTarget)||ae.contains(Oe.activeElement)||t.eTitleBarButtons.contains(Ce.target))Ce.preventDefault();else{var Me=t.eContentWrapper.querySelector("button, [href], input, select, textarea, [tabindex]");Me&&Me.focus()}}),(!q||!this.positionableFeature.isPositioned())&&(this.renderComponent&&this.renderComponent(),this.positionableFeature.initialisePosition(),this.eContentWrapper.style.height="0")},n.prototype.renderComponent=function(){var t=this,o=this.getGui();o.focus(),this.close=function(){o.parentElement.removeChild(o),t.destroy()}},n.prototype.getHeight=function(){return this.positionableFeature.getHeight()},n.prototype.setHeight=function(t){this.positionableFeature.setHeight(t)},n.prototype.getWidth=function(){return this.positionableFeature.getWidth()},n.prototype.setWidth=function(t){this.positionableFeature.setWidth(t)},n.prototype.setClosable=function(t){if(t!==this.closable&&(this.closable=t),t){var o=this.closeButtonComp=new je(n.CLOSE_BTN_TEMPLATE);this.getContext().createBean(o);var u=o.getGui(),c=dt("close",this.gridOptionsWrapper);c.classList.add("ag-panel-title-bar-button-icon"),u.appendChild(c),this.addTitleBarButton(o),o.addManagedListener(u,"click",this.onBtClose.bind(this))}else this.closeButtonComp&&((u=this.closeButtonComp.getGui()).parentElement.removeChild(u),this.closeButtonComp=this.destroyBean(this.closeButtonComp))},n.prototype.setBodyComponent=function(t){t.setParentComponent(this),this.eContentWrapper.appendChild(t.getGui())},n.prototype.addTitleBarButton=function(t,o){var u=this.eTitleBarButtons,c=u.children,f=c.length;null==o&&(o=f),o=Math.max(0,Math.min(o,f)),t.addCssClass("ag-panel-title-bar-button");var g=t.getGui();0===o?u.insertAdjacentElement("afterbegin",g):o===f?u.insertAdjacentElement("beforeend",g):c[o-1].insertAdjacentElement("afterend",g),t.setParentComponent(this)},n.prototype.getBodyHeight=function(){return Hi(this.eContentWrapper)},n.prototype.getBodyWidth=function(){return Rn(this.eContentWrapper)},n.prototype.setTitle=function(t){this.eTitle.innerText=t},n.prototype.onBtClose=function(){this.close()},n.prototype.destroy=function(){this.closeButtonComp&&(this.closeButtonComp=this.destroyBean(this.closeButtonComp));var t=this.getGui();t&&t.offsetParent&&this.close(),p.prototype.destroy.call(this)},n.CLOSE_BTN_TEMPLATE='<div class="ag-button"></div>',un([_e("eContentWrapper")],n.prototype,"eContentWrapper",void 0),un([_e("eTitleBar")],n.prototype,"eTitleBar",void 0),un([_e("eTitleBarButtons")],n.prototype,"eTitleBarButtons",void 0),un([_e("eTitle")],n.prototype,"eTitle",void 0),un([Ee],n.prototype,"postConstruct",null),n}(je),Av=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),ao=function(){return ao=Object.assign||function(p){for(var n,t=1,o=arguments.length;t<o;t++)for(var u in n=arguments[t])Object.prototype.hasOwnProperty.call(n,u)&&(p[u]=n[u]);return p},ao.apply(this,arguments)},Ja=function(p){function n(t){var o=p.call(this,ao(ao({},t),{popup:!0}))||this;return o.isMaximizable=!1,o.isMaximized=!1,o.maximizeListeners=[],o.resizeListenerDestroy=null,o.lastPosition={x:0,y:0,width:0,height:0},o}return Av(n,p),n.prototype.postConstruct=function(){var t=this,o=this.getGui(),u=this.config,c=u.movable,f=u.resizable,g=u.maximizable;this.addCssClass("ag-dialog"),p.prototype.postConstruct.call(this),this.addManagedListener(o,"focusin",function(C){o.contains(C.relatedTarget)||t.popupService.bringPopupToFront(o)}),c&&this.setMovable(c),g&&this.setMaximizable(g),f&&this.setResizable(f)},n.prototype.renderComponent=function(){var t=this.getGui(),o=this.config,u=o.alwaysOnTop,c=o.modal,f=o.title,g=this.gridOptionsWrapper.getLocaleTextFunc(),C=this.popupService.addPopup({modal:c,eChild:t,closeOnEsc:!0,closedCallback:this.destroy.bind(this),alwaysOnTop:u,ariaLabel:f||g("ariaLabelDialog","Dialog")});C&&(this.close=C.hideFunc)},n.prototype.toggleMaximize=function(){var t=this.positionableFeature.getPosition();if(this.isMaximized){var o=this.lastPosition,u=o.x,c=o.y,g=o.height;this.setWidth(o.width),this.setHeight(g),this.positionableFeature.offsetElement(u,c)}else this.lastPosition.width=this.getWidth(),this.lastPosition.height=this.getHeight(),this.lastPosition.x=t.x,this.lastPosition.y=t.y,this.positionableFeature.offsetElement(0,0),this.setHeight("100%"),this.setWidth("100%");this.isMaximized=!this.isMaximized,this.refreshMaximizeIcon()},n.prototype.refreshMaximizeIcon=function(){at(this.maximizeIcon,!this.isMaximized),at(this.minimizeIcon,this.isMaximized)},n.prototype.clearMaximizebleListeners=function(){this.maximizeListeners.length&&(this.maximizeListeners.forEach(function(t){return t()}),this.maximizeListeners.length=0),this.resizeListenerDestroy&&(this.resizeListenerDestroy(),this.resizeListenerDestroy=null)},n.prototype.destroy=function(){this.maximizeButtonComp=this.destroyBean(this.maximizeButtonComp),this.clearMaximizebleListeners(),p.prototype.destroy.call(this)},n.prototype.setResizable=function(t){this.positionableFeature.setResizable(t)},n.prototype.setMovable=function(t){this.positionableFeature.setMovable(t,this.eTitleBar)},n.prototype.setMaximizable=function(t){var o=this;if(!t)return this.clearMaximizebleListeners(),void(this.maximizeButtonComp&&(this.destroyBean(this.maximizeButtonComp),this.maximizeButtonComp=this.maximizeIcon=this.minimizeIcon=void 0));var u=this.eTitleBar;if(u&&t!==this.isMaximizable){var c=this.maximizeButtonComp=this.createBean(new je('<div class="ag-dialog-button"></span>')),f=c.getGui();f.appendChild(this.maximizeIcon=dt("maximize",this.gridOptionsWrapper)),this.maximizeIcon.classList.add("ag-panel-title-bar-button-icon"),f.appendChild(this.minimizeIcon=dt("minimize",this.gridOptionsWrapper)),this.minimizeIcon.classList.add("ag-panel-title-bar-button-icon","ag-hidden"),c.addManagedListener(f,"click",this.toggleMaximize.bind(this)),this.addTitleBarButton(c,0),this.maximizeListeners.push(this.addManagedListener(u,"dblclick",this.toggleMaximize.bind(this))),this.resizeListenerDestroy=this.addManagedListener(this,"resize",function(){o.isMaximized=!1,o.refreshMaximizeIcon()})}},function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);u>3&&c&&Object.defineProperty(n,t,c)}([I("popupService")],n.prototype,"popupService",void 0),n}(Za),Iv=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),Lv=function(p){function n(t){var o=p.call(this,t,"ag-color-picker","colorPicker")||this;return t&&t.color&&(o.value=t.color),o}return Iv(n,p),n.prototype.postConstruct=function(){p.prototype.postConstruct.call(this),this.value&&this.setValue(this.value)},n.prototype.showPicker=function(){var t=this,o=this.getGui().getBoundingClientRect(),u=this.createBean(new Ja({closable:!1,modal:!0,hideTitleBar:!0,minWidth:190,width:190,height:250,x:o.right-190,y:o.top-250}));this.isPickerDisplayed=!0,u.addCssClass("ag-color-dialog"),Vt(this.eWrapper,!0);var c=this.createBean(new bv({picker:this}));return c.addDestroyFunc(function(){u.isAlive()&&t.destroyBean(u)}),u.setParentComponent(this),u.setBodyComponent(c),c.setValue(this.getValue()),u.addDestroyFunc(function(){t.isDestroyingPicker?t.isDestroyingPicker=!1:(t.isDestroyingPicker=!0,c.isAlive()&&t.destroyBean(c)),t.isAlive()&&(Vt(t.eWrapper,!1),t.getFocusableElement().focus()),t.isPickerDisplayed=!1}),u},n.prototype.setValue=function(t){return this.value===t?this:(this.eDisplayField.style.backgroundColor=t,p.prototype.setValue.call(this,t))},n.prototype.getValue=function(){return this.value},n}(_l),Fv=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),Rr=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},lu=function(p){function n(t){void 0===t&&(t={});var o=p.call(this,n.getTemplate(t))||this;o.suppressEnabledCheckbox=!0,o.suppressOpenCloseIcons=!1;var c=t.enabled,f=t.items,g=t.suppressEnabledCheckbox,C=t.suppressOpenCloseIcons;return o.title=t.title,o.cssIdentifier=t.cssIdentifier||"default",o.enabled=c??!0,o.items=f||[],o.alignItems=t.alignItems||"center",null!=g&&(o.suppressEnabledCheckbox=g),null!=C&&(o.suppressOpenCloseIcons=C),o}return Fv(n,p),n.getTemplate=function(t){var o=t.cssIdentifier||"default";return'<div class="ag-group ag-'+o+'-group" role="presentation">\n            <div class="ag-group-title-bar ag-'+o+'-group-title-bar ag-unselectable" ref="eTitleBar" role="button">\n                <span class="ag-group-title-bar-icon ag-'+o+'-group-title-bar-icon" ref="eGroupOpenedIcon" role="presentation"></span>\n                <span class="ag-group-title-bar-icon ag-'+o+'-group-title-bar-icon" ref="eGroupClosedIcon" role="presentation"></span>\n                <span ref="eTitle" class="ag-group-title ag-'+o+'-group-title"></span>\n            </div>\n            <div ref="eToolbar" class="ag-group-toolbar ag-'+o+'-group-toolbar">\n                <ag-checkbox ref="cbGroupEnabled"></ag-checkbox>\n            </div>\n            <div ref="eContainer" class="ag-group-container ag-group-container-'+(t.direction||"vertical")+" ag-"+o+'-group-container"></div>\n        </div>'},n.prototype.postConstruct=function(){if(this.items.length){var t=this.items;this.items=[],this.addItems(t)}var o=this.gridOptionsWrapper.getLocaleTextFunc();this.cbGroupEnabled.setLabel(o("enabled","Enabled")),this.title&&this.setTitle(this.title),this.enabled&&this.setEnabled(this.enabled),this.setAlignItems(this.alignItems),this.hideEnabledCheckbox(this.suppressEnabledCheckbox),this.hideOpenCloseIcons(this.suppressOpenCloseIcons),this.setupExpandContract(),this.refreshAriaStatus(),this.refreshChildDisplay()},n.prototype.setupExpandContract=function(){var t=this;this.eGroupClosedIcon.appendChild($t("columnSelectClosed",this.gridOptionsWrapper,null)),this.eGroupOpenedIcon.appendChild($t("columnSelectOpen",this.gridOptionsWrapper,null)),this.addManagedListener(this.eTitleBar,"click",function(){return t.toggleGroupExpand()}),this.addManagedListener(this.eTitleBar,"keydown",function(o){switch(o.key){case ye.ENTER:case ye.SPACE:o.preventDefault(),t.toggleGroupExpand();break;case ye.RIGHT:case ye.LEFT:o.preventDefault(),t.toggleGroupExpand(o.key===ye.RIGHT)}})},n.prototype.refreshAriaStatus=function(){this.suppressOpenCloseIcons||Vt(this.eTitleBar,this.expanded)},n.prototype.refreshChildDisplay=function(){var t=!this.suppressOpenCloseIcons;at(this.eToolbar,this.expanded&&!this.suppressEnabledCheckbox),at(this.eGroupOpenedIcon,t&&this.expanded),at(this.eGroupClosedIcon,t&&!this.expanded)},n.prototype.isExpanded=function(){return this.expanded},n.prototype.setAlignItems=function(t){return this.alignItems!==t&&this.removeCssClass("ag-group-item-alignment-"+this.alignItems),this.alignItems=t,this.addCssClass("ag-group-item-alignment-"+this.alignItems),this},n.prototype.toggleGroupExpand=function(t){return this.suppressOpenCloseIcons?(this.expanded=!0,this.refreshChildDisplay(),at(this.eContainer,!0),this):(this.expanded===(t=t??!this.expanded)||(this.expanded=t,this.refreshAriaStatus(),this.refreshChildDisplay(),at(this.eContainer,t),this.dispatchEvent({type:this.expanded?n.EVENT_EXPANDED:n.EVENT_COLLAPSED})),this)},n.prototype.addItems=function(t){var o=this;t.forEach(function(u){return o.addItem(u)})},n.prototype.addItem=function(t){var o=this.eContainer,u=t instanceof je?t.getGui():t;u.classList.add("ag-group-item","ag-"+this.cssIdentifier+"-group-item"),o.appendChild(u),this.items.push(u)},n.prototype.hideItem=function(t,o){this.items[o].classList.toggle("ag-hidden",t)},n.prototype.setTitle=function(t){return this.eTitle.innerText=t,this},n.prototype.addCssClassToTitleBar=function(t){this.eTitleBar.classList.add(t)},n.prototype.setEnabled=function(t,o){return this.enabled=t,this.refreshDisabledStyles(),this.toggleGroupExpand(t),o||this.cbGroupEnabled.setValue(t),this},n.prototype.isEnabled=function(){return this.enabled},n.prototype.onEnableChange=function(t){var o=this;return this.cbGroupEnabled.onValueChange(function(u){o.setEnabled(u,!0),t(u)}),this},n.prototype.hideEnabledCheckbox=function(t){return this.suppressEnabledCheckbox=t,this.refreshChildDisplay(),this.refreshDisabledStyles(),this},n.prototype.hideOpenCloseIcons=function(t){return this.suppressOpenCloseIcons=t,t&&this.toggleGroupExpand(!0),this},n.prototype.refreshDisabledStyles=function(){this.addOrRemoveCssClass("ag-disabled",!this.enabled),this.suppressEnabledCheckbox&&!this.enabled?(this.eTitleBar.classList.add("ag-disabled-group-title-bar"),this.eTitleBar.removeAttribute("tabindex")):(this.eTitleBar.classList.remove("ag-disabled-group-title-bar"),this.eTitleBar.setAttribute("tabindex","0")),this.eContainer.classList.toggle("ag-disabled-group-container",!this.enabled)},n.EVENT_EXPANDED="expanded",n.EVENT_COLLAPSED="collapsed",Rr([_e("eTitleBar")],n.prototype,"eTitleBar",void 0),Rr([_e("eGroupOpenedIcon")],n.prototype,"eGroupOpenedIcon",void 0),Rr([_e("eGroupClosedIcon")],n.prototype,"eGroupClosedIcon",void 0),Rr([_e("eToolbar")],n.prototype,"eToolbar",void 0),Rr([_e("cbGroupEnabled")],n.prototype,"cbGroupEnabled",void 0),Rr([_e("eTitle")],n.prototype,"eTitle",void 0),Rr([_e("eContainer")],n.prototype,"eContainer",void 0),Rr([Ee],n.prototype,"postConstruct",null),n}(je),Nv=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),uu=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},Gv=function(p){function n(t){var o=p.call(this)||this;o.skipTabGuardFocus=!1;var c=t.eTopGuard,f=t.eBottomGuard,g=t.focusInnerElement,C=t.onFocusIn,O=t.onFocusOut,P=t.shouldStopEventPropagation,R=t.onTabKeyDown,x=t.handleKeyDown,W=t.eFocusableElement;return o.comp=t.comp,o.eTopGuard=c,o.eBottomGuard=f,o.providedFocusInnerElement=g,o.eFocusableElement=W,o.providedFocusIn=C,o.providedFocusOut=O,o.providedShouldStopEventPropagation=P,o.providedOnTabKeyDown=R,o.providedHandleKeyDown=x,o}return Nv(n,p),n.prototype.postConstruct=function(){var t=this;this.createManagedBean(new pr(this.eFocusableElement,{shouldStopEventPropagation:function(){return t.shouldStopEventPropagation()},onTabKeyDown:function(o){return t.onTabKeyDown(o)},handleKeyDown:function(o){return t.handleKeyDown(o)},onFocusIn:function(o){return t.onFocusIn(o)},onFocusOut:function(o){return t.onFocusOut(o)}})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach(function(o){return t.addManagedListener(o,"focus",t.onFocus.bind(t))})},n.prototype.handleKeyDown=function(t){this.providedHandleKeyDown&&this.providedHandleKeyDown(t)},n.prototype.tabGuardsAreActive=function(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")},n.prototype.shouldStopEventPropagation=function(){return!!this.providedShouldStopEventPropagation&&this.providedShouldStopEventPropagation()},n.prototype.activateTabGuards=function(){this.comp.setTabIndex(this.getGridTabIndex())},n.prototype.deactivateTabGuards=function(){this.comp.setTabIndex()},n.prototype.onFocus=function(t){if(this.skipTabGuardFocus)this.skipTabGuardFocus=!1;else{var o=t.target===this.eBottomGuard;this.providedFocusInnerElement?this.providedFocusInnerElement(o):this.focusInnerElement(o)}},n.prototype.onFocusIn=function(t){this.providedFocusIn&&this.providedFocusIn(t)||this.deactivateTabGuards()},n.prototype.onFocusOut=function(t){this.providedFocusOut&&this.providedFocusOut(t)||this.eFocusableElement.contains(t.relatedTarget)||this.activateTabGuards()},n.prototype.onTabKeyDown=function(t){var o=this;if(this.providedOnTabKeyDown)this.providedOnTabKeyDown(t);else if(!t.defaultPrevented){var u=this.tabGuardsAreActive();u&&this.deactivateTabGuards();var c=this.getNextFocusableElement(t.shiftKey);u&&setTimeout(function(){return o.activateTabGuards()},0),c&&(c.focus(),t.preventDefault())}},n.prototype.getGridTabIndex=function(){return this.gridOptionsWrapper.getGridTabIndex()},n.prototype.focusInnerElement=function(t){void 0===t&&(t=!1);var o=this.focusService.findFocusableElements(this.eFocusableElement);this.tabGuardsAreActive()&&(o.splice(0,1),o.splice(o.length-1,1)),o.length&&o[t?o.length-1:0].focus()},n.prototype.getNextFocusableElement=function(t){return this.focusService.findNextFocusableElement(this.eFocusableElement,!1,t)},n.prototype.forceFocusOutOfContainer=function(t){void 0===t&&(t=!1);var o=t?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,o.focus()},uu([I("focusService")],n.prototype,"focusService",void 0),uu([Ee],n.prototype,"postConstruct",null),n}(Se),Wv=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),Bv=function(p,n){var t="function"==typeof Symbol&&p[Symbol.iterator];if(!t)return p;var u,f,o=t.call(p),c=[];try{for(;(void 0===n||n-- >0)&&!(u=o.next()).done;)c.push(u.value)}catch(g){f={error:g}}finally{try{u&&!u.done&&(t=o.return)&&t.call(o)}finally{if(f)throw f.error}}return c},cn=function(p){function n(){return null!==p&&p.apply(this,arguments)||this}return Wv(n,p),n.prototype.initialiseTabGuard=function(t){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.getFocusableElement();var o=[this.eTopGuard,this.eBottomGuard],u={setTabIndex:function(c){o.forEach(function(f){return null!=c?f.setAttribute("tabIndex",c):f.removeAttribute("tabIndex")})}};this.addTabGuards(this.eTopGuard,this.eBottomGuard),this.tabGuardCtrl=this.createManagedBean(new Gv({comp:u,eTopGuard:this.eTopGuard,eBottomGuard:this.eBottomGuard,eFocusableElement:this.eFocusableElement,onFocusIn:t.onFocusIn,onFocusOut:t.onFocusOut,focusInnerElement:t.focusInnerElement,handleKeyDown:t.handleKeyDown,onTabKeyDown:t.onTabKeyDown,shouldStopEventPropagation:t.shouldStopEventPropagation}))},n.prototype.createTabGuard=function(t){var o=document.createElement("div");return o.classList.add("ag-tab-guard","ag-tab-guard-"+t),Mt(o,"presentation"),o},n.prototype.addTabGuards=function(t,o){this.eFocusableElement.insertAdjacentElement("afterbegin",t),this.eFocusableElement.insertAdjacentElement("beforeend",o)},n.prototype.removeAllChildrenExceptTabGuards=function(){var t=[this.eTopGuard,this.eBottomGuard];kt(this.getFocusableElement()),this.addTabGuards.apply(this,function(){for(var p=[],n=0;n<arguments.length;n++)p=p.concat(Bv(arguments[n]));return p}(t))},n.prototype.forceFocusOutOfContainer=function(t){void 0===t&&(t=!1),this.tabGuardCtrl.forceFocusOutOfContainer(t)},n.prototype.appendChild=function(t,o){Ki(t)||(t=t.getGui());var u=this.eBottomGuard;u?u.insertAdjacentElement("beforebegin",t):p.prototype.appendChild.call(this,t,o)},n}(je),Vv=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),so=function(){return so=Object.assign||function(p){for(var n,t=1,o=arguments.length;t<o;t++)for(var u in n=arguments[t])Object.prototype.hasOwnProperty.call(n,u)&&(p[u]=n[u]);return p},so.apply(this,arguments)},cu=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},pu=function(p){function n(t){void 0===t&&(t=1);var o=p.call(this,'<div class="ag-menu-list" role="tree"></div>')||this;return o.level=t,o.menuItems=[],o}return Vv(n,p),n.prototype.postConstruct=function(){var t=this;this.initialiseTabGuard({onTabKeyDown:function(o){return t.onTabKeyDown(o)},handleKeyDown:function(o){return t.handleKeyDown(o)}})},n.prototype.onTabKeyDown=function(t){var o=this.getParentComponent(),u=o&&o.getGui();u&&u.classList.contains("ag-focus-managed")||t.preventDefault(),t.shiftKey&&this.closeIfIsChild(t)},n.prototype.handleKeyDown=function(t){switch(t.key){case ye.UP:case ye.RIGHT:case ye.DOWN:case ye.LEFT:t.preventDefault(),this.handleNavKey(t.key);break;case ye.ESCAPE:var o=this.findTopMenu();o&&this.focusService.focusInto(o.getGui())}},n.prototype.clearActiveItem=function(){this.activeMenuItem&&(this.activeMenuItem.deactivate(),this.activeMenuItem=null)},n.prototype.addMenuItems=function(t){var o=this;t?.forEach(function(u){"separator"===u?o.addSeparator():"string"==typeof u?console.warn("AG Grid: unrecognised menu item "+u):o.addItem(u)})},n.prototype.addItem=function(t){var o=this,u=this.createManagedBean(new Si(so(so({},t),{isAnotherSubMenuOpen:function(){return o.menuItems.some(function(c){return c.isSubMenuOpen()})}})));u.setParentComponent(this),Qs(u.getGui(),this.level),this.menuItems.push(u),this.appendChild(u.getGui()),this.addManagedListener(u,Si.EVENT_MENU_ITEM_SELECTED,function(c){o.dispatchEvent(c)}),this.addManagedListener(u,Si.EVENT_MENU_ITEM_ACTIVATED,function(c){o.activeMenuItem&&o.activeMenuItem!==c.menuItem&&o.activeMenuItem.deactivate(),o.activeMenuItem=c.menuItem})},n.prototype.activateFirstItem=function(){var t=this.menuItems.filter(function(o){return!o.isDisabled()})[0];!t||t.activate()},n.prototype.addSeparator=function(){this.appendChild(mt('\n            <div class="ag-menu-separator" aria-hidden="true">\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n            </div>'))},n.prototype.findTopMenu=function(){var t=this.getParentComponent();if(!t&&this instanceof n)return this;for(;;){var o=t&&t.getParentComponent&&t.getParentComponent();if(!o||!(o instanceof n||o instanceof Si))break;t=o}return t instanceof n?t:void 0},n.prototype.handleNavKey=function(t){switch(t){case ye.UP:case ye.DOWN:var o=this.findNextItem(t===ye.UP);return void(o&&o!==this.activeMenuItem&&o.activate())}t===(this.gridOptionsWrapper.isEnableRtl()?ye.RIGHT:ye.LEFT)?this.closeIfIsChild():this.openChild()},n.prototype.closeIfIsChild=function(t){var o=this.getParentComponent();o&&o instanceof Si&&(t&&t.preventDefault(),o.closeSubMenu(),o.getGui().focus())},n.prototype.openChild=function(){this.activeMenuItem&&this.activeMenuItem.openSubMenu(!0)},n.prototype.findNextItem=function(t){var o=this.menuItems.filter(function(C){return!C.isDisabled()});if(o.length){if(!this.activeMenuItem)return t?Je(o):o[0];t&&o.reverse();for(var u,c=!1,f=0;f<o.length;f++){var g=o[f];if(c){u=g;break}g===this.activeMenuItem&&(c=!0)}return u||this.activeMenuItem}},n.prototype.destroy=function(){this.clearActiveItem(),p.prototype.destroy.call(this)},cu([I("focusService")],n.prototype,"focusService",void 0),cu([Ee],n.prototype,"postConstruct",null),n}(cn),Hv=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),$v=function(p){function n(t){var o=p.call(this)||this;return o.wrappedComponent=t,o.setTemplateFromElement(t.getGui()),o}return Hv(n,p),n.prototype.postConstruct=function(){var t=this;this.initialiseTabGuard({onTabKeyDown:function(o){return t.onTabKeyDown(o)},handleKeyDown:function(o){return t.handleKeyDown(o)}})},n.prototype.handleKeyDown=function(t){t.key===ye.ESCAPE&&this.closePanel()},n.prototype.onTabKeyDown=function(t){t.defaultPrevented||(this.closePanel(),t.preventDefault())},n.prototype.closePanel=function(){var t=this.parentComponent;t.closeSubMenu(),setTimeout(function(){return t.getGui().focus()},0)},function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);u>3&&c&&Object.defineProperty(n,t,c)}([Ee],n.prototype,"postConstruct",null),n}(cn),jv=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),du=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},Si=function(p){function n(t){var o=p.call(this)||this;return o.params=t,o.isActive=!1,o.subMenuIsOpen=!1,o.setTemplate('<div class="'+o.getClassName()+'" tabindex="-1" role="treeitem"></div>'),o}return jv(n,p),n.prototype.init=function(){var t=this;this.addIcon(),this.addName(),this.addShortcut(),this.addSubMenu(),this.addTooltip();var o=this.getGui();this.params.disabled?(this.addCssClass(this.getClassName("disabled")),ea(o,!0)):(this.addGuiEventListener("click",function(u){return t.onItemSelected(u)}),this.addGuiEventListener("keydown",function(u){(u.key===ye.ENTER||u.key===ye.SPACE)&&(u.preventDefault(),t.onItemSelected(u))}),this.addGuiEventListener("mousedown",function(u){u.stopPropagation(),u.preventDefault()}),this.addGuiEventListener("mouseenter",function(){return t.onMouseEnter()}),this.addGuiEventListener("mouseleave",function(){return t.onMouseLeave()})),this.params.cssClasses&&this.params.cssClasses.forEach(function(u){return t.addCssClass(u)})},n.prototype.isDisabled=function(){return!!this.params.disabled},n.prototype.openSubMenu=function(t){var o=this;if(void 0===t&&(t=!1),this.closeSubMenu(),this.params.subMenu){var c,u=mt('<div class="ag-menu" role="presentation"></div>');if(this.params.subMenu instanceof Array){var f=qs(this.getGui()),g=isNaN(f)?1:f+1,C=this.createBean(new pu(g));C.setParentComponent(this),C.addMenuItems(this.params.subMenu),u.appendChild(C.getGui()),this.addManagedListener(C,n.EVENT_MENU_ITEM_SELECTED,function(ae){return o.dispatchEvent(ae)}),C.addGuiEventListener("mouseenter",function(){return o.cancelDeactivate()}),c=function(){return o.destroyBean(C)},t&&setTimeout(function(){return C.activateFirstItem()},0)}else{var O=this.params.subMenu,P=this.createBean(new $v(O));P.setParentComponent(this);var R=P.getGui(),x="mouseenter",W=function(){return o.cancelDeactivate()};R.addEventListener(x,W),c=function(){return R.removeEventListener(x,W)},u.appendChild(R),O.afterGuiAttached&&setTimeout(function(){return O.afterGuiAttached()},0)}var U=this.getGui(),q=this.popupService.positionPopupForMenu.bind(this.popupService,{eventSource:U,ePopup:u}),te=this.gridOptionsWrapper.getLocaleTextFunc(),se=this.popupService.addPopup({modal:!0,eChild:u,positionCallback:q,anchorToElement:U,ariaLabel:te("ariaLabelSubMenu","SubMenu")});this.subMenuIsOpen=!0,Vt(U,!0),this.hideSubMenu=function(){se&&se.hideFunc(),o.subMenuIsOpen=!1,Vt(U,!1),c()}}},n.prototype.closeSubMenu=function(){!this.hideSubMenu||(this.hideSubMenu(),this.hideSubMenu=null,Vt(this.getGui(),!1))},n.prototype.isSubMenuOpen=function(){return this.subMenuIsOpen},n.prototype.activate=function(t){var o=this;this.cancelActivate(),!this.params.disabled&&(this.isActive=!0,this.addCssClass(this.getClassName("active")),this.getGui().focus(),t&&this.params.subMenu&&window.setTimeout(function(){o.isAlive()&&o.isActive&&o.openSubMenu()},300),this.onItemActivated())},n.prototype.deactivate=function(){this.cancelDeactivate(),this.removeCssClass(this.getClassName("active")),this.isActive=!1,this.subMenuIsOpen&&this.hideSubMenu()},n.prototype.addIcon=function(){if(this.params.checked||this.params.icon||!this.params.isCompact){var t=mt('<span ref="eIcon" class="'+this.getClassName("part")+" "+this.getClassName("icon")+'" role="presentation"></span>');this.params.checked?t.appendChild(dt("check",this.gridOptionsWrapper)):this.params.icon&&(Ki(this.params.icon)?t.appendChild(this.params.icon):"string"==typeof this.params.icon?t.innerHTML=this.params.icon:console.warn("AG Grid: menu item icon must be DOM node or string")),this.getGui().appendChild(t)}},n.prototype.addName=function(){if(this.params.name||!this.params.isCompact){var t=mt('<span ref="eName" class="'+this.getClassName("part")+" "+this.getClassName("text")+'">'+(this.params.name||"")+"</span>");this.getGui().appendChild(t)}},n.prototype.addTooltip=function(){!this.params.tooltip||(this.tooltip=this.params.tooltip,this.gridOptionsWrapper.isEnableBrowserTooltips()?this.getGui().setAttribute("title",this.tooltip):this.createManagedBean(new ca(this)))},n.prototype.getTooltipParams=function(){return{location:"menu",value:this.tooltip}},n.prototype.addShortcut=function(){if(this.params.shortcut||!this.params.isCompact){var t=mt('<span ref="eShortcut" class="'+this.getClassName("part")+" "+this.getClassName("shortcut")+'">'+(this.params.shortcut||"")+"</span>");this.getGui().appendChild(t)}},n.prototype.addSubMenu=function(){if(this.params.subMenu||!this.params.isCompact){var t=mt('<span ref="ePopupPointer" class="'+this.getClassName("part")+" "+this.getClassName("popup-pointer")+'"></span>'),o=this.getGui();if(this.params.subMenu){var u=this.gridOptionsWrapper.isEnableRtl()?"smallLeft":"smallRight";Vt(o,!1),t.appendChild(dt(u,this.gridOptionsWrapper))}o.appendChild(t)}},n.prototype.onItemSelected=function(t){this.params.action?this.params.action():this.openSubMenu(t&&"keydown"===t.type),(!this.params.subMenu||this.params.action)&&this.dispatchEvent({type:n.EVENT_MENU_ITEM_SELECTED,action:this.params.action,checked:this.params.checked,cssClasses:this.params.cssClasses,disabled:this.params.disabled,icon:this.params.icon,name:this.params.name,shortcut:this.params.shortcut,subMenu:this.params.subMenu,tooltip:this.params.tooltip,event:t})},n.prototype.onItemActivated=function(){this.dispatchEvent({type:n.EVENT_MENU_ITEM_ACTIVATED,menuItem:this})},n.prototype.cancelActivate=function(){this.activateTimeoutId&&(window.clearTimeout(this.activateTimeoutId),this.activateTimeoutId=0)},n.prototype.cancelDeactivate=function(){this.deactivateTimeoutId&&(window.clearTimeout(this.deactivateTimeoutId),this.deactivateTimeoutId=0)},n.prototype.onMouseEnter=function(){var t=this;this.cancelDeactivate(),this.params.isAnotherSubMenuOpen()?this.activateTimeoutId=window.setTimeout(function(){return t.activate(!0)},n.ACTIVATION_DELAY):this.activate(!0)},n.prototype.onMouseLeave=function(){var t=this;this.cancelActivate(),this.isSubMenuOpen()?this.deactivateTimeoutId=window.setTimeout(function(){return t.deactivate()},n.ACTIVATION_DELAY):this.deactivate()},n.prototype.getClassName=function(t){var o=this.params.isCompact?"ag-compact-menu-option":"ag-menu-option";return t?o+"-"+t:o},n.EVENT_MENU_ITEM_SELECTED="menuItemSelected",n.EVENT_MENU_ITEM_ACTIVATED="menuItemActivated",n.ACTIVATION_DELAY=80,du([I("popupService")],n.prototype,"popupService",void 0),du([Ee],n.prototype,"init",null),n}(je),Kv=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),ar=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},zv=function(p,n){var t="function"==typeof Symbol&&p[Symbol.iterator];if(!t)return p;var u,f,o=t.call(p),c=[];try{for(;(void 0===n||n-- >0)&&!(u=o.next()).done;)c.push(u.value)}catch(g){f={error:g}}finally{try{u&&!u.done&&(t=o.return)&&t.call(o)}finally{if(f)throw f.error}}return c},pn=function(p){function n(){return null!==p&&p.apply(this,arguments)||this}var t;return Kv(n,p),t=n,n.addKeyboardModeEvents=function(o,u){var c=t.instancesMonitored.get(o);c&&c.length>0?-1===c.indexOf(u)&&c.push(u):(t.instancesMonitored.set(o,[u]),o.addEventListener("keydown",t.toggleKeyboardMode),o.addEventListener("mousedown",t.toggleKeyboardMode))},n.removeKeyboardModeEvents=function(o,u){var c=t.instancesMonitored.get(o),f=[];c&&c.length&&(f=function(){for(var p=[],n=0;n<arguments.length;n++)p=p.concat(zv(arguments[n]));return p}(c).filter(function(g){return g!==u}),t.instancesMonitored.set(o,f)),0===f.length&&(o.removeEventListener("keydown",t.toggleKeyboardMode),o.removeEventListener("mousedown",t.toggleKeyboardMode))},n.toggleKeyboardMode=function(o){var u=t.keyboardModeActive,c="keydown"===o.type;if(!(c&&(o.ctrlKey||o.metaKey||o.altKey)||u&&c||!u&&!c)){t.keyboardModeActive=c;var f=o.target.ownerDocument;if(f){var g=t.instancesMonitored.get(f);g&&g.forEach(function(C){C.dispatchEvent({type:c?V.EVENT_KEYBOARD_FOCUS:V.EVENT_MOUSE_FOCUS})})}}},n.prototype.init=function(){var o=this,u=this.clearFocusedCell.bind(this);this.addManagedListener(this.eventService,V.EVENT_COLUMN_PIVOT_MODE_CHANGED,u),this.addManagedListener(this.eventService,V.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverythingChanged.bind(this)),this.addManagedListener(this.eventService,V.EVENT_COLUMN_GROUP_OPENED,u),this.addManagedListener(this.eventService,V.EVENT_COLUMN_ROW_GROUP_CHANGED,u),this.ctrlsService.whenReady(function(c){o.gridCtrl=c.gridCtrl;var f=o.gridOptionsWrapper.getDocument();t.addKeyboardModeEvents(f,o.gridCtrl),o.addDestroyFunc(function(){return o.unregisterGridCompController(o.gridCtrl)})})},n.prototype.unregisterGridCompController=function(o){var u=this.gridOptionsWrapper.getDocument();t.removeKeyboardModeEvents(u,o)},n.prototype.onColumnEverythingChanged=function(){if(this.focusedCellPosition){var o=this.focusedCellPosition.column,u=this.columnModel.getGridColumn(o.getId());o!==u&&this.clearFocusedCell()}},n.prototype.isKeyboardMode=function(){return t.keyboardModeActive},n.prototype.getFocusCellToUseAfterRefresh=function(){var o=this.gridOptionsWrapper.getDocument();return this.gridOptionsWrapper.isSuppressFocusAfterRefresh()||!this.focusedCellPosition||this.isDomDataMissingInHierarchy(o.activeElement,Zr.DOM_DATA_KEY_ROW_CTRL)?null:this.focusedCellPosition},n.prototype.getFocusHeaderToUseAfterRefresh=function(){var o=this.gridOptionsWrapper.getDocument();return this.gridOptionsWrapper.isSuppressFocusAfterRefresh()||!this.focusedHeaderPosition||this.isDomDataMissingInHierarchy(o.activeElement,Xn.DOM_DATA_KEY_HEADER_CTRL)?null:this.focusedHeaderPosition},n.prototype.isDomDataMissingInHierarchy=function(o,u){for(var c=o;c;){if(this.gridOptionsWrapper.getDomData(c,u))return!1;c=c.parentNode}return!0},n.prototype.clearFocusedCell=function(){this.focusedCellPosition=null,this.onCellFocused(!1,!1)},n.prototype.getFocusedCell=function(){return this.focusedCellPosition},n.prototype.setFocusedCell=function(o){var c=o.rowIndex,f=o.rowPinned,g=o.forceBrowserFocus,C=void 0!==g&&g,O=o.preventScrollOnBrowserFocus,P=void 0!==O&&O,R=this.columnModel.getGridColumn(o.column);R?(this.focusedCellPosition=R?{rowIndex:c,rowPinned:i(f),column:R}:null,this.onCellFocused(C,P)):this.focusedCellPosition=null},n.prototype.isCellFocused=function(o){return null!=this.focusedCellPosition&&this.focusedCellPosition.column===o.column&&this.isRowFocused(o.rowIndex,o.rowPinned)},n.prototype.isRowNodeFocused=function(o){return this.isRowFocused(o.rowIndex,o.rowPinned)},n.prototype.isHeaderWrapperFocused=function(o){if(null==this.focusedHeaderPosition)return!1;var u=o.getColumnGroupChild(),c=o.getRowIndex(),f=o.getPinned(),g=this.focusedHeaderPosition,C=g.column;return u===C&&c===g.headerRowIndex&&f==C.getPinned()},n.prototype.clearFocusedHeader=function(){this.focusedHeaderPosition=null},n.prototype.getFocusedHeader=function(){return this.focusedHeaderPosition},n.prototype.setFocusedHeader=function(o,u){this.focusedHeaderPosition={headerRowIndex:o,column:u}},n.prototype.focusHeaderPosition=function(o){var u=o.direction,c=o.fromTab,g=o.event,C=o.headerPosition;if(o.allowUserOverride){var x,O=this.gridOptionsWrapper,P=this.getFocusedHeader(),R=this.headerNavigationService.getHeaderRowCount();c?(x=O.getTabToNextHeaderFunc())&&(C=x({backwards:"Before"===u,previousHeaderPosition:P,nextHeaderPosition:C,headerRowCount:R})):(x=O.getNavigateToNextHeaderFunc())&&g&&(C=x({key:g.key,previousHeaderPosition:P,nextHeaderPosition:C,headerRowCount:R,event:g}))}return!!C&&(-1===C.headerRowIndex?this.focusGridView(C.column):(this.headerNavigationService.scrollToColumn(C.column,u),this.ctrlsService.getHeaderRowContainerCtrl(C.column.getPinned()).focusHeader(C.headerRowIndex,C.column,g)))},n.prototype.focusFirstHeader=function(){var o=this.columnModel.getAllDisplayedColumns()[0];return!!o&&(o.getParent()&&(o=this.columnModel.getColumnGroupAtLevel(o,0)),this.focusHeaderPosition({headerPosition:{headerRowIndex:0,column:o}}))},n.prototype.focusLastHeader=function(o){var u=this.headerNavigationService.getHeaderRowCount()-1,c=Je(this.columnModel.getAllDisplayedColumns());return this.focusHeaderPosition({headerPosition:{headerRowIndex:u,column:c},event:o})},n.prototype.isAnyCellFocused=function(){return!!this.focusedCellPosition},n.prototype.isRowFocused=function(o,u){return null!=this.focusedCellPosition&&this.focusedCellPosition.rowIndex===o&&this.focusedCellPosition.rowPinned===i(u)},n.prototype.findFocusableElements=function(o,u,c){void 0===c&&(c=!1);var g=ee.FOCUSABLE_EXCLUDE;u&&(g+=", "+u),c&&(g+=', [tabindex="-1"]');var x,C=Array.prototype.slice.apply(o.querySelectorAll(ee.FOCUSABLE_SELECTOR)),O=Array.prototype.slice.apply(o.querySelectorAll(g));return O.length?(x=O,C.filter(function(W){return-1===x.indexOf(W)})):C},n.prototype.focusInto=function(o,u,c){void 0===u&&(u=!1),void 0===c&&(c=!1);var f=this.findFocusableElements(o,null,c),g=u?Je(f):f[0];return!!g&&(g.focus(),!0)},n.prototype.findNextFocusableElement=function(o,u,c){void 0===o&&(o=this.eGridDiv);var f=this.findFocusableElements(o,u?':not([tabindex="-1"])':null),C=this.gridOptionsWrapper.getDocument().activeElement,P=(u?f.findIndex(function(R){return R.contains(C)}):f.indexOf(C))+(c?-1:1);return P<0||P>=f.length?null:f[P]},n.prototype.isFocusUnderManagedComponent=function(o){var u=this.gridOptionsWrapper.getDocument(),c=o.querySelectorAll("."+pr.FOCUS_MANAGED_CLASS);if(!c.length)return!1;for(var f=0;f<c.length;f++)if(c[f].contains(u.activeElement))return!0;return!1},n.prototype.findTabbableParent=function(o,u){void 0===u&&(u=5);for(var c=0;o&&null===wn(o)&&++c<=u;)o=o.parentElement;return null===wn(o)?null:o},n.prototype.onCellFocused=function(o,u){var c={type:V.EVENT_CELL_FOCUSED,forceBrowserFocus:o,preventScrollOnBrowserFocus:u,rowIndex:null,column:null,floating:null,rowPinned:null,isFullWidthCell:!1};if(this.focusedCellPosition){var f=c.rowIndex=this.focusedCellPosition.rowIndex,g=c.rowPinned=this.focusedCellPosition.rowPinned;c.column=this.focusedCellPosition.column;var C=this.rowRenderer.getRowByPosition({rowIndex:f,rowPinned:g});C&&(c.isFullWidthCell=C.isFullWidth())}this.eventService.dispatchEvent(c)},n.prototype.focusGridView=function(o,u){if(this.gridOptionsWrapper.isSuppressCellFocus())return u?this.focusLastHeader():this.focusNextGridCoreContainer(!1);var c=u?this.rowPositionUtils.getLastRow():this.rowPositionUtils.getFirstRow();if(!c)return!1;var f=c.rowIndex,g=c.rowPinned,C=this.getFocusedHeader();return!o&&C&&(o=C.column),!(null==f||!o)&&(this.navigationService.ensureCellVisible({rowIndex:f,column:o,rowPinned:g}),this.setFocusedCell({rowIndex:f,column:o,rowPinned:i(g),forceBrowserFocus:!0}),this.rangeService&&this.rangeService.setRangeToCell({rowIndex:f,rowPinned:g,column:o}),!0)},n.prototype.focusNextGridCoreContainer=function(o){return!!this.gridCtrl.focusNextInnerContainer(o)||(!o&&!this.gridCtrl.isDetailGrid()&&this.gridCtrl.forceFocusOutOfContainer(),!1)},n.AG_KEYBOARD_FOCUS="ag-keyboard-focus",n.keyboardModeActive=!1,n.instancesMonitored=new Map,ar([I("eGridDiv")],n.prototype,"eGridDiv",void 0),ar([I("columnModel")],n.prototype,"columnModel",void 0),ar([I("headerNavigationService")],n.prototype,"headerNavigationService",void 0),ar([I("rowRenderer")],n.prototype,"rowRenderer",void 0),ar([I("rowPositionUtils")],n.prototype,"rowPositionUtils",void 0),ar([xe("rangeService")],n.prototype,"rangeService",void 0),ar([I("navigationService")],n.prototype,"navigationService",void 0),ar([I("ctrlsService")],n.prototype,"ctrlsService",void 0),ar([Ee],n.prototype,"init",null),t=ar([me("focusService")],n)}(Se),Xv=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),dn=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},qv=function(p,n){var t="function"==typeof Symbol&&p[Symbol.iterator];if(!t)return p;var u,f,o=t.call(p),c=[];try{for(;(void 0===n||n-- >0)&&!(u=o.next()).done;)c.push(u.value)}catch(g){f={error:g}}finally{try{u&&!u.done&&(t=o.return)&&t.call(o)}finally{if(f)throw f.error}}return c},gr=(()=>(function(p){p[p.vertical=0]="vertical",p[p.horizontal=1]="horizontal"}(gr||(gr={})),gr))(),Jv=0,Qv=function(p){function n(){var t=null!==p&&p.apply(this,arguments)||this;return t.popupList=[],t}return Xv(n,p),n.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady(function(o){t.gridCtrl=o.gridCtrl,t.addManagedListener(t.gridCtrl,V.EVENT_KEYBOARD_FOCUS,function(){t.popupList.forEach(function(u){return u.element.classList.add(pn.AG_KEYBOARD_FOCUS)})}),t.addManagedListener(t.gridCtrl,V.EVENT_MOUSE_FOCUS,function(){t.popupList.forEach(function(u){return u.element.classList.remove(pn.AG_KEYBOARD_FOCUS)})})})},n.prototype.getPopupParent=function(){return this.gridOptionsWrapper.getPopupParent()||this.gridCtrl.getGui()},n.prototype.positionPopupForMenu=function(t){var o=t.eventSource.getBoundingClientRect(),u=this.getParentRect(),c=this.keepXYWithinBounds(t.ePopup,o.top-u.top,gr.vertical),f=t.ePopup.clientWidth>0?t.ePopup.clientWidth:200;t.ePopup.style.minWidth=f+"px";var O,C=u.right-u.left-f;function P(){return o.right-u.left-2}function R(){return o.left-u.left-f}this.gridOptionsWrapper.isEnableRtl()?((O=R())<0&&(O=P()),O>C&&(O=0)):((O=P())>C&&(O=R()),O<0&&(O=0)),t.ePopup.style.left=O+"px",t.ePopup.style.top=c+"px"},n.prototype.positionPopupUnderMouseEvent=function(t){var o=t.ePopup,u=t.nudgeX,c=t.nudgeY,f=this.calculatePointerAlign(t.mouseEvent);this.positionPopup({ePopup:o,x:f.x,y:f.y,nudgeX:u,nudgeY:c,keepWithinBounds:!0}),this.callPostProcessPopup(t.type,t.ePopup,null,t.mouseEvent,t.column,t.rowNode)},n.prototype.calculatePointerAlign=function(t){var o=this.getParentRect();return{x:t.clientX-o.left,y:t.clientY-o.top}},n.prototype.positionPopupUnderComponent=function(t){var o=t.eventSource.getBoundingClientRect(),u=t.alignSide||"left",c=this.getParentRect(),f=o.left-c.left;"right"===u&&(f-=t.ePopup.offsetWidth-o.width),this.positionPopup({ePopup:t.ePopup,nudgeX:t.nudgeX,nudgeY:t.nudgeY,x:f,y:o.top-c.top+o.height,keepWithinBounds:t.keepWithinBounds}),this.callPostProcessPopup(t.type,t.ePopup,t.eventSource,null,t.column,t.rowNode)},n.prototype.positionPopupOverComponent=function(t){var o=t.eventSource.getBoundingClientRect(),u=this.getParentRect();this.positionPopup({ePopup:t.ePopup,nudgeX:t.nudgeX,nudgeY:t.nudgeY,x:o.left-u.left,y:o.top-u.top,keepWithinBounds:t.keepWithinBounds}),this.callPostProcessPopup(t.type,t.ePopup,t.eventSource,null,t.column,t.rowNode)},n.prototype.callPostProcessPopup=function(t,o,u,c,f,g){var C=this.gridOptionsWrapper.getPostProcessPopupFunc();C&&C({column:f,rowNode:g,ePopup:o,type:t,eventSource:u,mouseEvent:c})},n.prototype.positionPopup=function(t){var o=t.ePopup,c=t.nudgeX,f=t.nudgeY,g=t.x,C=t.y;c&&(g+=c),f&&(C+=f),t.keepWithinBounds&&(g=this.keepXYWithinBounds(o,g,gr.horizontal),C=this.keepXYWithinBounds(o,C,gr.vertical)),o.style.left=g+"px",o.style.top=C+"px"},n.prototype.getActivePopups=function(){return this.popupList.map(function(t){return t.element})},n.prototype.getPopupList=function(){return this.popupList},n.prototype.getParentRect=function(){var t=this.gridOptionsWrapper.getDocument(),o=this.getPopupParent();o===t.body?o=t.documentElement:"static"===getComputedStyle(o).position&&(o=o.offsetParent);var u=getComputedStyle(o),c=o.getBoundingClientRect();return{top:c.top+parseFloat(u.borderTopWidth)||0,left:c.left+parseFloat(u.borderLeftWidth)||0,right:c.right+parseFloat(u.borderRightWidth)||0,bottom:c.bottom+parseFloat(u.borderBottomWidth)||0}},n.prototype.keepXYWithinBounds=function(t,o,u){var c=u===gr.vertical,f=c?"clientHeight":"clientWidth",g=c?"top":"left",C=c?"offsetHeight":"offsetWidth",O=c?"scrollTop":"scrollLeft",P=this.gridOptionsWrapper.getDocument(),R=P.documentElement,x=this.getPopupParent(),W=x.getBoundingClientRect(),U=P.documentElement.getBoundingClientRect(),q=x===P.body,te=t[C],ae=q?(c?Uo:Tn)(R)+R[O]:x[f];q&&(ae-=Math.abs(U[g]-W[g]));var Ce=ae-te;return Math.min(Math.max(o,0),Math.abs(Ce))},n.prototype.keepPopupPositionedRelativeTo=function(t){var o=this,u=this.getPopupParent(),c=u.getBoundingClientRect(),f=t.element.getBoundingClientRect(),g=c.top-f.top,C=c.left-f.left,O=g,P=C,R=t.ePopup.style.top,x=parseInt(R.substring(0,R.length-1),10),W=t.ePopup.style.left,U=parseInt(W.substring(0,W.length-1),10);return new Ft(function(q){o.getFrameworkOverrides().setInterval(function(){var te=u.getBoundingClientRect(),se=t.element.getBoundingClientRect();if(0==se.top&&0==se.left&&0==se.height&&0==se.width)t.hidePopup();else{var Ce=te.top-se.top;if(Ce!=O){var Oe=o.keepXYWithinBounds(t.ePopup,x+g-Ce,gr.vertical);t.ePopup.style.top=Oe+"px"}O=Ce;var Me=te.left-se.left;if(Me!=P){var Be=o.keepXYWithinBounds(t.ePopup,U+C-Me,gr.horizontal);t.ePopup.style.left=Be+"px"}P=Me}},200).then(function(te){q(function(){null!=te&&window.clearInterval(te)})})})},n.prototype.addPopup=function(t){var o,u=this,c=t.modal,f=t.eChild,g=t.closeOnEsc,C=t.closedCallback,O=t.click,P=t.alwaysOnTop,R=t.afterGuiAttached,x=t.positionCallback,W=t.anchorToElement,U=t.ariaLabel,q=this.gridOptionsWrapper.getDocument(),te=new Ft(function(Ye){return Ye(function(){})});if(!q)return console.warn("ag-grid: could not find the document, document is empty"),{hideFunc:function(){},stopAnchoringPromise:te};var se=this.popupList.findIndex(function(Ye){return Ye.element===f});if(-1!==se){var ae=this.popupList[se];return{hideFunc:ae.hideFunc,stopAnchoringPromise:ae.stopAnchoringPromise}}var Ce=this.getPopupParent();null==f.style.top&&(f.style.top="0px"),null==f.style.left&&(f.style.left="0px");var Oe=document.createElement("div"),Me=this.environment.getTheme().allThemes;Me.length&&(o=Oe.classList).add.apply(o,function(){for(var p=[],n=0;n<arguments.length;n++)p=p.concat(qv(arguments[n]));return p}(Me)),Oe.classList.add("ag-popup"),f.classList.add(this.gridOptionsWrapper.isEnableRtl()?"ag-rtl":"ag-ltr","ag-popup-child"),f.hasAttribute("role")||Mt(f,"dialog"),Hr(f,U),this.focusService.isKeyboardMode()&&f.classList.add(pn.AG_KEYBOARD_FOCUS),Oe.appendChild(f),Ce.appendChild(Oe),P?this.setAlwaysOnTop(Oe,!0):this.bringPopupToFront(Oe);var Be=!1,Ve=function(Ye){Oe.contains(q.activeElement)&&Ye.key===ye.ESCAPE&&ke({keyboardEvent:Ye})},Ae=function(Ye){return ke({mouseEvent:Ye})},He=function(Ye){return ke({touchEvent:Ye})},ke=function(Ye){void 0===Ye&&(Ye={});var st=Ye.mouseEvent,gt=Ye.touchEvent,er=Ye.keyboardEvent;u.isEventFromCurrentPopup({mouseEvent:st,touchEvent:gt},f)||u.isEventSameChainAsOriginalEvent({originalMouseEvent:O,mouseEvent:st,touchEvent:gt})||Be||(Be=!0,Ce.removeChild(Oe),q.removeEventListener("keydown",Ve),q.removeEventListener("mousedown",Ae),q.removeEventListener("touchstart",He),q.removeEventListener("contextmenu",Ae),u.eventService.removeEventListener(V.EVENT_DRAG_STARTED,Ae),C&&C(st||gt||er),u.popupList=u.popupList.filter(function(ut){return ut.element!==f}),te&&te.then(function(ut){return ut&&ut()}))};return R&&R({hidePopup:ke}),window.setTimeout(function(){g&&q.addEventListener("keydown",Ve),c&&(q.addEventListener("mousedown",Ae),u.eventService.addEventListener(V.EVENT_DRAG_STARTED,Ae),q.addEventListener("touchstart",He),q.addEventListener("contextmenu",Ae))},0),x&&x(),W&&(te=this.keepPopupPositionedRelativeTo({element:W,ePopup:f,hidePopup:ke})),this.popupList.push({element:f,wrapper:Oe,hideFunc:ke,stopAnchoringPromise:te,instanceId:Jv++,isAnchored:!!W}),{hideFunc:ke,stopAnchoringPromise:te}},n.prototype.hasAnchoredPopup=function(){return this.popupList.some(function(t){return t.isAnchored})},n.prototype.isEventFromCurrentPopup=function(t,o){var f=t.mouseEvent||t.touchEvent;if(!f)return!1;var g=this.popupList.findIndex(function(P){return P.element===o});if(-1===g)return!1;for(var C=g;C<this.popupList.length;C++)if(Ie(this.popupList[C].element,f))return!0;return this.isElementWithinCustomPopup(f.target)},n.prototype.isElementWithinCustomPopup=function(t){for(var o=this.gridOptionsWrapper.getDocument();t&&t!==o.body;){if(t.classList.contains("ag-custom-component-popup")||null===t.parentElement)return!0;t=t.parentElement}return!1},n.prototype.isEventSameChainAsOriginalEvent=function(t){var o=t.originalMouseEvent,u=t.mouseEvent,c=t.touchEvent,f=null;if(u?f=u:c&&(f=c.touches[0]),f&&o){var C=u?u.screenY:0,O=Math.abs(o.screenX-(u?u.screenX:0))<5,P=Math.abs(o.screenY-C)<5;if(O&&P)return!0}return!1},n.prototype.getWrapper=function(t){for(;!t.classList.contains("ag-popup")&&t.parentElement;)t=t.parentElement;return t.classList.contains("ag-popup")?t:null},n.prototype.setAlwaysOnTop=function(t,o){var u=this.getWrapper(t);!u||(u.classList.toggle("ag-always-on-top",!!o),o&&this.bringPopupToFront(u))},n.prototype.bringPopupToFront=function(t){var o=this.getPopupParent(),u=Array.prototype.slice.call(o.querySelectorAll(".ag-popup")),c=u.length,f=Array.prototype.slice.call(o.querySelectorAll(".ag-popup.ag-always-on-top")),g=f.length,C=this.getWrapper(t);if(C&&!(c<=1)&&o.contains(t)){var O=u.indexOf(C),P=C.querySelectorAll("div"),R=[];for(P.forEach(function(q){0!==q.scrollTop&&R.push([q,q.scrollTop])}),g?C.classList.contains("ag-always-on-top")?O!==c-1&&Je(f).insertAdjacentElement("afterend",C):O!==c-g-1&&f[0].insertAdjacentElement("beforebegin",C):O!==c-1&&Je(u).insertAdjacentElement("afterend",C);R.length;){var W=R.pop();W[0].scrollTop=W[1]}var U={type:"popupToFront",api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),eWrapper:C};this.eventService.dispatchEvent(U)}},dn([I("environment")],n.prototype,"environment",void 0),dn([I("focusService")],n.prototype,"focusService",void 0),dn([I("ctrlsService")],n.prototype,"ctrlsService",void 0),dn([Ee],n.prototype,"postConstruct",null),dn([me("popupService")],n)}(Se),e_=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),lo=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},t_=function(p){function n(t,o,u){void 0===t&&(t="default"),void 0===o&&(o="listbox");var c=p.call(this,n.getTemplate(t))||this;return c.cssIdentifier=t,c.ariaRole=o,c.listName=u,c.renderedRows=new Map,c.rowHeight=20,c.isDestroyed=!1,c}return e_(n,p),n.prototype.postConstruct=function(){var t=this;this.addScrollListener(),this.rowHeight=this.getItemHeight(),this.addResizeObserver(),this.initialiseTabGuard({onFocusIn:function(o){return t.onFocusIn(o)},onFocusOut:function(o){return t.onFocusOut(o)},focusInnerElement:function(o){return t.focusInnerElement(o)},onTabKeyDown:function(o){return t.onTabKeyDown(o)},handleKeyDown:function(o){return t.handleKeyDown(o)}}),this.setAriaProperties()},n.prototype.setAriaProperties=function(){var o=this.gridOptionsWrapper.getLocaleTextFunc()("ariaDefaultListName",this.listName||"List"),u=this.eContainer;Mt(u,this.ariaRole),Hr(u,o)},n.prototype.addResizeObserver=function(){var t=this.drawVirtualRows.bind(this),o=this.resizeObserverService.observeResize(this.getGui(),t);this.addDestroyFunc(o)},n.prototype.focusInnerElement=function(t){this.focusRow(t?this.model.getRowCount()-1:0)},n.prototype.onFocusIn=function(t){var o=t.target;return o.classList.contains("ag-virtual-list-item")&&(this.lastFocusedRowIndex=Zs(o)-1),!1},n.prototype.onFocusOut=function(t){return this.getFocusableElement().contains(t.relatedTarget)||(this.lastFocusedRowIndex=null),!1},n.prototype.handleKeyDown=function(t){switch(t.key){case ye.UP:case ye.DOWN:this.navigate(t.key===ye.UP)&&t.preventDefault()}},n.prototype.onTabKeyDown=function(t){this.navigate(t.shiftKey)?t.preventDefault():this.focusService.focusInto(this.getGui(),!t.shiftKey)},n.prototype.navigate=function(t){if(null==this.lastFocusedRowIndex)return!1;var o=this.lastFocusedRowIndex+(t?-1:1);return!(o<0||o>=this.model.getRowCount()||(this.focusRow(o),0))},n.prototype.getLastFocusedRow=function(){return this.lastFocusedRowIndex},n.prototype.focusRow=function(t){var o=this;this.ensureIndexVisible(t),window.setTimeout(function(){var u=o.renderedRows.get(t);u&&u.eDiv.focus()},10)},n.prototype.getComponentAt=function(t){var o=this.renderedRows.get(t);return o&&o.rowComponent},n.prototype.forEachRenderedRow=function(t){this.renderedRows.forEach(function(o,u){return t(o.rowComponent,u)})},n.getTemplate=function(t){return'\n            <div class="ag-virtual-list-viewport ag-'+t+'-virtual-list-viewport" role="presentation">\n                <div class="ag-virtual-list-container ag-'+t+'-virtual-list-container" ref="eContainer"></div>\n            </div>'},n.prototype.getItemHeight=function(){return this.gridOptionsWrapper.getListItemHeight()},n.prototype.ensureIndexVisible=function(t){var o=this.model.getRowCount();if("number"!=typeof t||t<0||t>=o)console.warn("AG Grid: invalid row index for ensureIndexVisible: "+t);else{var u=t*this.rowHeight,c=u+this.rowHeight,f=this.getGui(),g=f.scrollTop,C=f.offsetHeight,R=g+C<c;g>u?f.scrollTop=u:R&&(f.scrollTop=c-C)}},n.prototype.setComponentCreator=function(t){this.componentCreator=t},n.prototype.getRowHeight=function(){return this.rowHeight},n.prototype.getScrollTop=function(){return this.getGui().scrollTop},n.prototype.setRowHeight=function(t){this.rowHeight=t,this.refresh()},n.prototype.refresh=function(){var t=this;if(null!=this.model&&!this.isDestroyed){var o=this.model.getRowCount();this.eContainer.style.height=o*this.rowHeight+"px",Te(function(){return t.eContainer.clientHeight>=o*t.rowHeight},function(){t.isDestroyed||(t.clearVirtualRows(),t.drawVirtualRows())})}},n.prototype.clearVirtualRows=function(){var t=this;this.renderedRows.forEach(function(o,u){return t.removeRow(u)})},n.prototype.drawVirtualRows=function(){if(this.isAlive()){var t=this.getGui(),o=t.scrollTop,u=o+t.offsetHeight,c=Math.floor(o/this.rowHeight),f=Math.floor(u/this.rowHeight);this.ensureRowsRendered(c,f)}},n.prototype.ensureRowsRendered=function(t,o){var u=this;this.renderedRows.forEach(function(f,g){(g<t||g>o)&&g!==u.lastFocusedRowIndex&&u.removeRow(g)});for(var c=t;c<=o;c++)this.renderedRows.has(c)||c<this.model.getRowCount()&&this.insertRow(c)},n.prototype.insertRow=function(t){var o=this,u=this.model.getRow(t),c=document.createElement("div");if(c.classList.add("ag-virtual-list-item","ag-"+this.cssIdentifier+"-virtual-list-item"),Mt(c,"tree"===this.ariaRole?"treeitem":"option"),ta(c,this.model.getRowCount()),ra(c,t+1),c.setAttribute("tabindex","-1"),"function"==typeof this.model.isRowSelected){var f=this.model.isRowSelected(t);vi(c,!!f),sl(c,f)}c.style.height=this.rowHeight+"px",c.style.top=this.rowHeight*t+"px";var g=this.componentCreator(u,c);g.addGuiEventListener("focusin",function(){return o.lastFocusedRowIndex=t}),c.appendChild(g.getGui()),this.renderedRows.has(t-1)?this.renderedRows.get(t-1).eDiv.insertAdjacentElement("afterend",c):this.renderedRows.has(t+1)?this.renderedRows.get(t+1).eDiv.insertAdjacentElement("beforebegin",c):this.eContainer.appendChild(c),this.renderedRows.set(t,{rowComponent:g,eDiv:c})},n.prototype.removeRow=function(t){var o=this.renderedRows.get(t);this.eContainer.removeChild(o.eDiv),this.destroyBean(o.rowComponent),this.renderedRows.delete(t)},n.prototype.addScrollListener=function(){var t=this;this.addGuiEventListener("scroll",function(){return t.drawVirtualRows()})},n.prototype.setModel=function(t){this.model=t},n.prototype.destroy=function(){this.isDestroyed||(this.clearVirtualRows(),this.isDestroyed=!0,p.prototype.destroy.call(this))},lo([I("resizeObserverService")],n.prototype,"resizeObserverService",void 0),lo([I("focusService")],n.prototype,"focusService",void 0),lo([_e("eContainer")],n.prototype,"eContainer",void 0),lo([Ee],n.prototype,"postConstruct",null),n}(cn),r_=["mouseover","mouseout","mouseenter","mouseleave"],i_=["touchstart","touchend","touchmove","touchcancel"],hu=function(){function p(){this.isOutsideAngular=function(n){return St(r_,n)}}return p.prototype.setTimeout=function(n,t){window.setTimeout(n,t)},p.prototype.setInterval=function(n,t){return new Ft(function(o){o(window.setInterval(n,t))})},p.prototype.addEventListener=function(n,t,o,u){var c=St(i_,t);n.addEventListener(t,o,{capture:!!u,passive:c})},p.prototype.dispatchEvent=function(n,t,o){t()},p.prototype.frameworkComponent=function(n){return null},p.prototype.isFrameworkComponent=function(n){return!1},p}(),n_=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),Pi=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},o_=function(p,n){var t="function"==typeof Symbol&&p[Symbol.iterator];if(!t)return p;var u,f,o=t.call(p),c=[];try{for(;(void 0===n||n-- >0)&&!(u=o.next()).done;)c.push(u.value)}catch(g){f={error:g}}finally{try{u&&!u.done&&(t=o.return)&&t.call(o)}finally{if(f)throw f.error}}return c},s_=function(p){function n(){return null!==p&&p.apply(this,arguments)||this}return n_(n,p),n.prototype.getNextCellToFocus=function(t,o,u){return void 0===u&&(u=!1),u?this.getNextCellToFocusWithCtrlPressed(t,o):this.getNextCellToFocusWithoutCtrlPressed(t,o)},n.prototype.getNextCellToFocusWithCtrlPressed=function(t,o){var g,C,u=t===ye.UP,f=t===ye.LEFT;if(u||t===ye.DOWN)C=u?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow(),g=o.column;else{var O=this.columnModel.getAllDisplayedColumns(),P=this.gridOptionsWrapper.isEnableRtl();C=o.rowIndex,g=f!==P?O[0]:Je(O)}return{rowIndex:C,rowPinned:null,column:g}},n.prototype.getNextCellToFocusWithoutCtrlPressed=function(t,o){for(var u=o,c=!1;!c;){switch(t){case ye.UP:u=this.getCellAbove(u);break;case ye.DOWN:u=this.getCellBelow(u);break;case ye.RIGHT:u=this.gridOptionsWrapper.isEnableRtl()?this.getCellToLeft(u):this.getCellToRight(u);break;case ye.LEFT:u=this.gridOptionsWrapper.isEnableRtl()?this.getCellToRight(u):this.getCellToLeft(u);break;default:u=null,console.warn("AG Grid: unknown key for navigation "+t)}c=!u||this.isCellGoodToFocusOn(u)}return u},n.prototype.isCellGoodToFocusOn=function(t){var u,o=t.column;switch(t.rowPinned){case ee.PINNED_TOP:u=this.pinnedRowModel.getPinnedTopRow(t.rowIndex);break;case ee.PINNED_BOTTOM:u=this.pinnedRowModel.getPinnedBottomRow(t.rowIndex);break;default:u=this.rowModel.getRow(t.rowIndex)}return!!u&&!o.isSuppressNavigable(u)},n.prototype.getCellToLeft=function(t){if(!t)return null;var o=this.columnModel.getDisplayedColBefore(t.column);return o?{rowIndex:t.rowIndex,column:o,rowPinned:t.rowPinned}:null},n.prototype.getCellToRight=function(t){if(!t)return null;var o=this.columnModel.getDisplayedColAfter(t.column);return o?{rowIndex:t.rowIndex,column:o,rowPinned:t.rowPinned}:null},n.prototype.getRowBelow=function(t){var o=t.rowIndex,u=t.rowPinned;if(this.isLastRowInContainer(t))switch(u){case ee.PINNED_BOTTOM:return null;case ee.PINNED_TOP:return this.rowModel.isRowsToRender()?{rowIndex:this.paginationProxy.getPageFirstRow(),rowPinned:null}:this.pinnedRowModel.isRowsToRender(ee.PINNED_BOTTOM)?{rowIndex:0,rowPinned:ee.PINNED_BOTTOM}:null;default:return this.pinnedRowModel.isRowsToRender(ee.PINNED_BOTTOM)?{rowIndex:0,rowPinned:ee.PINNED_BOTTOM}:null}var c=this.rowModel.getRow(t.rowIndex);return this.getNextStickyPosition(c)||{rowIndex:o+1,rowPinned:u}},n.prototype.getNextStickyPosition=function(t,o){if(this.gridOptionsWrapper.isGroupRowsSticky()&&t&&t.sticky){var u=function(){for(var p=[],n=0;n<arguments.length;n++)p=p.concat(o_(arguments[n]));return p}(this.rowRenderer.getStickyTopRowCtrls()).sort(function(C,O){return C.getRowNode().rowIndex-O.getRowNode().rowIndex}),c=o?-1:1,f=u.findIndex(function(C){return C.getRowNode().rowIndex===t.rowIndex}),g=u[f+c];if(g)return{rowIndex:g.getRowNode().rowIndex,rowPinned:null}}},n.prototype.getCellBelow=function(t){if(!t)return null;var o=this.getRowBelow(t);return o?{rowIndex:o.rowIndex,column:t.column,rowPinned:o.rowPinned}:null},n.prototype.isLastRowInContainer=function(t){var o=t.rowPinned,u=t.rowIndex;return o===ee.PINNED_TOP?this.pinnedRowModel.getPinnedTopRowData().length-1<=u:o===ee.PINNED_BOTTOM?this.pinnedRowModel.getPinnedBottomRowData().length-1<=u:this.paginationProxy.getPageLastRow()<=u},n.prototype.getRowAbove=function(t){var o=t.rowIndex,u=t.rowPinned;if(u?0===o:o===this.paginationProxy.getPageFirstRow())return u===ee.PINNED_TOP?null:u&&this.rowModel.isRowsToRender()?this.getLastBodyCell():this.pinnedRowModel.isRowsToRender(ee.PINNED_TOP)?this.getLastFloatingTopRow():null;var f=this.rowModel.getRow(t.rowIndex);return this.getNextStickyPosition(f,!0)||{rowIndex:o-1,rowPinned:u}},n.prototype.getCellAbove=function(t){if(!t)return null;var o=this.getRowAbove({rowIndex:t.rowIndex,rowPinned:t.rowPinned});return o?{rowIndex:o.rowIndex,column:t.column,rowPinned:o.rowPinned}:null},n.prototype.getLastBodyCell=function(){return{rowIndex:this.paginationProxy.getPageLastRow(),rowPinned:null}},n.prototype.getLastFloatingTopRow=function(){return{rowIndex:this.pinnedRowModel.getPinnedTopRowData().length-1,rowPinned:ee.PINNED_TOP}},n.prototype.getNextTabbedCell=function(t,o){return o?this.getNextTabbedCellBackwards(t):this.getNextTabbedCellForwards(t)},n.prototype.getNextTabbedCellForwards=function(t){var o=this.columnModel.getAllDisplayedColumns(),u=t.rowIndex,c=t.rowPinned,f=this.columnModel.getDisplayedColAfter(t.column);if(!f){f=o[0];var g=this.getRowBelow(t);if(s(g)||!g.rowPinned&&!this.paginationProxy.isRowInPage(g))return null;u=g?g.rowIndex:null,c=g?g.rowPinned:null}return{rowIndex:u,column:f,rowPinned:c}},n.prototype.getNextTabbedCellBackwards=function(t){var o=this.columnModel.getAllDisplayedColumns(),u=t.rowIndex,c=t.rowPinned,f=this.columnModel.getDisplayedColBefore(t.column);if(!f){f=Je(o);var g=this.getRowAbove({rowIndex:t.rowIndex,rowPinned:t.rowPinned});if(s(g)||!g.rowPinned&&!this.paginationProxy.isRowInPage(g))return null;u=g?g.rowIndex:null,c=g?g.rowPinned:null}return{rowIndex:u,column:f,rowPinned:c}},Pi([I("columnModel")],n.prototype,"columnModel",void 0),Pi([I("rowModel")],n.prototype,"rowModel",void 0),Pi([I("rowRenderer")],n.prototype,"rowRenderer",void 0),Pi([I("pinnedRowModel")],n.prototype,"pinnedRowModel",void 0),Pi([I("paginationProxy")],n.prototype,"paginationProxy",void 0),Pi([me("cellNavigationService")],n)}(Se),l_=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),hn=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},u_=function(p,n){return function(t,o){n(t,o,p)}},c_=function(p){function n(){var t=null!==p&&p.apply(this,arguments)||this;return t.consuming=!1,t}return l_(n,p),n.prototype.setBeans=function(t){this.logger=t.create("AlignedGridsService")},n.prototype.init=function(){this.addManagedListener(this.eventService,V.EVENT_COLUMN_MOVED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,V.EVENT_COLUMN_VISIBLE,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,V.EVENT_COLUMN_PINNED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,V.EVENT_COLUMN_GROUP_OPENED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,V.EVENT_COLUMN_RESIZED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,V.EVENT_BODY_SCROLL,this.fireScrollEvent.bind(this))},n.prototype.fireEvent=function(t){if(!this.consuming){var o=this.gridOptionsWrapper.getAlignedGrids();o&&o.forEach(function(u){if(u.api){var c=u.api.__getAlignedGridService();t(c)}})}},n.prototype.onEvent=function(t){this.consuming=!0,t(),this.consuming=!1},n.prototype.fireColumnEvent=function(t){this.fireEvent(function(o){o.onColumnEvent(t)})},n.prototype.fireScrollEvent=function(t){"horizontal"===t.direction&&this.fireEvent(function(o){o.onScrollEvent(t)})},n.prototype.onScrollEvent=function(t){var o=this;this.onEvent(function(){o.ctrlsService.getGridBodyCtrl().getScrollFeature().setHorizontalScrollPosition(t.left)})},n.prototype.getMasterColumns=function(t){var o=[];return t.columns?t.columns.forEach(function(u){o.push(u)}):t.column&&o.push(t.column),o},n.prototype.getColumnIds=function(t){var o=[];return t.columns?t.columns.forEach(function(u){o.push(u.getColId())}):t.column&&o.push(t.column.getColId()),o},n.prototype.onColumnEvent=function(t){var o=this;this.onEvent(function(){switch(t.type){case V.EVENT_COLUMN_MOVED:case V.EVENT_COLUMN_VISIBLE:case V.EVENT_COLUMN_PINNED:case V.EVENT_COLUMN_RESIZED:o.processColumnEvent(t);break;case V.EVENT_COLUMN_GROUP_OPENED:o.processGroupOpenedEvent(t);break;case V.EVENT_COLUMN_PIVOT_CHANGED:console.warn("AG Grid: pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.")}})},n.prototype.processGroupOpenedEvent=function(t){var o=t.columnGroup,u=null;if(o){var c=o.getGroupId();u=this.columnModel.getProvidedColumnGroup(c)}o&&!u||(this.logger.log("onColumnEvent-> processing "+t+" expanded = "+o.isExpanded()),this.columnModel.setColumnGroupOpened(u,o.isExpanded(),"alignedGridChanged"))},n.prototype.processColumnEvent=function(t){var u,o=this,c=t.column,f=null;if(c&&(f=this.columnModel.getPrimaryColumn(c.getColId())),!c||f){var g=this.getMasterColumns(t);switch(t.type){case V.EVENT_COLUMN_MOVED:var C=t,P=t.columnApi.getColumnState().map(function(ae){return{colId:ae.colId}});this.columnModel.applyColumnState({state:P,applyOrder:!0},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing "+t.type+" toIndex = "+C.toIndex);break;case V.EVENT_COLUMN_VISIBLE:var R=t;P=t.columnApi.getColumnState().map(function(Oe){return{colId:Oe.colId,hide:Oe.hide}}),this.columnModel.applyColumnState({state:P},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing "+t.type+" visible = "+R.visible);break;case V.EVENT_COLUMN_PINNED:var x=t;P=t.columnApi.getColumnState().map(function(Oe){return{colId:Oe.colId,pinned:Oe.pinned}}),this.columnModel.applyColumnState({state:P},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing "+t.type+" pinned = "+x.pinned);break;case V.EVENT_COLUMN_RESIZED:var W=t,U={};g.forEach(function(ae){o.logger.log("onColumnEvent-> processing "+t.type+" actualWidth = "+ae.getActualWidth()),U[ae.getId()]={key:ae.getColId(),newWidth:ae.getActualWidth()}}),null===(u=W.flexColumns)||void 0===u||u.forEach(function(ae){U[ae.getId()]&&delete U[ae.getId()]}),this.columnModel.setColumnWidths(Object.values(U),!1,W.finished,"alignedGridChanged")}var te=this.ctrlsService.getGridBodyCtrl().isVerticalScrollShowing(),se=this.gridOptionsWrapper.getAlignedGrids();se&&se.forEach(function(ae){ae.api&&ae.api.setAlwaysShowVerticalScroll(te)})}},hn([I("columnModel")],n.prototype,"columnModel",void 0),hn([I("ctrlsService")],n.prototype,"ctrlsService",void 0),hn([u_(0,tt("loggerFactory"))],n.prototype,"setBeans",null),hn([Ee],n.prototype,"init",null),hn([me("alignedGridsService")],n)}(Se),p_=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),uo=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},d_=function(p,n){return function(t,o){n(t,o,p)}},h_=function(p){function n(){return null!==p&&p.apply(this,arguments)||this}return p_(n,p),n.prototype.setBeans=function(t){this.logger=t.create("selectionService"),this.reset()},n.prototype.init=function(){this.groupSelectsChildren=this.gridOptionsWrapper.isGroupSelectsChildren(),this.addManagedListener(this.eventService,V.EVENT_ROW_SELECTED,this.onRowSelected.bind(this))},n.prototype.setLastSelectedNode=function(t){this.lastSelectedNode=t},n.prototype.getLastSelectedNode=function(){return this.lastSelectedNode},n.prototype.getSelectedNodes=function(){var t=[];return b(this.selectedNodes,function(o,u){u&&t.push(u)}),t},n.prototype.getSelectedRows=function(){var t=[];return b(this.selectedNodes,function(o,u){u&&u.data&&t.push(u.data)}),t},n.prototype.removeGroupsFromSelection=function(){var t=this;b(this.selectedNodes,function(o,u){u&&u.group&&(t.selectedNodes[u.id]=void 0)})},n.prototype.updateGroupsFromChildrenSelections=function(t){if(this.gridOptionsWrapper.isGroupSelectsChildren()&&this.rowModel.getType()===ee.ROW_MODEL_TYPE_CLIENT_SIDE){var u=this.rowModel.getRootNode();t||(t=new io(!0,u)).setInactive(),t.forEachChangedNodeDepthFirst(function(c){if(c!==u){var f=c.calculateSelectedFromChildren();c.selectThisNode(null!==f&&f)}})}},n.prototype.getNodeForIdIfSelected=function(t){return this.selectedNodes[t]},n.prototype.clearOtherNodes=function(t){var o=this,u={},c=0;return b(this.selectedNodes,function(f,g){g&&g.id!==t.id&&(c+=o.selectedNodes[g.id].setSelectedParams({newValue:!1,clearSelection:!1,suppressFinishActions:!0}),o.groupSelectsChildren&&g.parent&&(u[g.parent.id]=g.parent))}),b(u,function(f,g){var C=g.calculateSelectedFromChildren();g.selectThisNode(null!==C&&C)}),c},n.prototype.onRowSelected=function(t){var o=t.node;this.groupSelectsChildren&&o.group||(this.selectedNodes[o.id]=o.isSelected()?o:void 0)},n.prototype.syncInRowNode=function(t,o){this.syncInOldRowNode(t,o),this.syncInNewRowNode(t)},n.prototype.syncInOldRowNode=function(t,o){a(o)&&t.id!==o.id&&o&&this.selectedNodes[o.id]==t&&(this.selectedNodes[o.id]=o)},n.prototype.syncInNewRowNode=function(t){a(this.selectedNodes[t.id])?(t.setSelectedInitialValue(!0),this.selectedNodes[t.id]=t):t.setSelectedInitialValue(!1)},n.prototype.reset=function(){this.logger.log("reset"),this.selectedNodes={},this.lastSelectedNode=null},n.prototype.getBestCostNodeSelection=function(){if(this.rowModel.getType()===ee.ROW_MODEL_TYPE_CLIENT_SIDE){var o=this.rowModel.getTopLevelNodes();if(null!==o){var u=[];return function c(f){for(var g=0,C=f.length;g<C;g++){var O=f[g];O.isSelected()?u.push(O):O.group&&O.children&&c(O.children)}}(o),u}console.warn("AG Grid: `selectAll` not available doing `rowModel=virtual`")}else console.warn("AG Grid: `getBestCostNodeSelection` is only available when using normal row model")},n.prototype.setRowModel=function(t){this.rowModel=t},n.prototype.isEmpty=function(){var t=0;return b(this.selectedNodes,function(o,u){u&&t++}),0===t},n.prototype.deselectAllRowNodes=function(t){void 0===t&&(t=!1);var o=function(g){return g.selectThisNode(!1)},u=this.rowModel.getType()===ee.ROW_MODEL_TYPE_CLIENT_SIDE;if(t){if(!u)return void console.error("AG Grid: selecting just filtered only works with In Memory Row Model");this.rowModel.forEachNodeAfterFilter(o)}else b(this.selectedNodes,function(g,C){C&&o(C)}),this.reset();u&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(),this.eventService.dispatchEvent({type:V.EVENT_SELECTION_CHANGED})},n.prototype.selectAllRowNodes=function(t){if(void 0===t&&(t=!1),this.rowModel.getType()!==ee.ROW_MODEL_TYPE_CLIENT_SIDE)throw new Error("selectAll only available with normal row model, ie not "+this.rowModel.getType());var o=this.rowModel,u=function(f){return f.selectThisNode(!0)};t?o.forEachNodeAfterFilter(u):o.forEachNode(u),this.rowModel.getType()===ee.ROW_MODEL_TYPE_CLIENT_SIDE&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(),this.eventService.dispatchEvent({type:V.EVENT_SELECTION_CHANGED})},n.prototype.selectNode=function(t,o){t&&t.setSelectedParams({newValue:!0,clearSelection:!o})},n.prototype.deselectIndex=function(t){var o=this.rowModel.getRow(t);this.deselectNode(o)},n.prototype.deselectNode=function(t){t&&t.setSelectedParams({newValue:!1,clearSelection:!1})},n.prototype.selectIndex=function(t,o){var u=this.rowModel.getRow(t);this.selectNode(u,o)},uo([I("rowModel")],n.prototype,"rowModel",void 0),uo([d_(0,tt("loggerFactory"))],n.prototype,"setBeans",null),uo([Ee],n.prototype,"init",null),uo([me("selectionService")],n)}(Se),Qa=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},f_=function(){function p(){}return p.prototype.sizeColumnsToFit=function(n){typeof n>"u"&&console.error("AG Grid: missing parameter to columnApi.sizeColumnsToFit(gridWidth)"),this.columnModel.sizeColumnsToFit(n,"api")},p.prototype.setColumnGroupOpened=function(n,t){this.columnModel.setColumnGroupOpened(n,t,"api")},p.prototype.getColumnGroup=function(n,t){return this.columnModel.getColumnGroup(n,t)},p.prototype.getProvidedColumnGroup=function(n){return this.columnModel.getProvidedColumnGroup(n)},p.prototype.getDisplayNameForColumn=function(n,t){return this.columnModel.getDisplayNameForColumn(n,t)||""},p.prototype.getDisplayNameForColumnGroup=function(n,t){return this.columnModel.getDisplayNameForColumnGroup(n,t)||""},p.prototype.getColumn=function(n){return this.columnModel.getPrimaryColumn(n)},p.prototype.getColumns=function(){return this.columnModel.getAllPrimaryColumns()},p.prototype.applyColumnState=function(n){return this.columnModel.applyColumnState(n,"api")},p.prototype.getColumnState=function(){return this.columnModel.getColumnState()},p.prototype.resetColumnState=function(){this.columnModel.resetColumnState("api")},p.prototype.getColumnGroupState=function(){return this.columnModel.getColumnGroupState()},p.prototype.setColumnGroupState=function(n){this.columnModel.setColumnGroupState(n,"api")},p.prototype.resetColumnGroupState=function(){this.columnModel.resetColumnGroupState("api")},p.prototype.isPinning=function(){return this.columnModel.isPinningLeft()||this.columnModel.isPinningRight()},p.prototype.isPinningLeft=function(){return this.columnModel.isPinningLeft()},p.prototype.isPinningRight=function(){return this.columnModel.isPinningRight()},p.prototype.getDisplayedColAfter=function(n){return this.columnModel.getDisplayedColAfter(n)},p.prototype.getDisplayedColBefore=function(n){return this.columnModel.getDisplayedColBefore(n)},p.prototype.setColumnVisible=function(n,t){this.columnModel.setColumnVisible(n,t,"api")},p.prototype.setColumnsVisible=function(n,t){this.columnModel.setColumnsVisible(n,t,"api")},p.prototype.setColumnPinned=function(n,t){this.columnModel.setColumnPinned(n,t,"api")},p.prototype.setColumnsPinned=function(n,t){this.columnModel.setColumnsPinned(n,t,"api")},p.prototype.getAllGridColumns=function(){return this.columnModel.getAllGridColumns()},p.prototype.getDisplayedLeftColumns=function(){return this.columnModel.getDisplayedLeftColumns()},p.prototype.getDisplayedCenterColumns=function(){return this.columnModel.getDisplayedCenterColumns()},p.prototype.getDisplayedRightColumns=function(){return this.columnModel.getDisplayedRightColumns()},p.prototype.getAllDisplayedColumns=function(){return this.columnModel.getAllDisplayedColumns()},p.prototype.getAllDisplayedVirtualColumns=function(){return this.columnModel.getViewportColumns()},p.prototype.moveColumn=function(n,t){"number"==typeof n?(console.warn("AG Grid: you are using moveColumn(fromIndex, toIndex) - moveColumn takes a column key and a destination index, not two indexes, to move with indexes use moveColumnByIndex(from,to) instead"),this.columnModel.moveColumnByIndex(n,t,"api")):this.columnModel.moveColumn(n,t,"api")},p.prototype.moveColumnByIndex=function(n,t){this.columnModel.moveColumnByIndex(n,t,"api")},p.prototype.moveColumns=function(n,t){this.columnModel.moveColumns(n,t,"api")},p.prototype.moveRowGroupColumn=function(n,t){this.columnModel.moveRowGroupColumn(n,t)},p.prototype.setColumnAggFunc=function(n,t){this.columnModel.setColumnAggFunc(n,t)},p.prototype.setColumnWidth=function(n,t,o,u){void 0===o&&(o=!0),this.columnModel.setColumnWidths([{key:n,newWidth:t}],!1,o,u)},p.prototype.setColumnWidths=function(n,t,o){void 0===t&&(t=!0),this.columnModel.setColumnWidths(n,!1,t,o)},p.prototype.setPivotMode=function(n){this.columnModel.setPivotMode(n)},p.prototype.isPivotMode=function(){return this.columnModel.isPivotMode()},p.prototype.getSecondaryPivotColumn=function(n,t){return console.warn("AG Grid: since version 28.0.x getSecondaryPivotColumn has been renamed, please use getPivotResultColumn instead"),this.getPivotResultColumn(n,t)},p.prototype.getPivotResultColumn=function(n,t){return this.columnModel.getSecondaryPivotColumn(n,t)},p.prototype.setValueColumns=function(n){this.columnModel.setValueColumns(n,"api")},p.prototype.getValueColumns=function(){return this.columnModel.getValueColumns()},p.prototype.removeValueColumn=function(n){this.columnModel.removeValueColumn(n,"api")},p.prototype.removeValueColumns=function(n){this.columnModel.removeValueColumns(n,"api")},p.prototype.addValueColumn=function(n){this.columnModel.addValueColumn(n,"api")},p.prototype.addValueColumns=function(n){this.columnModel.addValueColumns(n,"api")},p.prototype.setRowGroupColumns=function(n){this.columnModel.setRowGroupColumns(n,"api")},p.prototype.removeRowGroupColumn=function(n){this.columnModel.removeRowGroupColumn(n,"api")},p.prototype.removeRowGroupColumns=function(n){this.columnModel.removeRowGroupColumns(n,"api")},p.prototype.addRowGroupColumn=function(n){this.columnModel.addRowGroupColumn(n,"api")},p.prototype.addRowGroupColumns=function(n){this.columnModel.addRowGroupColumns(n,"api")},p.prototype.getRowGroupColumns=function(){return this.columnModel.getRowGroupColumns()},p.prototype.setPivotColumns=function(n){this.columnModel.setPivotColumns(n,"api")},p.prototype.removePivotColumn=function(n){this.columnModel.removePivotColumn(n,"api")},p.prototype.removePivotColumns=function(n){this.columnModel.removePivotColumns(n,"api")},p.prototype.addPivotColumn=function(n){this.columnModel.addPivotColumn(n,"api")},p.prototype.addPivotColumns=function(n){this.columnModel.addPivotColumns(n,"api")},p.prototype.getPivotColumns=function(){return this.columnModel.getPivotColumns()},p.prototype.getLeftDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeLeft()},p.prototype.getCenterDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeCentre()},p.prototype.getRightDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeRight()},p.prototype.getAllDisplayedColumnGroups=function(){return this.columnModel.getAllDisplayedTrees()},p.prototype.autoSizeColumn=function(n,t){return this.columnModel.autoSizeColumn(n,t,"api")},p.prototype.autoSizeColumns=function(n,t){this.columnModel.autoSizeColumns({columns:n,skipHeader:t})},p.prototype.autoSizeAllColumns=function(n){this.columnModel.autoSizeAllColumns(n,"api")},p.prototype.setSecondaryColumns=function(n){console.warn("AG Grid: since version 28.0.x setSecondaryColumns has been renamed, please use setPivotResultColumns instead"),this.setPivotResultColumns(n)},p.prototype.setPivotResultColumns=function(n){this.columnModel.setSecondaryColumns(n,"api")},p.prototype.getSecondaryColumns=function(){return console.warn("AG Grid: since version 28.0.x getSecondaryColumns has been renamed, please use getPivotResultColumns instead"),this.getPivotResultColumns()},p.prototype.getPivotResultColumns=function(){return this.columnModel.getSecondaryColumns()},p.prototype.getPrimaryColumns=function(){return console.warn("AG Grid: since version 28.0.x getPrimaryColumns has been renamed, please use getColumns instead"),this.getColumns()},p.prototype.cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid=function(){setTimeout(Ge.removeAllReferences.bind(window,this,"Column API"),100)},p.prototype.getAllColumns=function(){return console.warn("AG Grid: since version 28.0.x getAllColumns has been renamed, please use getColumns instead"),this.getColumns()},p.prototype.columnGroupOpened=function(n,t){console.error("AG Grid: columnGroupOpened no longer exists, use setColumnGroupOpened"),this.setColumnGroupOpened(n,t)},p.prototype.hideColumns=function(n,t){console.error("AG Grid: hideColumns is deprecated, use setColumnsVisible"),this.columnModel.setColumnsVisible(n,!t,"api")},p.prototype.hideColumn=function(n,t){console.error("AG Grid: hideColumn is deprecated, use setColumnVisible"),this.columnModel.setColumnVisible(n,!t,"api")},p.prototype.setState=function(n){return console.error("AG Grid: setState is deprecated, use setColumnState"),this.setColumnState(n)},p.prototype.getState=function(){return console.error("AG Grid: getState is deprecated, use getColumnState"),this.getColumnState()},p.prototype.resetState=function(){console.error("AG Grid: resetState is deprecated, use resetColumnState"),this.resetColumnState()},p.prototype.getAggregationColumns=function(){return console.error("AG Grid: getAggregationColumns is deprecated, use getValueColumns"),this.columnModel.getValueColumns()},p.prototype.removeAggregationColumn=function(n){console.error("AG Grid: removeAggregationColumn is deprecated, use removeValueColumn"),this.columnModel.removeValueColumn(n,"api")},p.prototype.removeAggregationColumns=function(n){console.error("AG Grid: removeAggregationColumns is deprecated, use removeValueColumns"),this.columnModel.removeValueColumns(n,"api")},p.prototype.addAggregationColumn=function(n){console.error("AG Grid: addAggregationColumn is deprecated, use addValueColumn"),this.columnModel.addValueColumn(n,"api")},p.prototype.addAggregationColumns=function(n){console.error("AG Grid: addAggregationColumns is deprecated, use addValueColumns"),this.columnModel.addValueColumns(n,"api")},p.prototype.setColumnAggFunction=function(n,t){console.error("AG Grid: setColumnAggFunction is deprecated, use setColumnAggFunc"),this.columnModel.setColumnAggFunc(n,t,"api")},p.prototype.getDisplayNameForCol=function(n){return console.error("AG Grid: getDisplayNameForCol is deprecated, use getDisplayNameForColumn"),this.getDisplayNameForColumn(n,null)},p.prototype.setColumnState=function(n){return console.error("AG Grid: setColumnState is deprecated, use applyColumnState"),this.columnModel.applyColumnState({state:n,applyOrder:!0},"api")},p.prototype.getOriginalColumnGroup=function(n){return console.error("AG Grid: getOriginalColumnGroup is deprecated, use getProvidedColumnGroup"),this.columnModel.getProvidedColumnGroup(n)},Qa([I("columnModel")],p.prototype,"columnModel",void 0),Qa([Pe],p.prototype,"cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid",null),Qa([me("columnApi")],p)}(),g_=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),fn=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},v_=function(p){function n(){var t=null!==p&&p.apply(this,arguments)||this;return t.initialised=!1,t}return g_(n,p),n.prototype.init=function(){var t=this;this.cellExpressions=this.gridOptionsWrapper.isEnableCellExpressions(),this.initialised=!0,this.eventService.addEventListener(V.EVENT_CELL_VALUE_CHANGED,function(o){return t.callColumnCellValueChangedHandler(o)},this.gridOptionsWrapper.useAsyncEvents())},n.prototype.getValue=function(t,o,u,c){if(void 0===u&&(u=!1),void 0===c&&(c=!1),this.initialised||this.init(),o){var P,f=t.getColDef(),g=f.field,C=t.getId(),O=o.data,R=o.groupData&&void 0!==o.groupData[C],x=!c&&o.aggData&&void 0!==o.aggData[C];if(u&&f.filterValueGetter?P=this.executeFilterValueGetter(f.filterValueGetter,O,t,o):this.gridOptionsWrapper.isTreeData()&&x?P=o.aggData[C]:this.gridOptionsWrapper.isTreeData()&&f.valueGetter?P=this.executeValueGetter(f.valueGetter,O,t,o):this.gridOptionsWrapper.isTreeData()&&g&&O?P=oe(O,g,t.isFieldContainsDots()):R?P=o.groupData[C]:x?P=o.aggData[C]:f.valueGetter?P=this.executeValueGetter(f.valueGetter,O,t,o):g&&O&&(P=oe(O,g,t.isFieldContainsDots())),this.cellExpressions&&"string"==typeof P&&0===P.indexOf("=")){var W=P.substring(1);P=this.executeValueGetter(W,O,t,o)}if(null==P){var U=this.getOpenedGroup(o,t);if(null!=U)return U}return P}},n.prototype.getOpenedGroup=function(t,o){if(this.gridOptionsWrapper.isShowOpenedGroup()&&o.getColDef().showRowGroup)for(var c=o.getColDef().showRowGroup,f=t.parent;null!=f;){if(f.rowGroupColumn&&(!0===c||c===f.rowGroupColumn.getId()))return f.key;f=f.parent}},n.prototype.setValue=function(t,o,u,c){var f=this.columnModel.getPrimaryColumn(o);if(!t||!f)return!1;s(t.data)&&(t.data={});var g=f.getColDef(),C=g.field,O=g.newValueHandler,P=g.valueSetter;if(s(C)&&s(O)&&s(P))return console.warn("AG Grid: you need either field or valueSetter set on colDef for editing to work"),!1;var x,R={node:t,data:t.data,oldValue:this.getValue(f,t),newValue:u,colDef:f.getColDef(),column:f,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};return R.newValue=u,void 0===(x=O&&a(O)?O(R):a(P)?this.expressionService.evaluate(P,R):this.setValueUsingField(t.data,C,u,f.isFieldContainsDots()))&&(x=!0),!!x&&(t.resetQuickFilterAggregateText(),this.valueCache.onDataChanged(),R.newValue=this.getValue(f,t),this.eventService.dispatchEvent({type:V.EVENT_CELL_VALUE_CHANGED,event:null,rowIndex:t.rowIndex,rowPinned:t.rowPinned,column:R.column,api:R.api,columnApi:R.columnApi,colDef:R.colDef,context:R.context,data:t.data,node:t,oldValue:R.oldValue,newValue:R.newValue,value:R.newValue,source:c}),!0)},n.prototype.callColumnCellValueChangedHandler=function(t){var o=t.colDef.onCellValueChanged;"function"==typeof o&&o({node:t.node,data:t.data,oldValue:t.oldValue,newValue:t.newValue,colDef:t.colDef,column:t.column,api:t.api,columnApi:t.columnApi,context:t.context})},n.prototype.setValueUsingField=function(t,o,u,c){if(!o)return!1;var f=!1;if(c)for(var g=o.split("."),C=t;g.length>0&&C;){var O=g.shift();0===g.length?(f=C[O]==u)||(C[O]=u):C=C[O]}else(f=t[o]==u)||(t[o]=u);return!f},n.prototype.executeFilterValueGetter=function(t,o,u,c){var f={data:o,node:c,column:u,colDef:u.getColDef(),api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),getValue:this.getValueCallback.bind(this,c)};return this.expressionService.evaluate(t,f)},n.prototype.executeValueGetter=function(t,o,u,c){var f=u.getId(),g=this.valueCache.getValue(c,f);if(void 0!==g)return g;var C={data:o,node:c,column:u,colDef:u.getColDef(),api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),getValue:this.getValueCallback.bind(this,c)},O=this.expressionService.evaluate(t,C);return this.valueCache.setValue(c,f,O),O},n.prototype.getValueCallback=function(t,o){var u=this.columnModel.getPrimaryColumn(o);return u?this.getValue(u,t):null},n.prototype.getKeyForNode=function(t,o){var u=this.getValue(t,o),c=t.getColDef().keyCreator,f=u;return c&&(f=c({value:u,colDef:t.getColDef(),column:t,node:o,data:o.data,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()})),"string"==typeof f||null==f||"[object Object]"===(f=String(f))&&z(function(){console.warn("AG Grid: a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (se AG Grid docs) or b) to toString() on the object to return a key")},"getKeyForNode - warn about [object,object]"),f},fn([I("expressionService")],n.prototype,"expressionService",void 0),fn([I("columnModel")],n.prototype,"columnModel",void 0),fn([I("valueCache")],n.prototype,"valueCache",void 0),fn([Ee],n.prototype,"init",null),fn([me("valueService")],n)}(Se),__=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),fu=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},y_=function(p,n){return function(t,o){n(t,o,p)}},m_=function(p){function n(){var t=null!==p&&p.apply(this,arguments)||this;return t.expressionToFunctionCache={},t}return __(n,p),n.prototype.setBeans=function(t){this.logger=t.create("ExpressionService")},n.prototype.evaluate=function(t,o){return"function"==typeof t?t(o):"string"==typeof t?this.evaluateExpression(t,o):void console.error("AG Grid: value should be either a string or a function",t)},n.prototype.evaluateExpression=function(t,o){try{return this.createExpressionFunction(t)(o.value,o.context,o.oldValue,o.newValue,o.value,o.node,o.data,o.colDef,o.rowIndex,o.api,o.columnApi,o.getValue,o.column,o.columnGroup)}catch(f){return console.log("Processing of the expression failed"),console.log("Expression = "+t),console.log("Params =",o),console.log("Exception = "+f),null}},n.prototype.createExpressionFunction=function(t){if(this.expressionToFunctionCache[t])return this.expressionToFunctionCache[t];var o=this.createFunctionBody(t),u=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, columnApi, getValue, column, columnGroup",o);return this.expressionToFunctionCache[t]=u,u},n.prototype.createFunctionBody=function(t){return t.indexOf("return")>=0?t:"return "+t+";"},fu([y_(0,tt("loggerFactory"))],n.prototype,"setBeans",null),fu([me("expressionService")],n)}(Se),C_=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),O_=function(p){function n(){var t=null!==p&&p.apply(this,arguments)||this;return t.templateCache={},t.waitingCallbacks={},t}return C_(n,p),n.prototype.getTemplate=function(t,o){var u=this.templateCache[t];if(u)return u;var c=this.waitingCallbacks[t],f=this;if(!c){this.waitingCallbacks[t]=c=[];var g=new XMLHttpRequest;g.onload=function(){f.handleHttpResult(this,t)},g.open("GET",t),g.send()}return o&&c.push(o),null},n.prototype.handleHttpResult=function(t,o){if(200===t.status&&null!==t.response){this.templateCache[o]=t.response||t.responseText;for(var u=this.waitingCallbacks[o],c=0;c<u.length;c++)(0,u[c])()}else console.warn("AG Grid: Unable to get template error "+t.status+" - "+o)},n=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c}([me("templateService")],n),n}(Se),w_=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),gu=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},S_=function(p,n){return function(t,o){n(t,o,p)}},P_=function(p){function n(){return null!==p&&p.apply(this,arguments)||this}return w_(n,p),n.prototype.setBeans=function(t){this.logging=t.isDebug()},n.prototype.create=function(t){return new es(t,this.isLogging.bind(this))},n.prototype.isLogging=function(){return this.logging},gu([S_(0,tt("gridOptionsWrapper"))],n.prototype,"setBeans",null),gu([me("loggerFactory")],n)}(Se),es=function(){function p(n,t){this.name=n,this.isLoggingFunc=t}return p.prototype.isLogging=function(){return this.isLoggingFunc()},p.prototype.log=function(n){this.isLoggingFunc()&&console.log("AG Grid."+this.name+": "+n)},p}(),D_=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),Di=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},R_=function(p){function n(){return null!==p&&p.apply(this,arguments)||this}return D_(n,p),n.prototype.setComp=function(t,o,u){var c=this;this.view=t,this.eGridHostDiv=o,this.eGui=u,this.dragAndDropService.addDropTarget({getContainer:function(){return c.eGui},isInterestedIn:function(g){return g===Tt.HeaderCell||g===Tt.ToolPanel},getIconName:function(){return Ot.ICON_NOT_ALLOWED}}),this.mouseEventService.stampTopLevelGridCompWithGridInstance(o),this.createManagedBean(new Ra(this.view)),this.addRtlSupport(),this.addManagedListener(this,V.EVENT_KEYBOARD_FOCUS,function(){c.view.addOrRemoveKeyboardFocusClass(!0)}),this.addManagedListener(this,V.EVENT_MOUSE_FOCUS,function(){c.view.addOrRemoveKeyboardFocusClass(!1)});var f=this.resizeObserverService.observeResize(this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(function(){return f()}),this.ctrlsService.registerGridCtrl(this)},n.prototype.isDetailGrid=function(){var t,o;return(null===(o=null===(t=this.focusService.findTabbableParent(this.getGui()))||void 0===t?void 0:t.getAttribute("row-id"))||void 0===o?void 0:o.startsWith("detail"))||!1},n.prototype.showDropZones=function(){return Ne.isRegistered(Fe.RowGroupingModule)},n.prototype.showSideBar=function(){return Ne.isRegistered(Fe.SideBarModule)},n.prototype.showStatusBar=function(){return Ne.isRegistered(Fe.StatusBarModule)},n.prototype.showWatermark=function(){return Ne.isRegistered(Fe.EnterpriseCoreModule)},n.prototype.onGridSizeChanged=function(){this.eventService.dispatchEvent({type:V.EVENT_GRID_SIZE_CHANGED,clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight})},n.prototype.addRtlSupport=function(){var t=this.gridOptionsWrapper.isEnableRtl()?"ag-rtl":"ag-ltr";this.view.setRtlClass(t)},n.prototype.destroyGridUi=function(){this.view.destroyGridUi()},n.prototype.getGui=function(){return this.eGui},n.prototype.setResizeCursor=function(t){this.view.setCursor(t?"ew-resize":null)},n.prototype.disableUserSelect=function(t){this.view.setUserSelect(t?"none":null)},n.prototype.focusNextInnerContainer=function(t){var o=this.gridOptionsWrapper.getDocument(),u=this.view.getFocusableContainers(),f=u.findIndex(function(g){return g.contains(o.activeElement)})+(t?-1:1);return!(f<=0||f>=u.length)&&this.focusService.focusInto(u[f])},n.prototype.focusInnerElement=function(t){var o=this.view.getFocusableContainers();if(t){if(o.length>1)return this.focusService.focusInto(Je(o),!0);var u=Je(this.columnModel.getAllDisplayedColumns());if(this.focusService.focusGridView(u,!0))return!0}return this.focusService.focusFirstHeader()},n.prototype.forceFocusOutOfContainer=function(t){void 0===t&&(t=!1),this.view.forceFocusOutOfContainer(t)},Di([I("focusService")],n.prototype,"focusService",void 0),Di([I("resizeObserverService")],n.prototype,"resizeObserverService",void 0),Di([I("columnModel")],n.prototype,"columnModel",void 0),Di([I("ctrlsService")],n.prototype,"ctrlsService",void 0),Di([I("mouseEventService")],n.prototype,"mouseEventService",void 0),Di([I("dragAndDropService")],n.prototype,"dragAndDropService",void 0),n}(Se),T_=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),gn=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},b_=function(p){function n(t){var o=p.call(this,void 0)||this;return o.eGridDiv=t,o}return T_(n,p),n.prototype.postConstruct=function(){var t=this;this.logger=this.loggerFactory.create("GridComp");var o={destroyGridUi:function(){return t.destroyBean(t)},setRtlClass:function(c){return t.addCssClass(c)},addOrRemoveKeyboardFocusClass:function(c){return t.addOrRemoveCssClass(pn.AG_KEYBOARD_FOCUS,c)},forceFocusOutOfContainer:this.forceFocusOutOfContainer.bind(this),updateLayoutClasses:this.updateLayoutClasses.bind(this),getFocusableContainers:this.getFocusableContainers.bind(this),setUserSelect:function(c){t.getGui().style.userSelect=c??"",t.getGui().style.webkitUserSelect=c??""},setCursor:function(c){t.getGui().style.cursor=c??""}};this.ctrl=this.createManagedBean(new R_);var u=this.createTemplate();this.setTemplate(u),this.ctrl.setComp(o,this.eGridDiv,this.getGui()),this.insertGridIntoDom(),this.initialiseTabGuard({onTabKeyDown:function(){},focusInnerElement:function(c){return t.ctrl.focusInnerElement(c)}})},n.prototype.insertGridIntoDom=function(){var t=this,o=this.getGui();this.eGridDiv.appendChild(o),this.addDestroyFunc(function(){t.eGridDiv.removeChild(o),t.logger.log("Grid removed from DOM")})},n.prototype.updateLayoutClasses=function(t,o){var u=this.eRootWrapperBody.classList;u.toggle(ft.AUTO_HEIGHT,o.autoHeight),u.toggle(ft.NORMAL,o.normal),u.toggle(ft.PRINT,o.print),this.addOrRemoveCssClass(ft.AUTO_HEIGHT,o.autoHeight),this.addOrRemoveCssClass(ft.NORMAL,o.normal),this.addOrRemoveCssClass(ft.PRINT,o.print)},n.prototype.createTemplate=function(){return'<div class="ag-root-wrapper" role="presentation">\n                '+(this.ctrl.showDropZones()?"<ag-grid-header-drop-zones></ag-grid-header-drop-zones>":"")+'\n                <div class="ag-root-wrapper-body" ref="rootWrapperBody" role="presentation">\n                    <ag-grid-body ref="gridBody"></ag-grid-body>\n                    '+(this.ctrl.showSideBar()?'<ag-side-bar ref="sideBar"></ag-side-bar>':"")+"\n                </div>\n                "+(this.ctrl.showStatusBar()?'<ag-status-bar ref="statusBar"></ag-status-bar>':"")+"\n                <ag-pagination></ag-pagination>\n                "+(this.ctrl.showWatermark()?"<ag-watermark></ag-watermark>":"")+"\n            </div>"},n.prototype.getFocusableElement=function(){return this.eRootWrapperBody},n.prototype.getFocusableContainers=function(){var t=[this.gridBodyComp.getGui()];return this.sideBarComp&&t.push(this.sideBarComp.getGui()),t.filter(function(o){return gi(o)})},gn([I("loggerFactory")],n.prototype,"loggerFactory",void 0),gn([_e("gridBody")],n.prototype,"gridBodyComp",void 0),gn([_e("sideBar")],n.prototype,"sideBarComp",void 0),gn([_e("rootWrapperBody")],n.prototype,"eRootWrapperBody",void 0),gn([Ee],n.prototype,"postConstruct",null),n}(cn),M_=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),vu=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},A_=function(p,n){var t="function"==typeof Symbol&&p[Symbol.iterator];if(!t)return p;var u,f,o=t.call(p),c=[];try{for(;(void 0===n||n-- >0)&&!(u=o.next()).done;)c.push(u.value)}catch(g){f={error:g}}finally{try{u&&!u.done&&(t=o.return)&&t.call(o)}finally{if(f)throw f.error}}return c},ts=function(){for(var p=[],n=0;n<arguments.length;n++)p=p.concat(A_(arguments[n]));return p},x_=function(p){function n(){return null!==p&&p.apply(this,arguments)||this}var t;return M_(n,p),t=n,n.prototype.progressSort=function(o,u,c){var f=this.getNextSortDirection(o);this.setSortForColumn(o,f,u,c)},n.prototype.setSortForColumn=function(o,u,c,f){var g;u!==ee.SORT_ASC&&u!==ee.SORT_DESC&&(u=null);var O=[o];if(this.gridOptionsWrapper.isColumnsSortingCoupledToGroup()&&o.getColDef().showRowGroup){var R=null===(g=this.columnModel.getSourceColumnsForGroupColumn(o))||void 0===g?void 0:g.filter(function(W){return W.getColDef().sortable});R&&(O=ts([o],R))}O.forEach(function(W){return W.setSort(u,f)}),(c||this.gridOptionsWrapper.isAlwaysMultiSort())&&!this.gridOptionsWrapper.isSuppressMultiSort()||this.clearSortBarTheseColumns(O,f),this.updateSortIndex(o),this.dispatchSortChangedEvents(f)},n.prototype.updateSortIndex=function(o){var u=this.gridOptionsWrapper.isColumnsSortingCoupledToGroup(),c=this.columnModel.getGroupDisplayColumnForGroup(o.getId()),f=u&&c||o,g=this.getIndexableColumnsOrdered();this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach(function(P){return P.setSortIndex(null)});var C=g.filter(function(P){return P!==f});(f.getSort()?ts(C,[f]):C).forEach(function(P,R){return P.setSortIndex(R)})},n.prototype.onSortChanged=function(o){this.dispatchSortChangedEvents(o)},n.prototype.isSortActive=function(){var u=this.columnModel.getPrimaryAndSecondaryAndAutoColumns().filter(function(c){return!!c.getSort()});return u&&u.length>0},n.prototype.dispatchSortChangedEvents=function(o){this.eventService.dispatchEvent({type:V.EVENT_SORT_CHANGED,source:o})},n.prototype.clearSortBarTheseColumns=function(o,u){this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach(function(c){o.includes(c)||c.setSort(void 0,u)})},n.prototype.getNextSortDirection=function(o){var u;if(u=o.getColDef().sortingOrder?o.getColDef().sortingOrder:this.gridOptionsWrapper.getSortingOrder()?this.gridOptionsWrapper.getSortingOrder():t.DEFAULT_SORTING_ORDER,!Array.isArray(u)||u.length<=0)return console.warn("AG Grid: sortingOrder must be an array with at least one element, currently it's "+u),null;var C,c=u.indexOf(o.getSort());return t.DEFAULT_SORTING_ORDER.indexOf(C=c<0||c==u.length-1?u[0]:u[c+1])<0?(console.warn("AG Grid: invalid sort type "+C),null):C},n.prototype.getColumnsOrderedForSort=function(){var o=this.columnModel.getPrimaryAndSecondaryAndAutoColumns(),u={};return o.forEach(function(c,f){return u[c.getId()]=f}),o.sort(function(c,f){var g=c.getSortIndex(),C=f.getSortIndex();return null!=g&&null!=C?g-C:null==g&&null==C?u[c.getId()]>u[f.getId()]?1:-1:null==C?-1:1}),o},n.prototype.getIndexableColumnsOrdered=function(){var o=this;return this.gridOptionsWrapper.isColumnsSortingCoupledToGroup()?this.getColumnsOrderedForSort().filter(function(u){var c;return u.getColDef().showRowGroup?!(!u.getColDef().field||!u.getSort())||(null===(c=o.columnModel.getSourceColumnsForGroupColumn(u))||void 0===c?void 0:c.some(function(g){return!!g.getSort()})):!!u.getSort()}):this.getColumnsWithSortingOrdered()},n.prototype.getColumnsWithSortingOrdered=function(){return this.getColumnsOrderedForSort().filter(function(u){return!!u.getSort()})},n.prototype.getSortModel=function(){return this.getColumnsWithSortingOrdered().map(function(o){return{sort:o.getSort(),colId:o.getId()}})},n.prototype.getSortOptions=function(){return this.getColumnsWithSortingOrdered().map(function(o){return{sort:o.getSort(),column:o}})},n.prototype.canColumnDisplayMixedSort=function(o){var u=this.gridOptionsWrapper.isColumnsSortingCoupledToGroup(),c=!!o.getColDef().showRowGroup;return u&&c},n.prototype.getDisplaySortForColumn=function(o){var u,c=this.columnModel.getSourceColumnsForGroupColumn(o);if(!this.canColumnDisplayMixedSort(o)||null===(u=c)||void 0===u||!u.length)return o.getSort();var g=o.getColDef().field?ts([o],c):c,C=g[0].getSort();return g.every(function(P){return P.getSort()==C})?C:"mixed"},n.prototype.getDisplaySortIndexForColumn=function(o){var u=this;if(!this.gridOptionsWrapper.isColumnsSortingCoupledToGroup())return this.getColumnsWithSortingOrdered().indexOf(o);var f=this.columnModel.getGroupDisplayColumnForGroup(o.getId());return f?o.getSort()?this.getDisplaySortIndexForColumn(f):null:this.getIndexableColumnsOrdered().filter(function(C){return!u.columnModel.getGroupDisplayColumnForGroup(C.getId())}).indexOf(o)},n.DEFAULT_SORTING_ORDER=[ee.SORT_ASC,ee.SORT_DESC,null],vu([I("columnModel")],n.prototype,"columnModel",void 0),t=vu([me("sortController")],n)}(Se),I_=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),F_=function(p){function n(){return null!==p&&p.apply(this,arguments)||this}return I_(n,p),n.prototype.setMouseOver=function(t){this.selectedColumns=t,this.eventService.dispatchEvent({type:V.EVENT_COLUMN_HOVER_CHANGED})},n.prototype.clearMouseOver=function(){this.selectedColumns=null,this.eventService.dispatchEvent({type:V.EVENT_COLUMN_HOVER_CHANGED})},n.prototype.isHovered=function(t){return!!this.selectedColumns&&this.selectedColumns.indexOf(t)>=0},n=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c}([me("columnHoverService")],n),n}(Se),N_=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),rs=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},G_=function(p){function n(){var t=null!==p&&p.apply(this,arguments)||this;return t.executeNextFuncs=[],t.executeLaterFuncs=[],t.active=!1,t.animationThreadCount=0,t}return N_(n,p),n.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady(function(o){return t.gridBodyCtrl=o.gridBodyCtrl})},n.prototype.isActive=function(){return this.active},n.prototype.start=function(){this.active||this.gridOptionsWrapper.isSuppressColumnMoveAnimation()||this.gridOptionsWrapper.isEnableRtl()||(this.ensureAnimationCssClassPresent(),this.active=!0)},n.prototype.finish=function(){!this.active||(this.flush(),this.active=!1)},n.prototype.executeNextVMTurn=function(t){this.active?this.executeNextFuncs.push(t):t()},n.prototype.executeLaterVMTurn=function(t){this.active?this.executeLaterFuncs.push(t):t()},n.prototype.ensureAnimationCssClassPresent=function(){var t=this;this.animationThreadCount++;var o=this.animationThreadCount;this.gridBodyCtrl.setColumnMovingCss(!0),this.executeLaterFuncs.push(function(){t.animationThreadCount===o&&t.gridBodyCtrl.setColumnMovingCss(!1)})},n.prototype.flush=function(){var t=this.executeNextFuncs;this.executeNextFuncs=[];var o=this.executeLaterFuncs;this.executeLaterFuncs=[],(0!==t.length||0!==o.length)&&(window.setTimeout(function(){return t.forEach(function(u){return u()})},0),window.setTimeout(function(){return o.forEach(function(u){return u()})},300))},rs([I("ctrlsService")],n.prototype,"ctrlsService",void 0),rs([Ee],n.prototype,"postConstruct",null),rs([me("columnAnimationService")],n)}(Se),W_=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),is=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},B_=function(p){function n(){return null!==p&&p.apply(this,arguments)||this}var t;return W_(n,p),t=n,n.prototype.createAutoGroupColumns=function(o,u){var c=this,f=[],g=this.gridOptionsWrapper.isTreeData(),C=this.gridOptionsWrapper.isGroupMultiAutoColumn();return g&&C&&(console.warn("AG Grid: you cannot mix groupMultiAutoColumn with treeData, only one column can be used to display groups when doing tree data"),C=!1),C?u.forEach(function(O,P){f.push(c.createOneAutoGroupColumn(o,O,P))}):f.push(this.createOneAutoGroupColumn(o)),f},n.prototype.createOneAutoGroupColumn=function(o,u,c){var g,f=this.generateDefaultColDef(u);g=u?ee.GROUP_AUTO_COLUMN_ID+"-"+u.getId():t.GROUP_AUTO_COLUMN_BUNDLE_ID,Y(f,this.gridOptionsWrapper.getAutoGroupColumnDef()),(f=this.columnFactory.mergeColDefs(f)).colId=g,this.gridOptionsWrapper.isTreeData()||s(f.field)&&s(f.valueGetter)&&s(f.filterValueGetter)&&(f.filter=!1),c&&c>0&&(f.headerCheckboxSelection=!1);var P=o.find(function(x){return x.getId()==g});if(P)return P.setColDef(f,null),this.columnFactory.applyColumnState(P,f),P;var R=new $e(f,null,g,!0);return this.context.createBean(R),R},n.prototype.generateDefaultColDef=function(o){var u=this.gridOptionsWrapper.getAutoGroupColumnDef(),f={headerName:this.gridOptionsWrapper.getLocaleTextFunc()("group","Group")};if(u&&(u.cellRenderer||u.cellRendererFramework||u.cellRendererSelector)||(f.cellRenderer="agGroupCellRenderer"),o){var C=o.getColDef();Object.assign(f,{headerName:this.columnModel.getDisplayNameForColumn(o,"header"),headerValueGetter:C.headerValueGetter}),(C.cellRenderer||C.cellRendererFramework)&&Object.assign(f,{cellRendererParams:{innerRenderer:C.cellRenderer,innerRendererFramework:C.cellRendererFramework,innerRendererParams:C.cellRendererParams}}),f.showRowGroup=o.getColId()}else f.showRowGroup=!0;return f},n.GROUP_AUTO_COLUMN_BUNDLE_ID=ee.GROUP_AUTO_COLUMN_ID,is([I("columnModel")],n.prototype,"columnModel",void 0),is([I("columnFactory")],n.prototype,"columnFactory",void 0),t=is([me("autoGroupColService")],n)}(Se),k_=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),ns=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},V_=function(p){function n(){return null!==p&&p.apply(this,arguments)||this}return k_(n,p),n.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady(function(o){t.centerRowContainerCon=o.centerRowContainerCtrl,t.addManagedListener(t.eventService,V.EVENT_BODY_HEIGHT_CHANGED,t.onBodyHeightChanged.bind(t)),t.addManagedListener(t.eventService,V.EVENT_SCROLL_VISIBILITY_CHANGED,t.onScrollVisibilityChanged.bind(t)),t.checkPageSize()})},n.prototype.notActive=function(){return!this.gridOptionsWrapper.isPaginationAutoPageSize()},n.prototype.onScrollVisibilityChanged=function(){this.checkPageSize()},n.prototype.onBodyHeightChanged=function(){this.checkPageSize()},n.prototype.checkPageSize=function(){if(!this.notActive()){var t=this.gridOptionsWrapper.getRowHeightAsNumber(),o=this.centerRowContainerCon.getViewportSizeFeature().getBodyHeight();if(o>0){var u=Math.floor(o/t);this.gridOptionsWrapper.setProperty("paginationPageSize",u)}}},ns([I("ctrlsService")],n.prototype,"ctrlsService",void 0),ns([Ee],n.prototype,"postConstruct",null),ns([me("paginationAutoPageSizeService")],n)}(Se),H_=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),_u=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},U_=function(p){function n(){var t=null!==p&&p.apply(this,arguments)||this;return t.cacheVersion=0,t}return H_(n,p),n.prototype.init=function(){this.active=this.gridOptionsWrapper.isValueCache(),this.neverExpires=this.gridOptionsWrapper.isValueCacheNeverExpires()},n.prototype.onDataChanged=function(){this.neverExpires||this.expire()},n.prototype.expire=function(){this.cacheVersion++},n.prototype.setValue=function(t,o,u){this.active&&(t.__cacheVersion!==this.cacheVersion&&(t.__cacheVersion=this.cacheVersion,t.__cacheData={}),t.__cacheData[o]=u)},n.prototype.getValue=function(t,o){if(this.active&&t.__cacheVersion===this.cacheVersion)return t.__cacheData[o]},_u([Ee],n.prototype,"init",null),_u([me("valueCache")],n)}(Se),$_=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),co=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},j_=function(p){function n(){return null!==p&&p.apply(this,arguments)||this}return $_(n,p),n.prototype.init=function(){this.rowModel.getType()===ee.ROW_MODEL_TYPE_CLIENT_SIDE&&(this.clientSideRowModel=this.rowModel),this.addManagedListener(this.eventService,V.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged.bind(this))},n.prototype.onCellValueChanged=function(t){t.source!==ee.SOURCE_PASTE&&this.doChangeDetection(t.node,t.column)},n.prototype.doChangeDetection=function(t,o){if(!this.gridOptionsWrapper.isSuppressChangeDetection()){if(this.clientSideRowModel&&!t.isRowPinned()){var u=this.gridOptionsWrapper.isAggregateOnlyChangedColumns(),c=new io(u,this.clientSideRowModel.getRootNode());c.addParentNode(t.parent,[o]),this.clientSideRowModel.doAggregate(c)}this.rowRenderer.refreshCells()}},co([I("rowModel")],n.prototype,"rowModel",void 0),co([I("rowRenderer")],n.prototype,"rowRenderer",void 0),co([Ee],n.prototype,"init",null),co([me("changeDetectionService")],n)}(Se),K_=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),yu=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},z_=function(p){function n(){return null!==p&&p.apply(this,arguments)||this}return K_(n,p),n.prototype.adaptFunction=function(t,o){var u=this.componentMetadataProvider.retrieve(t);return u&&u.functionAdapter?u.functionAdapter(o):null},n.prototype.adaptCellRendererFunction=function(t){return function(){function u(){}return u.prototype.refresh=function(c){return!1},u.prototype.getGui=function(){return this.eGui},u.prototype.init=function(c){var f=t(c),g=typeof f;this.eGui="string"!==g&&"number"!==g&&"boolean"!==g?null!=f?f:mt("<span></span>"):mt("<span>"+f+"</span>")},u}()},n.prototype.doesImplementIComponent=function(t){return!!t&&t.prototype&&"getGui"in t.prototype},yu([I("componentMetadataProvider")],n.prototype,"componentMetadataProvider",void 0),yu([me("agComponentUtils")],n)}(Se),Y_=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),os=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},X_=function(p){function n(){return null!==p&&p.apply(this,arguments)||this}return Y_(n,p),n.prototype.postConstruct=function(){this.componentMetaData={dateComponent:{mandatoryMethodList:["getDate","setDate"],optionalMethodList:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel"]},detailCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},headerComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},headerGroupComponent:{mandatoryMethodList:[],optionalMethodList:[]},loadingCellRenderer:{mandatoryMethodList:[],optionalMethodList:[]},loadingOverlayComponent:{mandatoryMethodList:[],optionalMethodList:[]},noRowsOverlayComponent:{mandatoryMethodList:[],optionalMethodList:[]},floatingFilterComponent:{mandatoryMethodList:["onParentModelChanged"],optionalMethodList:["afterGuiAttached"]},floatingFilterWrapperComponent:{mandatoryMethodList:[],optionalMethodList:[]},cellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},cellEditor:{mandatoryMethodList:["getValue"],optionalMethodList:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached"]},innerRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},fullWidthCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},pinnedRowCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},groupRowRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},filter:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged"]},filterComponent:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged"]},statusPanel:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"]},toolPanel:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"]},tooltipComponent:{mandatoryMethodList:[],optionalMethodList:[]}}},n.prototype.retrieve=function(t){return this.componentMetaData[t]},os([I("agComponentUtils")],n.prototype,"agComponentUtils",void 0),os([Ee],n.prototype,"postConstruct",null),os([me("componentMetadataProvider")],n)}(Se),q_=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),mu=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},J_={"ag-theme-custom":{headerHeight:25,headerCellMinWidth:24,listItemHeight:20,rowHeight:25,chartMenuPanelWidth:220},"ag-theme-material":{headerHeight:56,headerCellMinWidth:48,listItemHeight:32,rowHeight:48,chartMenuPanelWidth:240},"ag-theme-balham":{headerHeight:32,headerCellMinWidth:24,listItemHeight:24,rowHeight:28,chartMenuPanelWidth:220},"ag-theme-alpine":{headerHeight:48,headerCellMinWidth:36,listItemHeight:24,rowHeight:42,chartMenuPanelWidth:240}},Cu={headerHeight:["ag-header-row"],headerCellMinWidth:["ag-header-cell"],listItemHeight:["ag-virtual-list-item"],rowHeight:["ag-row"],chartMenuPanelWidth:["ag-chart-docked-container"]},vn={},Q_=function(p){function n(){return null!==p&&p.apply(this,arguments)||this}return q_(n,p),n.prototype.getSassVariable=function(t,o){var u="ag-theme-"+(t.match("material")?"material":t.match("balham")?"balham":t.match("alpine")?"alpine":"custom"),c=J_[u][o],f=0;vn[t]||(vn[t]={});var g=vn[t][o];if(null!=g)return g;if(Cu[o]){var C=Cu[o],O=document.createElement("div");O.classList.add(t),O.style.position="absolute";var P=C.reduce(function(x,W){var U=document.createElement("div");return U.style.position="static",U.classList.add(W),x.appendChild(U),U},O);if(document.body){document.body.appendChild(O);var R=-1!==o.toLowerCase().indexOf("height")?"height":"width";f=parseInt(window.getComputedStyle(P)[R],10),document.body.removeChild(O)}}return vn[t][o]=f||c,vn[t][o]},n.prototype.isThemeDark=function(){var t=this.getTheme().theme;return!!t&&t.indexOf("dark")>=0},n.prototype.chartMenuPanelWidth=function(){var t=this.getTheme().themeFamily;return this.getSassVariable(t,"chartMenuPanelWidth")},n.prototype.getTheme=function(){for(var t=/\bag-(material|(?:theme-([\w\-]*)))\b/g,o=this.eGridDiv,u=null,c=[];o;){if(u=t.exec(o.className)){var f=o.className.match(t);f&&(c=f);break}o=o.parentElement||void 0}if(!u)return{allThemes:c};var g=u[0];if(void 0===u[2]){var O=g.replace("ag-","ag-theme-");z(function(){return console.warn("AG Grid: As of v19 old theme are no longer provided. Please replace "+g+" with "+O+".")},"using-old-theme")}return{theme:g,el:o,themeFamily:g.replace(/-dark$/,""),allThemes:c}},mu([I("eGridDiv")],n.prototype,"eGridDiv",void 0),mu([me("environment")],n)}(Se),ey=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),po=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},ty=function(p,n){return function(t,o){n(t,o,p)}},ry=function(p){function n(){var t=null!==p&&p.apply(this,arguments)||this;return t.scrollY=0,t.uiBodyHeight=0,t}return ey(n,p),n.prototype.agWire=function(t){this.logger=t.create("RowContainerHeightService")},n.prototype.postConstruct=function(){this.addManagedListener(this.eventService,V.EVENT_BODY_HEIGHT_CHANGED,this.updateOffset.bind(this)),this.maxDivHeight=Ps(),this.logger.log("maxDivHeight = "+this.maxDivHeight)},n.prototype.isStretching=function(){return this.stretching},n.prototype.getDivStretchOffset=function(){return this.divStretchOffset},n.prototype.updateOffset=function(){if(this.stretching){var o=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition().top,u=this.getUiBodyHeight();(o!==this.scrollY||u!==this.uiBodyHeight)&&(this.scrollY=o,this.uiBodyHeight=u,this.calculateOffset())}},n.prototype.calculateOffset=function(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;var t=this.scrollY/this.maxScrollY,o=t*this.pixelsToShave;this.logger.log("Div Stretch Offset = "+o+" ("+this.pixelsToShave+" * "+t+")"),this.setDivStretchOffset(o)},n.prototype.setUiContainerHeight=function(t){t!==this.uiContainerHeight&&(this.uiContainerHeight=t,this.eventService.dispatchEvent({type:V.EVENT_ROW_CONTAINER_HEIGHT_CHANGED}))},n.prototype.clearOffset=function(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)},n.prototype.setDivStretchOffset=function(t){var o="number"==typeof t?Math.floor(t):null;this.divStretchOffset!==o&&(this.divStretchOffset=o,this.eventService.dispatchEvent({type:V.EVENT_HEIGHT_SCALE_CHANGED}))},n.prototype.setModelHeight=function(t){this.modelHeight=t,this.stretching=null!=t&&this.maxDivHeight>0&&t>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()},n.prototype.getUiContainerHeight=function(){return this.uiContainerHeight},n.prototype.getRealPixelPosition=function(t){return t-this.divStretchOffset},n.prototype.getUiBodyHeight=function(){var o=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition();return o.bottom-o.top},n.prototype.getScrollPositionForPixel=function(t){if(this.pixelsToShave<=0)return t;var o=this.modelHeight-this.getUiBodyHeight();return this.maxScrollY*(t/o)},po([I("ctrlsService")],n.prototype,"ctrlsService",void 0),po([ty(0,tt("loggerFactory"))],n.prototype,"agWire",null),po([Ee],n.prototype,"postConstruct",null),po([me("rowContainerHeightService")],n)}(Se),iy=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),Eu=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},ny=function(p){function n(){return null!==p&&p.apply(this,arguments)||this}return iy(n,p),n.prototype.init=function(){this.groupSelectsChildren=this.gridOptionsWrapper.isGroupSelectsChildren(),this.isRowSelectableFunc=this.gridOptionsWrapper.getIsRowSelectableFunc()},n.prototype.updateSelectableAfterGrouping=function(t){this.isRowSelectableFunc&&this.recurseDown(t.childrenAfterGroup,function(u){return u.childrenAfterGroup})},n.prototype.recurseDown=function(t,o){var u=this;!t||t.forEach(function(c){var f;c.group&&(c.hasChildren()&&u.recurseDown(o(c),o),f=u.groupSelectsChildren?a((o(c)||[]).find(function(C){return!0===C.selectable})):!!u.isRowSelectableFunc&&u.isRowSelectableFunc(c),c.setRowSelectable(f))})},Eu([Ee],n.prototype,"init",null),Eu([me("selectableService")],n)}(Se),oy=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),Xt=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},ay=function(p){function n(){var t=p.call(this)||this;return t.previousAndFirstButtonsDisabled=!1,t.nextButtonDisabled=!1,t.lastButtonDisabled=!1,t}return oy(n,p),n.prototype.postConstruct=function(){var t=this,o=this.gridOptionsWrapper.isEnableRtl();this.setTemplate(this.getTemplate()),this.btFirst.insertAdjacentElement("afterbegin",dt(o?"last":"first",this.gridOptionsWrapper)),this.btPrevious.insertAdjacentElement("afterbegin",dt(o?"next":"previous",this.gridOptionsWrapper)),this.btNext.insertAdjacentElement("afterbegin",dt(o?"previous":"next",this.gridOptionsWrapper)),this.btLast.insertAdjacentElement("afterbegin",dt(o?"first":"last",this.gridOptionsWrapper)),this.gridOptionsWrapper.isPagination()&&!this.gridOptionsWrapper.isSuppressPaginationPanel()?(this.addManagedListener(this.eventService,V.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach(function(f){var g=f.el,C=f.fn;t.addManagedListener(g,"click",C),t.addManagedListener(g,"keydown",function(O){(O.key===ye.ENTER||O.key===ye.SPACE)&&(O.preventDefault(),C())})}),this.onPaginationChanged()):this.setDisplayed(!1)},n.prototype.onPaginationChanged=function(){this.enableOrDisableButtons(),this.updateRowLabels(),this.setCurrentPageLabel(),this.setTotalLabels()},n.prototype.onBtFirst=function(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToFirstPage()},n.prototype.setCurrentPageLabel=function(){var t=this.paginationProxy.getTotalPages()>0,o=this.paginationProxy.getCurrentPage();this.lbCurrent.innerHTML=this.formatNumber(t?o+1:0)},n.prototype.formatNumber=function(t){var o=this.gridOptionsWrapper.getPaginationNumberFormatterFunc();if(o)return o({value:t});var c=this.gridOptionsWrapper.getLocaleTextFunc();return ko(t,c("thousandSeparator",","),c("decimalSeparator","."))},n.prototype.getTemplate=function(){var t=this.gridOptionsWrapper.getLocaleTextFunc(),o=t("page","Page"),u=t("to","to"),c=t("of","of"),f=t("firstPage","First Page"),g=t("previousPage","Previous Page"),C=t("nextPage","Next Page"),O=t("lastPage","Last Page"),P=this.getCompId();return'<div class="ag-paging-panel ag-unselectable" id="ag-'+P+'">\n                <span class="ag-paging-row-summary-panel" role="status">\n                    <span id="ag-'+P+'-first-row" ref="lbFirstRowOnPage" class="ag-paging-row-summary-panel-number"></span>\n                    <span id="ag-'+P+'-to">'+u+'</span>\n                    <span id="ag-'+P+'-last-row" ref="lbLastRowOnPage" class="ag-paging-row-summary-panel-number"></span>\n                    <span id="ag-'+P+'-of">'+c+'</span>\n                    <span id="ag-'+P+'-row-count" ref="lbRecordCount" class="ag-paging-row-summary-panel-number"></span>\n                </span>\n                <span class="ag-paging-page-summary-panel" role="presentation">\n                    <div ref="btFirst" class="ag-paging-button" role="button" aria-label="'+f+'"></div>\n                    <div ref="btPrevious" class="ag-paging-button" role="button" aria-label="'+g+'"></div>\n                    <span class="ag-paging-description" role="status">\n                        <span id="ag-'+P+'-start-page">'+o+'</span>\n                        <span id="ag-'+P+'-start-page-number" ref="lbCurrent" class="ag-paging-number"></span>\n                        <span id="ag-'+P+'-of-page">'+c+'</span>\n                        <span id="ag-'+P+'-of-page-number" ref="lbTotal" class="ag-paging-number"></span>\n                    </span>\n                    <div ref="btNext" class="ag-paging-button" role="button" aria-label="'+C+'"></div>\n                    <div ref="btLast" class="ag-paging-button" role="button" aria-label="'+O+'"></div>\n                </span>\n            </div>'},n.prototype.onBtNext=function(){this.nextButtonDisabled||this.paginationProxy.goToNextPage()},n.prototype.onBtPrevious=function(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToPreviousPage()},n.prototype.onBtLast=function(){this.lastButtonDisabled||this.paginationProxy.goToLastPage()},n.prototype.enableOrDisableButtons=function(){var t=this.paginationProxy.getCurrentPage(),o=this.paginationProxy.isLastPageFound(),u=this.paginationProxy.getTotalPages();this.previousAndFirstButtonsDisabled=0===t,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);var c=this.isZeroPagesToDisplay();this.nextButtonDisabled=o&&t===u-1||c,this.lastButtonDisabled=!o||c||t===u-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)},n.prototype.toggleButtonDisabled=function(t,o){ea(t,o),t.classList.toggle("ag-disabled",o),o?t.removeAttribute("tabindex"):t.setAttribute("tabindex","0")},n.prototype.updateRowLabels=function(){var f,g,t=this.paginationProxy.getCurrentPage(),o=this.paginationProxy.getPageSize(),u=this.paginationProxy.isLastPageFound(),c=this.paginationProxy.isLastPageFound()?this.paginationProxy.getMasterRowCount():null;this.isZeroPagesToDisplay()?f=g=0:(g=(f=o*t+1)+o-1,u&&g>c&&(g=c)),this.lbFirstRowOnPage.innerHTML=this.formatNumber(f),this.lbLastRowOnPage.innerHTML=this.rowNodeBlockLoader.isLoading()?"?":this.formatNumber(g)},n.prototype.isZeroPagesToDisplay=function(){var t=this.paginationProxy.isLastPageFound(),o=this.paginationProxy.getTotalPages();return t&&0===o},n.prototype.setTotalLabels=function(){var t=this.paginationProxy.isLastPageFound(),o=this.paginationProxy.getTotalPages(),u=t?this.paginationProxy.getMasterRowCount():null;if(1===u){var c=this.paginationProxy.getRow(0);if(c&&c.group&&!c.groupData&&!c.aggData)return void this.setTotalLabelsToZero()}if(t)this.lbTotal.innerHTML=this.formatNumber(o),this.lbRecordCount.innerHTML=this.formatNumber(u);else{var g=this.gridOptionsWrapper.getLocaleTextFunc()("more","more");this.lbTotal.innerHTML=g,this.lbRecordCount.innerHTML=g}},n.prototype.setTotalLabelsToZero=function(){this.lbFirstRowOnPage.innerHTML=this.formatNumber(0),this.lbCurrent.innerHTML=this.formatNumber(0),this.lbLastRowOnPage.innerHTML=this.formatNumber(0),this.lbTotal.innerHTML=this.formatNumber(0),this.lbRecordCount.innerHTML=this.formatNumber(0)},Xt([I("paginationProxy")],n.prototype,"paginationProxy",void 0),Xt([I("rowNodeBlockLoader")],n.prototype,"rowNodeBlockLoader",void 0),Xt([_e("btFirst")],n.prototype,"btFirst",void 0),Xt([_e("btPrevious")],n.prototype,"btPrevious",void 0),Xt([_e("btNext")],n.prototype,"btNext",void 0),Xt([_e("btLast")],n.prototype,"btLast",void 0),Xt([_e("lbRecordCount")],n.prototype,"lbRecordCount",void 0),Xt([_e("lbFirstRowOnPage")],n.prototype,"lbFirstRowOnPage",void 0),Xt([_e("lbLastRowOnPage")],n.prototype,"lbLastRowOnPage",void 0),Xt([_e("lbCurrent")],n.prototype,"lbCurrent",void 0),Xt([_e("lbTotal")],n.prototype,"lbTotal",void 0),Xt([Ee],n.prototype,"postConstruct",null),n}(je),sy=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),Ri=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},ei=(()=>(function(p){p[p.Loading=0]="Loading",p[p.NoRows=1]="NoRows"}(ei||(ei={})),ei))(),ly=function(p){function n(){var t=p.call(this,n.TEMPLATE)||this;return t.inProgress=!1,t.destroyRequested=!1,t.manuallyDisplayed=!1,t}return sy(n,p),n.prototype.updateLayoutClasses=function(t,o){var u=this.eOverlayWrapper.classList;u.toggle(ft.AUTO_HEIGHT,o.autoHeight),u.toggle(ft.NORMAL,o.normal),u.toggle(ft.PRINT,o.print)},n.prototype.postConstruct=function(){this.createManagedBean(new Ra(this)),this.setDisplayed(!1),this.addManagedListener(this.eventService,V.EVENT_ROW_DATA_UPDATED,this.onRowDataUpdated.bind(this)),this.addManagedListener(this.eventService,V.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.gridOptionsWrapper.isRowModelDefault()&&!this.gridOptionsWrapper.getRowData()&&this.showLoadingOverlay(),this.gridApi.registerOverlayWrapperComp(this)},n.prototype.setWrapperTypeClass=function(t){var o=this.eOverlayWrapper.classList;o.toggle("ag-overlay-loading-wrapper",t===ei.Loading),o.toggle("ag-overlay-no-rows-wrapper",t===ei.NoRows)},n.prototype.showLoadingOverlay=function(){if(!this.gridOptionsWrapper.isSuppressLoadingOverlay()){var u=this.userComponentFactory.getLoadingOverlayCompDetails({}).newAgStackInstance();this.showOverlay(u,ei.Loading)}},n.prototype.showNoRowsOverlay=function(){if(!this.gridOptionsWrapper.isSuppressNoRowsOverlay()){var u=this.userComponentFactory.getNoRowsOverlayCompDetails({}).newAgStackInstance();this.showOverlay(u,ei.NoRows)}},n.prototype.showOverlay=function(t,o){var u=this;this.inProgress||(this.setWrapperTypeClass(o),this.destroyActiveOverlay(),this.inProgress=!0,t&&t.then(function(c){u.inProgress=!1,u.eOverlayWrapper.appendChild(c.getGui()),u.activeOverlay=c,u.destroyRequested&&(u.destroyRequested=!1,u.destroyActiveOverlay())}),this.manuallyDisplayed=this.columnModel.isReady()&&!this.paginationProxy.isEmpty(),this.setDisplayed(!0))},n.prototype.destroyActiveOverlay=function(){this.inProgress?this.destroyRequested=!0:!this.activeOverlay||(this.activeOverlay=this.getContext().destroyBean(this.activeOverlay),kt(this.eOverlayWrapper))},n.prototype.hideOverlay=function(){this.manuallyDisplayed=!1,this.destroyActiveOverlay(),this.setDisplayed(!1)},n.prototype.destroy=function(){this.destroyActiveOverlay(),p.prototype.destroy.call(this)},n.prototype.showOrHideOverlay=function(){var t=this.paginationProxy.isEmpty(),o=this.gridOptionsWrapper.isSuppressNoRowsOverlay();t&&!o?this.showNoRowsOverlay():this.hideOverlay()},n.prototype.onRowDataUpdated=function(){this.showOrHideOverlay()},n.prototype.onNewColumnsLoaded=function(){this.columnModel.isReady()&&!this.paginationProxy.isEmpty()&&!this.manuallyDisplayed&&this.hideOverlay()},n.TEMPLATE='\n        <div class="ag-overlay" aria-hidden="true">\n            <div class="ag-overlay-panel">\n                <div class="ag-overlay-wrapper" ref="eOverlayWrapper"></div>\n            </div>\n        </div>',Ri([I("userComponentFactory")],n.prototype,"userComponentFactory",void 0),Ri([I("paginationProxy")],n.prototype,"paginationProxy",void 0),Ri([I("gridApi")],n.prototype,"gridApi",void 0),Ri([I("columnModel")],n.prototype,"columnModel",void 0),Ri([_e("eOverlayWrapper")],n.prototype,"eOverlayWrapper",void 0),Ri([Ee],n.prototype,"postConstruct",null),n}(je),uy=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),ho=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},cy=function(p){function n(){return null!==p&&p.apply(this,arguments)||this}return uy(n,p),n.prototype.getFirstRow=function(){var o,t=0;return this.pinnedRowModel.getPinnedTopRowCount()?o=ee.PINNED_TOP:this.rowModel.getRowCount()?(o=null,t=this.paginationProxy.getPageFirstRow()):this.pinnedRowModel.getPinnedBottomRowCount()&&(o=ee.PINNED_BOTTOM),void 0===o?null:{rowIndex:t,rowPinned:o}},n.prototype.getLastRow=function(){var t,o=null,u=this.pinnedRowModel.getPinnedBottomRowCount(),c=this.pinnedRowModel.getPinnedTopRowCount();return u?(o=ee.PINNED_BOTTOM,t=u-1):this.rowModel.getRowCount()?(o=null,t=this.paginationProxy.getPageLastRow()):c&&(o=ee.PINNED_TOP,t=c-1),void 0===t?null:{rowIndex:t,rowPinned:o}},n.prototype.getRowNode=function(t){switch(t.rowPinned){case ee.PINNED_TOP:return this.pinnedRowModel.getPinnedTopRowData()[t.rowIndex];case ee.PINNED_BOTTOM:return this.pinnedRowModel.getPinnedBottomRowData()[t.rowIndex];default:return this.rowModel.getRow(t.rowIndex)}},n.prototype.sameRow=function(t,o){return!t&&!o||!(t&&!o||!t&&o)&&t.rowIndex===o.rowIndex&&t.rowPinned==o.rowPinned},n.prototype.before=function(t,o){switch(t.rowPinned){case ee.PINNED_TOP:if(o.rowPinned!==ee.PINNED_TOP)return!0;break;case ee.PINNED_BOTTOM:if(o.rowPinned!==ee.PINNED_BOTTOM)return!1;break;default:if(a(o.rowPinned))return o.rowPinned!==ee.PINNED_TOP}return t.rowIndex<o.rowIndex},n.prototype.rowMax=function(t){var u,o=this;return t.forEach(function(c){(void 0===u||o.before(u,c))&&(u=c)}),u},n.prototype.rowMin=function(t){var u,o=this;return t.forEach(function(c){(void 0===u||o.before(c,u))&&(u=c)}),u},ho([I("rowModel")],n.prototype,"rowModel",void 0),ho([I("pinnedRowModel")],n.prototype,"pinnedRowModel",void 0),ho([I("paginationProxy")],n.prototype,"paginationProxy",void 0),ho([me("rowPositionUtils")],n)}(Se),py=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),hy=function(p){function n(){return null!==p&&p.apply(this,arguments)||this}return py(n,p),n.prototype.createId=function(t){return this.createIdFromValues(t.rowIndex,t.column,t.rowPinned)},n.prototype.createIdFromValues=function(t,o,u){return t+"."+(u??"null")+"."+o.getId()},n.prototype.equals=function(t,o){return t.column===o.column&&t.rowPinned===o.rowPinned&&t.rowIndex===o.rowIndex},n=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c}([me("cellPositionUtils")],n),n}(Se),fy=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),fo=function p(n){this.cellValueChanges=n},us=function(p){function n(t,o,u){var c=p.call(this,t)||this;return c.initialRange=o,c.finalRange=u,c}return fy(n,p),n}(fo),Ou=function(){function p(n){this.actionStack=[],this.maxStackSize=n||p.DEFAULT_STACK_SIZE,this.actionStack=new Array(this.maxStackSize)}return p.prototype.pop=function(){return this.actionStack.pop()},p.prototype.push=function(n){!(n.cellValueChanges&&n.cellValueChanges.length>0)||(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(n))},p.prototype.clear=function(){this.actionStack=[]},p.prototype.getCurrentStackSize=function(){return this.actionStack.length},p.DEFAULT_STACK_SIZE=10,p}(),gy=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),Tr=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},vy=function(p){function n(){var t=null!==p&&p.apply(this,arguments)||this;return t.cellValueChanges=[],t.activeCellEdit=null,t.activeRowEdit=null,t.isPasting=!1,t.isFilling=!1,t.onCellValueChanged=function(o){var u={column:o.column,rowIndex:o.rowIndex,rowPinned:o.rowPinned},c=null!==t.activeCellEdit&&t.cellPositionUtils.equals(t.activeCellEdit,u),f=null!==t.activeRowEdit&&t.rowPositionUtils.sameRow(t.activeRowEdit,u);if(c||f||t.isPasting||t.isFilling){var R=o.oldValue,x=o.value,W={rowPinned:o.rowPinned,rowIndex:o.rowIndex,columnId:o.column.getColId(),newValue:x,oldValue:R};t.cellValueChanges.push(W)}},t.clearStacks=function(){t.undoStack.clear(),t.redoStack.clear()},t}return gy(n,p),n.prototype.init=function(){var t=this;if(this.gridOptionsWrapper.isUndoRedoCellEditing()){var o=this.gridOptionsWrapper.getUndoRedoCellEditingLimit();o<=0||(this.undoStack=new Ou(o),this.redoStack=new Ou(o),this.addRowEditingListeners(),this.addCellEditingListeners(),this.addPasteListeners(),this.addFillListeners(),this.addManagedListener(this.eventService,V.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged),this.addManagedListener(this.eventService,V.EVENT_MODEL_UPDATED,function(u){u.keepUndoRedoStack||t.clearStacks()}),this.addManagedListener(this.eventService,V.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,V.EVENT_NEW_COLUMNS_LOADED,this.clearStacks),this.addManagedListener(this.eventService,V.EVENT_COLUMN_GROUP_OPENED,this.clearStacks),this.addManagedListener(this.eventService,V.EVENT_COLUMN_ROW_GROUP_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,V.EVENT_COLUMN_MOVED,this.clearStacks),this.addManagedListener(this.eventService,V.EVENT_COLUMN_PINNED,this.clearStacks),this.addManagedListener(this.eventService,V.EVENT_COLUMN_VISIBLE,this.clearStacks),this.addManagedListener(this.eventService,V.EVENT_ROW_DRAG_END,this.clearStacks))}},n.prototype.getCurrentUndoStackSize=function(){return this.undoStack?this.undoStack.getCurrentStackSize():0},n.prototype.getCurrentRedoStackSize=function(){return this.redoStack?this.redoStack.getCurrentStackSize():0},n.prototype.undo=function(){if(this.undoStack){var t=this.undoStack.pop();!t||!t.cellValueChanges||(this.processAction(t,function(o){return o.oldValue}),t instanceof us?this.processRangeAndCellFocus(t.cellValueChanges,t.initialRange):this.processRangeAndCellFocus(t.cellValueChanges),this.redoStack.push(t))}},n.prototype.redo=function(){if(this.redoStack){var t=this.redoStack.pop();!t||!t.cellValueChanges||(this.processAction(t,function(o){return o.newValue}),t instanceof us?this.processRangeAndCellFocus(t.cellValueChanges,t.finalRange):this.processRangeAndCellFocus(t.cellValueChanges),this.undoStack.push(t))}},n.prototype.processAction=function(t,o){var u=this;t.cellValueChanges.forEach(function(c){var C=c.columnId,P=u.getRowNode({rowIndex:c.rowIndex,rowPinned:c.rowPinned});!P.displayed||P.setDataValue(C,o(c))})},n.prototype.processRangeAndCellFocus=function(t,o){var u;if(o){var c=o.startRow,f=o.endRow;return u={rowPinned:c.rowPinned,rowIndex:c.rowIndex,columnId:o.startColumn.getColId()},this.setLastFocusedCell(u),void this.gridApi.addCellRange({rowStartIndex:c.rowIndex,rowStartPinned:c.rowPinned,rowEndIndex:f.rowIndex,rowEndPinned:f.rowPinned,columnStart:o.startColumn,columns:o.columns})}var C=t[0],x=this.getRowNode({rowIndex:C.rowIndex,rowPinned:C.rowPinned});this.setLastFocusedCell(u={rowPinned:C.rowPinned,rowIndex:x.rowIndex,columnId:C.columnId})},n.prototype.setLastFocusedCell=function(t){var o=t.rowIndex,u=t.columnId,c=t.rowPinned;this.gridApi.ensureIndexVisible(o),this.gridApi.ensureColumnVisible(u),Ne.isRegistered(Fe.RangeSelectionModule)&&this.gridApi.clearRangeSelection(),this.focusService.setFocusedCell({rowIndex:o,column:u,rowPinned:c,forceBrowserFocus:!0})},n.prototype.addRowEditingListeners=function(){var t=this;this.addManagedListener(this.eventService,V.EVENT_ROW_EDITING_STARTED,function(o){t.activeRowEdit={rowIndex:o.rowIndex,rowPinned:o.rowPinned}}),this.addManagedListener(this.eventService,V.EVENT_ROW_EDITING_STOPPED,function(){var o=new fo(t.cellValueChanges);t.pushActionsToUndoStack(o),t.activeRowEdit=null})},n.prototype.addCellEditingListeners=function(){var t=this;this.addManagedListener(this.eventService,V.EVENT_CELL_EDITING_STARTED,function(o){t.activeCellEdit={column:o.column,rowIndex:o.rowIndex,rowPinned:o.rowPinned}}),this.addManagedListener(this.eventService,V.EVENT_CELL_EDITING_STOPPED,function(){if(t.activeCellEdit=null,!t.activeRowEdit&&!t.isPasting&&!t.isFilling){var u=new fo(t.cellValueChanges);t.pushActionsToUndoStack(u)}})},n.prototype.addPasteListeners=function(){var t=this;this.addManagedListener(this.eventService,V.EVENT_PASTE_START,function(){t.isPasting=!0}),this.addManagedListener(this.eventService,V.EVENT_PASTE_END,function(){var o=new fo(t.cellValueChanges);t.pushActionsToUndoStack(o),t.isPasting=!1})},n.prototype.addFillListeners=function(){var t=this;this.addManagedListener(this.eventService,V.EVENT_FILL_START,function(){t.isFilling=!0}),this.addManagedListener(this.eventService,V.EVENT_FILL_END,function(o){var u=new us(t.cellValueChanges,o.initialRange,o.finalRange);t.pushActionsToUndoStack(u),t.isFilling=!1})},n.prototype.pushActionsToUndoStack=function(t){this.undoStack.push(t),this.cellValueChanges=[],this.redoStack.clear()},n.prototype.getRowNode=function(t){switch(t.rowPinned){case ee.PINNED_TOP:return this.pinnedRowModel.getPinnedTopRowData()[t.rowIndex];case ee.PINNED_BOTTOM:return this.pinnedRowModel.getPinnedBottomRowData()[t.rowIndex];default:return this.rowModel.getRow(t.rowIndex)}},Tr([I("focusService")],n.prototype,"focusService",void 0),Tr([I("gridApi")],n.prototype,"gridApi",void 0),Tr([I("rowModel")],n.prototype,"rowModel",void 0),Tr([I("pinnedRowModel")],n.prototype,"pinnedRowModel",void 0),Tr([I("cellPositionUtils")],n.prototype,"cellPositionUtils",void 0),Tr([I("rowPositionUtils")],n.prototype,"rowPositionUtils",void 0),Tr([Ee],n.prototype,"init",null),Tr([me("undoRedoService")],n)}(Se),_y=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),cs=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},yy=function(p){function n(){return null!==p&&p.apply(this,arguments)||this}return _y(n,p),n.prototype.findHeader=function(t,o){var u;if(u=t.column instanceof _t?this.columnModel["getDisplayedGroup"+o](t.column):this.columnModel["getDisplayedCol"+o](t.column))return{column:u,headerRowIndex:t.headerRowIndex}},n.prototype.findColAtEdgeForHeaderRow=function(t,o){var u=this.columnModel.getAllDisplayedColumns(),c=u["start"===o?0:u.length-1];if(c){var g=this.ctrlsService.getHeaderRowContainerCtrl(c.getPinned()).getRowType(t);return g==At.COLUMN_GROUP?{headerRowIndex:t,column:this.columnModel.getColumnGroupAtLevel(c,t)}:{headerRowIndex:null==g?-1:t,column:c}}},cs([I("columnModel")],n.prototype,"columnModel",void 0),cs([I("ctrlsService")],n.prototype,"ctrlsService",void 0),cs([me("headerPositionUtils")],n)}(Se),Cy=function(){function p(){}return p.prototype.buildColumnDefs=function(n,t,o){var u=this,c=[],f={};return n.forEach(function(g){for(var O=!0,P=u.createDefFromColumn(g,t,o),R=g.getOriginalParent();R;){var x=null;if(R.isPadding())R=R.getOriginalParent();else{var W=f[R.getGroupId()];if(W){W.children.push(P),O=!1;break}(x=u.createDefFromGroup(R))&&(x.children=[P],f[x.groupId]=x,P=x,R=R.getOriginalParent())}}O&&c.push(P)}),c},p.prototype.createDefFromGroup=function(n){var t=L(n.getColGroupDef(),["children"]);return t&&(t.groupId=n.getGroupId()),t},p.prototype.createDefFromColumn=function(n,t,o){var u=L(n.getColDef());return u.colId=n.getColId(),u.width=n.getActualWidth(),u.rowGroup=n.isRowGroupActive(),u.rowGroupIndex=n.isRowGroupActive()?t.indexOf(n):null,u.pivot=n.isPivotActive(),u.pivotIndex=n.isPivotActive()?o.indexOf(n):null,u.aggFunc=n.isValueActive()?n.getAggFunc():null,u.hide=!n.isVisible()||void 0,u.pinned=n.isPinned()?n.getPinned():null,u.sort=n.getSort()?n.getSort():null,u.sortIndex=null!=n.getSortIndex()?n.getSortIndex():null,u},p=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c}([me("columnDefFactory")],p),p}(),ps=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},Ey=function(){function p(){}return p.prototype.getInitialRowClasses=function(n){var t=[];return a(n.extraCssClass)&&t.push(n.extraCssClass),t.push("ag-row"),t.push(n.rowFocused?"ag-row-focus":"ag-row-no-focus"),n.fadeRowIn&&t.push("ag-opacity-zero"),t.push(n.rowIsEven?"ag-row-even":"ag-row-odd"),n.rowNode.isRowPinned()&&t.push("ag-row-pinned"),n.rowNode.isSelected()&&t.push("ag-row-selected"),n.rowNode.footer&&t.push("ag-row-footer"),t.push("ag-row-level-"+n.rowLevel),n.rowNode.stub&&t.push("ag-row-loading"),n.fullWidthRow&&t.push("ag-full-width-row"),n.expandable&&(t.push("ag-row-group"),t.push(n.rowNode.expanded?"ag-row-group-expanded":"ag-row-group-contracted")),n.rowNode.dragging&&t.push("ag-row-dragging"),Lr(t,this.processClassesFromGridOptions(n.rowNode)),Lr(t,this.preProcessRowClassRules(n.rowNode)),t.push(n.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),n.firstRowOnPage&&t.push("ag-row-first"),n.lastRowOnPage&&t.push("ag-row-last"),n.fullWidthRow&&(n.pinned===ee.PINNED_LEFT&&t.push("ag-cell-last-left-pinned"),n.pinned===ee.PINNED_RIGHT&&t.push("ag-cell-first-right-pinned")),t},p.prototype.processClassesFromGridOptions=function(n){var t=[],o=function(C){"string"==typeof C?t.push(C):Array.isArray(C)&&C.forEach(function(O){return t.push(O)})},u=this.gridOptionsWrapper.getRowClass();if(u){if("function"==typeof u)return console.warn("AG Grid: rowClass should not be a function, please use getRowClass instead"),[];o(u)}var c=this.gridOptionsWrapper.getRowClassFunc();return c&&o(c({data:n.data,node:n,rowIndex:n.rowIndex})),t},p.prototype.preProcessRowClassRules=function(n){var t=[];return this.processRowClassRules(n,function(o){t.push(o)},function(o){}),t},p.prototype.processRowClassRules=function(n,t,o){var u={data:n.data,node:n,rowIndex:n.rowIndex,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};this.stylingService.processClassRules(this.gridOptionsWrapper.rowClassRules(),u,t,o)},p.prototype.calculateRowLevel=function(n){return n.group?n.level:n.parent?n.parent.level+1:0},ps([I("stylingService")],p.prototype,"stylingService",void 0),ps([I("gridOptionsWrapper")],p.prototype,"gridOptionsWrapper",void 0),ps([me("rowCssClassCalculator")],p)}(),go=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},Oy=function(){function p(){}return p.prototype.doFullSort=function(n,t){var u=n.map(function(c,f){return{currentPos:f,rowNode:c}});return u.sort(this.compareRowNodes.bind(this,t)),u.map(function(c){return c.rowNode})},p.prototype.compareRowNodes=function(n,t,o){for(var u=t.rowNode,c=o.rowNode,f=0,g=n.length;f<g;f++){var x,C=n[f],O=C.sort===ee.SORT_DESC,P=this.getValue(u,C.column),R=this.getValue(c,C.column),W=this.getComparator(C,u);if(x=W?W(P,R,u,c,O):Ge.defaultComparator(P,R,this.gridOptionsWrapper.isAccentedSort()),!isNaN(x)&&0!==x)return C.sort===ee.SORT_ASC?x:-1*x}return t.currentPos-o.currentPos},p.prototype.getComparator=function(n,t){var o=n.column,u=o.getColDef().comparator;if(null!=u)return u;if(o.getColDef().showRowGroup){var c=!t.group&&o.getColDef().field;if(c){var f=this.columnModel.getPrimaryColumn(c);if(f)return f.getColDef().comparator}}},p.prototype.getValue=function(n,t){var o,u;if(!this.gridOptionsWrapper.isColumnsSortingCoupledToGroup())return this.valueService.getValue(t,n,!1,!1);if(n.rowGroupColumn===t){if(this.gridOptionsWrapper.isGroupUseEntireRow(this.columnModel.isPivotActive())){if(t.getColDef().keyCreator)return n.key;var O=null===(o=n.allLeafChildren)||void 0===o?void 0:o[0];return O?this.valueService.getValue(t,O,!1,!1):void 0}var P=this.columnModel.getGroupDisplayColumnForGroup(t.getId());return P?null===(u=n.groupData)||void 0===u?void 0:u[P.getId()]:void 0}return n.group&&t.getColDef().showRowGroup?void 0:this.valueService.getValue(t,n,!1,!1)},go([I("gridOptionsWrapper")],p.prototype,"gridOptionsWrapper",void 0),go([I("valueService")],p.prototype,"valueService",void 0),go([I("columnModel")],p.prototype,"columnModel",void 0),go([me("rowNodeSorter")],p)}(),wy=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),Py=function(p){function n(){var o=null!==p&&p.apply(this,arguments)||this;return o.ready=!1,o.readyCallbacks=[],o}var t;return wy(n,p),t=n,n.prototype.checkReady=function(){if(this.ready=null!=this.gridCtrl&&null!=this.gridBodyCtrl&&null!=this.centerRowContainerCtrl&&null!=this.leftRowContainerCtrl&&null!=this.rightRowContainerCtrl&&null!=this.bottomCenterRowContainerCtrl&&null!=this.bottomLeftRowContainerCtrl&&null!=this.bottomRightRowContainerCtrl&&null!=this.topCenterRowContainerCtrl&&null!=this.topLeftRowContainerCtrl&&null!=this.topRightRowContainerCtrl&&null!=this.stickyTopCenterRowContainerCtrl&&null!=this.stickyTopLeftRowContainerCtrl&&null!=this.stickyTopRightRowContainerCtrl&&null!=this.centerHeaderRowContainerCtrl&&null!=this.leftHeaderRowContainerCtrl&&null!=this.rightHeaderRowContainerCtrl&&null!=this.fakeHScrollCtrl&&null!=this.gridHeaderCtrl,this.ready){var o=this.createReadyParams();this.readyCallbacks.forEach(function(u){return u(o)}),this.readyCallbacks.length=0}},n.prototype.whenReady=function(o){this.ready?o(this.createReadyParams()):this.readyCallbacks.push(o)},n.prototype.createReadyParams=function(){return{centerRowContainerCtrl:this.centerRowContainerCtrl,leftRowContainerCtrl:this.leftRowContainerCtrl,rightRowContainerCtrl:this.rightRowContainerCtrl,bottomCenterRowContainerCtrl:this.bottomCenterRowContainerCtrl,bottomLeftRowContainerCtrl:this.bottomLeftRowContainerCtrl,bottomRightRowContainerCtrl:this.bottomRightRowContainerCtrl,topCenterRowContainerCtrl:this.topCenterRowContainerCtrl,topLeftRowContainerCtrl:this.topLeftRowContainerCtrl,topRightRowContainerCtrl:this.topRightRowContainerCtrl,stickyTopCenterRowContainerCtrl:this.stickyTopCenterRowContainerCtrl,stickyTopLeftRowContainerCtrl:this.stickyTopLeftRowContainerCtrl,stickyTopRightRowContainerCtrl:this.stickyTopRightRowContainerCtrl,centerHeaderRowContainerCtrl:this.centerHeaderRowContainerCtrl,leftHeaderRowContainerCtrl:this.leftHeaderRowContainerCtrl,rightHeaderRowContainerCtrl:this.rightHeaderRowContainerCtrl,fakeHScrollCtrl:this.fakeHScrollCtrl,gridBodyCtrl:this.gridBodyCtrl,gridCtrl:this.gridCtrl,gridHeaderCtrl:this.gridHeaderCtrl}},n.prototype.registerFakeHScrollCtrl=function(o){this.fakeHScrollCtrl=o,this.checkReady()},n.prototype.registerGridHeaderCtrl=function(o){this.gridHeaderCtrl=o,this.checkReady()},n.prototype.registerCenterRowContainerCtrl=function(o){this.centerRowContainerCtrl=o,this.checkReady()},n.prototype.registerLeftRowContainerCtrl=function(o){this.leftRowContainerCtrl=o,this.checkReady()},n.prototype.registerRightRowContainerCtrl=function(o){this.rightRowContainerCtrl=o,this.checkReady()},n.prototype.registerTopCenterRowContainerCtrl=function(o){this.topCenterRowContainerCtrl=o,this.checkReady()},n.prototype.registerTopLeftRowContainerCon=function(o){this.topLeftRowContainerCtrl=o,this.checkReady()},n.prototype.registerTopRightRowContainerCtrl=function(o){this.topRightRowContainerCtrl=o,this.checkReady()},n.prototype.registerStickyTopCenterRowContainerCtrl=function(o){this.stickyTopCenterRowContainerCtrl=o,this.checkReady()},n.prototype.registerStickyTopLeftRowContainerCon=function(o){this.stickyTopLeftRowContainerCtrl=o,this.checkReady()},n.prototype.registerStickyTopRightRowContainerCtrl=function(o){this.stickyTopRightRowContainerCtrl=o,this.checkReady()},n.prototype.registerBottomCenterRowContainerCtrl=function(o){this.bottomCenterRowContainerCtrl=o,this.checkReady()},n.prototype.registerBottomLeftRowContainerCtrl=function(o){this.bottomLeftRowContainerCtrl=o,this.checkReady()},n.prototype.registerBottomRightRowContainerCtrl=function(o){this.bottomRightRowContainerCtrl=o,this.checkReady()},n.prototype.registerHeaderContainer=function(o,u){switch(u){case ee.PINNED_LEFT:this.leftHeaderRowContainerCtrl=o;break;case ee.PINNED_RIGHT:this.rightHeaderRowContainerCtrl=o;break;default:this.centerHeaderRowContainerCtrl=o}this.checkReady()},n.prototype.registerGridBodyCtrl=function(o){this.gridBodyCtrl=o,this.checkReady()},n.prototype.registerGridCtrl=function(o){this.gridCtrl=o,this.checkReady()},n.prototype.getFakeHScrollCtrl=function(){return this.fakeHScrollCtrl},n.prototype.getGridHeaderCtrl=function(){return this.gridHeaderCtrl},n.prototype.getGridCtrl=function(){return this.gridCtrl},n.prototype.getCenterRowContainerCtrl=function(){return this.centerRowContainerCtrl},n.prototype.getTopCenterRowContainerCtrl=function(){return this.topCenterRowContainerCtrl},n.prototype.getBottomCenterRowContainerCtrl=function(){return this.bottomCenterRowContainerCtrl},n.prototype.getStickyTopCenterRowContainerCtrl=function(){return this.stickyTopCenterRowContainerCtrl},n.prototype.getGridBodyCtrl=function(){return this.gridBodyCtrl},n.prototype.getHeaderRowContainerCtrls=function(){return[this.leftHeaderRowContainerCtrl,this.rightHeaderRowContainerCtrl,this.centerHeaderRowContainerCtrl]},n.prototype.getHeaderRowContainerCtrl=function(o){switch(o){case ee.PINNED_LEFT:return this.leftHeaderRowContainerCtrl;case ee.PINNED_RIGHT:return this.rightHeaderRowContainerCtrl;default:return this.centerHeaderRowContainerCtrl}},n.NAME="ctrlsService",n=t=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c}([me(t.NAME)],n),n}(Se),Dy=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),Ty=function(p){function n(){var t=null!==p&&p.apply(this,arguments)||this;return t.registry={},t}return Dy(n,p),n.prototype.register=function(t){this.registry[t.controllerName]=t.controllerClass},n.prototype.getInstance=function(t){var o=this.registry[t];if(null!=o)return new o},n=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c}([me("ctrlsFactory")],n),n}(Se),by=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),vo=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},My=function(p){function n(){return null!==p&&p.apply(this,arguments)||this}return by(n,p),n.prototype.setComp=function(t,o,u,c){this.view=t,this.eViewport=u,this.eContainer=c,this.eGui=o,this.addManagedListener(this.eventService,V.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this));var f=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedListener(this.eventService,V.EVENT_DISPLAYED_COLUMNS_CHANGED,f),this.addManagedListener(this.eventService,V.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,f),this.addManagedListener(this.gridOptionsWrapper,Re.PROP_DOM_LAYOUT,f),this.addManagedListener(this.eventService,V.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.onScrollVisibilityChanged(),this.ctrlsService.registerFakeHScrollCtrl(this),this.view.addOrRemoveCssClass("ag-apple-scrollbar",Ss()||Nr())},n.prototype.addActiveListenerToggles=function(){var t=this;["mouseenter","mousedown","touchstart"].forEach(function(c){return t.addManagedListener(t.eGui,c,function(){return t.view.addOrRemoveCssClass("ag-scrollbar-active",!0)})}),["mouseleave","touchend"].forEach(function(c){return t.addManagedListener(t.eGui,c,function(){return t.view.addOrRemoveCssClass("ag-scrollbar-active",!1)})})},n.prototype.initialiseInvisibleScrollbar=function(){void 0===this.invisibleScrollbar&&(this.enableRtl=this.gridOptionsWrapper.isEnableRtl(),this.invisibleScrollbar=Ts(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles(),this.refreshCompBottom()))},n.prototype.onPinnedRowDataChanged=function(){this.refreshCompBottom()},n.prototype.refreshCompBottom=function(){if(this.invisibleScrollbar){var t=this.pinnedRowModel.getPinnedBottomTotalHeight();this.view.setBottom(t)}},n.prototype.onScrollVisibilityChanged=function(){void 0===this.invisibleScrollbar&&this.initialiseInvisibleScrollbar(),this.setScrollVisible(),this.setFakeHScrollSpacerWidths()},n.prototype.hideAndShowInvisibleScrollAsNeeded=function(){var t=this;this.addManagedListener(this.eventService,V.EVENT_BODY_SCROLL,function(o){"horizontal"===o.direction&&t.view.addOrRemoveCssClass("ag-scrollbar-scrolling",!0)}),this.addManagedListener(this.eventService,V.EVENT_BODY_SCROLL_END,function(){return t.view.addOrRemoveCssClass("ag-scrollbar-scrolling",!1)})},n.prototype.setFakeHScrollSpacerWidths=function(){var t=this.scrollVisibleService.isVerticalScrollShowing(),o=this.columnModel.getDisplayedColumnsRightWidth(),u=!this.enableRtl&&t,c=this.gridOptionsWrapper.getScrollbarWidth();u&&(o+=c),this.view.setRightSpacerFixedWidth(o),this.view.includeRightSpacerScrollerCss("ag-scroller-corner",o<=c);var f=this.columnModel.getDisplayedColumnsLeftWidth();this.enableRtl&&t&&(f+=c),this.view.setLeftSpacerFixedWidth(f),this.view.includeLeftSpacerScrollerCss("ag-scroller-corner",f<=c)},n.prototype.setScrollVisible=function(){var t=this.scrollVisibleService.isHorizontalScrollShowing(),o=this.invisibleScrollbar,u=this.gridOptionsWrapper.isSuppressHorizontalScroll(),c=t&&this.gridOptionsWrapper.getScrollbarWidth()||0,g=u?0:0===c&&o?15:c;this.view.addOrRemoveCssClass("ag-scrollbar-invisible",o),this.view.setHeight(g),this.view.setViewportHeight(g),this.view.setContainerHeight(g)},n.prototype.getViewport=function(){return this.eViewport},n.prototype.getContainer=function(){return this.eContainer},vo([I("scrollVisibleService")],n.prototype,"scrollVisibleService",void 0),vo([I("columnModel")],n.prototype,"columnModel",void 0),vo([I("ctrlsService")],n.prototype,"ctrlsService",void 0),vo([I("pinnedRowModel")],n.prototype,"pinnedRowModel",void 0),n}(Se),Ay=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),_n=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},xy=function(p){function n(){return p.call(this,n.TEMPLATE)||this}return Ay(n,p),n.prototype.postConstruct=function(){var t=this,o={addOrRemoveCssClass:function(c,f){return t.addOrRemoveCssClass(c,f)},setHeight:function(c){return kr(t.getGui(),c)},setBottom:function(c){return t.getGui().style.bottom=c+"px"},setContainerHeight:function(c){return kr(t.eContainer,c)},setViewportHeight:function(c){return kr(t.eViewport,c)},setRightSpacerFixedWidth:function(c){return ir(t.eRightSpacer,c)},setLeftSpacerFixedWidth:function(c){return ir(t.eLeftSpacer,c)},includeLeftSpacerScrollerCss:function(c,f){return t.eLeftSpacer.classList.toggle(c,f)},includeRightSpacerScrollerCss:function(c,f){return t.eRightSpacer.classList.toggle(c,f)}};this.createManagedBean(new My).setComp(o,this.getGui(),this.eViewport,this.eContainer),this.createManagedBean(new Aa(function(c){return t.eContainer.style.width=c+"px"}))},n.TEMPLATE='<div class="ag-body-horizontal-scroll" aria-hidden="true">\n            <div class="ag-horizontal-left-spacer" ref="eLeftSpacer"></div>\n            <div class="ag-body-horizontal-scroll-viewport" ref="eViewport">\n                <div class="ag-body-horizontal-scroll-container" ref="eContainer"></div>\n            </div>\n            <div class="ag-horizontal-right-spacer" ref="eRightSpacer"></div>\n        </div>',_n([_e("eLeftSpacer")],n.prototype,"eLeftSpacer",void 0),_n([_e("eRightSpacer")],n.prototype,"eRightSpacer",void 0),_n([_e("eViewport")],n.prototype,"eViewport",void 0),_n([_e("eContainer")],n.prototype,"eContainer",void 0),_n([Ee],n.prototype,"postConstruct",null),n}(je),Iy=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),ds=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},Ly=function(p){function n(){return null!==p&&p.apply(this,arguments)||this}return Iy(n,p),n.prototype.postConstruct=function(){var t=this.checkContainerWidths.bind(this);this.addManagedListener(this.eventService,V.EVENT_DISPLAYED_COLUMNS_CHANGED,t),this.addManagedListener(this.eventService,V.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,t),this.addManagedListener(this.gridOptionsWrapper,Re.PROP_DOM_LAYOUT,t)},n.prototype.checkContainerWidths=function(){var t=this.gridOptionsWrapper.getDomLayout()===ee.DOM_LAYOUT_PRINT,o=t?0:this.columnModel.getDisplayedColumnsLeftWidth(),u=t?0:this.columnModel.getDisplayedColumnsRightWidth();o!=this.leftWidth&&(this.leftWidth=o,this.eventService.dispatchEvent({type:V.EVENT_LEFT_PINNED_WIDTH_CHANGED})),u!=this.rightWidth&&(this.rightWidth=u,this.eventService.dispatchEvent({type:V.EVENT_RIGHT_PINNED_WIDTH_CHANGED}))},n.prototype.getPinnedRightWidth=function(){return this.rightWidth},n.prototype.getPinnedLeftWidth=function(){return this.leftWidth},ds([I("columnModel")],n.prototype,"columnModel",void 0),ds([Ee],n.prototype,"postConstruct",null),ds([me("pinnedWidthService")],n)}(Se),Fy=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),_o=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},Ny=function(p){function n(){var t=null!==p&&p.apply(this,arguments)||this;return t.events=[],t}return Fy(n,p),n.prototype.postConstruct=function(){this.rowModel.getType()==ee.ROW_MODEL_TYPE_CLIENT_SIDE&&(this.clientSideRowModel=this.rowModel)},n.prototype.dispatchExpanded=function(t){var o=this;null!=this.clientSideRowModel?(this.events.push(t),null==this.dispatchExpandedDebounced&&(this.dispatchExpandedDebounced=this.animationFrameService.debounce(function(){o.clientSideRowModel&&o.clientSideRowModel.onRowGroupOpened(),o.events.forEach(function(c){return o.eventService.dispatchEvent(c)}),o.events=[]})),this.dispatchExpandedDebounced()):this.eventService.dispatchEvent(t)},_o([I("animationFrameService")],n.prototype,"animationFrameService",void 0),_o([I("rowModel")],n.prototype,"rowModel",void 0),_o([Ee],n.prototype,"postConstruct",null),_o([me("rowNodeEventThrottle")],n)}(Se),Gy=function(p,n){var t="function"==typeof Symbol&&p[Symbol.iterator];if(!t)return p;var u,f,o=t.call(p),c=[];try{for(;(void 0===n||n-- >0)&&!(u=o.next()).done;)c.push(u.value)}catch(g){f={error:g}}finally{try{u&&!u.done&&(t=o.return)&&t.call(o)}finally{if(f)throw f.error}}return c},wu=function(){for(var p=[],n=0;n<arguments.length;n++)p=p.concat(Gy(arguments[n]));return p},Wy=function(){function p(n,t,o){t?(this.gridOptions=t,(new By).create(n,t,function(u){var c=new b_(n);u.createBean(c)},void 0,o)):console.error("AG Grid: no gridOptions provided to the grid")}return p.prototype.destroy=function(){this.gridOptions&&this.gridOptions.api&&this.gridOptions.api.destroy()},p}(),By=function(){function p(){}return p.prototype.create=function(n,t,o,u,c){var f=this,g=!!t.debug,C=this.getRegisteredModules(c),O=this.createBeansList(t.rowModelType,C),P=this.createProvidedBeans(n,t,c);if(O){var R={providedBeanInstances:P,beanClasses:O,debug:g},x=new es("AG Grid",function(){return t.debug}),W=new es("Context",function(){return R.debug}),U=new Xe(R,W),q=U.getBean("beans");this.registerModuleUserComponents(q,C),this.registerStackComponents(q,C),this.registerControllers(q,C),o(U),q.ctrlsService.whenReady(function(){f.setColumnsAndData(q),f.dispatchGridReadyEvent(q);var te=Ne.isRegistered(Fe.EnterpriseCoreModule);x.log("initialised successfully, enterprise = "+te)}),u&&u(U)}},p.prototype.registerControllers=function(n,t){t.forEach(function(o){o.controllers&&o.controllers.forEach(function(u){return n.ctrlsFactory.register(u)})})},p.prototype.registerStackComponents=function(n,t){var o=this.createAgStackComponentsList(t);n.agStackComponentsRegistry.setupComponents(o)},p.prototype.getRegisteredModules=function(n){var t=n?n.modules:null,o=Ne.getRegisteredModules(),u=[],c={};function f(g,C){(function O(P){c[P.moduleName]||(c[P.moduleName]=!0,u.push(P),Ne.register(P,g))})(C),C.dependantModules&&C.dependantModules.forEach(f.bind(null,g))}return t&&t.forEach(f.bind(null,!0)),o&&o.forEach(f.bind(null,!Ne.isPackageBased())),u},p.prototype.registerModuleUserComponents=function(n,t){this.extractModuleEntity(t,function(u){return u.userComponents?u.userComponents:[]}).forEach(function(u){n.userComponentRegistry.registerDefaultComponent(u.componentName,u.componentClass)})},p.prototype.createProvidedBeans=function(n,t,o){var u=o?o.frameworkOverrides:null;s(u)&&(u=new hu);var c={gridOptions:t,eGridDiv:n,globalEventListener:o?o.globalEventListener:null,frameworkOverrides:u};return o&&o.providedBeanInstances&&Object.assign(c,o.providedBeanInstances),c},p.prototype.createAgStackComponentsList=function(n){var t=[{componentName:"AgCheckbox",componentClass:Oi},{componentName:"AgRadioButton",componentClass:iu},{componentName:"AgToggleButton",componentClass:nu},{componentName:"AgInputTextField",componentClass:ou},{componentName:"AgInputTextArea",componentClass:Cv},{componentName:"AgInputNumberField",componentClass:Ov},{componentName:"AgInputRange",componentClass:Sv},{componentName:"AgSelect",componentClass:va},{componentName:"AgSlider",componentClass:au},{componentName:"AgAngleSelect",componentClass:su},{componentName:"AgColorPicker",componentClass:Lv},{componentName:"AgGridBody",componentClass:Of},{componentName:"AgHeaderRoot",componentClass:Ig},{componentName:"AgSortIndicator",componentClass:Oa},{componentName:"AgPagination",componentClass:ay},{componentName:"AgOverlayWrapper",componentClass:ly},{componentName:"AgGroupComponent",componentClass:lu},{componentName:"AgPanel",componentClass:Za},{componentName:"AgDialog",componentClass:Ja},{componentName:"AgRowContainer",componentClass:Wf},{componentName:"AgFakeHorizontalScroll",componentClass:xy}],o=this.extractModuleEntity(n,function(u){return u.agStackComponents?u.agStackComponents:[]});return t.concat(o)},p.prototype.createBeansList=function(n,t){var o=this.getRowModelClass(n,t);if(o){var u=[o,kl,cy,hy,yy,V_,eg,Ld,z_,X_,Hg,Zd,ry,Fg,sv,Qd,Dc,Bt,Re,Qv,h_,th,Cc,Tg,hv,rv,m_,Bu,O_,c_,Tf,U_,v_,P_,wc,Yg,Gg,Ot,f_,pn,Df,Q_,s_,ov,gv,Sf,x_,F_,G_,ny,B_,j_,$g,vy,bc,Cy,Ey,pv,Oy,Py,Ly,Ny,Ty],c=this.extractModuleEntity(t,function(g){return g.beans?g.beans:[]});u.push.apply(u,wu(c));var f=[];return u.forEach(function(g){f.indexOf(g)<0&&f.push(g)}),f}},p.prototype.extractModuleEntity=function(n,t){return[].concat.apply([],wu(n.map(t)))},p.prototype.setColumnsAndData=function(n){var t=n.gridOptionsWrapper.getColumnDefs();n.columnModel.setColumnDefs(t||[],"gridInitializing"),n.rowModel.start()},p.prototype.dispatchGridReadyEvent=function(n){n.eventService.dispatchEvent({type:V.EVENT_GRID_READY})},p.prototype.getRowModelClass=function(n,t){n||(n=ee.ROW_MODEL_TYPE_CLIENT_SIDE);var o={};t.forEach(function(c){b(c.rowModels,function(f,g){o[f]=g})});var u=o[n];if(a(u))return u;Ne.isPackageBased()?[ee.ROW_MODEL_TYPE_VIEWPORT,ee.ROW_MODEL_TYPE_SERVER_SIDE].includes(n)?console.error('AG Grid: Row Model "'+n+"\" not found. Please ensure the package 'ag-grid-enterprise' is imported. Please see: https://www.ag-grid.com/javascript-grid/packages/"):console.error("AG Grid: could not find row model for rowModelType "+n):n===ee.ROW_MODEL_TYPE_INFINITE?console.error('AG Grid: Row Model "Infinite" not found. Please ensure the '+Fe.InfiniteRowModelModule+" module is registered. Please see: https://www.ag-grid.com/javascript-grid/modules/"):n===ee.ROW_MODEL_TYPE_VIEWPORT?console.error('AG Grid: Row Model "Viewport" not found. Please ensure the AG Grid Enterprise Module '+Fe.ViewportRowModelModule+" module is registered. Please see: https://www.ag-grid.com/javascript-grid/modules/"):n===ee.ROW_MODEL_TYPE_SERVER_SIDE?console.error('AG Grid: Row Model "Server Side" not found. Please ensure the AG Grid Enterprise Module '+Fe.ServerSideRowModelModule+" module is registered. Please see: https://www.ag-grid.com/javascript-grid/modules/"):n===ee.ROW_MODEL_TYPE_CLIENT_SIDE?console.error('AG Grid: Row Model "Client Side" not found. Please ensure the '+Fe.ClientSideRowModelModule+" module is registered. Please see: https://www.ag-grid.com/javascript-grid/modules/"):console.error("AG Grid: could not find row model for rowModelType "+n)},p}(),ky=function(){function p(){}return p.prototype.wrap=function(n,t,o,u){var c=this;void 0===o&&(o=[]);var f=this.createWrapper(n,u);return t.forEach(function(g){c.createMethod(f,g,!0)}),o.forEach(function(g){c.createMethod(f,g,!1)}),f},p.prototype.unwrap=function(n){return n},p.prototype.createMethod=function(n,t,o){n.addMethod(t,this.createMethodProxy(n,t,o))},p.prototype.createMethodProxy=function(n,t,o){return function(){return n.hasMethod(t)?n.callMethod(t,arguments):(o&&console.warn("AG Grid: Framework component is missing the method "+t+"()"),null)}},p}(),Ti=typeof global>"u"?{}:global;Ti.HTMLElement=typeof HTMLElement>"u"?{}:HTMLElement,Ti.HTMLButtonElement=typeof HTMLButtonElement>"u"?{}:HTMLButtonElement,Ti.HTMLSelectElement=typeof HTMLSelectElement>"u"?{}:HTMLSelectElement,Ti.HTMLInputElement=typeof HTMLInputElement>"u"?{}:HTMLInputElement,Ti.Node=typeof Node>"u"?{}:Node,Ti.MouseEvent=typeof MouseEvent>"u"?{}:MouseEvent;var Vy=function(p,n){var t="function"==typeof Symbol&&p[Symbol.iterator];if(!t)return p;var u,f,o=t.call(p),c=[];try{for(;(void 0===n||n-- >0)&&!(u=o.next()).done;)c.push(u.value)}catch(g){f={error:g}}finally{try{u&&!u.done&&(t=o.return)&&t.call(o)}finally{if(f)throw f.error}}return c},Uy=function(){function p(n,t,o,u,c,f){this.nextId=0,this.allNodesMap={},this.rootNode=n,this.gridOptionsWrapper=t,this.eventService=o,this.columnModel=u,this.beans=f,this.selectionService=c,this.rootNode.group=!0,this.rootNode.level=-1,this.rootNode.id=p.ROOT_NODE_ID,this.rootNode.allLeafChildren=[],this.rootNode.childrenAfterGroup=[],this.rootNode.childrenAfterSort=[],this.rootNode.childrenAfterAggFilter=[],this.rootNode.childrenAfterFilter=[],this.postConstruct()}return p.prototype.postConstruct=function(){this.suppressParentsInRowNodes=this.gridOptionsWrapper.isSuppressParentsInRowNodes(),this.isRowMasterFunc=this.gridOptionsWrapper.getIsRowMasterFunc(),this.doingTreeData=this.gridOptionsWrapper.isTreeData(),this.doingMasterDetail=this.gridOptionsWrapper.isMasterDetail()},p.prototype.getCopyOfNodesMap=function(){return Ge.cloneObject(this.allNodesMap)},p.prototype.getRowNode=function(n){return this.allNodesMap[n]},p.prototype.setRowData=function(n){var t=this;if("string"!=typeof n){var o=this.rootNode,u=this.rootNode.sibling;o.childrenAfterFilter=null,o.childrenAfterGroup=null,o.childrenAfterAggFilter=null,o.childrenAfterSort=null,o.childrenMapped=null,o.updateHasChildren(),this.nextId=0,this.allNodesMap={},n?o.allLeafChildren=n.map(function(c){return t.createNode(c,t.rootNode,p.TOP_LEVEL)}):(o.allLeafChildren=[],o.childrenAfterGroup=[]),u&&(u.childrenAfterFilter=o.childrenAfterFilter,u.childrenAfterGroup=o.childrenAfterGroup,u.childrenAfterAggFilter=o.childrenAfterAggFilter,u.childrenAfterSort=o.childrenAfterSort,u.childrenMapped=o.childrenMapped,u.allLeafChildren=o.allLeafChildren)}else console.warn("AG Grid: rowData must be an array, however you passed in a string. If you are loading JSON, make sure you convert the JSON string to JavaScript objects first")},p.prototype.updateRowData=function(n,t){var o={remove:[],update:[],add:[]},u=[];return this.executeRemove(n,o,u),this.executeUpdate(n,o,u),this.executeAdd(n,o),this.updateSelection(u),t&&Ge.sortRowNodesByOrder(this.rootNode.allLeafChildren,t),o},p.prototype.updateSelection=function(n){var t=n.length>0;t&&n.forEach(function(u){u.setSelected(!1,!1,!0)}),this.selectionService.updateGroupsFromChildrenSelections(),t&&this.eventService.dispatchEvent({type:V.EVENT_SELECTION_CHANGED})},p.prototype.executeAdd=function(n,t){var o=this,u=n.add,c=n.addIndex;if(!Ge.missingOrEmpty(u)){var C,O,f=u.map(function(x){return o.createNode(x,o.rootNode,p.TOP_LEVEL)});if("number"==typeof c&&c>=0){var P=this.rootNode.allLeafChildren,R=0===c?0:P.reduce(function(x,W,U){var q,te=W.rowIndex,se=null===(q=P[x])||void 0===q?void 0:q.rowIndex;return null!=te&&null!=se&&te<c&&te>se?U:x},0)+1;C=P.slice(0,R),O=P.slice(R,P.length)}else C=this.rootNode.allLeafChildren,O=[];this.rootNode.allLeafChildren=function(){for(var p=[],n=0;n<arguments.length;n++)p=p.concat(Vy(arguments[n]));return p}(C,f,O),this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren),t.add=f}},p.prototype.executeRemove=function(n,t,o){var u=this,c=n.remove;if(!Ge.missingOrEmpty(c)){var f={};c.forEach(function(g){var C=u.lookupRowNode(g);!C||(C.isSelected()&&o.push(C),C.clearRowTopAndRowIndex(),f[C.id]=!0,delete u.allNodesMap[C.id],t.remove.push(C))}),this.rootNode.allLeafChildren=this.rootNode.allLeafChildren.filter(function(g){return!f[g.id]}),this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren)}},p.prototype.executeUpdate=function(n,t,o){var u=this,c=n.update;Ge.missingOrEmpty(c)||c.forEach(function(f){var g=u.lookupRowNode(f);!g||(g.updateData(f),!g.selectable&&g.isSelected()&&o.push(g),u.setMasterForRow(g,f,p.TOP_LEVEL,!1),t.update.push(g))})},p.prototype.lookupRowNode=function(n){var o,t=this.gridOptionsWrapper.getRowIdFunc();if(t){var u=t({data:n,level:0});if(!(o=this.allNodesMap[u]))return console.error("AG Grid: could not find row id="+u+", data item was not found for this id"),null}else if(!(o=this.rootNode.allLeafChildren.find(function(c){return c.data===n})))return console.error("AG Grid: could not find data item as object was not found",n),console.error("Consider using getRowId to help the Grid find matching row data"),null;return o||null},p.prototype.createNode=function(n,t,o){var u=new Ke(this.beans);return u.group=!1,this.setMasterForRow(u,n,o,!0),t&&!this.suppressParentsInRowNodes&&(u.parent=t),u.level=o,u.setDataAndId(n,this.nextId.toString()),this.allNodesMap[u.id]&&console.warn("AG Grid: duplicate node id '"+u.id+"' detected from getRowId callback, this could cause issues in your grid."),this.allNodesMap[u.id]=u,this.nextId++,u},p.prototype.setMasterForRow=function(n,t,o,u){if(this.doingTreeData)n.setMaster(!1),u&&(n.expanded=!1);else if(n.setMaster(!!this.doingMasterDetail&&(!this.isRowMasterFunc||this.isRowMasterFunc(t))),u){var c=this.columnModel.getRowGroupColumns();n.expanded=!!n.master&&this.isExpanded(o+(c?c.length:0))}},p.prototype.isExpanded=function(n){var t=this.gridOptionsWrapper.getGroupDefaultExpanded();return-1===t||n<t},p.TOP_LEVEL=0,p.ROOT_NODE_ID="ROOT_NODE_ID",p}(),$y=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),Wt=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},Qt=(()=>(function(p){p[p.Normal=0]="Normal",p[p.AfterFilter=1]="AfterFilter",p[p.AfterFilterAndSort=2]="AfterFilterAndSort",p[p.PivotNodes=3]="PivotNodes"}(Qt||(Qt={})),Qt))(),jy=function(p){function n(){var t=null!==p&&p.apply(this,arguments)||this;return t.rowsToDisplay=[],t}return $y(n,p),n.prototype.init=function(){var t=this.refreshModel.bind(this,{step:Qe.EVERYTHING}),o=!this.gridOptionsWrapper.isSuppressAnimationFrame(),u=this.refreshModel.bind(this,{step:Qe.EVERYTHING,afterColumnsChanged:!0,keepRenderedRows:!0,animate:o});this.addManagedListener(this.eventService,V.EVENT_NEW_COLUMNS_LOADED,u),this.addManagedListener(this.eventService,V.EVENT_COLUMN_ROW_GROUP_CHANGED,t),this.addManagedListener(this.eventService,V.EVENT_COLUMN_VALUE_CHANGED,this.onValueChanged.bind(this)),this.addManagedListener(this.eventService,V.EVENT_COLUMN_PIVOT_CHANGED,this.refreshModel.bind(this,{step:Qe.PIVOT})),this.addManagedListener(this.eventService,V.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,V.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,V.EVENT_COLUMN_PIVOT_MODE_CHANGED,t);var c=this.refreshModel.bind(this,{step:Qe.MAP,keepRenderedRows:!0,animate:o});this.addManagedListener(this.gridOptionsWrapper,Re.PROP_GROUP_REMOVE_SINGLE_CHILDREN,c),this.addManagedListener(this.gridOptionsWrapper,Re.PROP_GROUP_REMOVE_LOWEST_SINGLE_CHILDREN,c),this.rootNode=new Ke(this.beans),this.nodeManager=new Uy(this.rootNode,this.gridOptionsWrapper,this.eventService,this.columnModel,this.selectionService,this.beans)},n.prototype.start=function(){var t=this.gridOptionsWrapper.getRowData();t&&this.setRowData(t)},n.prototype.ensureRowHeightsValid=function(t,o,u,c){var f,g=!1;do{f=!1;for(var C=this.getRowIndexAtPixel(t),O=this.getRowIndexAtPixel(o),P=Math.max(C,u),R=Math.min(O,c),x=P;x<=R;x++){var W=this.getRow(x);if(W.rowHeightEstimated){var U=this.gridOptionsWrapper.getRowHeightForNode(W);W.setRowHeight(U.height),f=!0,g=!0}}f&&this.setRowTopAndRowIndex()}while(f);return g},n.prototype.setRowTopAndRowIndex=function(){for(var t=this.gridOptionsWrapper.getDefaultRowHeight(),o=0,u=new Set,c=this.gridOptionsWrapper.getDomLayout()===ee.DOM_LAYOUT_NORMAL,f=0;f<this.rowsToDisplay.length;f++){var g=this.rowsToDisplay[f];if(null!=g.id&&u.add(g.id),null==g.rowHeight){var C=this.gridOptionsWrapper.getRowHeightForNode(g,c,t);g.setRowHeight(C.height,C.estimated)}g.setRowTop(o),g.setRowIndex(f),o+=g.rowHeight}return u},n.prototype.clearRowTopAndRowIndex=function(t,o){var u=t.isActive(),c=function(g){g&&null!=g.id&&!o.has(g.id)&&g.clearRowTopAndRowIndex()},f=function(g){c(g),c(g.detailNode),c(g.sibling),g.hasChildren()&&g.childrenAfterGroup&&(u&&-1!=g.level&&!g.expanded||g.childrenAfterGroup.forEach(f))};f(this.rootNode)},n.prototype.ensureRowsAtPixel=function(t,o,u){var c=this;void 0===u&&(u=0);var f=this.getRowIndexAtPixel(o),g=this.getRow(f),C=!this.gridOptionsWrapper.isSuppressAnimationFrame();return g!==t[0]&&(t.forEach(function(O){Ge.removeFromArray(c.rootNode.allLeafChildren,O)}),t.forEach(function(O,P){Ge.insertIntoArray(c.rootNode.allLeafChildren,O,Math.max(f+u,0)+P)}),this.refreshModel({step:Qe.EVERYTHING,keepRenderedRows:!0,keepEditingRows:!0,animate:C}),!0)},n.prototype.highlightRowAtPixel=function(t,o){var u=null!=o?this.getRowIndexAtPixel(o):null,c=null!=u?this.getRow(u):null;if(c&&t&&c!==t&&null!=o){var f=this.getHighlightPosition(o,c);this.lastHighlightedRow&&this.lastHighlightedRow!==c&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null),c.setHighlighted(f),this.lastHighlightedRow=c}else this.lastHighlightedRow&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null)},n.prototype.getHighlightPosition=function(t,o){if(!o){var u=this.getRowIndexAtPixel(t);if(!(o=this.getRow(u||0)))return or.Below}return t-o.rowTop<o.rowHeight/2?or.Above:or.Below},n.prototype.getLastHighlightedRowNode=function(){return this.lastHighlightedRow},n.prototype.isLastRowIndexKnown=function(){return!0},n.prototype.getRowCount=function(){return this.rowsToDisplay?this.rowsToDisplay.length:0},n.prototype.getTopLevelRowCount=function(){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return 1;var o=this.rootNode.childrenAfterAggFilter;return o?o.length:0},n.prototype.getTopLevelRowDisplayedIndex=function(t){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return t;var u=this.rootNode.childrenAfterSort[t];if(this.gridOptionsWrapper.isGroupHideOpenParents())for(;u.expanded&&u.childrenAfterSort&&u.childrenAfterSort.length>0;)u=u.childrenAfterSort[0];return u.rowIndex},n.prototype.getRowBounds=function(t){if(Ge.missing(this.rowsToDisplay))return null;var o=this.rowsToDisplay[t];return o?{rowTop:o.rowTop,rowHeight:o.rowHeight}:null},n.prototype.onRowGroupOpened=function(){var t=this.gridOptionsWrapper.isAnimateRows();this.refreshModel({step:Qe.MAP,keepRenderedRows:!0,animate:t})},n.prototype.onFilterChanged=function(t){if(!t.afterDataChange){var o=this.gridOptionsWrapper.isAnimateRows(),u=0===t.columns.length||t.columns.some(function(f){return f.isPrimary()});this.refreshModel({step:u?Qe.FILTER:Qe.FILTER_AGGREGATES,keepRenderedRows:!0,animate:o})}},n.prototype.onSortChanged=function(){var t=this.gridOptionsWrapper.isAnimateRows();this.refreshModel({step:Qe.SORT,keepRenderedRows:!0,animate:t,keepEditingRows:!0})},n.prototype.getType=function(){return ee.ROW_MODEL_TYPE_CLIENT_SIDE},n.prototype.onValueChanged=function(){this.columnModel.isPivotActive()?this.refreshModel({step:Qe.PIVOT}):this.refreshModel({step:Qe.AGGREGATE})},n.prototype.createChangePath=function(t){var o=Ge.missingOrEmpty(t),u=new io(!1,this.rootNode);return(o||this.gridOptionsWrapper.isTreeData())&&u.setInactive(),u},n.prototype.isSuppressModelUpdateAfterUpdateTransaction=function(t){if(!this.gridOptionsWrapper.isSuppressModelUpdateAfterUpdateTransaction()||null==t.rowNodeTransactions)return!1;var o=t.rowNodeTransactions.filter(function(c){return null!=c.add&&c.add.length>0||null!=c.remove&&c.remove.length>0});return null==o||0==o.length},n.prototype.refreshModel=function(t){if(!this.isSuppressModelUpdateAfterUpdateTransaction(t)){var o=this.createChangePath(t.rowNodeTransactions);switch(t.step){case Qe.EVERYTHING:this.doRowGrouping(t.groupState,t.rowNodeTransactions,t.rowNodeOrder,o,!!t.afterColumnsChanged);case Qe.FILTER:this.doFilter(o);case Qe.PIVOT:this.doPivot(o);case Qe.AGGREGATE:this.doAggregate(o);case Qe.FILTER_AGGREGATES:this.doFilterAggregates(o);case Qe.SORT:this.doSort(t.rowNodeTransactions,o);case Qe.MAP:this.doRowsToDisplay()}var u=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(o,u),this.eventService.dispatchEvent({type:V.EVENT_MODEL_UPDATED,animate:t.animate,keepRenderedRows:t.keepRenderedRows,newData:t.newData,newPage:!1,keepUndoRedoStack:t.keepUndoRedoStack})}},n.prototype.isEmpty=function(){var t=Ge.missing(this.rootNode.allLeafChildren)||0===this.rootNode.allLeafChildren.length;return Ge.missing(this.rootNode)||t||!this.columnModel.isReady()},n.prototype.isRowsToRender=function(){return Ge.exists(this.rowsToDisplay)&&this.rowsToDisplay.length>0},n.prototype.getNodesInRangeForSelection=function(t,o){var f,u=!o,c=!1,g=[],C=this.gridOptionsWrapper.isGroupSelectsChildren();return this.forEachNodeAfterFilterAndSort(function(O){var P=u&&!c;if(u||(O===o||O===t)&&(u=!0),!O.group||!C){var x=u&&!c,W=O.isParentOfNode(f);(x||W)&&g.push(O)}P&&(O===o||O===t)&&(c=!0,f=O===o?o:t)}),g},n.prototype.setDatasource=function(t){console.error("AG Grid: should never call setDatasource on clientSideRowController")},n.prototype.getTopLevelNodes=function(){return this.rootNode?this.rootNode.childrenAfterGroup:null},n.prototype.getRootNode=function(){return this.rootNode},n.prototype.getRow=function(t){return this.rowsToDisplay[t]},n.prototype.isRowPresent=function(t){return this.rowsToDisplay.indexOf(t)>=0},n.prototype.getRowIndexAtPixel=function(t){if(this.isEmpty()||0===this.rowsToDisplay.length)return-1;var o=0,u=this.rowsToDisplay.length-1;if(t<=0)return 0;if(Ge.last(this.rowsToDisplay).rowTop<=t)return this.rowsToDisplay.length-1;for(var f=-1,g=-1;;){var C=Math.floor((o+u)/2),O=this.rowsToDisplay[C];if(this.isRowInPixel(O,t))return C;if(O.rowTop<t?o=C+1:O.rowTop>t&&(u=C-1),f===o&&g===u)return C;f=o,g=u}},n.prototype.isRowInPixel=function(t,o){return t.rowTop<=o&&t.rowTop+t.rowHeight>o},n.prototype.forEachLeafNode=function(t){this.rootNode.allLeafChildren&&this.rootNode.allLeafChildren.forEach(function(o,u){return t(o,u)})},n.prototype.forEachNode=function(t){this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterGroup,t,Qt.Normal,0)},n.prototype.forEachNodeAfterFilter=function(t){this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterAggFilter,t,Qt.AfterFilter,0)},n.prototype.forEachNodeAfterFilterAndSort=function(t){this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterSort,t,Qt.AfterFilterAndSort,0)},n.prototype.forEachPivotNode=function(t){this.recursivelyWalkNodesAndCallback([this.rootNode],t,Qt.PivotNodes,0)},n.prototype.recursivelyWalkNodesAndCallback=function(t,o,u,c){if(!t)return c;for(var f=0;f<t.length;f++){var g=t[f];if(o(g,c++),g.hasChildren()){var C=null;switch(u){case Qt.Normal:C=g.childrenAfterGroup;break;case Qt.AfterFilter:C=g.childrenAfterAggFilter;break;case Qt.AfterFilterAndSort:C=g.childrenAfterSort;break;case Qt.PivotNodes:C=g.leafGroup?null:g.childrenAfterSort}C&&(c=this.recursivelyWalkNodesAndCallback(C,o,u,c))}}return c},n.prototype.doAggregate=function(t){this.aggregationStage&&this.aggregationStage.execute({rowNode:this.rootNode,changedPath:t})},n.prototype.doFilterAggregates=function(t){this.filterAggregatesStage?this.filterAggregatesStage.execute({rowNode:this.rootNode,changedPath:t}):this.rootNode.childrenAfterAggFilter=this.rootNode.childrenAfterFilter},n.prototype.expandOrCollapseAll=function(t){var o=this.gridOptionsWrapper.isTreeData(),u=this.columnModel.isPivotActive(),c=function(C){!C||C.forEach(function(O){var P=function(){O.expanded=t,c(O.childrenAfterGroup)};o?Ge.exists(O.childrenAfterGroup)&&P():u?!O.leafGroup&&P():O.group&&P()})};this.rootNode&&c(this.rootNode.childrenAfterGroup),this.refreshModel({step:Qe.MAP}),this.eventService.dispatchEvent({type:V.EVENT_EXPAND_COLLAPSE_ALL,source:t?"expandAll":"collapseAll"})},n.prototype.doSort=function(t,o){this.sortStage.execute({rowNode:this.rootNode,rowNodeTransactions:t,changedPath:o})},n.prototype.doRowGrouping=function(t,o,u,c,f){this.groupStage?(o?this.groupStage.execute({rowNode:this.rootNode,rowNodeTransactions:o,rowNodeOrder:u,changedPath:c}):(this.groupStage.execute({rowNode:this.rootNode,changedPath:c,afterColumnsChanged:f}),this.restoreGroupState(t)),this.gridOptionsWrapper.isGroupSelectsChildren()&&this.selectionService.updateGroupsFromChildrenSelections(c)):(this.rootNode.childrenAfterGroup=this.rootNode.allLeafChildren,this.rootNode.sibling&&(this.rootNode.sibling.childrenAfterGroup=this.rootNode.childrenAfterGroup),this.rootNode.updateHasChildren())},n.prototype.restoreGroupState=function(t){!t||Ge.traverseNodesWithKey(this.rootNode.childrenAfterGroup,function(o,u){"boolean"==typeof t[u]&&(o.expanded=t[u])})},n.prototype.doFilter=function(t){this.filterStage.execute({rowNode:this.rootNode,changedPath:t})},n.prototype.doPivot=function(t){this.pivotStage&&this.pivotStage.execute({rowNode:this.rootNode,changedPath:t})},n.prototype.getGroupState=function(){if(!this.rootNode.childrenAfterGroup||!this.gridOptionsWrapper.isRememberGroupStateWhenNewData())return null;var t={};return Ge.traverseNodesWithKey(this.rootNode.childrenAfterGroup,function(o,u){return t[u]=o.expanded}),t},n.prototype.getCopyOfNodesMap=function(){return this.nodeManager.getCopyOfNodesMap()},n.prototype.getRowNode=function(t){if("string"==typeof t&&0==t.indexOf(Ke.ID_PREFIX_ROW_GROUP)){var u=void 0;return this.forEachNode(function(c){c.id===t&&(u=c)}),u}return this.nodeManager.getRowNode(t)},n.prototype.setRowData=function(t){var o=this.getGroupState();this.nodeManager.setRowData(t),this.selectionService.reset(),this.filterManager.onNewRowsLoaded("rowDataUpdated"),this.eventService.dispatchEvent({type:V.EVENT_ROW_DATA_UPDATED}),this.refreshModel({step:Qe.EVERYTHING,groupState:o,newData:!0})},n.prototype.batchUpdateRowData=function(t,o){var u=this;if(null==this.applyAsyncTransactionsTimeout){this.rowDataTransactionBatch=[];var c=this.gridOptionsWrapper.getAsyncTransactionWaitMillis();this.applyAsyncTransactionsTimeout=window.setTimeout(function(){u.executeBatchUpdateRowData()},c)}this.rowDataTransactionBatch.push({rowDataTransaction:t,callback:o})},n.prototype.flushAsyncTransactions=function(){null!=this.applyAsyncTransactionsTimeout&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())},n.prototype.executeBatchUpdateRowData=function(){var t=this;this.valueCache.onDataChanged();var o=[],u=[],c=!1;this.rowDataTransactionBatch&&this.rowDataTransactionBatch.forEach(function(g){var C=t.nodeManager.updateRowData(g.rowDataTransaction,void 0);u.push(C),g.callback&&o.push(g.callback.bind(null,C)),"number"==typeof g.rowDataTransaction.addIndex&&(c=!0)}),this.commonUpdateRowData(u,void 0,c),o.length>0&&window.setTimeout(function(){o.forEach(function(g){return g()})},0),u.length>0&&this.eventService.dispatchEvent({type:V.EVENT_ASYNC_TRANSACTIONS_FLUSHED,results:u}),this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0},n.prototype.updateRowData=function(t,o){this.valueCache.onDataChanged();var u=this.nodeManager.updateRowData(t,o);return this.commonUpdateRowData([u],o,"number"==typeof t.addIndex),u},n.prototype.createRowNodeOrder=function(){if(!this.gridOptionsWrapper.isSuppressMaintainUnsortedOrder()){var o={};if(this.rootNode&&this.rootNode.allLeafChildren)for(var u=0;u<this.rootNode.allLeafChildren.length;u++)o[this.rootNode.allLeafChildren[u].id]=u;return o}},n.prototype.commonUpdateRowData=function(t,o,u){var c=!this.gridOptionsWrapper.isSuppressAnimationFrame();u&&(o=this.createRowNodeOrder()),this.refreshModel({step:Qe.EVERYTHING,rowNodeTransactions:t,rowNodeOrder:o,keepRenderedRows:!0,keepEditingRows:!0,animate:c}),this.filterManager.onNewRowsLoaded("rowDataUpdated"),this.eventService.dispatchEvent({type:V.EVENT_ROW_DATA_UPDATED})},n.prototype.doRowsToDisplay=function(){this.rowsToDisplay=this.flattenStage.execute({rowNode:this.rootNode})},n.prototype.onRowHeightChanged=function(){this.refreshModel({step:Qe.MAP,keepRenderedRows:!0,keepEditingRows:!0,keepUndoRedoStack:!0})},n.prototype.resetRowHeights=function(){var t=!1;this.forEachNode(function(o){o.setRowHeight(o.rowHeight,!0);var u=o.detailNode;u&&u.setRowHeight(u.rowHeight,!0),t=!0}),t&&this.onRowHeightChanged()},Wt([I("columnModel")],n.prototype,"columnModel",void 0),Wt([I("selectionService")],n.prototype,"selectionService",void 0),Wt([I("filterManager")],n.prototype,"filterManager",void 0),Wt([I("valueCache")],n.prototype,"valueCache",void 0),Wt([I("beans")],n.prototype,"beans",void 0),Wt([I("filterStage")],n.prototype,"filterStage",void 0),Wt([I("sortStage")],n.prototype,"sortStage",void 0),Wt([I("flattenStage")],n.prototype,"flattenStage",void 0),Wt([xe("groupStage")],n.prototype,"groupStage",void 0),Wt([xe("aggregationStage")],n.prototype,"aggregationStage",void 0),Wt([xe("pivotStage")],n.prototype,"pivotStage",void 0),Wt([xe("filterAggregatesStage")],n.prototype,"filterAggregatesStage",void 0),Wt([Ee],n.prototype,"init",null),Wt([me("rowModel")],n)}(Se),Ky=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),Su=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},zy=function(p){function n(){return null!==p&&p.apply(this,arguments)||this}return Ky(n,p),n.prototype.execute=function(t){this.filterService.filter(t.changedPath)},Su([I("filterService")],n.prototype,"filterService",void 0),Su([me("filterStage")],n)}(Se),Yy=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),yo=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},Xy=function(p){function n(){return null!==p&&p.apply(this,arguments)||this}return Yy(n,p),n.prototype.execute=function(t){var o=this,u=this.sortController.getSortOptions(),c=Ge.exists(u)&&u.length>0,f=c&&Ge.exists(t.rowNodeTransactions)&&this.gridOptionsWrapper.isDeltaSort(),g=u.some(function(C){return!!o.columnModel.getGroupDisplayColumnForGroup(C.column.getId())});this.sortService.sort(u,c,f,t.rowNodeTransactions,t.changedPath,g)},yo([I("sortService")],n.prototype,"sortService",void 0),yo([I("sortController")],n.prototype,"sortController",void 0),yo([I("columnModel")],n.prototype,"columnModel",void 0),yo([me("sortStage")],n)}(Se),qy=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),hs=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},Zy=function(p){function n(){return null!==p&&p.apply(this,arguments)||this}return qy(n,p),n.prototype.execute=function(t){var o=t.rowNode,u=[],c={value:0},f=this.columnModel.isPivotMode(),g=f&&o.leafGroup;return this.recursivelyAddToRowsToDisplay(g?[o]:o.childrenAfterSort,u,c,f,0),!g&&u.length>0&&this.gridOptionsWrapper.isGroupIncludeTotalFooter()&&(this.ensureFooterNodeExists(o),this.addRowNodeToRowsToDisplay(o.sibling,u,c,0)),u},n.prototype.recursivelyAddToRowsToDisplay=function(t,o,u,c,f){if(!Ge.missingOrEmpty(t))for(var g=this.gridOptionsWrapper.isGroupHideOpenParents(),C=this.gridOptionsWrapper.isGroupRemoveSingleChildren(),O=!C&&this.gridOptionsWrapper.isGroupRemoveLowestSingleChildren(),P=0;P<t.length;P++){var R=t[P],x=R.hasChildren(),U=C&&x&&1===R.childrenAfterGroup.length,q=O&&x&&R.leafGroup&&1===R.childrenAfterGroup.length;if(!(c&&!x||g&&R.expanded&&!R.master&&(!c||!R.leafGroup)||U||q)&&this.addRowNodeToRowsToDisplay(R,o,u,f),!c||!R.leafGroup)if(x){var Ce=U||q;(R.expanded||Ce)&&(this.recursivelyAddToRowsToDisplay(R.childrenAfterSort,o,u,c,Ce?f:f+1),this.gridOptionsWrapper.isGroupIncludeFooter()&&(this.ensureFooterNodeExists(R),this.addRowNodeToRowsToDisplay(R.sibling,o,u,f)))}else if(R.master&&R.expanded){var Me=this.createDetailNode(R);this.addRowNodeToRowsToDisplay(Me,o,u,f)}}},n.prototype.addRowNodeToRowsToDisplay=function(t,o,u,c){var f=this.gridOptionsWrapper.isGroupMultiAutoColumn();o.push(t),t.setUiLevel(f?0:c)},n.prototype.ensureFooterNodeExists=function(t){if(!Ge.exists(t.sibling)){var o=new Ke(this.beans);Object.keys(t).forEach(function(u){o[u]=t[u]}),o.footer=!0,o.setRowTop(null),o.setRowIndex(null),o.oldRowTop=null,Ge.exists(o.id)&&(o.id="rowGroupFooter_"+o.id),o.sibling=t,t.sibling=o}},n.prototype.createDetailNode=function(t){if(Ge.exists(t.detailNode))return t.detailNode;var o=new Ke(this.beans);return o.detail=!0,o.selectable=!1,o.parent=t,Ge.exists(t.id)&&(o.id="detail_"+t.id),o.data=t.data,o.level=t.level+1,t.detailNode=o,o},hs([I("columnModel")],n.prototype,"columnModel",void 0),hs([I("beans")],n.prototype,"beans",void 0),hs([me("flattenStage")],n)}(Se),Jy=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),mo=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},Qy=function(p){function n(){return null!==p&&p.apply(this,arguments)||this}return Jy(n,p),n.prototype.init=function(){this.postSortFunc=this.gridOptionsWrapper.getPostSortFunc()},n.prototype.sort=function(t,o,u,c,f,g){var C=this,O=this.gridOptionsWrapper.isGroupMaintainOrder(),P=this.columnModel.getAllGridColumns().some(function(U){return U.isRowGroupActive()}),R={};u&&c&&(R=this.calculateDirtyNodes(c));var x=this.columnModel.isPivotMode();f&&f.forEachChangedNodeDepthFirst(function(U){if(C.pullDownGroupDataForHideOpenParents(U.childrenAfterAggFilter,!0),!o||O&&P&&!U.leafGroup&&!g||x&&U.leafGroup){var se=U.childrenAfterAggFilter.slice(0);if(O&&U.childrenAfterSort){var ae=U.childrenAfterSort.reduce(function(Oe,Me,Be){return Oe[Me.id]=Be,Oe},{});se.sort(function(Oe,Me){return(ae[Oe.id]||0)-(ae[Me.id]||0)})}U.childrenAfterSort=se}else U.childrenAfterSort=u?C.doDeltaSort(U,R,f,t):C.rowNodeSorter.doFullSort(U.childrenAfterAggFilter,t);U.sibling&&(U.sibling.childrenAfterSort=U.childrenAfterSort),C.updateChildIndexes(U),C.postSortFunc&&C.postSortFunc({nodes:U.childrenAfterSort})}),this.updateGroupDataForHideOpenParents(f)},n.prototype.calculateDirtyNodes=function(t){var o={},u=function(c){c&&c.forEach(function(f){return o[f.id]=!0})};return t&&t.forEach(function(c){u(c.add),u(c.update),u(c.remove)}),o},n.prototype.doDeltaSort=function(t,o,u,c){var f=this,g=t.childrenAfterAggFilter,C=t.childrenAfterSort;if(!C)return this.rowNodeSorter.doFullSort(g,c);var O={},P=[];g.forEach(function(U){o[U.id]||!u.canSkip(U)?P.push(U):O[U.id]=!0});var R=C.filter(function(U){return O[U.id]}),x=function(U,q){return{currentPos:q,rowNode:U}},W=P.map(x).sort(function(U,q){return f.rowNodeSorter.compareRowNodes(c,U,q)});return this.mergeSortedArrays(c,W,R.map(x)).map(function(U){return U.rowNode})},n.prototype.mergeSortedArrays=function(t,o,u){for(var c=[],f=0,g=0;f<o.length&&g<u.length;){var C=this.rowNodeSorter.compareRowNodes(t,o[f],u[g]);c.push(C<0?o[f++]:u[g++])}for(;f<o.length;)c.push(o[f++]);for(;g<u.length;)c.push(u[g++]);return c},n.prototype.updateChildIndexes=function(t){if(!Ge.missing(t.childrenAfterSort))for(var o=t.childrenAfterSort,u=0;u<o.length;u++){var c=o[u],g=u===t.childrenAfterSort.length-1;c.setFirstChild(0===u),c.setLastChild(g),c.setChildIndex(u)}},n.prototype.updateGroupDataForHideOpenParents=function(t){var o=this;if(this.gridOptionsWrapper.isGroupHideOpenParents()){if(this.gridOptionsWrapper.isTreeData())return Ge.doOnce(function(){return console.warn("AG Grid: The property hideOpenParents dose not work with Tree Data. This is because Tree Data has values at the group level, it doesn't make sense to hide them (as opposed to Row Grouping, which only has Aggregated Values at the group level).")},"sortService.hideOpenParentsWithTreeData"),!1;var c=function(f){o.pullDownGroupDataForHideOpenParents(f.childrenAfterSort,!1),f.childrenAfterSort.forEach(function(g){g.hasChildren()&&c(g)})};t&&t.executeFromRootNode(function(f){return c(f)})}},n.prototype.pullDownGroupDataForHideOpenParents=function(t,o){var u=this;!this.gridOptionsWrapper.isGroupHideOpenParents()||Ge.missing(t)||t.forEach(function(c){u.columnModel.getGroupDisplayColumns().forEach(function(g){var C=g.getColDef().showRowGroup;if("string"==typeof C){var P=u.columnModel.getPrimaryColumn(C);if(P!==c.rowGroupColumn)if(o)c.setGroupValue(g.getId(),void 0);else{var x=c.getFirstChildOfFirstChild(P);x&&c.setGroupValue(g.getId(),x.key)}}else console.error("AG Grid: groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup")})})},mo([I("columnModel")],n.prototype,"columnModel",void 0),mo([I("rowNodeSorter")],n.prototype,"rowNodeSorter",void 0),mo([Ee],n.prototype,"init",null),mo([me("sortService")],n)}(Se),em=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),Pu=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},tm=function(p){function n(){return null!==p&&p.apply(this,arguments)||this}return em(n,p),n.prototype.filter=function(t){var o=this.filterManager.isColumnFilterPresent()||this.filterManager.isQuickFilterPresent()||this.filterManager.isExternalFilterPresent();this.filterNodes(o,t)},n.prototype.filterNodes=function(t,o){var u=this,c=function(O,P){O.childrenAfterFilter=O.hasChildren()&&t&&!P?O.childrenAfterGroup.filter(function(R){var x=R.childrenAfterFilter&&R.childrenAfterFilter.length>0,W=R.data&&u.filterManager.doesRowPassFilter({rowNode:R});return x||W}):O.childrenAfterGroup,O.sibling&&(O.sibling.childrenAfterFilter=O.childrenAfterFilter)};if(this.doingTreeDataFiltering()){var f=function(O,P){if(O.childrenAfterGroup)for(var R=0;R<O.childrenAfterGroup.length;R++){var x=O.childrenAfterGroup[R],W=P||u.filterManager.doesRowPassFilter({rowNode:x});x.childrenAfterGroup?f(O.childrenAfterGroup[R],W):c(x,W)}c(O,P)};o.executeFromRootNode(function(O){return f(O,!1)})}else o.forEachChangedNodeDepthFirst(function(O){return c(O,!1)},!0)},n.prototype.doingTreeDataFiltering=function(){return this.gridOptionsWrapper.isTreeData()&&!this.gridOptionsWrapper.isExcludeChildrenWhenTreeDataFiltering()},Pu([I("filterManager")],n.prototype,"filterManager",void 0),Pu([me("filterService")],n)}(Se),rm=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),ti=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},nm=function(p){function n(){return null!==p&&p.apply(this,arguments)||this}return rm(n,p),n.prototype.postConstruct=function(){this.rowModel.getType()===ee.ROW_MODEL_TYPE_CLIENT_SIDE&&(this.clientSideRowModel=this.rowModel)},n.prototype.isActive=function(){return this.gridOptionsWrapper.isImmutableData()},n.prototype.setRowData=function(t){var o=this.createTransactionForRowData(t);if(o){var u=function(p,n){var t="function"==typeof Symbol&&p[Symbol.iterator];if(!t)return p;var u,f,o=t.call(p),c=[];try{for(;(void 0===n||n-- >0)&&!(u=o.next()).done;)c.push(u.value)}catch(g){f={error:g}}finally{try{u&&!u.done&&(t=o.return)&&t.call(o)}finally{if(f)throw f.error}}return c}(o,2),g=this.clientSideRowModel.updateRowData(u[0],u[1]);g&&this.rowRenderer.refreshFullWidthRows(g.update)}},n.prototype.createTransactionForRowData=function(t){if(Ge.missing(this.clientSideRowModel))console.error("AG Grid: ImmutableService only works with ClientSideRowModel");else{var o=this.gridOptionsWrapper.getRowIdFunc();if(null!=o){var u={remove:[],update:[],add:[]},c=this.clientSideRowModel.getCopyOfNodesMap(),g=this.gridOptionsWrapper.isSuppressMaintainUnsortedOrder()?void 0:{};return Ge.exists(t)&&t.forEach(function(C,O){var P=o({data:C,level:0}),R=c[P];g&&(g[P]=O),R?(R.data!==C&&u.update.push(C),c[P]=void 0):u.add.push(C)}),Ge.iterateObject(c,function(C,O){O&&u.remove.push(O.data)}),[u,g]}console.error("AG Grid: ImmutableService requires getRowId() callback to be implemented, your row data needs IDs!")}},ti([I("rowModel")],n.prototype,"rowModel",void 0),ti([I("rowRenderer")],n.prototype,"rowRenderer",void 0),ti([I("columnApi")],n.prototype,"columnApi",void 0),ti([I("gridApi")],n.prototype,"gridApi",void 0),ti([I("filterManager")],n.prototype,"filterManager",void 0),ti([Ee],n.prototype,"postConstruct",null),ti([me("immutableService")],n)}(Se),om={moduleName:Fe.ClientSideRowModelModule,beans:[zy,Xy,Zy,Qy,tm,nm],rowModels:{clientSide:jy}},am=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),fs=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},Du=function(p){function n(t,o,u){var c=p.call(this,t)||this;return c.parentCache=o,c.params=u,c.startRow=t*u.blockSize,c.endRow=c.startRow+u.blockSize,c}return am(n,p),n.prototype.postConstruct=function(){this.createRowNodes()},n.prototype.getBlockStateJson=function(){return{id:""+this.getId(),state:{blockNumber:this.getId(),startRow:this.getStartRow(),endRow:this.getEndRow(),pageStatus:this.getState()}}},n.prototype.setDataAndId=function(t,o,u){!t.id&&t.alreadyRendered&&(t.alreadyRendered=!1),Ge.exists(o)?t.setDataAndId(o,u.toString()):t.setDataAndId(void 0,void 0)},n.prototype.loadFromDatasource=function(){var t=this,o=this.createLoadParams();Ge.missing(this.params.datasource.getRows)?console.warn("AG Grid: datasource is missing getRows method"):window.setTimeout(function(){t.params.datasource.getRows(o)},0)},n.prototype.processServerFail=function(){},n.prototype.createLoadParams=function(){return{startRow:this.getStartRow(),endRow:this.getEndRow(),successCallback:this.pageLoaded.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),sortModel:this.params.sortModel,filterModel:this.params.filterModel,context:this.gridOptionsWrapper.getContext()}},n.prototype.forEachNode=function(t,o,u){var c=this;this.rowNodes.forEach(function(f,g){c.startRow+g<u&&t(f,o.next())})},n.prototype.getLastAccessed=function(){return this.lastAccessed},n.prototype.getRow=function(t,o){return void 0===o&&(o=!1),o||(this.lastAccessed=this.params.lastAccessedSequence.next()),this.rowNodes[t-this.startRow]},n.prototype.getStartRow=function(){return this.startRow},n.prototype.getEndRow=function(){return this.endRow},n.prototype.createRowNodes=function(){this.rowNodes=[];for(var t=0;t<this.params.blockSize;t++){var o=this.startRow+t,u=new Ke(this.beans);u.setRowHeight(this.params.rowHeight),u.uiLevel=0,u.setRowIndex(o),u.setRowTop(this.params.rowHeight*o),this.rowNodes.push(u)}},n.prototype.processServerResult=function(t){var o=this;this.rowNodes.forEach(function(c,f){o.setDataAndId(c,t.rowData?t.rowData[f]:void 0,o.startRow+f)}),this.parentCache.pageLoaded(this,null!=t.rowCount&&t.rowCount>=0?t.rowCount:void 0)},n.prototype.destroyRowNodes=function(){this.rowNodes.forEach(function(t){t.clearRowTopAndRowIndex()})},fs([I("beans")],n.prototype,"beans",void 0),fs([Ee],n.prototype,"postConstruct",null),fs([Pe],n.prototype,"destroyRowNodes",null),n}(no),sm=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),Co=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},lm=function(p,n){return function(t,o){n(t,o,p)}},um=function(p){function n(t){var o=p.call(this)||this;return o.lastRowIndexKnown=!1,o.blocks={},o.blockCount=0,o.rowCount=t.initialRowCount,o.params=t,o}return sm(n,p),n.prototype.setBeans=function(t){this.logger=t.create("InfiniteCache")},n.prototype.getRow=function(t,o){void 0===o&&(o=!1);var u=Math.floor(t/this.params.blockSize),c=this.blocks[u];if(!c){if(o)return;c=this.createBlock(u)}return c.getRow(t)},n.prototype.createBlock=function(t){var o=this.createBean(new Du(t,this,this.params));return this.blocks[o.getId()]=o,this.blockCount++,this.purgeBlocksIfNeeded(o),this.params.rowNodeBlockLoader.addBlock(o),o},n.prototype.refreshCache=function(){0==this.blockCount?this.purgeCache():(this.getBlocksInOrder().forEach(function(o){return o.setStateWaitingToLoad()}),this.params.rowNodeBlockLoader.checkBlockToLoad())},n.prototype.destroyAllBlocks=function(){var t=this;this.getBlocksInOrder().forEach(function(o){return t.destroyBlock(o)})},n.prototype.getRowCount=function(){return this.rowCount},n.prototype.isLastRowIndexKnown=function(){return this.lastRowIndexKnown},n.prototype.pageLoaded=function(t,o){!this.isAlive()||(this.logger.log("onPageLoaded: page = "+t.getId()+", lastRow = "+o),this.checkRowCount(t,o),this.onCacheUpdated())},n.prototype.purgeBlocksIfNeeded=function(t){var o=this,u=this.getBlocksInOrder().filter(function(O){return O!=t});u.sort(function(O,P){return P.getLastAccessed()-O.getLastAccessed()});var f=this.params.maxBlocksInCache>0,g=f?this.params.maxBlocksInCache-1:null,C=n.MAX_EMPTY_BLOCKS_TO_KEEP-1;u.forEach(function(O,P){if(O.getState()===Du.STATE_WAITING_TO_LOAD&&P>=C||f&&P>=g){if(o.isBlockCurrentlyDisplayed(O)||o.isBlockFocused(O))return;o.removeBlockFromCache(O)}})},n.prototype.isBlockFocused=function(t){var o=this.focusService.getFocusCellToUseAfterRefresh();if(!o||null!=o.rowPinned)return!1;var u=t.getStartRow(),c=t.getEndRow();return o.rowIndex>=u&&o.rowIndex<c},n.prototype.isBlockCurrentlyDisplayed=function(t){var o=t.getStartRow(),u=t.getEndRow()-1;return this.rowRenderer.isRangeInRenderedViewport(o,u)},n.prototype.removeBlockFromCache=function(t){!t||this.destroyBlock(t)},n.prototype.checkRowCount=function(t,o){if("number"==typeof o&&o>=0)this.rowCount=o,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){var c=(t.getId()+1)*this.params.blockSize+this.params.overflowSize;this.rowCount<c&&(this.rowCount=c)}},n.prototype.setRowCount=function(t,o){this.rowCount=t,Ge.exists(o)&&(this.lastRowIndexKnown=o),this.lastRowIndexKnown||this.rowCount%this.params.blockSize==0&&this.rowCount++,this.onCacheUpdated()},n.prototype.forEachNodeDeep=function(t){var o=this,u=new Ur;this.getBlocksInOrder().forEach(function(c){return c.forEachNode(t,u,o.rowCount)})},n.prototype.getBlocksInOrder=function(){return Ge.getAllValuesInObject(this.blocks).sort(function(u,c){return u.getId()-c.getId()})},n.prototype.destroyBlock=function(t){delete this.blocks[t.getId()],this.destroyBean(t),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(t)},n.prototype.onCacheUpdated=function(){this.isAlive()&&(this.destroyAllBlocksPastVirtualRowCount(),this.eventService.dispatchEvent({type:V.EVENT_STORE_UPDATED}))},n.prototype.destroyAllBlocksPastVirtualRowCount=function(){var t=this,o=[];this.getBlocksInOrder().forEach(function(u){u.getId()*t.params.blockSize>=t.rowCount&&o.push(u)}),o.length>0&&o.forEach(function(u){return t.destroyBlock(u)})},n.prototype.purgeCache=function(){var t=this;this.getBlocksInOrder().forEach(function(o){return t.removeBlockFromCache(o)}),this.lastRowIndexKnown=!1,0===this.rowCount&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()},n.prototype.getRowNodesInRange=function(t,o){var u=this,c=[],f=-1,g=!1,C=new Ur;Ge.missing(t)&&(g=!0);var O=!1;return this.getBlocksInOrder().forEach(function(R){if(!O){if(g&&f+1!==R.getId())return void(O=!0);f=R.getId(),R.forEachNode(function(x){var W=x===t||x===o;(g||W)&&c.push(x),W&&(g=!g)},C,u.rowCount)}}),O||g?[]:c},n.MAX_EMPTY_BLOCKS_TO_KEEP=2,Co([I("rowRenderer")],n.prototype,"rowRenderer",void 0),Co([I("focusService")],n.prototype,"focusService",void 0),Co([lm(0,tt("loggerFactory"))],n.prototype,"setBeans",null),Co([Pe],n.prototype,"destroyAllBlocks",null),n}(Se),cm=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),br=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},pm=function(p){function n(){return null!==p&&p.apply(this,arguments)||this}return cm(n,p),n.prototype.getRowBounds=function(t){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*t}},n.prototype.ensureRowHeightsValid=function(t,o,u,c){return!1},n.prototype.init=function(){var t=this;!this.gridOptionsWrapper.isRowModelInfinite()||(this.rowHeight=this.gridOptionsWrapper.getRowHeightAsNumber(),this.addEventListeners(),this.addDestroyFunc(function(){return t.destroyCache()}),this.verifyProps())},n.prototype.verifyProps=function(){null!=this.gridOptionsWrapper.getInitialGroupOrderComparator()&&Ge.doOnce(function(){return console.warn("AG Grid: initialGroupOrderComparator cannot be used with Infinite Row Model. If using Infinite Row Model, then sorting is done on the server side, nothing to do with the client.")},"IRM.InitialGroupOrderComparator")},n.prototype.start=function(){this.setDatasource(this.gridOptionsWrapper.getDatasource())},n.prototype.destroyDatasource=function(){this.datasource&&(this.getContext().destroyBean(this.datasource),this.rowRenderer.datasourceChanged(),this.datasource=null)},n.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,V.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,V.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,V.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverything.bind(this)),this.addManagedListener(this.eventService,V.EVENT_STORE_UPDATED,this.onCacheUpdated.bind(this))},n.prototype.onFilterChanged=function(){this.reset()},n.prototype.onSortChanged=function(){this.reset()},n.prototype.onColumnEverything=function(){(!this.cacheParams||this.isSortModelDifferent())&&this.reset()},n.prototype.isSortModelDifferent=function(){return!Ge.jsonEquals(this.cacheParams.sortModel,this.sortController.getSortModel())},n.prototype.getType=function(){return ee.ROW_MODEL_TYPE_INFINITE},n.prototype.setDatasource=function(t){this.destroyDatasource(),this.datasource=t,t&&this.reset()},n.prototype.isEmpty=function(){return!this.infiniteCache},n.prototype.isRowsToRender=function(){return!!this.infiniteCache},n.prototype.getNodesInRangeForSelection=function(t,o){return this.infiniteCache?this.infiniteCache.getRowNodesInRange(t,o):[]},n.prototype.reset=function(){if(this.datasource){null!=this.gridOptionsWrapper.getRowIdFunc()||this.selectionService.reset(),this.resetCache();var u=this.createModelUpdatedEvent();this.eventService.dispatchEvent(u)}},n.prototype.createModelUpdatedEvent=function(){return{type:V.EVENT_MODEL_UPDATED,newPage:!1,newData:!1,keepRenderedRows:!0,animate:!1}},n.prototype.resetCache=function(){this.destroyCache(),this.cacheParams={datasource:this.datasource,filterModel:this.filterManager.getFilterModel(),sortModel:this.sortController.getSortModel(),rowNodeBlockLoader:this.rowNodeBlockLoader,initialRowCount:this.defaultIfInvalid(this.gridOptionsWrapper.getInfiniteInitialRowCount(),1),maxBlocksInCache:this.gridOptionsWrapper.getMaxBlocksInCache(),rowHeight:this.gridOptionsWrapper.getRowHeightAsNumber(),overflowSize:this.defaultIfInvalid(this.gridOptionsWrapper.getCacheOverflowSize(),1),blockSize:this.defaultIfInvalid(this.gridOptionsWrapper.getCacheBlockSize(),100),lastAccessedSequence:new Ur},this.infiniteCache=this.createBean(new um(this.cacheParams))},n.prototype.defaultIfInvalid=function(t,o){return t>0?t:o},n.prototype.destroyCache=function(){this.infiniteCache&&(this.infiniteCache=this.destroyBean(this.infiniteCache))},n.prototype.onCacheUpdated=function(){var t=this.createModelUpdatedEvent();this.eventService.dispatchEvent(t)},n.prototype.getRow=function(t){if(this.infiniteCache&&!(t>=this.infiniteCache.getRowCount()))return this.infiniteCache.getRow(t)},n.prototype.getRowNode=function(t){var o;return this.forEachNode(function(u){u.id===t&&(o=u)}),o},n.prototype.forEachNode=function(t){this.infiniteCache&&this.infiniteCache.forEachNodeDeep(t)},n.prototype.getTopLevelRowCount=function(){return this.getRowCount()},n.prototype.getTopLevelRowDisplayedIndex=function(t){return t},n.prototype.getRowIndexAtPixel=function(t){if(0!==this.rowHeight){var o=Math.floor(t/this.rowHeight),u=this.getRowCount()-1;return o>u?u:o}return 0},n.prototype.getRowCount=function(){return this.infiniteCache?this.infiniteCache.getRowCount():0},n.prototype.isRowPresent=function(t){return!!this.getRowNode(t.id)},n.prototype.refreshCache=function(){this.infiniteCache&&this.infiniteCache.refreshCache()},n.prototype.purgeCache=function(){this.infiniteCache&&this.infiniteCache.purgeCache()},n.prototype.isLastRowIndexKnown=function(){return!!this.infiniteCache&&this.infiniteCache.isLastRowIndexKnown()},n.prototype.setRowCount=function(t,o){this.infiniteCache&&this.infiniteCache.setRowCount(t,o)},br([I("filterManager")],n.prototype,"filterManager",void 0),br([I("sortController")],n.prototype,"sortController",void 0),br([I("selectionService")],n.prototype,"selectionService",void 0),br([I("rowRenderer")],n.prototype,"rowRenderer",void 0),br([I("rowNodeBlockLoader")],n.prototype,"rowNodeBlockLoader",void 0),br([Ee],n.prototype,"init",null),br([Pe],n.prototype,"destroyDatasource",null),br([me("rowModel")],n)}(Se),dm={moduleName:Fe.InfiniteRowModelModule,rowModels:{infinite:pm}},Ru=function(){function p(){}return p.prototype.setBeans=function(n){this.beans=n},p.prototype.getFileName=function(n){var t=this.getDefaultFileExtension();return(null==n||!n.length)&&(n=this.getDefaultFileName()),-1===n.indexOf(".")?n+"."+t:n},p.prototype.getData=function(n){var t=this.createSerializingSession(n);return this.beans.gridSerializer.serialize(t,n)},p}(),Tu=function(){function p(n){this.groupColumns=[];var o=n.valueService,u=n.gridOptionsWrapper,c=n.processCellCallback,f=n.processHeaderCallback,g=n.processGroupHeaderCallback,C=n.processRowGroupCallback;this.columnModel=n.columnModel,this.valueService=o,this.gridOptionsWrapper=u,this.processCellCallback=c,this.processHeaderCallback=f,this.processGroupHeaderCallback=g,this.processRowGroupCallback=C}return p.prototype.prepare=function(n){this.groupColumns=n.filter(function(t){return!!t.getColDef().showRowGroup})},p.prototype.extractHeaderValue=function(n){return this.getHeaderName(this.processHeaderCallback,n)??""},p.prototype.extractRowCellValue=function(n,t,o,u,c){var f=this.shouldRenderGroupSummaryCell(c,n,t)?this.createValueForGroupNode(c):this.valueService.getValue(n,c);return this.processCell({accumulatedRowIndex:o,rowNode:c,column:n,value:f,processCellCallback:this.processCellCallback,type:u})??""},p.prototype.shouldRenderGroupSummaryCell=function(n,t,o){var u;if(!n||!n.group)return!1;if(-1!==this.groupColumns.indexOf(t)&&(null===(u=n.groupData)||void 0===u?void 0:u[t.getId()]))return!0;var g=this.gridOptionsWrapper.isGroupUseEntireRow(this.columnModel.isPivotMode());return 0===o&&g},p.prototype.getHeaderName=function(n,t){return n?n({column:t,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()}):this.columnModel.getDisplayNameForColumn(t,"csv",!0)},p.prototype.createValueForGroupNode=function(n){if(this.processRowGroupCallback)return this.processRowGroupCallback({node:n,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()});var t=[n.key];if(!this.gridOptionsWrapper.isGroupMultiAutoColumn())for(;n.parent;)t.push((n=n.parent).key);return t.reverse().join(" -> ")},p.prototype.processCell=function(n){var c=n.value,f=n.processCellCallback,g=n.type;return f?f({accumulatedRowIndex:n.accumulatedRowIndex,column:n.column,node:n.rowNode,value:c,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),type:g}):c??""},p}(),bu=function(){function p(){}return p.download=function(n,t){var o=document.defaultView||window;if(o){var u=document.createElement("a"),c=o.URL.createObjectURL(t);u.setAttribute("href",c),u.setAttribute("download",n),u.style.display="none",document.body.appendChild(u),u.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:o})),document.body.removeChild(u),o.setTimeout(function(){o.URL.revokeObjectURL(c)},0)}else console.warn("AG Grid: There is no `window` associated with the current `document`")},p}(),hm=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),fm=function(p){function n(t){var o=p.call(this,t)||this;o.isFirstLine=!0,o.result="";var c=t.columnSeparator;return o.suppressQuotes=t.suppressQuotes,o.columnSeparator=c,o}return hm(n,p),n.prototype.addCustomContent=function(t){var o=this;!t||("string"==typeof t?(/^\s*\n/.test(t)||this.beginNewLine(),t=t.replace(/\r?\n/g,"\r\n"),this.result+=t):t.forEach(function(u){o.beginNewLine(),u.forEach(function(c,f){0!==f&&(o.result+=o.columnSeparator),o.result+=o.putInQuotes(c.data.value||""),c.mergeAcross&&o.appendEmptyCells(c.mergeAcross)})}))},n.prototype.onNewHeaderGroupingRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}},n.prototype.onNewHeaderGroupingRowColumn=function(t,o,u){0!=o&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(t),this.appendEmptyCells(u)},n.prototype.appendEmptyCells=function(t){for(var o=1;o<=t;o++)this.result+=this.columnSeparator+this.putInQuotes("")},n.prototype.onNewHeaderRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}},n.prototype.onNewHeaderRowColumn=function(t,o){0!=o&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(t))},n.prototype.onNewBodyRow=function(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}},n.prototype.onNewBodyRowColumn=function(t,o,u){0!=o&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractRowCellValue(t,o,o,ee.EXPORT_TYPE_CSV,u))},n.prototype.putInQuotes=function(t){return this.suppressQuotes?t:null==t?'""':("string"==typeof t?o=t:"function"==typeof t.toString?o=t.toString():(console.warn("AG Grid: unknown value type during csv conversion"),o=""),'"'+o.replace(/"/g,'""')+'"');var o},n.prototype.parse=function(){return this.result},n.prototype.beginNewLine=function(){this.isFirstLine||(this.result+="\r\n"),this.isFirstLine=!1},n}(Tu),gm=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),bi=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},Au=function(p){function n(){return null!==p&&p.apply(this,arguments)||this}return gm(n,p),n.prototype.postConstruct=function(){this.setBeans({gridSerializer:this.gridSerializer,gridOptionsWrapper:this.gridOptionsWrapper})},n.prototype.getMergedParams=function(t){var o=this.gridOptionsWrapper.getDefaultExportParams("csv");return Object.assign({},o,t)},n.prototype.export=function(t){if(this.isExportSuppressed())return console.warn("AG Grid: Export cancelled. Export is not allowed as per your configuration."),"";var o=this.getMergedParams(t),u=this.getData(o),c=new Blob(["\ufeff",u],{type:"text/plain"});return bu.download(this.getFileName(o.fileName),c),u},n.prototype.exportDataAsCsv=function(t){return this.export(t)},n.prototype.getDataAsCsv=function(t){var o=this.getMergedParams(t);return this.getData(o)},n.prototype.getDefaultFileName=function(){return"export.csv"},n.prototype.getDefaultFileExtension=function(){return"csv"},n.prototype.createSerializingSession=function(t){var o=this;return new fm({columnModel:o.columnModel,valueService:o.valueService,gridOptionsWrapper:o.gridOptionsWrapper,processCellCallback:t.processCellCallback||void 0,processHeaderCallback:t.processHeaderCallback||void 0,processGroupHeaderCallback:t.processGroupHeaderCallback||void 0,processRowGroupCallback:t.processRowGroupCallback||void 0,suppressQuotes:t.suppressQuotes||!1,columnSeparator:t.columnSeparator||","})},n.prototype.isExportSuppressed=function(){return this.gridOptionsWrapper.isSuppressCsvExport()},bi([I("columnModel")],n.prototype,"columnModel",void 0),bi([I("valueService")],n.prototype,"valueService",void 0),bi([I("gridSerializer")],n.prototype,"gridSerializer",void 0),bi([I("gridOptionsWrapper")],n.prototype,"gridOptionsWrapper",void 0),bi([Ee],n.prototype,"postConstruct",null),bi([me("csvCreator")],n)}(Ru),vm=function(){var p=function(n,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var c in u)u.hasOwnProperty(c)&&(o[c]=u[c])})(n,t)};return function(n,t){function o(){this.constructor=n}p(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),ri=function(p,n,t,o){var f,u=arguments.length,c=u<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(p,n,t,o);else for(var g=p.length-1;g>=0;g--)(f=p[g])&&(c=(u<3?f(c):u>3?f(n,t,c):f(n,t))||c);return u>3&&c&&Object.defineProperty(n,t,c),c},Eo=(()=>(function(p){p[p.HEADER_GROUPING=0]="HEADER_GROUPING",p[p.HEADER=1]="HEADER",p[p.BODY=2]="BODY"}(Eo||(Eo={})),Eo))(),xu=function(p){function n(){return null!==p&&p.apply(this,arguments)||this}return vm(n,p),n.prototype.serialize=function(t,o){void 0===o&&(o={});var u=this.getColumnsToExport(o.allColumns,o.columnKeys);return Ge.compose(this.prepareSession(u),this.prependContent(o),this.exportColumnGroups(o,u),this.exportHeaders(o,u),this.processPinnedTopRows(o,u),this.processRows(o,u),this.processPinnedBottomRows(o,u),this.appendContent(o))(t).parse()},n.prototype.processRow=function(t,o,u,c){var f=o.shouldRowBeSkipped||function(){return!1},g=this.gridOptionsWrapper,C=g.getContext(),O=g.getApi(),P=g.getColumnApi(),R=g.isGroupRemoveSingleChildren(),x=g.isGroupRemoveLowestSingleChildren(),W=null!=o.rowPositions,U=W||!!o.onlySelected,q=g.isGroupHideOpenParents()&&!U,te=this.columnModel.isPivotMode()?c.leafGroup:!c.group,Ce=1===c.allChildrenCount&&(R||x&&c.leafGroup);if((o.skipGroups||o.skipRowGroups)&&o.skipGroups&&Ge.doOnce(function(){return console.warn("AG Grid: Since v25.2 `skipGroups` has been renamed to `skipRowGroups`.")},"gridSerializer-skipGroups"),!(!te&&(o.skipRowGroups||Ce||q)||o.onlySelected&&!c.isSelected()||o.skipPinnedTop&&"top"===c.rowPinned||o.skipPinnedBottom&&"bottom"===c.rowPinned)&&(-1!==c.level||c.leafGroup||c.footer&&W)&&!f({node:c,api:O,columnApi:P,context:C})){var Be=t.onNewBodyRow();if(u.forEach(function(Ae,He){Be.onColumn(Ae,He,c)}),o.getCustomContentBelowRow){var Ve=o.getCustomContentBelowRow({node:c,api:O,columnApi:P,context:C});Ve&&t.addCustomContent(Ve)}}},n.prototype.appendContent=function(t){return function(o){var u=t.customFooter||t.appendContent;return u&&(t.customFooter&&Ge.doOnce(function(){return console.warn("AG Grid: Since version 25.2.0 the `customFooter` param has been deprecated. Use `appendContent` instead.")},"gridSerializer-customFooter"),o.addCustomContent(u)),o}},n.prototype.prependContent=function(t){return function(o){var u=t.customHeader||t.prependContent;return u&&(t.customHeader&&Ge.doOnce(function(){return console.warn("AG Grid: Since version 25.2.0 the `customHeader` param has been deprecated. Use `prependContent` instead.")},"gridSerializer-customHeader"),o.addCustomContent(u)),o}},n.prototype.prepareSession=function(t){return function(o){return o.prepare(t),o}},n.prototype.exportColumnGroups=function(t,o){var u=this;return function(c){if(t.skipColumnGroupHeaders)t.columnGroups&&Ge.doOnce(function(){return console.warn("AG Grid: Since v25.2 the `columnGroups` param has deprecated, and groups are exported by default.")},"gridSerializer-columnGroups");else{var f=new _s,g=u.displayedGroupCreator.createDisplayedGroups(o,u.columnModel.getGridBalancedTree(),f,null);u.recursivelyAddHeaderGroups(g,c,t.processGroupHeaderCallback)}return c}},n.prototype.exportHeaders=function(t,o){return function(u){if(t.skipHeader||t.skipColumnHeaders)t.skipHeader&&Ge.doOnce(function(){return console.warn("AG Grid: Since v25.2 the `skipHeader` param has been renamed to `skipColumnHeaders`.")},"gridSerializer-skipHeader");else{var c=u.onNewHeaderRow();o.forEach(function(f,g){c.onColumn(f,g,void 0)})}return u}},n.prototype.processPinnedTopRows=function(t,o){var u=this;return function(c){var f=u.processRow.bind(u,c,t,o);return t.rowPositions?t.rowPositions.filter(function(g){return"top"===g.rowPinned}).sort(function(g,C){return g.rowIndex-C.rowIndex}).map(function(g){return u.pinnedRowModel.getPinnedTopRow(g.rowIndex)}).forEach(f):u.pinnedRowModel.forEachPinnedTopRow(f),c}},n.prototype.processRows=function(t,o){var u=this;return function(c){var f=u.rowModel,g=f.getType(),C=g===ee.ROW_MODEL_TYPE_CLIENT_SIDE,O=g===ee.ROW_MODEL_TYPE_SERVER_SIDE,P=!C&&t.onlySelected,R=u.processRow.bind(u,c,t,o);return t.rowPositions?t.rowPositions.filter(function(W){return null==W.rowPinned}).sort(function(W,U){return W.rowIndex-U.rowIndex}).map(function(W){return f.getRow(W.rowIndex)}).forEach(R):u.columnModel.isPivotMode()?C?f.forEachPivotNode(R):f.forEachNode(R):t.onlySelectedAllPages||P?u.selectionService.getSelectedNodes().forEach(R):C||O?f.forEachNodeAfterFilterAndSort(R):f.forEachNode(R),c}},n.prototype.processPinnedBottomRows=function(t,o){var u=this;return function(c){var f=u.processRow.bind(u,c,t,o);return t.rowPositions?t.rowPositions.filter(function(g){return"bottom"===g.rowPinned}).sort(function(g,C){return g.rowIndex-C.rowIndex}).map(function(g){return u.pinnedRowModel.getPinnedBottomRow(g.rowIndex)}).forEach(f):u.pinnedRowModel.forEachPinnedBottomRow(f),c}},n.prototype.getColumnsToExport=function(t,o){void 0===t&&(t=!1);var u=this.columnModel.isPivotMode();return o&&o.length?this.columnModel.getGridColumns(o):t&&!u?(this.gridOptionsWrapper.isTreeData()?this.columnModel.getGridColumns([ee.GROUP_AUTO_COLUMN_ID]):[]).concat(this.columnModel.getAllPrimaryColumns()||[]):this.columnModel.getAllDisplayedColumns()},n.prototype.recursivelyAddHeaderGroups=function(t,o,u){var c=[];t.forEach(function(f){!f.getChildren||f.getChildren().forEach(function(C){return c.push(C)})}),t.length>0&&t[0]instanceof _t&&this.doAddHeaderHeader(o,t,u),c&&c.length>0&&this.recursivelyAddHeaderGroups(c,o,u)},n.prototype.doAddHeaderHeader=function(t,o,u){var c=this,f=t.onNewHeaderGroupingRow(),g=0;o.forEach(function(C){var P,O=C;P=u?u({columnGroup:O,api:c.gridOptionsWrapper.getApi(),columnApi:c.gridOptionsWrapper.getColumnApi(),context:c.gridOptionsWrapper.getContext()}):c.columnModel.getDisplayNameForColumnGroup(O,"header");var R=O.getLeafColumns().reduce(function(x,W,U,q){var te=Ge.last(x);return"open"===W.getColumnGroupShow()?(!te||null!=te[1])&&x.push(te=[U]):te&&null==te[1]&&(te[1]=U-1),U===q.length-1&&te&&null==te[1]&&(te[1]=U),x},[]);f.onColumn(P||"",g++,O.getLeafColumns().length-1,R)})},ri([I("displayedGroupCreator")],n.prototype,"displayedGroupCreator",void 0),ri([I("columnModel")],n.prototype,"columnModel",void 0),ri([I("rowModel")],n.prototype,"rowModel",void 0),ri([I("pinnedRowModel")],n.prototype,"pinnedRowModel",void 0),ri([I("selectionService")],n.prototype,"selectionService",void 0),ri([I("rowPositionUtils")],n.prototype,"rowPositionUtils",void 0),ri([me("gridSerializer")],n)}(Se),Iu={moduleName:Fe.CsvExportModule,beans:[Au,xu]},_m=function(){function p(){}return p.createHeader=function(n){void 0===n&&(n={});var u=["version"];return n.version||(n.version="1.0"),n.encoding&&u.push("encoding"),n.standalone&&u.push("standalone"),"<?xml "+u.map(function(f){return f+'="'+n[f]+'"'}).join(" ")+" ?>"},p.createXml=function(n,t){var o=this,u="";n.properties&&(n.properties.prefixedAttributes&&n.properties.prefixedAttributes.forEach(function(f){Object.keys(f.map).forEach(function(g){u+=o.returnAttributeIfPopulated(f.prefix+g,f.map[g],t)})}),n.properties.rawMap&&Object.keys(n.properties.rawMap).forEach(function(f){u+=o.returnAttributeIfPopulated(f,n.properties.rawMap[f],t)}));var c="<"+n.name+u;return n.children||null!=n.textNode?null!=n.textNode?c+">"+n.textNode+"</"+n.name+">\r\n":(c+=">\r\n",n.children&&n.children.forEach(function(f){c+=o.createXml(f,t)}),c+"</"+n.name+">\r\n"):c+"/>\r\n"},p.returnAttributeIfPopulated=function(n,t,o){if(!t&&""!==t&&0!==t)return"";var u=t;return"boolean"==typeof t&&o&&(u=o(t))," "+n+'="'+u+'"'},p}(),mm=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]),Cm=function(){function p(){}return p.addFolders=function(n){n.forEach(this.addFolder.bind(this))},p.addFolder=function(n){this.folders.push({path:n,created:new Date,isBase64:!1})},p.addFile=function(n,t,o){void 0===o&&(o=!1),this.files.push({path:n,created:new Date,content:t,isBase64:o})},p.getContent=function(n){void 0===n&&(n="application/zip");var t=this.buildFileStream(),o=this.buildUint8Array(t);return this.clearStream(),new Blob([o],{type:n})},p.clearStream=function(){this.folders=[],this.files=[]},p.buildFileStream=function(n){var t,o;void 0===n&&(n="");var u=this.folders.concat(this.files),c=u.length,f="",g=0,C=0;try{for(var O=function(p){var n="function"==typeof Symbol&&Symbol.iterator,t=n&&p[n],o=0;if(t)return t.call(p);if(p&&"number"==typeof p.length)return{next:function(){return p&&o>=p.length&&(p=void 0),{value:p&&p[o++],done:!p}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(u),P=O.next();!P.done;P=O.next()){var x=this.getHeader(P.value,g),W=x.fileHeader,U=x.folderHeader,q=x.content;g+=W.length+q.length,C+=U.length,n+=W+q,f+=U}}catch(se){t={error:se}}finally{try{P&&!P.done&&(o=O.return)&&o.call(O)}finally{if(t)throw t.error}}return n+f+this.buildFolderEnd(c,C,g)},p.getHeader=function(n,t){var o=n.content,u=n.path,c=n.created,f=n.isBase64,C=Ge.decToHex,O=(0,Ge.utf8_encode)(u),P=O!==u,R=this.convertTime(c),x=this.convertDate(c),W="";if(P){var U=C(1,1)+C(this.getFromCrc32Table(O),4)+O;W="up"+C(U.length,2)+U}var q=o?this.getConvertedContent(o,f):{size:0,content:""},te=q.size,se=q.content,ae="\n\0"+(P?"\0\b":"\0\0")+"\0\0"+C(R,2)+C(x,2)+C(te?this.getFromCrc32Table(se):0,4)+C(te,4)+C(te,4)+C(O.length,2)+C(W.length,2);return{fileHeader:"PK\x03\x04"+ae+O+W,folderHeader:"PK\x01\x02\x14\0"+ae+"\0\0\0\0\0\0"+(o?"\0\0\0\0":"\x10\0\0\0")+C(t,4)+O+W,content:se||""}},p.getConvertedContent=function(n,t){return void 0===t&&(t=!1),t&&(n=n.split(";base64,")[1]),{size:(n=t?atob(n):n).length,content:n}},p.buildFolderEnd=function(n,t,o){var u=Ge.decToHex;return"PK\x05\x06\0\0\0\0"+u(n,2)+u(n,2)+u(t,4)+u(o,4)+"\0\0"},p.buildUint8Array=function(n){for(var t=new Uint8Array(n.length),o=0;o<t.length;o++)t[o]=n.charCodeAt(o);return t},p.getFromCrc32Table=function(n){if(!n.length)return 0;for(var t=n.length,o=new Uint8Array(t),u=0;u<t;u++)o[u]=n.charCodeAt(u);var c=-1;for(u=0;u<t;u++)c=c>>>8^mm[255&(c^o[u])];return-1^c},p.convertTime=function(n){var t=n.getHours();return t<<=6,t|=n.getMinutes(),(t<<=5)|n.getSeconds()/2},p.convertDate=function(n){var t=n.getFullYear()-1980;return t<<=4,t|=n.getMonth()+1,(t<<=5)|n.getDate()},p.folders=[],p.files=[],p}(),Lu=[om,dm,Iu];Ne.registerModules(Lu)},9241:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{WNq:()=>LicenseManager});var ag_grid_community__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5898),__extends$3r=(l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)},function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),__decorate$1$=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},__read$Z=function(l,r){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var a,d,i=e.call(l),s=[];try{for(;(void 0===r||r-- >0)&&!(a=i.next()).done;)s.push(a.value)}catch(h){d={error:h}}finally{try{a&&!a.done&&(e=i.return)&&e.call(i)}finally{if(d)throw d.error}}return s},LicenseManager=function(l){function r(){var i=null!==l&&l.apply(this,arguments)||this;return i.watermarkMessage=void 0,i}var e;return __extends$3r(r,l),e=r,r.prototype.validateLicense=function(){if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missingOrEmpty(e.licenseKey))this.outputMissingLicenseKey();else if(e.licenseKey.length>32){var i=e.extractLicenseComponents(e.licenseKey),s=i.license,d=i.version,h=i.isTrial;i.md5===this.md5.md5(s)?ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(d)&&d?this.validateLicenseKeyForVersion(d,!!h,s):this.validateLegacyKey(s):this.outputInvalidLicenseKey()}else this.outputInvalidLicenseKey()},r.extractExpiry=function(i){var a=i.substring(i.lastIndexOf("_")+1,i.length);return new Date(parseInt(e.decode(a),10))},r.extractLicenseComponents=function(i){var a=i.replace(/[\u200B-\u200D\uFEFF]/g,""),s=(a=a.replace(/\r?\n|\r/g,"")).length-32,d=a.substring(s),h=a.substring(0,s),v=__read$Z(e.extractBracketedInformation(a),2);return{md5:d,license:h,version:v[0],isTrial:v[1]}},r.prototype.getLicenseDetails=function(i){var a=e.extractLicenseComponents(i),d=a.license,h=a.version,v=a.isTrial,_=a.md5===this.md5.md5(d),y=null;return _&&(y=e.extractExpiry(d),_=!isNaN(y.getTime())),{licenseKey:i,valid:_,expiry:_?e.formatDate(y):null,version:h||"legacy",isTrial:v}},r.prototype.isDisplayWatermark=function(){return!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missingOrEmpty(this.watermarkMessage)},r.prototype.getWatermarkMessage=function(){return this.watermarkMessage||""},r.formatDate=function(i){var s=i.getDate(),d=i.getMonth(),h=i.getFullYear();return s+" "+["January","February","March","April","May","June","July","August","September","October","November","December"][d]+" "+h},r.getGridReleaseDate=function(){return new Date(parseInt(e.decode(e.RELEASE_INFORMATION),10))},r.decode=function(i){for(var h,v,_,y,m,E,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",s="",w=0,S=i.replace(/[^A-Za-z0-9+/=]/g,"");w<S.length;)_=a.indexOf(S.charAt(w++)),h=(15&(y=a.indexOf(S.charAt(w++))))<<4|(m=a.indexOf(S.charAt(w++)))>>2,v=(3&m)<<6|(E=a.indexOf(S.charAt(w++))),s+=String.fromCharCode(_<<2|y>>4),64!=m&&(s+=String.fromCharCode(h)),64!=E&&(s+=String.fromCharCode(v));return e.utf8_decode(s)},r.utf8_decode=function(i){i=i.replace(/rn/g,"n");for(var a="",s=0;s<i.length;s++){var d=i.charCodeAt(s);d<128?a+=String.fromCharCode(d):d>127&&d<2048?(a+=String.fromCharCode(d>>6|192),a+=String.fromCharCode(63&d|128)):(a+=String.fromCharCode(d>>12|224),a+=String.fromCharCode(d>>6&63|128),a+=String.fromCharCode(63&d|128))}return a},r.setLicenseKey=function(i){e.licenseKey=i},r.extractBracketedInformation=function(i){var a=i.split("[").filter(function(h){return h.indexOf("]")>-1}).map(function(h){return h.split("]")[0]});if(!a||0===a.length)return[null,null];var s=1===a.filter(function(h){return"TRIAL"===h}).length;return[a.filter(function(h){return 0===h.indexOf("v")}).map(function(h){return h.replace(/^v/,"")})[0],s]},r.prototype.validateLicenseKeyForVersion=function(i,a,s){"2"===i&&(a?this.validateForTrial(s):this.validateLegacyKey(s))},r.prototype.validateLegacyKey=function(i){var a=e.getGridReleaseDate(),s=e.extractExpiry(i),d=!1,h=!1;if(isNaN(s.getTime())||(d=!0,h=a<s),d){if(!h){var v=e.formatDate(s),_=e.formatDate(a);this.outputIncompatibleVersion(v,_)}}else this.outputInvalidLicenseKey()},r.prototype.validateForTrial=function(i){var a=e.extractExpiry(i),s=new Date,d=!1,h=!1;if(isNaN(a.getTime())||(d=!0,h=a>s),d){if(!h){var v=e.formatDate(a);this.outputExpiredTrialKey(v)}}else this.outputInvalidLicenseKey()},r.prototype.outputInvalidLicenseKey=function(){console.error("*****************************************************************************************************************"),console.error("***************************************** AG Grid Enterprise License ********************************************"),console.error("********************************************* Invalid License ***************************************************"),console.error("* Your license for AG Grid Enterprise is not valid - please contact info@ag-grid.com to obtain a valid license. *"),console.error("*****************************************************************************************************************"),console.error("*****************************************************************************************************************"),this.watermarkMessage="Invalid License"},r.prototype.outputExpiredTrialKey=function(i){console.error("****************************************************************************************************************"),console.error("***************************************** AG Grid Enterprise License *******************************************"),console.error("*****************************************   Trial Period Expired.    *******************************************"),console.error("* Your license for AG Grid Enterprise expired on "+i+".                                                *"),console.error("* Please email info@ag-grid.com to purchase a license.                                                         *"),console.error("****************************************************************************************************************"),console.error("****************************************************************************************************************"),this.watermarkMessage="Trial Period Expired"},r.prototype.outputMissingLicenseKey=function(){console.error("****************************************************************************************************************"),console.error("***************************************** AG Grid Enterprise License *******************************************"),console.error("****************************************** License Key Not Found ***********************************************"),console.error("* All AG Grid Enterprise features are unlocked.                                                                *"),console.error("* This is an evaluation only version, it is not licensed for development projects intended for production.     *"),console.error("* If you want to hide the watermark, please email info@ag-grid.com for a trial license.                        *"),console.error("****************************************************************************************************************"),console.error("****************************************************************************************************************"),this.watermarkMessage="For Trial Use Only"},r.prototype.outputIncompatibleVersion=function(i,a){console.error("****************************************************************************************************************************"),console.error("****************************************************************************************************************************"),console.error("*                                             AG Grid Enterprise License                                                   *"),console.error("*                           License not compatible with installed version of AG Grid Enterprise.                           *"),console.error("*                                                                                                                          *"),console.error("* Your AG Grid License entitles you to all versions of AG Grid that we release within the time covered by your license     *"),console.error("* - typically we provide one year licenses which entitles you to all releases / updates of AG Grid within that year.       *"),console.error("* Your license has an end (expiry) date which stops the license key working with versions of AG Grid released after the    *"),console.error("* license end date. The license key that you have expires on "+i+", however the version of AG Grid you    *"),console.error("* are trying to use was released on "+a+".                                                               *"),console.error("*                                                                                                                          *"),console.error("* Please contact info@ag-grid.com to renew your subscription to new versions and get a new license key to work with this   *"),console.error("* version of AG Grid.                                                                                                      *"),console.error("****************************************************************************************************************************"),console.error("****************************************************************************************************************************"),this.watermarkMessage="License Expired"},r.RELEASE_INFORMATION="MTY2MTE0ODY3Nzc2Nw==",__decorate$1$([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("md5")],r.prototype,"md5",void 0),__decorate$1$([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.$j7],r.prototype,"validateLicense",null),e=__decorate$1$([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("licenseManager")],r)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$3q=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__decorate$1_=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},MD5=function(l){function r(){var e=null!==l&&l.apply(this,arguments)||this;return e.ieCompatibility=!1,e}return __extends$3q(r,l),r.prototype.init=function(){this.ieCompatibility="5d41402abc4b2a76b9719d911017c592"!=this.md5("hello")},r.prototype.md5cycle=function(e,i){var a=e[0],s=e[1],d=e[2],h=e[3];a=this.ff(a,s,d,h,i[0],7,-680876936),h=this.ff(h,a,s,d,i[1],12,-389564586),d=this.ff(d,h,a,s,i[2],17,606105819),s=this.ff(s,d,h,a,i[3],22,-1044525330),a=this.ff(a,s,d,h,i[4],7,-176418897),h=this.ff(h,a,s,d,i[5],12,1200080426),d=this.ff(d,h,a,s,i[6],17,-1473231341),s=this.ff(s,d,h,a,i[7],22,-45705983),a=this.ff(a,s,d,h,i[8],7,1770035416),h=this.ff(h,a,s,d,i[9],12,-1958414417),d=this.ff(d,h,a,s,i[10],17,-42063),s=this.ff(s,d,h,a,i[11],22,-1990404162),a=this.ff(a,s,d,h,i[12],7,1804603682),h=this.ff(h,a,s,d,i[13],12,-40341101),d=this.ff(d,h,a,s,i[14],17,-1502002290),s=this.ff(s,d,h,a,i[15],22,1236535329),a=this.gg(a,s,d,h,i[1],5,-165796510),h=this.gg(h,a,s,d,i[6],9,-1069501632),d=this.gg(d,h,a,s,i[11],14,643717713),s=this.gg(s,d,h,a,i[0],20,-373897302),a=this.gg(a,s,d,h,i[5],5,-701558691),h=this.gg(h,a,s,d,i[10],9,38016083),d=this.gg(d,h,a,s,i[15],14,-660478335),s=this.gg(s,d,h,a,i[4],20,-405537848),a=this.gg(a,s,d,h,i[9],5,568446438),h=this.gg(h,a,s,d,i[14],9,-1019803690),d=this.gg(d,h,a,s,i[3],14,-187363961),s=this.gg(s,d,h,a,i[8],20,1163531501),a=this.gg(a,s,d,h,i[13],5,-1444681467),h=this.gg(h,a,s,d,i[2],9,-51403784),d=this.gg(d,h,a,s,i[7],14,1735328473),s=this.gg(s,d,h,a,i[12],20,-1926607734),a=this.hh(a,s,d,h,i[5],4,-378558),h=this.hh(h,a,s,d,i[8],11,-2022574463),d=this.hh(d,h,a,s,i[11],16,1839030562),s=this.hh(s,d,h,a,i[14],23,-35309556),a=this.hh(a,s,d,h,i[1],4,-1530992060),h=this.hh(h,a,s,d,i[4],11,1272893353),d=this.hh(d,h,a,s,i[7],16,-155497632),s=this.hh(s,d,h,a,i[10],23,-1094730640),a=this.hh(a,s,d,h,i[13],4,681279174),h=this.hh(h,a,s,d,i[0],11,-358537222),d=this.hh(d,h,a,s,i[3],16,-722521979),s=this.hh(s,d,h,a,i[6],23,76029189),a=this.hh(a,s,d,h,i[9],4,-640364487),h=this.hh(h,a,s,d,i[12],11,-421815835),d=this.hh(d,h,a,s,i[15],16,530742520),s=this.hh(s,d,h,a,i[2],23,-995338651),a=this.ii(a,s,d,h,i[0],6,-198630844),h=this.ii(h,a,s,d,i[7],10,1126891415),d=this.ii(d,h,a,s,i[14],15,-1416354905),s=this.ii(s,d,h,a,i[5],21,-57434055),a=this.ii(a,s,d,h,i[12],6,1700485571),h=this.ii(h,a,s,d,i[3],10,-1894986606),d=this.ii(d,h,a,s,i[10],15,-1051523),s=this.ii(s,d,h,a,i[1],21,-2054922799),a=this.ii(a,s,d,h,i[8],6,1873313359),h=this.ii(h,a,s,d,i[15],10,-30611744),d=this.ii(d,h,a,s,i[6],15,-1560198380),s=this.ii(s,d,h,a,i[13],21,1309151649),a=this.ii(a,s,d,h,i[4],6,-145523070),h=this.ii(h,a,s,d,i[11],10,-1120210379),d=this.ii(d,h,a,s,i[2],15,718787259),s=this.ii(s,d,h,a,i[9],21,-343485551),e[0]=this.add32(a,e[0]),e[1]=this.add32(s,e[1]),e[2]=this.add32(d,e[2]),e[3]=this.add32(h,e[3])},r.prototype.cmn=function(e,i,a,s,d,h){return i=this.add32(this.add32(i,e),this.add32(s,h)),this.add32(i<<d|i>>>32-d,a)},r.prototype.ff=function(e,i,a,s,d,h,v){return this.cmn(i&a|~i&s,e,i,d,h,v)},r.prototype.gg=function(e,i,a,s,d,h,v){return this.cmn(i&s|a&~s,e,i,d,h,v)},r.prototype.hh=function(e,i,a,s,d,h,v){return this.cmn(i^a^s,e,i,d,h,v)},r.prototype.ii=function(e,i,a,s,d,h,v){return this.cmn(a^(i|~s),e,i,d,h,v)},r.prototype.md51=function(e){var s,i=e.length,a=[1732584193,-271733879,-1732584194,271733878];for(s=64;s<=e.length;s+=64)this.md5cycle(a,this.md5blk(e.substring(s-64,s)));e=e.substring(s-64);var d=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(s=0;s<e.length;s++)d[s>>2]|=e.charCodeAt(s)<<(s%4<<3);if(d[s>>2]|=128<<(s%4<<3),s>55)for(this.md5cycle(a,d),s=0;s<16;s++)d[s]=0;return d[14]=8*i,this.md5cycle(a,d),a},r.prototype.md5blk=function(e){for(var i=[],a=0;a<64;a+=4)i[a>>2]=e.charCodeAt(a)+(e.charCodeAt(a+1)<<8)+(e.charCodeAt(a+2)<<16)+(e.charCodeAt(a+3)<<24);return i},r.prototype.rhex=function(e){for(var i="0123456789abcdef".split(""),a="",s=0;s<4;s++)a+=i[e>>8*s+4&15]+i[e>>8*s&15];return a},r.prototype.hex=function(e){for(var i=0;i<e.length;i++)e[i]=this.rhex(e[i]);return e.join("")},r.prototype.md5=function(e){return this.hex(this.md51(e))},r.prototype.add32=function(e,i){return this.ieCompatibility?this.add32Compat(e,i):this.add32Std(e,i)},r.prototype.add32Std=function(e,i){return e+i&4294967295},r.prototype.add32Compat=function(e,i){var a=(65535&e)+(65535&i);return(e>>16)+(i>>16)+(a>>16)<<16|65535&a},__decorate$1_([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],r.prototype,"init",null),__decorate$1_([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("md5")],r)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$3p=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__decorate$1Z=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},WatermarkComp=function(l){function r(){return l.call(this,'<div class="ag-watermark">\n                    <div ref="eLicenseTextRef" class="ag-watermark-text"></div>\n               </div>')||this}return __extends$3p(r,l),r.prototype.postConstruct=function(){var e=this,i=this.shouldDisplayWatermark();this.addOrRemoveCssClass("ag-hidden",!i),i&&(this.eLicenseTextRef.innerText=this.licenseManager.getWatermarkMessage(),window.setTimeout(function(){return e.addCssClass("ag-opacity-zero")},0),window.setTimeout(function(){return e.addCssClass("ag-hidden")},5e3))},r.prototype.shouldDisplayWatermark=function(){var a=(this.gridOptionsWrapper.getDocument().defaultView||window).location,s=a.hostname,d=void 0===s?"":s,h=a.pathname,v=this.licenseManager.isDisplayWatermark(),_=null!=d.match("^(?:127.0.0.1|localhost|(?:w+.)?ag-grid.com)$");return!!h&&-1!==h.indexOf("forceWatermark")||v&&!_},__decorate$1Z([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("licenseManager")],r.prototype,"licenseManager",void 0),__decorate$1Z([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eLicenseTextRef")],r.prototype,"eLicenseTextRef",void 0),__decorate$1Z([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],r.prototype,"postConstruct",null),r}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),EnterpriseCoreModule={moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.EnterpriseCoreModule,beans:[LicenseManager,MD5],agStackComponents:[{componentName:"AgWatermark",componentClass:WatermarkComp}]},__extends$3o=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__decorate$1Y=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},ClipboardService=function(l){function r(){var e=null!==l&&l.apply(this,arguments)||this;return e.lastPasteOperationTime=0,e.navigatorApiFailed=!1,e}return __extends$3o(r,l),r.prototype.init=function(){var e=this;this.logger=this.loggerFactory.create("ClipboardService"),this.rowModel.getType()===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.gTE.ROW_MODEL_TYPE_CLIENT_SIDE&&(this.clientSideRowModel=this.rowModel),this.ctrlsService.whenReady(function(i){e.gridCtrl=i.gridCtrl})},r.prototype.pasteFromClipboard=function(){var e=this;this.logger.log("pasteFromClipboard"),!this.gridOptionsWrapper.isSuppressClipboardApi()&&!this.navigatorApiFailed&&navigator.clipboard&&navigator.clipboard.readText?navigator.clipboard.readText().then(this.processClipboardData.bind(this)).catch(function(a){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce(function(){console.warn(a),console.warn("AG Grid: Unable to use the Clipboard API (navigator.clipboard.readText()). The reason why it could not be used has been logged in the previous line. For this reason the grid has defaulted to using a workaround which doesn't perform as well. Either fix why Clipboard API is blocked, OR stop this message from appearing by setting grid property suppressClipboardApi=true (which will default the grid to using the workaround rather than the API")},"clipboardApiError"),e.navigatorApiFailed=!0,e.pasteFromClipboardLegacy()}):this.pasteFromClipboardLegacy()},r.prototype.pasteFromClipboardLegacy=function(){var e=this,i=!1,a=function(s){var d=(new Date).getTime();d-e.lastPasteOperationTime<50&&(i=!0,s.preventDefault()),e.lastPasteOperationTime=d};this.executeOnTempElement(function(s){s.addEventListener("paste",a),s.focus({preventScroll:!0})},function(s){var d=s.value;i?e.refocusLastFocusedCell():e.processClipboardData(d),s.removeEventListener("paste",a)})},r.prototype.refocusLastFocusedCell=function(){var e=this.focusService.getFocusedCell();e&&this.focusService.setFocusedCell({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0})},r.prototype.processClipboardData=function(e){var i=this;if(null!=e){var a=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.stringToArray(e,this.gridOptionsWrapper.getClipboardDelimiter()),s=this.gridOptionsWrapper.getProcessDataFromClipboardFunc();s&&(a=s({data:a})),null!=a&&(this.gridOptionsWrapper.isSuppressLastEmptyLineOnPaste()&&this.removeLastLineIfBlank(a),this.doPasteOperation(function(h,v,_,y){i.rangeService&&i.rangeService.isMoreThanOneCell()&&!i.hasOnlyOneValueToPaste(a)?i.pasteIntoActiveRange(a,h,v,y):i.pasteStartingFromFocusedCell(a,h,v,_,y)}))}},r.prototype.doPasteOperation=function(e){var d,i=this.gridOptionsWrapper.getApi(),a=this.gridOptionsWrapper.getColumnApi(),s="clipboard";if(this.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_PASTE_START,api:i,columnApi:a,source:s}),this.clientSideRowModel){var h=this.gridOptionsWrapper.isAggregateOnlyChangedColumns();d=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Dkq(h,this.clientSideRowModel.getRootNode())}var v={},_=[];e(v,_,this.focusService.getFocusedCell(),d),d&&this.clientSideRowModel.doAggregate(d),this.rowRenderer.refreshCells(),this.dispatchFlashCells(v),this.fireRowChanged(_),this.refocusLastFocusedCell(),this.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_PASTE_END,source:s})},r.prototype.pasteIntoActiveRange=function(e,i,a,s){var d=this,h=this.getRangeSize()%e.length!=0,v=0,_=0;this.iterateActiveRanges(!1,function(m,E,w,S){if(S-v>=e.length){if(h)return;v+=_,_=0}var T=e[S-v];a.push(E);var b=d.gridOptionsWrapper.getProcessCellFromClipboardFunc();w.forEach(function(M,A){if(M.isCellEditable(E)&&!M.isSuppressPaste(E)){A>=T.length&&(A%=T.length);var L=d.processCell(E,M,T[A],ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.gTE.EXPORT_TYPE_DRAG_COPY,b);E.setDataValue(M,L,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.gTE.SOURCE_PASTE),s&&s.addParentNode(E.parent,[M]);var N=d.cellPositionUtils.createIdFromValues(m.rowIndex,M,m.rowPinned);i[N]=!0}}),_++})},r.prototype.pasteStartingFromFocusedCell=function(e,i,a,s,d){if(s){var h={rowIndex:s.rowIndex,rowPinned:s.rowPinned},v=this.columnModel.getDisplayedColumnsStartingAt(s.column);this.isPasteSingleValueIntoRange(e)?this.pasteSingleValueIntoRange(e,a,i,d):this.pasteMultipleValues(e,h,a,v,i,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.gTE.EXPORT_TYPE_CLIPBOARD,d)}},r.prototype.isPasteSingleValueIntoRange=function(e){return this.hasOnlyOneValueToPaste(e)&&null!=this.rangeService&&!this.rangeService.isEmpty()},r.prototype.pasteSingleValueIntoRange=function(e,i,a,s){var d=this,h=e[0][0];this.iterateActiveRanges(!1,function(_,y,m){i.push(y),m.forEach(function(E){return d.updateCellValue(y,E,h,a,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.gTE.EXPORT_TYPE_CLIPBOARD,s)})})},r.prototype.hasOnlyOneValueToPaste=function(e){return 1===e.length&&1===e[0].length},r.prototype.copyRangeDown=function(){var e=this;if(this.rangeService&&!this.rangeService.isEmpty()){var i=[];this.doPasteOperation(function(s,d,h,v){var _=e.gridOptionsWrapper.getProcessCellForClipboardFunc(),y=e.gridOptionsWrapper.getProcessCellFromClipboardFunc();e.iterateActiveRanges(!0,function(E,w,S){i.length?(d.push(w),S.forEach(function(D,T){if(D.isCellEditable(w)&&!D.isSuppressPaste(w)){var b=e.processCell(w,D,i[T],ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.gTE.EXPORT_TYPE_DRAG_COPY,y);w.setDataValue(D,b,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.gTE.SOURCE_PASTE),v&&v.addParentNode(w.parent,[D]);var M=e.cellPositionUtils.createIdFromValues(E.rowIndex,D,E.rowPinned);s[M]=!0}})):S.forEach(function(D){var T=e.processCell(w,D,e.valueService.getValue(D,w),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.gTE.EXPORT_TYPE_DRAG_COPY,_);i.push(T)})})})}},r.prototype.removeLastLineIfBlank=function(e){var i=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(e);if(i&&1===i.length&&""===i[0]){if(1===e.length)return;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeFromArray(e,i)}},r.prototype.fireRowChanged=function(e){var i=this;!this.gridOptionsWrapper.isFullRowEdit()||e.forEach(function(a){i.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_ROW_VALUE_CHANGED,node:a,data:a.data,rowIndex:a.rowIndex,rowPinned:a.rowPinned})})},r.prototype.pasteMultipleValues=function(e,i,a,s,d,h,v){var _=this,y=i,m=null!=this.clientSideRowModel&&!this.gridOptionsWrapper.isTreeData();e.forEach(function(w){var S=function(){for(;;){if(!y)return null;var w=_.rowPositionUtils.getRowNode(y);if(y=_.cellNavigationService.getRowBelow({rowPinned:y.rowPinned,rowIndex:y.rowIndex}),null==w)return null;if(!(w.detail||w.footer||m&&w.group))return w}}();!S||(w.forEach(function(D,T){return _.updateCellValue(S,s[T],D,d,h,v)}),a.push(S))})},r.prototype.updateCellValue=function(e,i,a,s,d,h){if(e&&i&&i.isCellEditable(e)&&!i.isSuppressPaste(e)){var v=this.processCell(e,i,a,d,this.gridOptionsWrapper.getProcessCellFromClipboardFunc());e.setDataValue(i,v,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.gTE.SOURCE_PASTE),s[this.cellPositionUtils.createIdFromValues(e.rowIndex,i,e.rowPinned)]=!0,h&&h.addParentNode(e.parent,[i])}},r.prototype.copyToClipboard=function(e){void 0===e&&(e={});var i=e.includeHeaders,a=e.includeGroupHeaders;this.logger.log("copyToClipboard: includeHeaders = "+i),null==i&&(i=this.gridOptionsWrapper.isCopyHeadersToClipboard()),null==a&&(a=this.gridOptionsWrapper.isCopyGroupHeadersToClipboard());var s={includeHeaders:i,includeGroupHeaders:a},d=!this.gridOptionsWrapper.isSuppressCopyRowsToClipboard();!this.rangeService||this.rangeService.isEmpty()||this.shouldSkipSingleCellRange()?d&&!this.selectionService.isEmpty()?this.copySelectedRowsToClipboard(s):this.focusService.isAnyCellFocused()&&this.copyFocusedCellToClipboard(s):this.copySelectedRangeToClipboard(s)},r.prototype.shouldSkipSingleCellRange=function(){return this.gridOptionsWrapper.isSuppressCopySingleCellRanges()&&!this.rangeService.isMoreThanOneCell()},r.prototype.iterateActiveRanges=function(e,i,a){var s=this;if(this.rangeService&&!this.rangeService.isEmpty()){var d=this.rangeService.getCellRanges();e?this.iterateActiveRange(d[0],i,a,!0):d.forEach(function(h,v){return s.iterateActiveRange(h,i,a,v===d.length-1)})}},r.prototype.iterateActiveRange=function(e,i,a,s){if(this.rangeService){var d=this.rangeService.getRangeStartRow(e),h=this.rangeService.getRangeEndRow(e);a&&e.columns&&a(e.columns);for(var v=0,_=!1;!_&&null!=d;){var y=this.rowPositionUtils.getRowNode(d);_=this.rowPositionUtils.sameRow(d,h),i(d,y,e.columns,v++,_&&s),d=this.cellNavigationService.getRowBelow(d)}}},r.prototype.copySelectedRangeToClipboard=function(e){if(void 0===e&&(e={}),this.rangeService&&!this.rangeService.isEmpty()){var a=this.rangeService.areAllRangesAbleToMerge()?this.buildDataFromMergedRanges(e):this.buildDataFromRanges(e),d=a.cellsToFlash;this.copyDataToClipboard(a.data),this.dispatchFlashCells(d)}},r.prototype.buildDataFromMergedRanges=function(e){var i=this,a=new Set,s=this.rangeService.getCellRanges(),d=new Map,h=[],v={};s.forEach(function(E){E.columns.forEach(function(T){return a.add(T)});var w=i.getRangeRowPositionsAndCellsToFlash(E),D=w.cellsToFlash;w.rowPositions.forEach(function(T){var b=T.rowIndex+"-"+(T.rowPinned||"null");d.get(b)||(d.set(b,!0),h.push(T))}),Object.assign(v,D)});var _=this.columnModel.getAllDisplayedColumns(),y=Array.from(a);return y.sort(function(E,w){return _.indexOf(E)-_.indexOf(w)}),{data:this.buildExportParams({columns:y,rowPositions:h,includeHeaders:e.includeHeaders,includeGroupHeaders:e.includeGroupHeaders}),cellsToFlash:v}},r.prototype.buildDataFromRanges=function(e){var i=this,a=this.rangeService.getCellRanges(),s=[],d={};return a.forEach(function(h){var v=i.getRangeRowPositionsAndCellsToFlash(h),_=v.rowPositions;Object.assign(d,v.cellsToFlash),s.push(i.buildExportParams({columns:h.columns,rowPositions:_,includeHeaders:e.includeHeaders,includeGroupHeaders:e.includeGroupHeaders}))}),{data:s.join("\n"),cellsToFlash:d}},r.prototype.getRangeRowPositionsAndCellsToFlash=function(e){for(var i=this,a=[],s={},d=this.rangeService.getRangeStartRow(e),h=this.rangeService.getRangeEndRow(e),v=d;v&&(a.push(v),e.columns.forEach(function(_){var y=i.cellPositionUtils.createIdFromValues(v.rowIndex,_,v.rowPinned);s[y]=!0}),!this.rowPositionUtils.sameRow(v,h));)v=this.cellNavigationService.getRowBelow(v);return{rowPositions:a,cellsToFlash:s}},r.prototype.copyFocusedCellToClipboard=function(e){var i;void 0===e&&(e={});var a=this.focusService.getFocusedCell();if(null!=a){var s=this.cellPositionUtils.createId(a),v=this.buildExportParams({columns:[a.column],rowPositions:[{rowPinned:a.rowPinned,rowIndex:a.rowIndex}],includeHeaders:e.includeHeaders,includeGroupHeaders:e.includeGroupHeaders});this.copyDataToClipboard(v),this.dispatchFlashCells(((i={})[s]=!0,i))}},r.prototype.copySelectedRowsToClipboard=function(e){void 0===e&&(e={});var d=this.buildExportParams({columns:e.columnKeys,includeHeaders:e.includeHeaders,includeGroupHeaders:e.includeGroupHeaders});this.copyDataToClipboard(d)},r.prototype.buildExportParams=function(e){var a=e.rowPositions,s=e.includeHeaders,h=e.includeGroupHeaders,_={columnKeys:e.columns,rowPositions:a,skipColumnHeaders:!(void 0!==s&&s),skipColumnGroupHeaders:!(void 0!==h&&h),suppressQuotes:!0,columnSeparator:this.gridOptionsWrapper.getClipboardDelimiter(),onlySelected:!a,processCellCallback:this.gridOptionsWrapper.getProcessCellForClipboardFunc(),processRowGroupCallback:function(y){return y.node.key},processHeaderCallback:this.gridOptionsWrapper.getProcessHeaderForClipboardFunc(),processGroupHeaderCallback:this.gridOptionsWrapper.getProcessGroupHeaderForClipboardFunc()};return this.csvCreator.getDataAsCsv(_)},r.prototype.dispatchFlashCells=function(e){var i=this;window.setTimeout(function(){i.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_FLASH_CELLS,cells:e})},0)},r.prototype.processCell=function(e,i,a,s,d){return d?d({column:i,node:e,value:a,type:s}):a},r.prototype.copyDataToClipboard=function(e){var i=this,a=this.gridOptionsWrapper.getSendToClipboardFunc();a?a({data:e}):!this.gridOptionsWrapper.isSuppressClipboardApi()&&navigator.clipboard?navigator.clipboard.writeText(e).catch(function(d){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce(function(){console.warn(d),console.warn("AG Grid: Unable to use the Clipboard API (navigator.clipboard.writeText()). The reason why it could not be used has been logged in the previous line. For this reason the grid has defaulted to using a workaround which doesn't perform as well. Either fix why Clipboard API is blocked, OR stop this message from appearing by setting grid property suppressClipboardApi=true (which will default the grid to using the workaround rather than the API.")},"clipboardApiError"),i.copyDataToClipboardLegacy(e)}):this.copyDataToClipboardLegacy(e)},r.prototype.copyDataToClipboardLegacy=function(e){var i=this;this.executeOnTempElement(function(a){var s=i.gridOptionsWrapper.getDocument(),d=s.activeElement;a.value=e||" ",a.select(),a.focus({preventScroll:!0}),s.execCommand("copy")||console.warn("AG Grid: Browser did not allow document.execCommand('copy'). Ensure api.copySelectedRowsToClipboard() is invoked via a user event, i.e. button click, otherwise the browser will prevent it for security reasons."),null!=d&&null!=d.focus&&d.focus({preventScroll:!0})})},r.prototype.executeOnTempElement=function(e,i){var a=this.gridOptionsWrapper.getDocument(),s=a.createElement("textarea");s.style.width="1px",s.style.height="1px",s.style.top=a.documentElement.scrollTop+"px",s.style.left=a.documentElement.scrollLeft+"px",s.style.position="absolute",s.style.opacity="0";var d=this.gridCtrl.getGui();d.appendChild(s);try{e(s)}catch{console.warn("AG Grid: Browser does not support document.execCommand('copy') for clipboard operations")}i?window.setTimeout(function(){i(s),d.removeChild(s)},100):d.removeChild(s)},r.prototype.getRangeSize=function(){var e=this.rangeService.getCellRanges(),i=0,a=0;return e.length>0&&(i=this.rangeService.getRangeStartRow(e[0]).rowIndex,a=this.rangeService.getRangeEndRow(e[0]).rowIndex),i-a+1},__decorate$1Y([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("csvCreator")],r.prototype,"csvCreator",void 0),__decorate$1Y([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("loggerFactory")],r.prototype,"loggerFactory",void 0),__decorate$1Y([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("selectionService")],r.prototype,"selectionService",void 0),__decorate$1Y([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FiY)("rangeService")],r.prototype,"rangeService",void 0),__decorate$1Y([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowModel")],r.prototype,"rowModel",void 0),__decorate$1Y([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ctrlsService")],r.prototype,"ctrlsService",void 0),__decorate$1Y([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("valueService")],r.prototype,"valueService",void 0),__decorate$1Y([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("focusService")],r.prototype,"focusService",void 0),__decorate$1Y([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowRenderer")],r.prototype,"rowRenderer",void 0),__decorate$1Y([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],r.prototype,"columnModel",void 0),__decorate$1Y([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("cellNavigationService")],r.prototype,"cellNavigationService",void 0),__decorate$1Y([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("cellPositionUtils")],r.prototype,"cellPositionUtils",void 0),__decorate$1Y([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowPositionUtils")],r.prototype,"rowPositionUtils",void 0),__decorate$1Y([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],r.prototype,"init",null),__decorate$1Y([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("clipboardService")],r)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),ClipboardModule={moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.ClipboardModule,beans:[ClipboardService],dependantModules:[EnterpriseCoreModule,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jMC]},__extends$3n=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__decorate$1X=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},ExpandState=(()=>(function(l){l[l.EXPANDED=0]="EXPANDED",l[l.COLLAPSED=1]="COLLAPSED",l[l.INDETERMINATE=2]="INDETERMINATE"}(ExpandState||(ExpandState={})),ExpandState))(),PrimaryColsHeaderPanel=function(l){function r(){return l.call(this,r.TEMPLATE)||this}return __extends$3n(r,l),r.prototype.postConstruct=function(){var e=this;this.createExpandIcons(),this.addManagedListener(this.eExpand,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eExpand,"keydown",function(a){a.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.SPACE&&e.onExpandClicked()}),this.addManagedListener(this.eSelect.getInputElement(),"click",this.onSelectClicked.bind(this)),this.eFilterTextField.onValueChange(function(){return e.onFilterTextChanged()}),this.addManagedListener(this.eFilterTextField.getInputElement(),"keypress",this.onMiniFilterKeyPress.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_NEW_COLUMNS_LOADED,this.showOrHideOptions.bind(this));var i=this.gridOptionsWrapper.getLocaleTextFunc();this.eSelect.setInputAriaLabel(i("ariaColumnSelectAll","Toggle Select All Columns")),this.eFilterTextField.setInputAriaLabel(i("ariaFilterColumnsInput","Filter Columns Input"))},r.prototype.init=function(e){this.params=e,this.columnModel.isReady()&&this.showOrHideOptions()},r.prototype.createExpandIcons=function(){this.eExpand.appendChild(this.eExpandChecked=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("columnSelectOpen",this.gridOptionsWrapper)),this.eExpand.appendChild(this.eExpandUnchecked=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("columnSelectClosed",this.gridOptionsWrapper)),this.eExpand.appendChild(this.eExpandIndeterminate=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("columnSelectIndeterminate",this.gridOptionsWrapper)),this.setExpandState(ExpandState.EXPANDED)},r.prototype.showOrHideOptions=function(){var e=!this.params.suppressColumnFilter,i=!this.params.suppressColumnSelectAll,a=!this.params.suppressColumnExpandAll,s=this.columnModel.isPrimaryColumnGroupsPresent(),d=this.gridOptionsWrapper.getLocaleTextFunc();this.eFilterTextField.setInputPlaceholder(d("searchOoo","Search...")),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eFilterTextField.getGui(),e),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eSelect.getGui(),i),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eExpand,a&&s)},r.prototype.onFilterTextChanged=function(){var e=this;this.onFilterTextChangedDebounced||(this.onFilterTextChangedDebounced=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.debounce(function(){var i=e.eFilterTextField.getValue();e.dispatchEvent({type:"filterChanged",filterText:i})},r.DEBOUNCE_DELAY)),this.onFilterTextChangedDebounced()},r.prototype.onMiniFilterKeyPress=function(e){var i=this;e.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.ENTER&&setTimeout(function(){return i.onSelectClicked()},r.DEBOUNCE_DELAY)},r.prototype.onSelectClicked=function(){this.dispatchEvent({type:this.selectState?"unselectAll":"selectAll"})},r.prototype.onExpandClicked=function(){this.dispatchEvent({type:this.expandState===ExpandState.EXPANDED?"collapseAll":"expandAll"})},r.prototype.setExpandState=function(e){this.expandState=e,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eExpandChecked,this.expandState===ExpandState.EXPANDED),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eExpandUnchecked,this.expandState===ExpandState.COLLAPSED),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eExpandIndeterminate,this.expandState===ExpandState.INDETERMINATE)},r.prototype.setSelectionState=function(e){this.selectState=e,this.eSelect.setValue(this.selectState)},r.DEBOUNCE_DELAY=300,r.TEMPLATE='<div class="ag-column-select-header" role="presentation" tabindex="-1">\n            <div ref="eExpand" class="ag-column-select-header-icon" tabindex="0"></div>\n            <ag-checkbox ref="eSelect" class="ag-column-select-header-checkbox"></ag-checkbox>\n            <ag-input-text-field class="ag-column-select-header-filter-wrapper" ref="eFilterTextField"></ag-input-text-field>\n        </div>',__decorate$1X([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],r.prototype,"columnModel",void 0),__decorate$1X([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eExpand")],r.prototype,"eExpand",void 0),__decorate$1X([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eSelect")],r.prototype,"eSelect",void 0),__decorate$1X([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eFilterTextField")],r.prototype,"eFilterTextField",void 0),__decorate$1X([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],r.prototype,"postConstruct",null),r}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),ColumnModelItem=function(){function l(r,e,i,a,s){void 0===a&&(a=!1),this.eventService=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.POd,this.displayName=r,this.dept=i,this.group=a,a?(this.columnGroup=e,this.expanded=s,this.children=[]):this.column=e}return l.prototype.isGroup=function(){return this.group},l.prototype.getDisplayName=function(){return this.displayName},l.prototype.getColumnGroup=function(){return this.columnGroup},l.prototype.getColumn=function(){return this.column},l.prototype.getDept=function(){return this.dept},l.prototype.isExpanded=function(){return!!this.expanded},l.prototype.getChildren=function(){return this.children},l.prototype.isPassesFilter=function(){return this.passesFilter},l.prototype.setExpanded=function(r){r!==this.expanded&&(this.expanded=r,this.eventService.dispatchEvent({type:l.EVENT_EXPANDED_CHANGED}))},l.prototype.setPassesFilter=function(r){this.passesFilter=r},l.prototype.addEventListener=function(r,e){this.eventService.addEventListener(r,e)},l.prototype.removeEventListener=function(r,e){this.eventService.removeEventListener(r,e)},l.EVENT_EXPANDED_CHANGED="expandedChanged",l}(),__extends$3m=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__decorate$1W=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},__read$Y=function(l,r){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var a,d,i=e.call(l),s=[];try{for(;(void 0===r||r-- >0)&&!(a=i.next()).done;)s.push(a.value)}catch(h){d={error:h}}finally{try{a&&!a.done&&(e=i.return)&&e.call(i)}finally{if(d)throw d.error}}return s},__spread$w=function(){for(var l=[],r=0;r<arguments.length;r++)l=l.concat(__read$Y(arguments[r]));return l},__values$t=function(l){var r="function"==typeof Symbol&&Symbol.iterator,e=r&&l[r],i=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&i>=l.length&&(l=void 0),{value:l&&l[i++],done:!l}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},ToolPanelContextMenu=function(l){function r(e,i,a){var s=l.call(this,'<div class="ag-menu"></div>')||this;return s.column=e,s.mouseEvent=i,s.parentEl=a,s.displayName=null,s}return __extends$3m(r,l),r.prototype.postConstruct=function(){this.initializeProperties(this.column),this.buildMenuItemMap(),this.displayName=this.column instanceof ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sgG?this.columnModel.getDisplayNameForColumn(this.column,"columnToolPanel"):this.columnModel.getDisplayNameForProvidedColumnGroup(null,this.column,"columnToolPanel"),this.isActive()&&(this.mouseEvent.preventDefault(),this.displayContextMenu())},r.prototype.initializeProperties=function(e){this.columns=e instanceof ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KTm?e.getLeafColumns():[e],this.allowGrouping=this.columns.some(function(i){return i.isPrimary()&&i.isAllowRowGroup()}),this.allowValues=this.columns.some(function(i){return i.isPrimary()&&i.isAllowValue()}),this.allowPivoting=this.columnModel.isPivotMode()&&this.columns.some(function(i){return i.isPrimary()&&i.isAllowPivot()})},r.prototype.buildMenuItemMap=function(){var e=this,i=this.gridOptionsWrapper.getLocaleTextFunc();this.menuItemMap=new Map,this.menuItemMap.set("rowGroup",{allowedFunction:function(a){return a.isPrimary()&&a.isAllowRowGroup()},activeFunction:function(a){return a.isRowGroupActive()},activateLabel:function(){return i("groupBy","Group by")+" "+e.displayName},deactivateLabel:function(){return i("ungroupBy","Un-Group by")+" "+e.displayName},activateFunction:function(){var a=e.columnModel.getRowGroupColumns();e.columnModel.setRowGroupColumns(e.addColumnsToList(a),"toolPanelUi")},deActivateFunction:function(){var a=e.columnModel.getRowGroupColumns();e.columnModel.setRowGroupColumns(e.removeColumnsFromList(a),"toolPanelUi")},addIcon:"menuAddRowGroup",removeIcon:"menuRemoveRowGroup"}),this.menuItemMap.set("value",{allowedFunction:function(a){return a.isPrimary()&&a.isAllowValue()},activeFunction:function(a){return a.isValueActive()},activateLabel:function(){return i("addToValues","Add "+e.displayName+" to values",[e.displayName])},deactivateLabel:function(){return i("removeFromValues","Remove "+e.displayName+" from values",[e.displayName])},activateFunction:function(){var a=e.columnModel.getValueColumns();e.columnModel.setValueColumns(e.addColumnsToList(a),"toolPanelUi")},deActivateFunction:function(){var a=e.columnModel.getValueColumns();e.columnModel.setValueColumns(e.removeColumnsFromList(a),"toolPanelUi")},addIcon:"valuePanel",removeIcon:"valuePanel"}),this.menuItemMap.set("pivot",{allowedFunction:function(a){return e.columnModel.isPivotMode()&&a.isPrimary()&&a.isAllowPivot()},activeFunction:function(a){return a.isPivotActive()},activateLabel:function(){return i("addToLabels","Add "+e.displayName+" to labels",[e.displayName])},deactivateLabel:function(){return i("removeFromLabels","Remove "+e.displayName+" from labels",[e.displayName])},activateFunction:function(){var a=e.columnModel.getPivotColumns();e.columnModel.setPivotColumns(e.addColumnsToList(a),"toolPanelUi")},deActivateFunction:function(){var a=e.columnModel.getPivotColumns();e.columnModel.setPivotColumns(e.removeColumnsFromList(a),"toolPanelUi")},addIcon:"pivotPanel",removeIcon:"pivotPanel"})},r.prototype.addColumnsToList=function(e){return __spread$w(e).concat(this.columns.filter(function(i){return-1===e.indexOf(i)}))},r.prototype.removeColumnsFromList=function(e){var i=this;return e.filter(function(a){return-1===i.columns.indexOf(a)})},r.prototype.displayContextMenu=function(){var e=this,i=this.getGui(),a=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O_3),s=this.getMappedMenuItems(),d=this.gridOptionsWrapper.getLocaleTextFunc(),h=function(){};i.appendChild(a.getGui()),a.addMenuItems(s),a.addManagedListener(a,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sJC.EVENT_MENU_ITEM_SELECTED,function(){e.parentEl.focus(),h()});var v=this.popupService.addPopup({modal:!0,eChild:i,closeOnEsc:!0,afterGuiAttached:function(){return e.focusService.focusInto(a.getGui())},ariaLabel:d("ariaLabelContextMenu","Context Menu"),closedCallback:function(_){_ instanceof KeyboardEvent&&e.parentEl.focus(),e.destroyBean(a)}});v&&(h=v.hideFunc),this.popupService.positionPopupUnderMouseEvent({type:"columnContextMenu",mouseEvent:this.mouseEvent,ePopup:i})},r.prototype.isActive=function(){return this.allowGrouping||this.allowValues||this.allowPivoting},r.prototype.getMappedMenuItems=function(){var e,i,a=[],s=function(y){var m=d.columns.some(function(w){return y.allowedFunction(w)&&!y.activeFunction(w)}),E=d.columns.some(function(w){return y.allowedFunction(w)&&y.activeFunction(w)});m&&a.push({name:y.activateLabel(d.displayName),icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan(y.addIcon,d.gridOptionsWrapper,null),action:function(){return y.activateFunction()}}),E&&a.push({name:y.deactivateLabel(d.displayName),icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan(y.removeIcon,d.gridOptionsWrapper,null),action:function(){return y.deActivateFunction()}})},d=this;try{for(var h=__values$t(this.menuItemMap.values()),v=h.next();!v.done;v=h.next())s(v.value)}catch(y){e={error:y}}finally{try{v&&!v.done&&(i=h.return)&&i.call(h)}finally{if(e)throw e.error}}return a},__decorate$1W([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],r.prototype,"columnModel",void 0),__decorate$1W([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("popupService")],r.prototype,"popupService",void 0),__decorate$1W([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("focusService")],r.prototype,"focusService",void 0),__decorate$1W([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],r.prototype,"postConstruct",null),r}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$3l=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__decorate$1V=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},ToolPanelColumnGroupComp=function(l){function r(e,i,a,s){var d=l.call(this)||this;return d.modelItem=e,d.allowDragging=i,d.eventType=a,d.focusWrapper=s,d.processingColumnStateChange=!1,d.modelItem=e,d.columnGroup=e.getColumnGroup(),d.columnDept=e.getDept(),d.allowDragging=i,d}return __extends$3l(r,l),r.prototype.init=function(){var e=this;this.setTemplate(r.TEMPLATE),this.eDragHandle=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("columnDrag",this.gridOptionsWrapper),this.eDragHandle.classList.add("ag-drag-handle","ag-column-select-column-group-drag-handle");var i=this.cbSelect.getGui(),a=this.cbSelect.getInputElement();i.insertAdjacentElement("afterend",this.eDragHandle),a.setAttribute("tabindex","-1"),this.displayName=this.columnModel.getDisplayNameForProvidedColumnGroup(null,this.columnGroup,this.eventType),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missing(this.displayName)&&(this.displayName=">>"),this.eLabel.innerHTML=this.displayName?this.displayName:"",this.setupExpandContract(),this.addCssClass("ag-column-select-indent-"+this.columnDept),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.eLabel,"click",this.onLabelClicked.bind(this)),this.addManagedListener(this.cbSelect,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jkc.EVENT_CHANGED,this.onCheckboxChanged.bind(this)),this.addManagedListener(this.modelItem,ColumnModelItem.EVENT_EXPANDED_CHANGED,this.onExpandChanged.bind(this)),this.addManagedListener(this.focusWrapper,"keydown",this.handleKeyDown.bind(this)),this.addManagedListener(this.focusWrapper,"contextmenu",this.onContextMenu.bind(this)),this.setOpenClosedIcons(),this.setupDragging(),this.onColumnStateChanged(),this.addVisibilityListenersToAllChildren(),this.refreshAriaExpanded(),this.refreshAriaLabel(),this.setupTooltip(),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fQL.getToolPanelClassesFromColDef(this.columnGroup.getColGroupDef(),this.gridOptionsWrapper,null,this.columnGroup).forEach(function(d){return e.addOrRemoveCssClass(d,!0)})},r.prototype.getColumns=function(){return this.columnGroup.getLeafColumns()},r.prototype.setupTooltip=function(){var e=this,i=this.columnGroup.getColGroupDef();if(i){var a=function(){e.setTooltip(i.headerTooltip)};a(),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_NEW_COLUMNS_LOADED,a)}},r.prototype.getTooltipParams=function(){var e=l.prototype.getTooltipParams.call(this);return e.location="columnToolPanelColumnGroup",e},r.prototype.handleKeyDown=function(e){switch(e.key){case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.LEFT:e.preventDefault(),this.modelItem.setExpanded(!1);break;case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.RIGHT:e.preventDefault(),this.modelItem.setExpanded(!0);break;case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.SPACE:e.preventDefault(),this.isSelectable()&&this.onSelectAllChanged(!this.isSelected())}},r.prototype.onContextMenu=function(e){var i=this,s=this.columnGroup;if(!this.gridOptionsWrapper.isFunctionsReadOnly()){var h=this.createBean(new ToolPanelContextMenu(s,e,this.focusWrapper));this.addDestroyFunc(function(){h.isAlive()&&i.destroyBean(h)})}},r.prototype.addVisibilityListenersToAllChildren=function(){var e=this;this.columnGroup.getLeafColumns().forEach(function(i){e.addManagedListener(i,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sgG.EVENT_VISIBLE_CHANGED,e.onColumnStateChanged.bind(e)),e.addManagedListener(i,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sgG.EVENT_VALUE_CHANGED,e.onColumnStateChanged.bind(e)),e.addManagedListener(i,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sgG.EVENT_PIVOT_CHANGED,e.onColumnStateChanged.bind(e)),e.addManagedListener(i,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sgG.EVENT_ROW_GROUP_CHANGED,e.onColumnStateChanged.bind(e))})},r.prototype.setupDragging=function(){var e=this;if(this.allowDragging){var i=!this.gridOptionsWrapper.isSuppressDragLeaveHidesColumns(),a={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.rvo.ToolPanel,eElement:this.eDragHandle,dragItemName:this.displayName,defaultIconName:i?ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jUB.ICON_HIDE:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jUB.ICON_NOT_ALLOWED,getDragItem:function(){return e.createDragItem()},onDragStarted:function(){e.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PANEL_ITEM_DRAG_START,column:e.columnGroup})},onDragStopped:function(){e.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PANEL_ITEM_DRAG_END})},onGridEnter:function(){i&&e.onChangeCommon(!0)},onGridExit:function(){i&&e.onChangeCommon(!1)}};this.dragAndDropService.addDragSource(a,!0),this.addDestroyFunc(function(){return e.dragAndDropService.removeDragSource(a)})}else ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eDragHandle,!1)},r.prototype.createDragItem=function(){var e={};return this.columnGroup.getLeafColumns().forEach(function(i){e[i.getId()]=i.isVisible()}),{columns:this.columnGroup.getLeafColumns(),visibleState:e}},r.prototype.setupExpandContract=function(){this.eGroupClosedIcon.appendChild(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIcon("columnSelectClosed",this.gridOptionsWrapper,null)),this.eGroupOpenedIcon.appendChild(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIcon("columnSelectOpen",this.gridOptionsWrapper,null)),this.addManagedListener(this.eGroupClosedIcon,"click",this.onExpandOrContractClicked.bind(this)),this.addManagedListener(this.eGroupOpenedIcon,"click",this.onExpandOrContractClicked.bind(this));var e=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.rwP(this.eColumnGroupIcons,!0);this.addManagedListener(e,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.rwP.EVENT_TAP,this.onExpandOrContractClicked.bind(this)),this.addDestroyFunc(e.destroy.bind(e))},r.prototype.onLabelClicked=function(){var e=!this.cbSelect.getValue();this.onChangeCommon(e)},r.prototype.onCheckboxChanged=function(e){this.onChangeCommon(e.selected)},r.prototype.getVisibleLeafColumns=function(){var e=[],i=function(a){a.forEach(function(s){!s.isPassesFilter()||(s.isGroup()?i(s.getChildren()):e.push(s.getColumn()))})};return i(this.modelItem.getChildren()),e},r.prototype.onChangeCommon=function(e){this.refreshAriaLabel(),!this.processingColumnStateChange&&this.modelItemUtils.selectAllChildren(this.modelItem.getChildren(),e,this.eventType)},r.prototype.refreshAriaLabel=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc(),i=e("ariaColumnGroup","Column Group"),a=this.cbSelect.getValue()?e("ariaVisible","visible"):e("ariaHidden","hidden"),s=e("ariaToggleVisibility","Press SPACE to toggle visibility");ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaLabel(this.focusWrapper,this.displayName+" "+i),this.cbSelect.setInputAriaLabel(s+" ("+a+")"),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaDescribedBy(this.focusWrapper,this.cbSelect.getInputElement().id)},r.prototype.onColumnStateChanged=function(){var e=this.workOutSelectedValue(),i=this.workOutReadOnlyValue();this.processingColumnStateChange=!0,this.cbSelect.setValue(e),this.cbSelect.setReadOnly(i),this.addOrRemoveCssClass("ag-column-select-column-group-readonly",i),this.processingColumnStateChange=!1},r.prototype.workOutSelectedValue=function(){var e=this,i=this.columnModel.isPivotMode(),a=this.getVisibleLeafColumns(),s=0,d=0;if(a.forEach(function(h){!i&&h.getColDef().lockVisible||(e.isColumnChecked(h,i)?s++:d++)}),!(s>0&&d>0))return s>0},r.prototype.workOutReadOnlyValue=function(){var e=this.columnModel.isPivotMode(),i=0;return this.columnGroup.getLeafColumns().forEach(function(a){e?a.isAnyFunctionAllowed()&&i++:a.getColDef().lockVisible||i++}),0===i},r.prototype.isColumnChecked=function(e,i){if(i){var a=e.isPivotActive(),s=e.isRowGroupActive(),d=e.isValueActive();return a||s||d}return e.isVisible()},r.prototype.onExpandOrContractClicked=function(){var e=this.modelItem.isExpanded();this.modelItem.setExpanded(!e)},r.prototype.onExpandChanged=function(){this.setOpenClosedIcons(),this.refreshAriaExpanded()},r.prototype.setOpenClosedIcons=function(){var e=this.modelItem.isExpanded();ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eGroupClosedIcon,!e),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eGroupOpenedIcon,e)},r.prototype.refreshAriaExpanded=function(){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaExpanded(this.focusWrapper,this.modelItem.isExpanded())},r.prototype.getDisplayName=function(){return this.displayName},r.prototype.onSelectAllChanged=function(e){var i=this.cbSelect.getValue();!this.cbSelect.isReadOnly()&&(e&&!i||!e&&i)&&this.cbSelect.toggle()},r.prototype.isSelected=function(){return this.cbSelect.getValue()},r.prototype.isSelectable=function(){return!this.cbSelect.isReadOnly()},r.prototype.setSelected=function(e){this.cbSelect.setValue(e,!0)},r.TEMPLATE='<div class="ag-column-select-column-group" aria-hidden="true">\n            <span class="ag-column-group-icons" ref="eColumnGroupIcons" >\n                <span class="ag-column-group-closed-icon" ref="eGroupClosedIcon"></span>\n                <span class="ag-column-group-opened-icon" ref="eGroupOpenedIcon"></span>\n            </span>\n            <ag-checkbox ref="cbSelect" class="ag-column-select-checkbox"></ag-checkbox>\n            <span class="ag-column-select-column-label" ref="eLabel"></span>\n        </div>',__decorate$1V([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],r.prototype,"columnModel",void 0),__decorate$1V([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("dragAndDropService")],r.prototype,"dragAndDropService",void 0),__decorate$1V([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("modelItemUtils")],r.prototype,"modelItemUtils",void 0),__decorate$1V([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("cbSelect")],r.prototype,"cbSelect",void 0),__decorate$1V([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eLabel")],r.prototype,"eLabel",void 0),__decorate$1V([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eGroupOpenedIcon")],r.prototype,"eGroupOpenedIcon",void 0),__decorate$1V([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eGroupClosedIcon")],r.prototype,"eGroupClosedIcon",void 0),__decorate$1V([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eColumnGroupIcons")],r.prototype,"eColumnGroupIcons",void 0),__decorate$1V([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],r.prototype,"init",null),r}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$3k=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__decorate$1U=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},PRIMARY_COLS_LIST_ITEM_HOVERED="ag-list-item-hovered",PrimaryColsListPanelItemDragFeature=function(l){function r(e,i){var a=l.call(this)||this;return a.comp=e,a.virtualList=i,a.currentDragColumn=null,a.lastHoveredColumnItem=null,a}return __extends$3k(r,l),r.prototype.postConstruct=function(){this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PANEL_ITEM_DRAG_START,this.columnPanelItemDragStart.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PANEL_ITEM_DRAG_END,this.columnPanelItemDragEnd.bind(this)),this.createDropTarget(),this.createAutoScrollService()},r.prototype.columnPanelItemDragStart=function(e){this.currentDragColumn=e.column,this.getCurrentColumns().find(function(d){var h=d.getColDef();return!!h.suppressMovable||!!h.lockPosition})&&(this.moveBlocked=!0)},r.prototype.columnPanelItemDragEnd=function(){var e=this;window.setTimeout(function(){e.currentDragColumn=null,e.moveBlocked=!1},10)},r.prototype.createDropTarget=function(){var e=this;this.dragAndDropService.addDropTarget({isInterestedIn:function(a){return a===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.rvo.ToolPanel},getIconName:function(){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jUB[e.moveBlocked?"ICON_NOT_ALLOWED":"ICON_MOVE"]},getContainer:function(){return e.comp.getGui()},onDragging:function(a){return e.onDragging(a)},onDragStop:function(){return e.onDragStop()},onDragLeave:function(){return e.onDragLeave()}})},r.prototype.createAutoScrollService=function(){var e=this.virtualList.getGui();this.autoScrollService=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Cvn({scrollContainer:e,scrollAxis:"y",getVerticalPosition:function(){return e.scrollTop},setVerticalPosition:function(i){return e.scrollTop=i}})},r.prototype.onDragging=function(e){if(this.currentDragColumn&&!this.moveBlocked){var i=this.getDragColumnItem(e),a=this.virtualList.getComponentAt(i.rowIndex);if(a){var s=a.getGui().parentElement;this.lastHoveredColumnItem&&this.lastHoveredColumnItem.rowIndex===i.rowIndex&&this.lastHoveredColumnItem.position===i.position||(this.autoScrollService.check(e.event),this.clearHoveredItems(),this.lastHoveredColumnItem=i,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.radioCssClass(s,""+PRIMARY_COLS_LIST_ITEM_HOVERED),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.radioCssClass(s,"ag-item-highlight-"+i.position))}}},r.prototype.getDragColumnItem=function(e){var i=this.virtualList.getGui(),a=parseFloat(window.getComputedStyle(i).paddingTop),s=this.virtualList.getRowHeight(),d=this.virtualList.getScrollTop(),h=Math.max(0,(e.y-a+d)/s),v=this.comp.getDisplayedColsList().length-1,_=0|Math.min(v,h);return{rowIndex:_,position:Math.round(h)>h||h>v?"bottom":"top",component:this.virtualList.getComponentAt(_)}},r.prototype.onDragStop=function(){if(!this.moveBlocked){var e=this.getTargetIndex(),i=this.getCurrentColumns();null!=e&&this.columnModel.moveColumns(i,e),this.clearHoveredItems(),this.autoScrollService.ensureCleared()}},r.prototype.getMoveDiff=function(e){var i=this.columnModel.getAllGridColumns(),a=this.getCurrentColumns(),d=a.length;return i.indexOf(a[0])<e?d:0},r.prototype.getCurrentColumns=function(){return this.currentDragColumn instanceof ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KTm?this.currentDragColumn.getLeafColumns():[this.currentDragColumn]},r.prototype.getTargetIndex=function(){if(!this.lastHoveredColumnItem)return null;var a,e=this.lastHoveredColumnItem.component,i="top"===this.lastHoveredColumnItem.position;e instanceof ToolPanelColumnGroupComp?(a=e.getColumns()[0],i=!0):a=e.getColumn();var d=this.columnModel.getAllGridColumns().indexOf(a),h=i?d:d+1;return h-this.getMoveDiff(h)},r.prototype.onDragLeave=function(){this.clearHoveredItems(),this.autoScrollService.ensureCleared()},r.prototype.clearHoveredItems=function(){this.virtualList.getGui().querySelectorAll("."+PRIMARY_COLS_LIST_ITEM_HOVERED).forEach(function(i){[PRIMARY_COLS_LIST_ITEM_HOVERED,"ag-item-highlight-top","ag-item-highlight-bottom"].forEach(function(a){i.classList.remove(a)})}),this.lastHoveredColumnItem=null},__decorate$1U([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],r.prototype,"columnModel",void 0),__decorate$1U([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("dragAndDropService")],r.prototype,"dragAndDropService",void 0),__decorate$1U([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],r.prototype,"postConstruct",null),r}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$3j=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__decorate$1T=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},ToolPanelColumnComp=function(l){function r(e,i,a,s,d){var h=l.call(this)||this;return h.column=e,h.columnDept=i,h.allowDragging=a,h.groupsExist=s,h.focusWrapper=d,h.processingColumnStateChange=!1,h}return __extends$3j(r,l),r.prototype.init=function(){var e=this;this.setTemplate(r.TEMPLATE),this.eDragHandle=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("columnDrag",this.gridOptionsWrapper),this.eDragHandle.classList.add("ag-drag-handle","ag-column-select-column-drag-handle");var i=this.cbSelect.getGui(),a=this.cbSelect.getInputElement();i.insertAdjacentElement("afterend",this.eDragHandle),a.setAttribute("tabindex","-1"),this.displayName=this.columnModel.getDisplayNameForColumn(this.column,"columnToolPanel");var s=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.escapeString(this.displayName);this.eLabel.innerHTML=s;var d=this.columnDept;this.groupsExist&&this.addCssClass("ag-column-select-add-group-indent"),this.addCssClass("ag-column-select-indent-"+d),this.setupDragging(),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.column,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sgG.EVENT_VALUE_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.column,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sgG.EVENT_PIVOT_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.column,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sgG.EVENT_ROW_GROUP_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.column,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sgG.EVENT_VISIBLE_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.focusWrapper,"keydown",this.handleKeyDown.bind(this)),this.addManagedListener(this.focusWrapper,"contextmenu",this.onContextMenu.bind(this)),this.addManagedListener(this.gridOptionsWrapper,"functionsReadOnly",this.onColumnStateChanged.bind(this)),this.addManagedListener(this.cbSelect,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jkc.EVENT_CHANGED,this.onCheckboxChanged.bind(this)),this.addManagedListener(this.eLabel,"click",this.onLabelClicked.bind(this)),this.onColumnStateChanged(),this.refreshAriaLabel(),this.setupTooltip(),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fQL.getToolPanelClassesFromColDef(this.column.getColDef(),this.gridOptionsWrapper,this.column,null).forEach(function(v){return e.addOrRemoveCssClass(v,!0)})},r.prototype.getColumn=function(){return this.column},r.prototype.setupTooltip=function(){var e=this,i=function(){var a=e.column.getColDef().headerTooltip;e.setTooltip(a)};i(),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_NEW_COLUMNS_LOADED,i)},r.prototype.getTooltipParams=function(){var e=l.prototype.getTooltipParams.call(this);return e.location="columnToolPanelColumn",e.colDef=this.column.getColDef(),e},r.prototype.onContextMenu=function(e){var i=this,s=this.column;if(!this.gridOptionsWrapper.isFunctionsReadOnly()){var h=this.createBean(new ToolPanelContextMenu(s,e,this.focusWrapper));this.addDestroyFunc(function(){h.isAlive()&&i.destroyBean(h)})}},r.prototype.handleKeyDown=function(e){e.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.SPACE&&(e.preventDefault(),this.isSelectable()&&this.onSelectAllChanged(!this.isSelected()))},r.prototype.onLabelClicked=function(){if(!this.gridOptionsWrapper.isFunctionsReadOnly()){var e=!this.cbSelect.getValue();this.onChangeCommon(e)}},r.prototype.onCheckboxChanged=function(e){this.onChangeCommon(e.selected)},r.prototype.onChangeCommon=function(e){this.cbSelect.isReadOnly()||(this.refreshAriaLabel(),!this.processingColumnStateChange&&this.modelItemUtils.setColumn(this.column,e,"toolPanelUi"))},r.prototype.refreshAriaLabel=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc(),i=e("ariaColumn","Column"),a=this.cbSelect.getValue()?e("ariaVisible","visible"):e("ariaHidden","hidden"),s=e("ariaToggleVisibility","Press SPACE to toggle visibility");ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaLabel(this.focusWrapper,this.displayName+" "+i),this.cbSelect.setInputAriaLabel(s+" ("+a+")"),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaDescribedBy(this.focusWrapper,this.cbSelect.getInputElement().id)},r.prototype.setupDragging=function(){var e=this;if(this.allowDragging){var i=!this.gridOptionsWrapper.isSuppressDragLeaveHidesColumns(),a={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.rvo.ToolPanel,eElement:this.eDragHandle,dragItemName:this.displayName,defaultIconName:i?ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jUB.ICON_HIDE:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jUB.ICON_NOT_ALLOWED,getDragItem:function(){return e.createDragItem()},onDragStarted:function(){e.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PANEL_ITEM_DRAG_START,column:e.column})},onDragStopped:function(){e.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PANEL_ITEM_DRAG_END})},onGridEnter:function(){i&&e.onChangeCommon(!0)},onGridExit:function(){i&&e.onChangeCommon(!1)}};this.dragAndDropService.addDragSource(a,!0),this.addDestroyFunc(function(){return e.dragAndDropService.removeDragSource(a)})}else ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eDragHandle,!1)},r.prototype.createDragItem=function(){var e={};return e[this.column.getId()]=this.column.isVisible(),{columns:[this.column],visibleState:e}},r.prototype.onColumnStateChanged=function(){this.processingColumnStateChange=!0;var e=this.columnModel.isPivotMode();if(e){var i=this.column.isAnyFunctionActive();this.cbSelect.setValue(i)}else this.cbSelect.setValue(this.column.isVisible());var a=!0,s=!0;if(e){var d=this.gridOptionsWrapper.isFunctionsReadOnly(),h=!this.column.isAnyFunctionAllowed();s=a=!d&&!h}else{var v=this.column.getColDef();a=!v.lockVisible,s=!!v.enableRowGroup||!!v.enableValue||!(v.lockPosition||v.suppressMovable)}this.cbSelect.setReadOnly(!a),this.eDragHandle.classList.toggle("ag-column-select-column-readonly",!s),this.addOrRemoveCssClass("ag-column-select-column-readonly",!s&&!a);var T=e&&this.gridOptionsWrapper.isFunctionsPassive();this.cbSelect.setPassive(T),this.processingColumnStateChange=!1},r.prototype.getDisplayName=function(){return this.displayName},r.prototype.onSelectAllChanged=function(e){e!==this.cbSelect.getValue()&&(this.cbSelect.isReadOnly()||this.cbSelect.toggle())},r.prototype.isSelected=function(){return this.cbSelect.getValue()},r.prototype.isSelectable=function(){return!this.cbSelect.isReadOnly()},r.prototype.isExpandable=function(){return!1},r.prototype.setExpanded=function(e){console.warn("AG Grid: can not expand a column item that does not represent a column group header")},r.TEMPLATE='<div class="ag-column-select-column" aria-hidden="true">\n            <ag-checkbox ref="cbSelect" class="ag-column-select-checkbox"></ag-checkbox>\n            <span class="ag-column-select-column-label" ref="eLabel"></span>\n        </div>',__decorate$1T([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],r.prototype,"columnModel",void 0),__decorate$1T([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("dragAndDropService")],r.prototype,"dragAndDropService",void 0),__decorate$1T([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("modelItemUtils")],r.prototype,"modelItemUtils",void 0),__decorate$1T([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eLabel")],r.prototype,"eLabel",void 0),__decorate$1T([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("cbSelect")],r.prototype,"cbSelect",void 0),__decorate$1T([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],r.prototype,"init",null),r}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$3i=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__decorate$1S=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},UIColumnModel=function(){function l(r){this.items=r}return l.prototype.getRowCount=function(){return this.items.length},l.prototype.getRow=function(r){return this.items[r]},l}(),PRIMARY_COLS_LIST_PANEL_CLASS="ag-column-select-list",PrimaryColsListPanel=function(l){function r(){var e=l.call(this,r.TEMPLATE)||this;return e.destroyColumnItemFuncs=[],e}return __extends$3i(r,l),r.prototype.destroyColumnTree=function(){this.allColsTree=[],this.destroyColumnItemFuncs.forEach(function(e){return e()}),this.destroyColumnItemFuncs=[]},r.prototype.init=function(e,i,a){var s=this;this.params=e,this.allowDragging=i,this.eventType=a,this.params.suppressSyncLayoutWithGrid||this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_MOVED,this.onColumnsChanged.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_NEW_COLUMNS_LOADED,this.onColumnsChanged.bind(this)),[ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PIVOT_CHANGED,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PIVOT_MODE_CHANGED,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_ROW_GROUP_CHANGED,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_VALUE_CHANGED,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_VISIBLE,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_NEW_COLUMNS_LOADED].forEach(function(_){s.addManagedListener(s.eventService,_,s.fireSelectionChangedEvent.bind(s))}),this.expandGroupsByDefault=!this.params.contractColumnSelection;var v=this.gridOptionsWrapper.getLocaleTextFunc()("ariaColumnList","Column List");this.virtualList=this.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.CPJ("column-select","tree",v)),this.appendChild(this.virtualList.getGui()),this.virtualList.setComponentCreator(function(_,y){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaLevel(y,_.getDept()+1),s.createComponentFromItem(_,y)}),this.columnModel.isReady()&&this.onColumnsChanged(),!e.suppressColumnMove&&!this.gridOptionsWrapper.isSuppressMovableColumns()&&this.createManagedBean(new PrimaryColsListPanelItemDragFeature(this,this.virtualList))},r.prototype.createComponentFromItem=function(e,i){if(e.isGroup()){var a=new ToolPanelColumnGroupComp(e,this.allowDragging,this.eventType,i);return this.getContext().createBean(a),a}var s=new ToolPanelColumnComp(e.getColumn(),e.getDept(),this.allowDragging,this.groupsExist,i);return this.getContext().createBean(s),s},r.prototype.onColumnsChanged=function(){var e=this.getExpandedStates(),i=this.columnModel.isPivotMode();this.params.suppressSyncLayoutWithGrid||i?this.buildTreeFromProvidedColumnDefs():this.buildTreeFromWhatGridIsDisplaying(),this.setExpandedStates(e),this.markFilteredColumns(),this.flattenAndFilterModel()},r.prototype.getDisplayedColsList=function(){return this.displayedColsList},r.prototype.getExpandedStates=function(){if(!this.allColsTree)return{};var e={};return this.forEachItem(function(i){if(i.isGroup()){var a=i.getColumnGroup();a&&(e[a.getId()]=i.isExpanded())}}),e},r.prototype.setExpandedStates=function(e){!this.allColsTree||this.forEachItem(function(i){if(i.isGroup()){var a=i.getColumnGroup();if(a){var s=e[a.getId()];null!=s&&i.setExpanded(s)}}})},r.prototype.buildTreeFromWhatGridIsDisplaying=function(){this.colDefService.syncLayoutWithGrid(this.setColumnLayout.bind(this))},r.prototype.setColumnLayout=function(e){var i=this.colDefService.createColumnTree(e);this.buildListModel(i),this.groupsExist=e.some(function(a){return a&&typeof a.children<"u"}),this.markFilteredColumns(),this.flattenAndFilterModel()},r.prototype.buildTreeFromProvidedColumnDefs=function(){this.buildListModel(this.columnModel.getPrimaryColumnTree()),this.groupsExist=this.columnModel.isPrimaryColumnGroupsPresent()},r.prototype.buildListModel=function(e){var i=this,a=this.onColumnExpanded.bind(this),d=function(_,y,m){_.forEach(function(E){E instanceof ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KTm?h(E,y,m):v(E,y,m)})},h=function(_,y,m){var E=_.getColGroupDef();if(!E||!E.suppressColumnsToolPanel){if(_.isPadding())return void d(_.getChildren(),y,m);var S=i.columnModel.getDisplayNameForProvidedColumnGroup(null,_,i.eventType),D=new ColumnModelItem(S,_,y,!0,i.expandGroupsByDefault);m.push(D),function(_){_.addEventListener(ColumnModelItem.EVENT_EXPANDED_CHANGED,a);var y=_.removeEventListener.bind(_,ColumnModelItem.EVENT_EXPANDED_CHANGED,a);i.destroyColumnItemFuncs.push(y)}(D),d(_.getChildren(),y+1,D.getChildren())}},v=function(_,y,m){if(!_.getColDef()||!_.getColDef().suppressColumnsToolPanel){var w=i.columnModel.getDisplayNameForColumn(_,"columnToolPanel");m.push(new ColumnModelItem(w,_,y))}};this.destroyColumnTree(),d(e,0,this.allColsTree)},r.prototype.onColumnExpanded=function(){this.flattenAndFilterModel()},r.prototype.flattenAndFilterModel=function(){var e=this;this.displayedColsList=[];var i=function(s){!s.isPassesFilter()||(e.displayedColsList.push(s),s.isGroup()&&s.isExpanded()&&s.getChildren().forEach(i))};this.allColsTree.forEach(i),this.virtualList.setModel(new UIColumnModel(this.displayedColsList));var a=this.virtualList.getLastFocusedRow();this.virtualList.refresh(),null!=a&&this.focusRowIfAlive(a),this.notifyListeners()},r.prototype.focusRowIfAlive=function(e){var i=this;window.setTimeout(function(){i.isAlive()&&i.virtualList.focusRow(e)},0)},r.prototype.forEachItem=function(e){var i=function(a){a.forEach(function(s){e(s),s.isGroup()&&i(s.getChildren())})};i(this.allColsTree)},r.prototype.doSetExpandedAll=function(e){this.forEachItem(function(i){i.isGroup()&&i.setExpanded(e)})},r.prototype.setGroupsExpanded=function(e,i){if(i){var a=[];this.forEachItem(function(d){if(d.isGroup()){var h=d.getColumnGroup().getId();i.indexOf(h)>=0&&(d.setExpanded(e),a.push(h))}});var s=i.filter(function(d){return!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(a,d)});s.length>0&&console.warn("AG Grid: unable to find group(s) for supplied groupIds:",s)}else this.doSetExpandedAll(e)},r.prototype.getExpandState=function(){var e=0,i=0;return this.forEachItem(function(a){!a.isGroup()||(a.isExpanded()?e++:i++)}),e>0&&i>0?ExpandState.INDETERMINATE:i>0?ExpandState.COLLAPSED:ExpandState.EXPANDED},r.prototype.doSetSelectedAll=function(e){this.modelItemUtils.selectAllChildren(this.allColsTree,e,this.eventType)},r.prototype.getSelectionState=function(){var e=0,i=0,a=this.columnModel.isPivotMode();if(this.forEachItem(function(s){if(!s.isGroup()&&s.isPassesFilter()){var v,d=s.getColumn(),h=d.getColDef();if(a){if(!d.isAllowPivot()&&!d.isAllowRowGroup()&&!d.isAllowValue())return;v=d.isValueActive()||d.isPivotActive()||d.isRowGroupActive()}else{if(h.lockVisible)return;v=d.isVisible()}v?e++:i++}}),!(e>0&&i>0))return!(0===e||i>0)},r.prototype.setFilterText=function(e){this.filterText=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(e)?e.toLowerCase():null,this.markFilteredColumns(),this.flattenAndFilterModel()},r.prototype.markFilteredColumns=function(){var e=this,i=function(s){if(!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(e.filterText))return!0;var d=s.getDisplayName();return null==d||-1!==d.toLowerCase().indexOf(e.filterText)},a=function(s,d){var h=!1;if(s.isGroup()){var v=i(s);s.getChildren().forEach(function(y){var m=a(y,v||d);m&&(h=m)})}var _=!(!d&&!h)||i(s);return s.setPassesFilter(_),_};this.allColsTree.forEach(function(s){return a(s,!1)})},r.prototype.notifyListeners=function(){this.fireGroupExpandedEvent(),this.fireSelectionChangedEvent()},r.prototype.fireGroupExpandedEvent=function(){var e=this.getExpandState();this.dispatchEvent({type:"groupExpanded",state:e})},r.prototype.fireSelectionChangedEvent=function(){var e=this.getSelectionState();this.dispatchEvent({type:"selectionChanged",state:e})},r.TEMPLATE='<div class="'+PRIMARY_COLS_LIST_PANEL_CLASS+'" role="presentation"></div>',__decorate$1S([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],r.prototype,"columnModel",void 0),__decorate$1S([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("toolPanelColDefService")],r.prototype,"colDefService",void 0),__decorate$1S([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("modelItemUtils")],r.prototype,"modelItemUtils",void 0),__decorate$1S([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FXL],r.prototype,"destroyColumnTree",null),r}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$3h=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__decorate$1R=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},PivotModePanel=function(l){function r(){return null!==l&&l.apply(this,arguments)||this}return __extends$3h(r,l),r.prototype.createTemplate=function(){return'<div class="ag-pivot-mode-panel">\n                <ag-toggle-button ref="cbPivotMode" class="ag-pivot-mode-select"></ag-toggle-button>\n            </div>'},r.prototype.init=function(){this.setTemplate(this.createTemplate()),this.cbPivotMode.setValue(this.columnModel.isPivotMode());var e=this.gridOptionsWrapper.getLocaleTextFunc();this.cbPivotMode.setLabel(e("pivotMode","Pivot Mode")),this.addManagedListener(this.cbPivotMode,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jkc.EVENT_CHANGED,this.onBtPivotMode.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_NEW_COLUMNS_LOADED,this.onPivotModeChanged.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onPivotModeChanged.bind(this))},r.prototype.onBtPivotMode=function(){var e=!!this.cbPivotMode.getValue();if(e!==this.columnModel.isPivotMode()){this.columnModel.setPivotMode(e,"toolPanelUi");var i=this.gridOptionsWrapper.getApi();i&&i.refreshHeader()}},r.prototype.onPivotModeChanged=function(){var e=this.columnModel.isPivotMode();this.cbPivotMode.setValue(e)},__decorate$1R([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],r.prototype,"columnModel",void 0),__decorate$1R([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("cbPivotMode")],r.prototype,"cbPivotMode",void 0),__decorate$1R([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.$j7],r.prototype,"init",null),r}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$3g=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__decorate$1Q=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},AggregationStage=function(l){function r(){return null!==l&&l.apply(this,arguments)||this}return __extends$3g(r,l),r.prototype.execute=function(e){var i=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missingOrEmpty(this.columnModel.getValueColumns()),a=!this.gridOptionsWrapper.getGroupRowAggFunc(),s=e.changedPath&&e.changedPath.isActive();if(!(i&&a&&s)){var d=this.createAggDetails(e);this.recursivelyCreateAggData(d)}},r.prototype.createAggDetails=function(e){var i=this.columnModel.isPivotActive(),a=this.columnModel.getValueColumns(),s=i?this.columnModel.getPivotColumns():[];return{changedPath:e.changedPath,valueColumns:a,pivotColumns:s}},r.prototype.recursivelyCreateAggData=function(e){var i=this;this.filteredOnly=!this.gridOptionsWrapper.isSuppressAggFilteredOnly(),e.changedPath.forEachChangedNodeDepthFirst(function(s){if(s.hasChildren()){if(-1===s.level){var v=!i.columnModel.isPivotMode();if(i.gridOptionsWrapper.isSuppressAggAtRootLevel()&&v)return}i.aggregateRowNode(s,e)}else s.aggData&&s.setAggData(null)},!0)},r.prototype.aggregateRowNode=function(e,i){var h,a=0===i.valueColumns.length,s=0===i.pivotColumns.length,d=this.gridOptionsWrapper.getGroupRowAggFunc();h=d?d({nodes:e.childrenAfterFilter}):a?null:s?this.aggregateRowNodeUsingValuesOnly(e,i):this.aggregateRowNodeUsingValuesAndPivot(e),e.setAggData(h),e.sibling&&e.sibling.setAggData(h)},r.prototype.aggregateRowNodeUsingValuesAndPivot=function(e){var i=this,a={},s=this.pivotStage.getPivotColumnDefs();return s.filter(function(d){return!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(d.pivotTotalColumnIds)}).forEach(function(d){var v,_=d.pivotValueColumn,y=d.colId;v=e.leafGroup?i.getValuesFromMappedSet(e.childrenMapped,d.pivotKeys||[],_):i.getValuesPivotNonLeaf(e,y),a[y]=i.aggregateValues(v,_.getAggFunc(),_,e)}),s.filter(function(d){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(d.pivotTotalColumnIds)}).forEach(function(d){var h=[],v=d.pivotValueColumn,_=d.pivotTotalColumnIds,y=d.colId;!_||!_.length||(_.forEach(function(m){h.push(a[m])}),a[y]=i.aggregateValues(h,v.getAggFunc(),v,e))}),a},r.prototype.aggregateRowNodeUsingValuesOnly=function(e,i){var a=this,s={},d=i.changedPath.isActive()?i.changedPath.getValueColumnsForNode(e,i.valueColumns):i.valueColumns,h=i.changedPath.isActive()?i.changedPath.getNotValueColumnsForNode(e,i.valueColumns):null,v=this.getValuesNormal(e,d),_=e.aggData;return d.forEach(function(y,m){s[y.getId()]=a.aggregateValues(v[m],y.getAggFunc(),y,e)}),h&&_&&h.forEach(function(y){s[y.getId()]=_[y.getId()]}),s},r.prototype.getValuesPivotNonLeaf=function(e,i){var a=[];return e.childrenAfterFilter.forEach(function(s){a.push(s.aggData[i])}),a},r.prototype.getValuesFromMappedSet=function(e,i,a){var s=this,d=e;if(i.forEach(function(v){return d=d?d[v]:null}),!d)return[];var h=[];return d.forEach(function(v){var _=s.valueService.getValue(a,v);h.push(_)}),h},r.prototype.getValuesNormal=function(e,i){var a=[];i.forEach(function(){return a.push([])});for(var s=i.length,d=this.filteredOnly?e.childrenAfterFilter:e.childrenAfterGroup,h=d.length,v=0;v<h;v++)for(var _=d[v],y=0;y<s;y++){var E=this.valueService.getValue(i[y],_);a[y].push(E)}return a},r.prototype.aggregateValues=function(e,i,a,s){var d="string"==typeof i?this.aggFuncService.getAggFunc(i):i;return"function"!=typeof d?(console.error("AG Grid: unrecognised aggregation function "+i),null):d({values:e,column:a,colDef:a?a.getColDef():void 0,rowNode:s,data:s?s.data:void 0,api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext()})},__decorate$1Q([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],r.prototype,"columnModel",void 0),__decorate$1Q([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("valueService")],r.prototype,"valueService",void 0),__decorate$1Q([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("pivotStage")],r.prototype,"pivotStage",void 0),__decorate$1Q([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("aggFuncService")],r.prototype,"aggFuncService",void 0),__decorate$1Q([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],r.prototype,"gridApi",void 0),__decorate$1Q([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnApi")],r.prototype,"columnApi",void 0),__decorate$1Q([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("aggregationStage")],r)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),BatchRemover=function(){function l(){this.allSets={},this.allParents=[]}return l.prototype.removeFromChildrenAfterGroup=function(r,e){this.getSet(r).removeFromChildrenAfterGroup[e.id]=!0},l.prototype.removeFromAllLeafChildren=function(r,e){this.getSet(r).removeFromAllLeafChildren[e.id]=!0},l.prototype.getSet=function(r){return this.allSets[r.id]||(this.allSets[r.id]={removeFromAllLeafChildren:{},removeFromChildrenAfterGroup:{}},this.allParents.push(r)),this.allSets[r.id]},l.prototype.getAllParents=function(){return this.allParents},l.prototype.flush=function(){var r=this;this.allParents.forEach(function(e){var i=r.allSets[e.id];e.childrenAfterGroup=e.childrenAfterGroup.filter(function(a){return!i.removeFromChildrenAfterGroup[a.id]}),e.allLeafChildren=e.allLeafChildren.filter(function(a){return!i.removeFromAllLeafChildren[a.id]}),e.updateHasChildren(),e.sibling&&(e.sibling.childrenAfterGroup=e.childrenAfterGroup,e.sibling.allLeafChildren=e.allLeafChildren)}),this.allSets={},this.allParents.length=0},l}(),__extends$3f=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__decorate$1P=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},__read$X=function(l,r){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var a,d,i=e.call(l),s=[];try{for(;(void 0===r||r-- >0)&&!(a=i.next()).done;)s.push(a.value)}catch(h){d={error:h}}finally{try{a&&!a.done&&(e=i.return)&&e.call(i)}finally{if(d)throw d.error}}return s},__spread$v=function(){for(var l=[],r=0;r<arguments.length;r++)l=l.concat(__read$X(arguments[r]));return l},GroupStage=function(l){function r(){var e=null!==l&&l.apply(this,arguments)||this;return e.groupIdSequence=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.at1,e}return __extends$3f(r,l),r.prototype.postConstruct=function(){this.usingTreeData=this.gridOptionsWrapper.isTreeData(),this.usingTreeData&&(this.getDataPath=this.gridOptionsWrapper.getDataPathFunc())},r.prototype.execute=function(e){var i=this.createGroupingDetails(e);i.transactions?this.handleTransaction(i):this.shotgunResetEverything(i,!0===e.afterColumnsChanged),this.positionLeafsAboveGroups(e.changedPath),this.orderGroups(i.rootNode),this.selectableService.updateSelectableAfterGrouping(i.rootNode)},r.prototype.positionLeafsAboveGroups=function(e){this.usingTreeData||e.forEachChangedNodeDepthFirst(function(i){if(i.childrenAfterGroup){var a=[],s=[];i.childrenAfterGroup.forEach(function(d){var h;null!==(h=d.childrenAfterGroup)&&void 0!==h&&h.length?s.push(d):a.push(d)}),i.childrenAfterGroup=__spread$v(a,s)}},!1)},r.prototype.createGroupingDetails=function(e){var i=e.rowNode,a=e.changedPath,s=e.rowNodeTransactions,d=e.rowNodeOrder,h=this.usingTreeData?null:this.columnModel.getRowGroupColumns();return{includeParents:!this.gridOptionsWrapper.isSuppressParentsInRowNodes(),expandByDefault:this.gridOptionsWrapper.getGroupDefaultExpanded(),groupedCols:h,rootNode:i,pivotMode:this.columnModel.isPivotMode(),groupedColCount:this.usingTreeData||!h?0:h.length,rowNodeOrder:d,transactions:s,changedPath:a}},r.prototype.handleTransaction=function(e){var i=this;e.transactions.forEach(function(a){var s=i.usingTreeData?void 0:new BatchRemover;if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.existsAndNotEmpty(a.remove)&&i.removeNodes(a.remove,e,s),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.existsAndNotEmpty(a.update)&&i.moveNodesInWrongPath(a.update,e,s),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.existsAndNotEmpty(a.add)&&i.insertNodes(a.add,e,!1),s){var d=s.getAllParents().slice();s.flush(),i.removeEmptyGroups(d,e)}}),e.rowNodeOrder&&this.sortChildren(e)},r.prototype.sortChildren=function(e){e.changedPath.forEachChangedNodeDepthFirst(function(i){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.sortRowNodesByOrder(i.childrenAfterGroup,e.rowNodeOrder)})},r.prototype.orderGroups=function(e){if(!this.usingTreeData){var i=this.gridOptionsWrapper.getInitialGroupOrderComparator();ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(i)&&function a(s){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(s.childrenAfterGroup)&&!s.leafGroup&&(s.childrenAfterGroup.sort(function(h,v){return i({nodeA:h,nodeB:v})}),s.childrenAfterGroup.forEach(function(h){return a(h)}))}(e)}},r.prototype.getExistingPathForNode=function(e,i){for(var a=[],s=this.usingTreeData?e:e.parent;s&&s!==i.rootNode;)a.push({key:s.key,rowGroupColumn:s.rowGroupColumn,field:s.field}),s=s.parent;return a.reverse(),a},r.prototype.moveNodesInWrongPath=function(e,i,a){var s=this;e.forEach(function(d){i.changedPath.isActive()&&i.changedPath.addParentNode(d.parent);var h=function(m){return m.key},v=s.getExistingPathForNode(d,i).map(h),_=s.getGroupInfo(d,i).map(h);ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.areEqual(v,_)||s.moveNode(d,i,a)})},r.prototype.moveNode=function(e,i,a){this.removeNodesInStages([e],i,a),this.insertOneNode(e,i,!0),e.setData(e.data),i.changedPath.isActive()&&i.changedPath.addParentNode(e.parent)},r.prototype.removeNodes=function(e,i,a){this.removeNodesInStages(e,i,a),i.changedPath.isActive()&&e.forEach(function(s){return i.changedPath.addParentNode(s.parent)})},r.prototype.removeNodesInStages=function(e,i,a){if(this.removeNodesFromParents(e,i,a),this.usingTreeData){this.postRemoveCreateFillerNodes(e,i);var s=e.map(function(d){return d.parent});this.removeEmptyGroups(s,i)}},r.prototype.forEachParentGroup=function(e,i,a){for(var s=i;s&&s!==e.rootNode;)a(s),s=s.parent},r.prototype.removeNodesFromParents=function(e,i,a){var s=this,d=null==a,h=a||new BatchRemover;e.forEach(function(v){s.removeFromParent(v,h),s.forEachParentGroup(i,v.parent,function(_){h.removeFromAllLeafChildren(_,v)})}),d&&h.flush()},r.prototype.postRemoveCreateFillerNodes=function(e,i){var a=this;e.forEach(function(s){if(s.hasChildren()){var h=a.getExistingPathForNode(s,i),v=a.findParentForNode(s,h,i);v.expanded=s.expanded,v.allLeafChildren=s.allLeafChildren,v.childrenAfterGroup=s.childrenAfterGroup,v.childrenMapped=s.childrenMapped,v.updateHasChildren(),v.childrenAfterGroup.forEach(function(_){return _.parent=v})}})},r.prototype.removeEmptyGroups=function(e,i){for(var a=this,s=!0,h=function(){s=!1;var v=new BatchRemover;e.forEach(function(_){a.forEachParentGroup(i,_,function(y){(function(v){var _=a.getChildrenMappedKey(v.key,v.rowGroupColumn),y=v.parent;return!!(y&&y.childrenMapped&&y.childrenMapped[_]&&v.isEmptyRowGroupNode())})(y)&&(s=!0,a.removeFromParent(y,v),y.setSelected(!1))})}),v.flush()};s;)h()},r.prototype.removeFromParent=function(e,i){e.parent&&(i?i.removeFromChildrenAfterGroup(e.parent,e):(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeFromArray(e.parent.childrenAfterGroup,e),e.parent.updateHasChildren()));var a=this.getChildrenMappedKey(e.key,e.rowGroupColumn);e.parent&&e.parent.childrenMapped&&(e.parent.childrenMapped[a]=void 0),e.setRowTop(null),e.setRowIndex(null)},r.prototype.addToParent=function(e,i){var a=this.getChildrenMappedKey(e.key,e.rowGroupColumn);i&&(null!=i.childrenMapped&&(i.childrenMapped[a]=e),i.childrenAfterGroup.push(e),i.updateHasChildren())},r.prototype.areGroupColsEqual=function(e,i){return null!=e&&null!=i&&e.pivotMode===i.pivotMode&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.areEqual(e.groupedCols,i.groupedCols)},r.prototype.checkAllGroupDataAfterColsChanged=function(e){var i=this,a=function(s){!s||s.forEach(function(d){!i.usingTreeData&&!d.group||(i.setGroupData(d,{field:d.field,key:d.key,rowGroupColumn:d.rowGroupColumn}),a(d.childrenAfterGroup))})};a(e.rootNode.childrenAfterGroup)},r.prototype.shotgunResetEverything=function(e,i){if(!this.noChangeInGroupingColumns(e,i)){this.selectionService.removeGroupsFromSelection();var a=e.rootNode;a.leafGroup=!this.usingTreeData&&0===e.groupedCols.length,a.childrenAfterGroup=[],a.childrenMapped={},a.updateHasChildren();var d=a.sibling;d&&(d.childrenAfterGroup=a.childrenAfterGroup,d.childrenMapped=a.childrenMapped),this.insertNodes(a.allLeafChildren,e,!1)}},r.prototype.noChangeInGroupingColumns=function(e,i){var a=!1,s=this.columnModel.getGroupDisplayColumns(),d=s?s.map(function(h){return h.getId()}).join("-"):"";return i&&(a=this.usingTreeData||this.areGroupColsEqual(e,this.oldGroupingDetails),this.oldGroupDisplayColIds!==d&&this.checkAllGroupDataAfterColsChanged(e)),this.oldGroupingDetails=e,this.oldGroupDisplayColIds=d,a},r.prototype.insertNodes=function(e,i,a){var s=this;e.forEach(function(d){s.insertOneNode(d,i,a),i.changedPath.isActive()&&i.changedPath.addParentNode(d.parent)})},r.prototype.insertOneNode=function(e,i,a){var s=this.getGroupInfo(e,i),d=this.findParentForNode(e,s,i);d.group||console.warn("AG Grid: duplicate group keys for row data, keys should be unique",[d.data,e.data]),this.usingTreeData?this.swapGroupWithUserNode(d,e,a):(e.parent=d,e.level=s.length,d.childrenAfterGroup.push(e),d.updateHasChildren())},r.prototype.findParentForNode=function(e,i,a){var s=this,d=a.rootNode;return i.forEach(function(h,v){(d=s.getOrCreateNextNode(d,h,v,a)).allLeafChildren.push(e)}),d},r.prototype.swapGroupWithUserNode=function(e,i,a){i.parent=e.parent,i.key=e.key,i.field=e.field,i.groupData=e.groupData,i.level=e.level,a||(i.expanded=e.expanded),i.leafGroup=e.leafGroup,i.rowGroupIndex=e.rowGroupIndex,i.allLeafChildren=e.allLeafChildren,i.childrenAfterGroup=e.childrenAfterGroup,i.childrenMapped=e.childrenMapped,i.updateHasChildren(),this.removeFromParent(e),i.childrenAfterGroup.forEach(function(s){return s.parent=i}),this.addToParent(i,e.parent)},r.prototype.getOrCreateNextNode=function(e,i,a,s){var d=this.getChildrenMappedKey(i.key,i.rowGroupColumn),h=e.childrenMapped?e.childrenMapped[d]:void 0;return h||(h=this.createGroup(i,e,a,s),this.addToParent(h,e)),h},r.prototype.createGroup=function(e,i,a,s){var d=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Fxk(this.beans);return d.group=!0,d.field=e.field,d.rowGroupColumn=e.rowGroupColumn,this.setGroupData(d,e),d.id=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Fxk.ID_PREFIX_ROW_GROUP+this.groupIdSequence.next(),d.key=e.key,d.level=a,d.leafGroup=!this.usingTreeData&&a===s.groupedColCount-1,d.allLeafChildren=[],d.setAllChildrenCount(0),d.rowGroupIndex=this.usingTreeData?null:a,d.childrenAfterGroup=[],d.childrenMapped={},d.updateHasChildren(),d.parent=s.includeParents?i:null,this.setExpandedInitialValue(s,d),d},r.prototype.setGroupData=function(e,i){var a=this;e.groupData={},this.columnModel.getGroupDisplayColumns().forEach(function(d){(a.usingTreeData||e.rowGroupColumn&&d.isRowGroupDisplayed(e.rowGroupColumn.getId()))&&(e.groupData[d.getColId()]=i.key)})},r.prototype.getChildrenMappedKey=function(e,i){return i?i.getId()+"-"+e:e},r.prototype.setExpandedInitialValue=function(e,i){if(e.pivotMode&&i.leafGroup)i.expanded=!1;else{var a=this.gridOptionsWrapper.getIsGroupOpenByDefaultFunc();i.expanded=a?1==a({rowNode:i,field:i.field,key:i.key,level:i.level,rowGroupColumn:i.rowGroupColumn}):-1===e.expandByDefault||i.level<e.expandByDefault}},r.prototype.getGroupInfo=function(e,i){return this.usingTreeData?this.getGroupInfoFromCallback(e):this.getGroupInfoFromGroupColumns(e,i)},r.prototype.getGroupInfoFromCallback=function(e){var i=this.getDataPath?this.getDataPath(e.data):null;return(null==i||0===i.length)&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce(function(){return console.warn("AG Grid: getDataPath() should not return an empty path for data",e.data)},"groupStage.getGroupInfoFromCallback"),i?i.map(function(s){return{key:s,field:null,rowGroupColumn:null}}):[]},r.prototype.getGroupInfoFromGroupColumns=function(e,i){var a=this,s=[];return i.groupedCols.forEach(function(d){var h=a.valueService.getKeyForNode(d,e),v=null!=h;if(i.pivotMode&&!v&&(h=" ",v=!0),v){var _={key:h,field:d.getColDef().field,rowGroupColumn:d};s.push(_)}}),s},__decorate$1P([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],r.prototype,"columnModel",void 0),__decorate$1P([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("selectableService")],r.prototype,"selectableService",void 0),__decorate$1P([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("valueService")],r.prototype,"valueService",void 0),__decorate$1P([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("beans")],r.prototype,"beans",void 0),__decorate$1P([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("selectionService")],r.prototype,"selectionService",void 0),__decorate$1P([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],r.prototype,"postConstruct",null),__decorate$1P([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("groupStage")],r)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$3e=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__assign$B=function(){return __assign$B=Object.assign||function(l){for(var r,e=1,i=arguments.length;e<i;e++)for(var a in r=arguments[e])Object.prototype.hasOwnProperty.call(r,a)&&(l[a]=r[a]);return l},__assign$B.apply(this,arguments)},__decorate$1O=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},__read$W=function(l,r){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var a,d,i=e.call(l),s=[];try{for(;(void 0===r||r-- >0)&&!(a=i.next()).done;)s.push(a.value)}catch(h){d={error:h}}finally{try{a&&!a.done&&(e=i.return)&&e.call(i)}finally{if(d)throw d.error}}return s},__spread$u=function(){for(var l=[],r=0;r<arguments.length;r++)l=l.concat(__read$W(arguments[r]));return l},PivotColDefService=function(l){function r(){return null!==l&&l.apply(this,arguments)||this}var e;return __extends$3e(r,l),e=r,r.prototype.createPivotColumnDefs=function(i){var a=this.columnModel.getPivotColumns(),s=this.columnModel.getValueColumns(),h=this.recursiveBuildGroup(0,i,[],a.length,a),_=function v(m,E){return void 0===E&&(E=[]),m.forEach(function(w){void 0!==w.children?v(w.children,E):E.push(w)}),E}(h);return this.addRowGroupTotals(h,_,s),this.addExpandablePivotGroups(h,_),this.addPivotTotalsToGroups(h,_),{pivotColumnGroupDefs:h,pivotColumnDefs:_.map(function(m){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.cloneObject(m)})}},r.prototype.recursiveBuildGroup=function(i,a,s,d,h){var v=this,_=this.columnModel.getValueColumns();if(i>=d)return this.buildMeasureCols(s);var y=h[i].getColDef(),m=this.headerNameComparator.bind(this,y.pivotComparator);if(1===_.length&&this.gridOptionsWrapper.isRemovePivotHeaderRowWhenSingleValueColumn()&&i===d-1){var E=[];return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.iterateObject(a,function(S){var D=__spread$u(s,[S]);E.push(__assign$B(__assign$B({},v.createColDef(_[0],S,D)),{columnGroupShow:"open"}))}),E.sort(m),E}var w=[];return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.iterateObject(a,function(S,D){var T=__spread$u(s,[S]);w.push({children:v.recursiveBuildGroup(i+1,D,T,d,h),headerName:S,pivotKeys:T,columnGroupShow:"open",groupId:v.generateColumnGroupId(T)})}),w.sort(m),w},r.prototype.buildMeasureCols=function(i){var a=this,s=this.columnModel.getValueColumns();return 0===s.length?[this.createColDef(null,"-",i)]:s.map(function(d){var h=a.columnModel.getDisplayNameForColumn(d,"header");return __assign$B(__assign$B({},a.createColDef(d,h,i)),{columnGroupShow:"open"})})},r.prototype.addExpandablePivotGroups=function(i,a){var s=this;if(!this.gridOptionsWrapper.isSuppressExpandablePivotGroups()&&!this.gridOptionsWrapper.getPivotColumnGroupTotals()){var d=function(h,v,_){var y=h;if(y.children){var m=new Map;y.children.forEach(function(T){d(T,v,m)});var E=!y.children.some(function(T){return T.children});s.columnModel.getValueColumns().forEach(function(T){var b=s.columnModel.getDisplayNameForColumn(T,"header"),M=s.createColDef(T,b,h.pivotKeys);M.pivotTotalColumnIds=m.get(T.getColId()),M.columnGroupShow="closed",M.aggFunc=T.getAggFunc(),E||(h.children.push(M),v.push(M))}),s.merge(_,m)}else{var w=h;if(!w.pivotValueColumn)return;var S=w.pivotValueColumn.getColId(),D=_.has(S)?_.get(S):[];D.push(w.colId),_.set(S,D)}};i.forEach(function(h){d(h,a,new Map)})}},r.prototype.addPivotTotalsToGroups=function(i,a){var s=this;if(this.gridOptionsWrapper.getPivotColumnGroupTotals()){var d="after"===this.gridOptionsWrapper.getPivotColumnGroupTotals(),h=this.columnModel.getValueColumns(),v=h.map(function(y){return y.getAggFunc()});if(v&&!(v.length<1)&&this.sameAggFuncs(v)){var _=h[0];i.forEach(function(y){s.recursivelyAddPivotTotal(y,a,_,d)})}}},r.prototype.recursivelyAddPivotTotal=function(i,a,s,d){var h=this,v=i;if(!v.children)return i.colId?[i.colId]:null;var y=[];if(v.children.forEach(function(D){var T=h.recursivelyAddPivotTotal(D,a,s,d);T&&(y=y.concat(T))}),v.children.length>1){var E=this.gridOptionsWrapper.getLocaleTextFunc()("pivotColumnGroupTotals","Total"),w=this.createColDef(s,E,i.pivotKeys,!0);w.pivotTotalColumnIds=y,w.aggFunc=s.getAggFunc();var S=i.children;d?S.push(w):S.unshift(w),a.push(w)}return y},r.prototype.addRowGroupTotals=function(i,a,s){var d=this;if(this.gridOptionsWrapper.getPivotRowTotals())for(var h="after"===this.gridOptionsWrapper.getPivotRowTotals(),v=h?s.slice():s.slice().reverse(),_=function(E){var w=v[E],S=[];i.forEach(function(D){S=S.concat(d.extractColIdsForValueColumn(D,w))}),y.createRowGroupTotal(i,a,w,S,h)},y=this,m=0;m<v.length;m++)_(m)},r.prototype.extractColIdsForValueColumn=function(i,a){var s=this;if(!i.children)return i.pivotValueColumn===a&&i.colId?[i.colId]:[];var v=[];return i.children.forEach(function(_){s.extractColIdsForValueColumn(_,a);var y=s.extractColIdsForValueColumn(_,a);v=v.concat(y)}),v},r.prototype.createRowGroupTotal=function(i,a,s,d,h){var _;if(0===this.columnModel.getValueColumns().length)_=this.createColDef(null,"-",[]);else{var y=this.columnModel.getDisplayNameForColumn(s,"header");(_=this.createColDef(s,y,[])).pivotTotalColumnIds=d}_.colId=e.PIVOT_ROW_TOTAL_PREFIX+_.colId,a.push(_),h?i.push(_):i.unshift(_)},r.prototype.createColDef=function(i,a,s,d){void 0===d&&(d=!1);var h={};if(i){var v=i.getColDef();Object.assign(h,v),h.hide=!1}return h.headerName=a,h.colId=this.generateColumnId(s||[],i&&!d?i.getColId():""),h.field=h.colId,h.pivotKeys=s,h.pivotValueColumn=i,!0===h.filter&&(h.filter="agNumberColumnFilter"),h},r.prototype.sameAggFuncs=function(i){if(1==i.length)return!0;for(var a=1;a<i.length;a++)if(i[a]!==i[0])return!1;return!0},r.prototype.headerNameComparator=function(i,a,s){return i?i(a.headerName,s.headerName):a.headerName&&!s.headerName?1:!a.headerName&&s.headerName?-1:a.headerName&&s.headerName?a.headerName<s.headerName?-1:a.headerName>s.headerName?1:0:0},r.prototype.merge=function(i,a){a.forEach(function(s,d,h){var v=i.has(d)?i.get(d):[],_=__spread$u(v,s);i.set(d,_)})},r.prototype.generateColumnGroupId=function(i){return"pivotGroup_"+this.columnModel.getPivotColumns().map(function(s){return s.getColId()}).join("-")+"_"+i.join("-")},r.prototype.generateColumnId=function(i,a){return"pivot_"+this.columnModel.getPivotColumns().map(function(d){return d.getColId()}).join("-")+"_"+i.join("-")+"_"+a},r.PIVOT_ROW_TOTAL_PREFIX="PivotRowTotal_",__decorate$1O([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],r.prototype,"columnModel",void 0),e=__decorate$1O([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("pivotColDefService")],r)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$3d=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__decorate$1N=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},PivotStage=function(l){function r(){var e=null!==l&&l.apply(this,arguments)||this;return e.uniqueValues={},e}return __extends$3d(r,l),r.prototype.execute=function(e){var i=e.rowNode,a=e.changedPath;this.columnModel.isPivotActive()?this.executePivotOn(i,a):this.executePivotOff(a)},r.prototype.executePivotOff=function(e){this.aggregationColumnsHashLastTime=null,this.uniqueValues={},this.columnModel.isSecondaryColumnsPresent()&&(this.columnModel.setSecondaryColumns(null,"rowModelUpdated"),e&&e.setInactive())},r.prototype.executePivotOn=function(e,i){var a=this.bucketUpRowNodes(e),s=this.setUniqueValues(a),d=this.columnModel.getValueColumns(),h=d.map(function(T){return T.getId()+"-"+T.getColDef().headerName}).join("#"),v=d.map(function(T){return T.getAggFunc().toString()}).join("#"),_=this.aggregationColumnsHashLastTime!==h,y=this.aggregationFuncsHashLastTime!==v;this.aggregationColumnsHashLastTime=h,this.aggregationFuncsHashLastTime=v;var m=this.columnModel.getRowGroupColumns().map(function(T){return T.getId()}).join("#"),E=m!==this.groupColumnsHashLastTime;if(this.groupColumnsHashLastTime=m,s||_||E||y){var w=this.pivotColDefService.createPivotColumnDefs(this.uniqueValues),S=w.pivotColumnGroupDefs;this.pivotColumnDefs=w.pivotColumnDefs,this.columnModel.setSecondaryColumns(S,"rowModelUpdated"),i&&i.setInactive()}},r.prototype.setUniqueValues=function(e){return!(JSON.stringify(e)===JSON.stringify(this.uniqueValues)||(this.uniqueValues=e,0))},r.prototype.bucketUpRowNodes=function(e){var i=this,a={},s=function(d){d.leafGroup?i.bucketRowNode(d,a):d.childrenAfterFilter.forEach(function(h){s(h)})};return s(e),a},r.prototype.bucketRowNode=function(e,i){var a=this.columnModel.getPivotColumns();e.childrenMapped=0===a.length?null:this.bucketChildren(e.childrenAfterFilter,a,0,i),e.sibling&&(e.sibling.childrenMapped=e.childrenMapped)},r.prototype.bucketChildren=function(e,i,a,s){var d=this,h={},v=i[a];if(e.forEach(function(y){var m=d.valueService.getKeyForNode(v,y);ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missing(m)&&(m=""),s[m]||(s[m]={}),h[m]||(h[m]=[]),h[m].push(y)}),a===i.length-1)return h;var _={};return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.iterateObject(h,function(y,m){_[y]=d.bucketChildren(m,i,a+1,s[y])}),_},r.prototype.getPivotColumnDefs=function(){return this.pivotColumnDefs},__decorate$1N([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("valueService")],r.prototype,"valueService",void 0),__decorate$1N([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],r.prototype,"columnModel",void 0),__decorate$1N([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("pivotColDefService")],r.prototype,"pivotColDefService",void 0),__decorate$1N([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("pivotStage")],r)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$3c=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__decorate$1M=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},AGBigInt=typeof BigInt>"u"?null:BigInt,AggFuncService=function(l){function r(){var i=null!==l&&l.apply(this,arguments)||this;return i.aggFuncsMap={},i.initialised=!1,i}var e;return __extends$3c(r,l),e=r,r.prototype.init=function(){this.initialised||(this.initialiseWithDefaultAggregations(),this.addAggFuncs(this.gridOptionsWrapper.getAggFuncs()))},r.prototype.initialiseWithDefaultAggregations=function(){this.aggFuncsMap[e.AGG_SUM]=aggSum,this.aggFuncsMap[e.AGG_FIRST]=aggFirst,this.aggFuncsMap[e.AGG_LAST]=aggLast,this.aggFuncsMap[e.AGG_MIN]=aggMin,this.aggFuncsMap[e.AGG_MAX]=aggMax,this.aggFuncsMap[e.AGG_COUNT]=aggCount,this.aggFuncsMap[e.AGG_AVG]=aggAvg,this.initialised=!0},r.prototype.isAggFuncPossible=function(i,a){var s=this.getFuncNames(i),d=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(s,a),h=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(this.aggFuncsMap[a]);return d&&h},r.prototype.getDefaultAggFunc=function(i){var a=i.getColDef().defaultAggFunc;if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(a)&&this.isAggFuncPossible(i,a))return a;if(this.isAggFuncPossible(i,e.AGG_SUM))return e.AGG_SUM;var s=this.getFuncNames(i);return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.existsAndNotEmpty(s)?s[0]:null},r.prototype.addAggFuncs=function(i){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.iterateObject(i,this.addAggFunc.bind(this))},r.prototype.addAggFunc=function(i,a){this.init(),this.aggFuncsMap[i]=a},r.prototype.getAggFunc=function(i){return this.init(),this.aggFuncsMap[i]},r.prototype.getFuncNames=function(i){return i.getColDef().allowedAggFuncs??Object.keys(this.aggFuncsMap).sort()},r.prototype.clear=function(){this.aggFuncsMap={}},r.AGG_SUM="sum",r.AGG_FIRST="first",r.AGG_LAST="last",r.AGG_MIN="min",r.AGG_MAX="max",r.AGG_COUNT="count",r.AGG_AVG="avg",__decorate$1M([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],r.prototype,"init",null),e=__decorate$1M([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("aggFuncService")],r)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),l;function aggSum(l){for(var r=l.values,e=null,i=0;i<r.length;i++){var a=r[i];"number"==typeof a?null===e?e=a:e+=AGBigInt?"number"==typeof e?a:AGBigInt(a):a:"bigint"==typeof a&&(e=null===e?a:("bigint"==typeof e?e:AGBigInt(e))+a)}return e}function aggFirst(l){return l.values.length>0?l.values[0]:null}function aggLast(l){return l.values.length>0?ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(l.values):null}function aggMin(l){for(var r=l.values,e=null,i=0;i<r.length;i++){var a=r[i];("number"==typeof a||"bigint"==typeof a)&&(null===e||e>a)&&(e=a)}return e}function aggMax(l){for(var r=l.values,e=null,i=0;i<r.length;i++){var a=r[i];("number"==typeof a||"bigint"==typeof a)&&(null===e||e<a)&&(e=a)}return e}function aggCount(l){for(var r=l.values,e=0,i=0;i<r.length;i++){var a=r[i];e+=null!=a&&"number"==typeof a.value?a.value:1}return{value:e,toString:function(){return this.value.toString()},toNumber:function(){return this.value}}}function aggAvg(l){for(var r=l.values,e=0,i=0,a=0;a<r.length;a++){var s=r[a],d=null;"number"==typeof s||"bigint"==typeof s?(d=s,i++):null!=s&&("number"==typeof s.value||"bigint"==typeof s.value)&&"number"==typeof s.count&&(d=AGBigInt?s.value*("number"==typeof s.value?s.count:AGBigInt(s.count)):s.value*s.count,i+=s.count),"number"==typeof d?e+=AGBigInt?"number"==typeof e?d:AGBigInt(d):d:"bigint"==typeof d&&(e=("bigint"==typeof e?e:AGBigInt(e))+d)}var h=null;return i>0&&(h=AGBigInt?e/("number"==typeof e?i:AGBigInt(i)):e/i),{count:i,value:h,toString:function(){return"number"==typeof this.value||"bigint"==typeof this.value?this.value.toString():""},toNumber:function(){return this.value}}}var __extends$3b=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__decorate$1L=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},DropZoneColumnComp=function(l){function r(e,i,a,s,d){var h=l.call(this)||this;return h.column=e,h.dragSourceDropTarget=i,h.ghost=a,h.dropZonePurpose=s,h.horizontal=d,h.popupShowing=!1,h}return __extends$3b(r,l),r.prototype.init=function(){var e=this;this.setTemplate(r.TEMPLATE);var i=this.getGui(),a=this.gridOptionsWrapper.isFunctionsReadOnly();this.addElementClasses(i),this.addElementClasses(this.eDragHandle,"drag-handle"),this.addElementClasses(this.eText,"text"),this.addElementClasses(this.eButton,"button"),this.eDragHandle.appendChild(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("columnDrag",this.gridOptionsWrapper)),this.eButton.appendChild(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("cancel",this.gridOptionsWrapper)),this.setupSort(),this.displayName=this.columnModel.getDisplayNameForColumn(this.column,"columnDrop"),this.setupComponents(),!this.ghost&&!a&&this.addDragSource(),this.setupAria(),this.addManagedListener(this.column,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sgG.EVENT_SORT_CHANGED,function(){e.setupAria()}),this.setupTooltip()},r.prototype.setupAria=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc(),i=this.getColumnAndAggFuncName(),a=i.name,s=i.aggFuncName,d=e("ariaDropZoneColumnComponentAggFuncSeperator"," of "),h={asc:e("ariaDropZoneColumnComponentSortAscending","ascending"),desc:e("ariaDropZoneColumnComponentSortDescending","descending")},v=this.column.getSort(),_=[[s&&""+s+d,a,this.isGroupingZone()&&v&&", "+h[v]].filter(function(S){return!!S}).join("")],y=this.gridOptionsWrapper.isFunctionsReadOnly();if(this.isAggregationZone()&&!y){var m=e("ariaDropZoneColumnValueItemDescription","Press ENTER to change the aggregation type");_.push(m)}if(this.isGroupingZone()&&this.column.getColDef().sortable){var E=e("ariaDropZoneColumnGroupItemDescription","Press ENTER to sort");_.push(E)}var w=e("ariaDropZoneColumnComponentDescription","Press DELETE to remove");_.push(w),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaLabel(this.getGui(),_.join(". "))},r.prototype.setupTooltip=function(){var e=this,i=function(){var a=e.column.getColDef().headerTooltip;e.setTooltip(a)};i(),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_NEW_COLUMNS_LOADED,i)},r.prototype.setupSort=function(){var e=this,i=this.column.getColDef().sortable,a=this.isGroupingZone();if(i&&a){this.eSortIndicator.setupSort(this.column,!0);var s=function(d){d.preventDefault();var h=e.gridOptionsWrapper.isMultiSortKeyCtrl();e.sortController.progressSort(e.column,h?d.ctrlKey||d.metaKey:d.shiftKey,"uiColumnSorted")};this.addGuiEventListener("click",s),this.addGuiEventListener("keydown",function(d){d.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.ENTER&&e.isGroupingZone()&&s(d)})}},r.prototype.addDragSource=function(){var e=this,i={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.rvo.ToolPanel,eElement:this.eDragHandle,defaultIconName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jUB.ICON_HIDE,getDragItem:function(){return e.createDragItem()},dragItemName:this.displayName,dragSourceDropTarget:this.dragSourceDropTarget};this.dragAndDropService.addDragSource(i,!0),this.addDestroyFunc(function(){return e.dragAndDropService.removeDragSource(i)})},r.prototype.createDragItem=function(){var e={};return e[this.column.getId()]=this.column.isVisible(),{columns:[this.column],visibleState:e}},r.prototype.setupComponents=function(){this.setTextValue(),this.setupRemove(),this.ghost&&this.addCssClass("ag-column-drop-cell-ghost"),this.isAggregationZone()&&!this.gridOptionsWrapper.isFunctionsReadOnly()&&this.addGuiEventListener("click",this.onShowAggFuncSelection.bind(this))},r.prototype.setupRemove=function(){var e=this;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eButton,!this.gridOptionsWrapper.isFunctionsReadOnly());var i={type:r.EVENT_COLUMN_REMOVE};this.addGuiEventListener("keydown",function(s){var d=s.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.ENTER;s.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.DELETE&&(s.preventDefault(),e.dispatchEvent(i)),d&&e.isAggregationZone()&&!e.gridOptionsWrapper.isFunctionsReadOnly()&&(s.preventDefault(),e.onShowAggFuncSelection())}),this.addManagedListener(this.eButton,"click",function(s){e.dispatchEvent(i),s.stopPropagation()});var a=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.rwP(this.eButton);this.addManagedListener(a,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.rwP.EVENT_TAP,function(){e.dispatchEvent(i)}),this.addDestroyFunc(a.destroy.bind(a))},r.prototype.getColumnAndAggFuncName=function(){var e=this.displayName,i="";if(this.isAggregationZone()){var a=this.column.getAggFunc(),s="string"==typeof a?a:"agg";i=this.gridOptionsWrapper.getLocaleTextFunc()(s,s)}return{name:e,aggFuncName:i}},r.prototype.setTextValue=function(){var e=this.getColumnAndAggFuncName(),i=e.name,a=e.aggFuncName,s=this.isAggregationZone()?a+"("+i+")":i,d=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.escapeString(s);this.eText.innerHTML=d},r.prototype.onShowAggFuncSelection=function(){var e=this;if(!this.popupShowing){this.popupShowing=!0;var i=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.CPJ("select-agg-func"),a=this.aggFuncService.getFuncNames(this.column),s=this.getGui(),d=i.getGui();i.setModel({getRow:function(E){return a[E]},getRowCount:function(){return a.length}}),this.getContext().createBean(i);var h=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.loadTemplate('<div class="ag-select-agg-func-popup"></div>');h.style.top="0px",h.style.left="0px",h.appendChild(d),h.style.width=s.clientWidth+"px";var _=this.gridOptionsWrapper.getLocaleTextFunc(),y=this.popupService.addPopup({modal:!0,eChild:h,closeOnEsc:!0,closedCallback:function(){e.destroyBean(i),e.popupShowing=!1,s.focus()},ariaLabel:_("ariaLabelAggregationFunction","Aggregation Function")});y&&i.setComponentCreator(this.createAggSelect.bind(this,y.hideFunc)),i.addGuiEventListener("keydown",function(E){if(E.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.ENTER||E.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.SPACE){var w=i.getLastFocusedRow();if(null==w)return;var S=i.getComponentAt(w);S&&S.selectItem()}}),this.popupService.positionPopupUnderComponent({type:"aggFuncSelect",eventSource:s,ePopup:h,keepWithinBounds:!0,column:this.column}),i.refresh();var m=a.findIndex(function(E){return E===e.column.getAggFunc()});-1===m&&(m=0),i.focusRow(m)}},r.prototype.createAggSelect=function(e,i){var a=this,d=this.gridOptionsWrapper.getLocaleTextFunc(),h=i.toString(),v=d(h,h);return new AggItemComp(function(){e(),a.gridOptionsWrapper.isFunctionsPassive()?a.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_AGG_FUNC_CHANGE_REQUEST,columns:[a.column],aggFunc:i}):a.columnModel.setColumnAggFunc(a.column,i,"toolPanelDragAndDrop")},v)},r.prototype.addElementClasses=function(e,i){e.classList.add("ag-column-drop-cell"+(i=i?"-"+i:""),"ag-column-drop-"+(this.horizontal?"horizontal":"vertical")+"-cell"+i)},r.prototype.isAggregationZone=function(){return"aggregation"===this.dropZonePurpose},r.prototype.isGroupingZone=function(){return"rowGroup"===this.dropZonePurpose},r.EVENT_COLUMN_REMOVE="columnRemove",r.TEMPLATE='<span role="option" tabindex="0">\n          <span ref="eDragHandle" class="ag-drag-handle ag-column-drop-cell-drag-handle" role="presentation"></span>\n          <span ref="eText" class="ag-column-drop-cell-text" aria-hidden="true"></span>\n          <ag-sort-indicator ref="eSortIndicator"></ag-sort-indicator>\n          <span ref="eButton" class="ag-column-drop-cell-button" role="presentation"></span>\n        </span>',__decorate$1L([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("dragAndDropService")],r.prototype,"dragAndDropService",void 0),__decorate$1L([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],r.prototype,"columnModel",void 0),__decorate$1L([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("popupService")],r.prototype,"popupService",void 0),__decorate$1L([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FiY)("aggFuncService")],r.prototype,"aggFuncService",void 0),__decorate$1L([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("sortController")],r.prototype,"sortController",void 0),__decorate$1L([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eText")],r.prototype,"eText",void 0),__decorate$1L([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eDragHandle")],r.prototype,"eDragHandle",void 0),__decorate$1L([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eButton")],r.prototype,"eButton",void 0),__decorate$1L([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eSortIndicator")],r.prototype,"eSortIndicator",void 0),__decorate$1L([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],r.prototype,"init",null),r}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),AggItemComp=function(l){function r(e,i){var a=l.call(this,'<div class="ag-select-agg-func-item"/>')||this;return a.selectItem=e,a.getGui().innerText=i,a.addGuiEventListener("click",a.selectItem),a}return __extends$3b(r,l),r}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$3a=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__decorate$1K=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},__read$V=function(l,r){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var a,d,i=e.call(l),s=[];try{for(;(void 0===r||r-- >0)&&!(a=i.next()).done;)s.push(a.value)}catch(h){d={error:h}}finally{try{a&&!a.done&&(e=i.return)&&e.call(i)}finally{if(d)throw d.error}}return s},__spread$t=function(){for(var l=[],r=0;r<arguments.length;r++)l=l.concat(__read$V(arguments[r]));return l},BaseDropZonePanel=function(l){function r(e,i){var a=l.call(this,'<div class="ag-unselectable" role="presentation"></div>')||this;return a.horizontal=e,a.dropZonePurpose=i,a.state=r.STATE_NOT_DRAGGING,a.guiDestroyFunctions=[],a.childColumnComponents=[],a.resizeEnabled=!1,a.addElementClasses(a.getGui()),a.eColumnDropList=document.createElement("div"),a.addElementClasses(a.eColumnDropList,"list"),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaRole(a.eColumnDropList,"listbox"),a}return __extends$3a(r,l),r.prototype.isHorizontal=function(){return this.horizontal},r.prototype.toggleResizable=function(e){this.positionableFeature.setResizable(!!e&&{bottom:!0}),this.resizeEnabled=e},r.prototype.setBeans=function(e){this.beans=e},r.prototype.destroy=function(){this.destroyGui(),l.prototype.destroy.call(this)},r.prototype.destroyGui=function(){this.guiDestroyFunctions.forEach(function(e){return e()}),this.guiDestroyFunctions.length=0,this.childColumnComponents.length=0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.clearElement(this.getGui()),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.clearElement(this.eColumnDropList)},r.prototype.init=function(e){this.params=e,this.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.D_6(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.addManagedListener(this.beans.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_NEW_COLUMNS_LOADED,this.refreshGui.bind(this)),this.addManagedListener(this.beans.gridOptionsWrapper,"functionsReadOnly",this.refreshGui.bind(this)),this.setupDropTarget(),this.positionableFeature=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Gxm(this.getGui(),{minHeight:100}),this.createManagedBean(this.positionableFeature),this.refreshGui(),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaLabel(this.eColumnDropList,this.getAriaLabel())},r.prototype.handleKeyDown=function(e){var a=e.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.DOWN,s=e.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.UP;if(this.horizontal){var d=this.gridOptionsWrapper.isEnableRtl();a=!d&&e.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.RIGHT||d&&e.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.LEFT,s=!d&&e.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.LEFT||d&&e.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.RIGHT}if(a||s){var h=this.focusService.findNextFocusableElement(this.getFocusableElement(),!1,s);h&&(e.preventDefault(),h.focus())}},r.prototype.addElementClasses=function(e,i){e.classList.add("ag-column-drop"+(i=i?"-"+i:""),"ag-column-drop-"+(this.horizontal?"horizontal":"vertical")+i)},r.prototype.setupDropTarget=function(){this.dropTarget={getContainer:this.getGui.bind(this),getIconName:this.getIconName.bind(this),onDragging:this.onDragging.bind(this),onDragEnter:this.onDragEnter.bind(this),onDragLeave:this.onDragLeave.bind(this),onDragStop:this.onDragStop.bind(this),isInterestedIn:this.isInterestedIn.bind(this)},this.beans.dragAndDropService.addDropTarget(this.dropTarget)},r.prototype.isInterestedIn=function(e){return e===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.rvo.HeaderCell||e===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.rvo.ToolPanel},r.prototype.checkInsertIndex=function(e){var i=this.getNewInsertIndex(e);if(i<0)return!1;var a=i!==this.insertIndex;return a&&(this.insertIndex=i),a},r.prototype.getNewInsertIndex=function(e){var i=this,a=e.event,s=this.horizontal?a.clientX:a.clientY,d=this.childColumnComponents.map(function(m){return m.getGui().getBoundingClientRect()}),h=d.findIndex(function(m){return i.horizontal?m.right>s&&m.left<s:m.top<s&&m.bottom>s});if(-1===h){var v=this.beans.gridOptionsWrapper.isEnableRtl();return d.every(function(m){return s>(i.horizontal?m.right:m.bottom)})?v&&this.horizontal?0:this.childColumnComponents.length:d.every(function(m){return s<(i.horizontal?m.left:m.top)})?v&&this.horizontal?this.childColumnComponents.length:0:this.insertIndex}return this.insertIndex<=h?h+1:h},r.prototype.checkDragStartedBySelf=function(e){this.state===r.STATE_NOT_DRAGGING&&(this.state=r.STATE_REARRANGE_COLUMNS,this.potentialDndColumns=e.dragSource.getDragItem().columns||[],this.refreshGui(),this.checkInsertIndex(e),this.refreshGui())},r.prototype.onDragging=function(e){this.checkDragStartedBySelf(e),this.checkInsertIndex(e)&&this.refreshGui()},r.prototype.onDragEnter=function(e){var i=e.dragSource.getDragItem().columns||[];this.state=r.STATE_NEW_COLUMNS_IN;var a=i.filter(this.isColumnDroppable.bind(this));if(a.length>0){if(this.isRowGroupPanel()&&!this.gridOptionsWrapper.isSuppressRowGroupHidesColumns()&&!e.fromNudge){var d=e.dragSource.getDragItem();this.setColumnsVisible(d.columns,!1,"uiColumnDragged")}this.potentialDndColumns=a,this.checkInsertIndex(e),this.refreshGui()}},r.prototype.setColumnsVisible=function(e,i,a){if(void 0===a&&(a="api"),e){var s=e.filter(function(d){return!d.getColDef().lockVisible});this.colModel.setColumnsVisible(s,i,a)}},r.prototype.isPotentialDndColumns=function(){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.existsAndNotEmpty(this.potentialDndColumns)},r.prototype.isRowGroupPanel=function(){return"rowGroup"===this.dropZonePurpose},r.prototype.onDragLeave=function(e){if(this.state===r.STATE_REARRANGE_COLUMNS){var i=e.dragSource.getDragItem().columns||[];this.removeColumns(i)}if(this.isPotentialDndColumns()){if(this.isRowGroupPanel()&&!this.gridOptionsWrapper.isSuppressMakeColumnVisibleAfterUnGroup()&&!e.fromNudge){var s=e.dragSource.getDragItem();this.setColumnsVisible(s.columns,!0,"uiColumnDragged")}this.potentialDndColumns=[],this.refreshGui()}this.state=r.STATE_NOT_DRAGGING},r.prototype.onDragStop=function(){if(this.isPotentialDndColumns()){var e=!1;this.state===r.STATE_NEW_COLUMNS_IN?(this.addColumns(this.potentialDndColumns),e=!0):e=this.rearrangeColumns(this.potentialDndColumns),this.potentialDndColumns=[],(!this.beans.gridOptionsWrapper.isFunctionsPassive()||!e)&&this.refreshGui()}this.state=r.STATE_NOT_DRAGGING},r.prototype.removeColumns=function(e){var i=this.getExistingColumns().filter(function(a){return!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(e,a)});this.updateColumns(i)},r.prototype.addColumns=function(e){if(e){var i=this.getExistingColumns().slice(),a=e.filter(function(s){return i.indexOf(s)<0});ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.insertArrayIntoArray(i,a,this.insertIndex),this.updateColumns(i)}},r.prototype.rearrangeColumns=function(e){var i=this.getNonGhostColumns().slice();return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.insertArrayIntoArray(i,e,this.insertIndex),!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.areEqual(i,this.getExistingColumns())&&(this.updateColumns(i),!0)},r.prototype.refreshGui=function(){var e=this.eColumnDropList.scrollTop,i=this.resizeEnabled,a=this.getFocusedItem(),s=this.focusService.findNextFocusableElement();s||(s=this.focusService.findNextFocusableElement(void 0,!1,!0)),this.toggleResizable(!1),this.destroyGui(),this.addIconAndTitleToGui(),this.addEmptyMessageToGui(),this.addColumnsToGui(),this.isHorizontal()||(this.eColumnDropList.scrollTop=e),i&&this.toggleResizable(i),this.restoreFocus(a,s)},r.prototype.getFocusedItem=function(){var e=this.getGui(),i=this.gridOptionsWrapper.getDocument().activeElement;return e.contains(i)?Array.from(e.querySelectorAll(".ag-column-drop-cell")).indexOf(i):-1},r.prototype.restoreFocus=function(e,i){var a=this.getGui(),s=Array.from(a.querySelectorAll(".ag-column-drop-cell"));if(-1!==e){0===s.length&&i.focus();var h=s[Math.min(s.length-1,e)];h&&h.focus()}},r.prototype.getNonGhostColumns=function(){var e=this,i=this.getExistingColumns();return this.isPotentialDndColumns()?i.filter(function(a){return!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(e.potentialDndColumns,a)}):i},r.prototype.addColumnsToGui=function(){var e=this,a=this.getNonGhostColumns().map(function(d){return e.createColumnComponent(d,!1)});if(this.isPotentialDndColumns()){var s=this.potentialDndColumns.map(function(d){return e.createColumnComponent(d,!0)});this.insertIndex>=a.length?a.push.apply(a,__spread$t(s)):a.splice.apply(a,__spread$t([this.insertIndex,0],s))}this.appendChild(this.eColumnDropList),a.forEach(function(d,h){h>0&&e.addArrow(e.eColumnDropList),e.eColumnDropList.appendChild(d.getGui())}),this.addAriaLabelsToComponents()},r.prototype.addAriaLabelsToComponents=function(){var e=this;this.childColumnComponents.forEach(function(i,a){var s=i.getGui();ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaPosInSet(s,a+1),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaSetSize(s,e.childColumnComponents.length)})},r.prototype.createColumnComponent=function(e,i){var a=this,s=new DropZoneColumnComp(e,this.dropTarget,i,this.dropZonePurpose,this.horizontal);return s.addEventListener(DropZoneColumnComp.EVENT_COLUMN_REMOVE,this.removeColumns.bind(this,[e])),this.beans.context.createBean(s),this.guiDestroyFunctions.push(function(){return a.destroyBean(s)}),i||this.childColumnComponents.push(s),s},r.prototype.addIconAndTitleToGui=function(){var e=this.params.icon,i=document.createElement("div");if(i.setAttribute("aria-hidden","true"),this.addElementClasses(i,"title-bar"),this.addElementClasses(e,"icon"),this.addOrRemoveCssClass("ag-column-drop-empty",this.isExistingColumnsEmpty()),i.appendChild(e),!this.horizontal){var a=document.createElement("span");this.addElementClasses(a,"title"),a.innerHTML=this.params.title,i.appendChild(a)}this.appendChild(i)},r.prototype.isExistingColumnsEmpty=function(){return 0===this.getExistingColumns().length},r.prototype.addEmptyMessageToGui=function(){if(this.isExistingColumnsEmpty()&&!this.isPotentialDndColumns()){var e=document.createElement("span");e.innerHTML=this.params.emptyMessage,this.addElementClasses(e,"empty-message"),this.eColumnDropList.appendChild(e)}},r.prototype.addArrow=function(e){if(this.horizontal){var i=this.beans.gridOptionsWrapper.isEnableRtl(),a=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan(i?"smallLeft":"smallRight",this.beans.gridOptionsWrapper);this.addElementClasses(a,"cell-separator"),e.appendChild(a)}},r.STATE_NOT_DRAGGING="notDragging",r.STATE_NEW_COLUMNS_IN="newColumnsIn",r.STATE_REARRANGE_COLUMNS="rearrangeColumns",__decorate$1K([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],r.prototype,"colModel",void 0),__decorate$1K([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("focusService")],r.prototype,"focusService",void 0),r}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$39=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__decorate$1J=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},RowGroupDropZonePanel=function(l){function r(e){return l.call(this,e,"rowGroup")||this}return __extends$39(r,l),r.prototype.passBeansUp=function(){l.prototype.setBeans.call(this,{gridOptionsWrapper:this.gridOptionsWrapper,eventService:this.eventService,context:this.getContext(),loggerFactory:this.loggerFactory,dragAndDropService:this.dragAndDropService});var e=this.gridOptionsWrapper.getLocaleTextFunc(),i=e("rowGroupColumnsEmptyMessage","Drag here to set row groups"),a=e("groups","Row Groups");l.prototype.init.call(this,{dragAndDropIcon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jUB.ICON_GROUP,icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("rowGroupPanel",this.gridOptionsWrapper,null),emptyMessage:i,title:a}),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_ROW_GROUP_CHANGED,this.refreshGui.bind(this))},r.prototype.getAriaLabel=function(){return this.gridOptionsWrapper.getLocaleTextFunc()("ariaRowGroupDropZonePanelLabel","Row Groups")},r.prototype.getTooltipParams=function(){var e=l.prototype.getTooltipParams.call(this);return e.location="rowGroupColumnsList",e},r.prototype.isColumnDroppable=function(e){return!(this.gridOptionsWrapper.isFunctionsReadOnly()||!e.isPrimary())&&e.isAllowRowGroup()&&!e.isRowGroupActive()},r.prototype.updateColumns=function(e){this.gridOptionsWrapper.isFunctionsPassive()?this.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST,columns:e}):this.columnModel.setRowGroupColumns(e,"toolPanelUi")},r.prototype.getIconName=function(){return this.isPotentialDndColumns()?ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jUB.ICON_GROUP:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jUB.ICON_NOT_ALLOWED},r.prototype.getExistingColumns=function(){return this.columnModel.getRowGroupColumns()},__decorate$1J([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],r.prototype,"columnModel",void 0),__decorate$1J([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("loggerFactory")],r.prototype,"loggerFactory",void 0),__decorate$1J([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("dragAndDropService")],r.prototype,"dragAndDropService",void 0),__decorate$1J([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],r.prototype,"passBeansUp",null),r}(BaseDropZonePanel),__extends$38=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__decorate$1I=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},PivotDropZonePanel=function(l){function r(e){return l.call(this,e,"pivot")||this}return __extends$38(r,l),r.prototype.passBeansUp=function(){l.prototype.setBeans.call(this,{gridOptionsWrapper:this.gridOptionsWrapper,eventService:this.eventService,context:this.getContext(),loggerFactory:this.loggerFactory,dragAndDropService:this.dragAndDropService});var e=this.gridOptionsWrapper.getLocaleTextFunc(),i=e("pivotColumnsEmptyMessage","Drag here to set column labels"),a=e("pivots","Column Labels");l.prototype.init.call(this,{dragAndDropIcon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jUB.ICON_GROUP,icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("pivotPanel",this.gridOptionsWrapper,null),emptyMessage:i,title:a}),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_NEW_COLUMNS_LOADED,this.refresh.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PIVOT_CHANGED,this.refresh.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.checkVisibility.bind(this)),this.refresh()},r.prototype.getAriaLabel=function(){return this.gridOptionsWrapper.getLocaleTextFunc()("ariaPivotDropZonePanelLabel","Column Labels")},r.prototype.getTooltipParams=function(){var e=l.prototype.getTooltipParams.call(this);return e.location="pivotColumnsList",e},r.prototype.refresh=function(){this.checkVisibility(),this.refreshGui()},r.prototype.checkVisibility=function(){var e=this.columnModel.isPivotMode();if(this.isHorizontal())switch(this.gridOptionsWrapper.getPivotPanelShow()){case"always":this.setDisplayed(e);break;case"onlyWhenPivoting":var i=this.columnModel.isPivotActive();this.setDisplayed(e&&i);break;default:this.setDisplayed(!1)}else this.setDisplayed(e)},r.prototype.isColumnDroppable=function(e){return!(this.gridOptionsWrapper.isFunctionsReadOnly()||!e.isPrimary())&&e.isAllowPivot()&&!e.isPivotActive()},r.prototype.updateColumns=function(e){this.gridOptionsWrapper.isFunctionsPassive()?this.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PIVOT_CHANGE_REQUEST,columns:e}):this.columnModel.setPivotColumns(e,"toolPanelUi")},r.prototype.getIconName=function(){return this.isPotentialDndColumns()?ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jUB.ICON_PIVOT:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jUB.ICON_NOT_ALLOWED},r.prototype.getExistingColumns=function(){return this.columnModel.getPivotColumns()},__decorate$1I([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],r.prototype,"columnModel",void 0),__decorate$1I([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("loggerFactory")],r.prototype,"loggerFactory",void 0),__decorate$1I([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("dragAndDropService")],r.prototype,"dragAndDropService",void 0),__decorate$1I([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],r.prototype,"passBeansUp",null),r}(BaseDropZonePanel),__extends$37=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__decorate$1H=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},GridHeaderDropZones=function(l){function r(){return l.call(this)||this}return __extends$37(r,l),r.prototype.postConstruct=function(){this.setGui(this.createNorthPanel()),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_NEW_COLUMNS_LOADED,this.onRowGroupChanged.bind(this)),this.onRowGroupChanged()},r.prototype.createNorthPanel=function(){var e=document.createElement("div"),i=this.onDropPanelVisible.bind(this);return e.classList.add("ag-column-drop-wrapper"),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaRole(e,"presentation"),this.rowGroupComp=new RowGroupDropZonePanel(!0),this.createManagedBean(this.rowGroupComp),this.pivotComp=new PivotDropZonePanel(!0),this.createManagedBean(this.pivotComp),e.appendChild(this.rowGroupComp.getGui()),e.appendChild(this.pivotComp.getGui()),this.addManagedListener(this.rowGroupComp,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2.EVENT_DISPLAYED_CHANGED,i),this.addManagedListener(this.pivotComp,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2.EVENT_DISPLAYED_CHANGED,i),this.onDropPanelVisible(),e},r.prototype.onDropPanelVisible=function(){var e=this.rowGroupComp.isDisplayed()&&this.pivotComp.isDisplayed();this.rowGroupComp.addOrRemoveCssClass("ag-column-drop-horizontal-half-width",e),this.pivotComp.addOrRemoveCssClass("ag-column-drop-horizontal-half-width",e)},r.prototype.onRowGroupChanged=function(){if(this.rowGroupComp){var e=this.gridOptionsWrapper.getRowGroupPanelShow();if(e===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.gTE.ALWAYS)this.rowGroupComp.setDisplayed(!0);else if(e===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.gTE.ONLY_WHEN_GROUPING){var i=!this.columnModel.isRowGroupEmpty();this.rowGroupComp.setDisplayed(i)}else this.rowGroupComp.setDisplayed(!1)}},__decorate$1H([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],r.prototype,"columnModel",void 0),__decorate$1H([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],r.prototype,"postConstruct",null),r}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$36=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__decorate$1G=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},FilterAggregatesStage=function(l){function r(){return null!==l&&l.apply(this,arguments)||this}return __extends$36(r,l),r.prototype.execute=function(e){var i=this,a=this.columnModel.isPivotMode(),s=this.filterManager.isAggregateFilterPresent(),v=this.gridOptionsWrapper.getGroupAggFiltering()||(a?function(E){return E.node.leafGroup}:function(E){return!E.node.group}),y=function(E,w){void 0===w&&(w=!1),E.childrenAfterFilter&&(E.childrenAfterAggFilter=E.childrenAfterFilter,w&&E.childrenAfterAggFilter.forEach(function(S){return y(S,w)}),i.setAllChildrenCount(E)),E.sibling&&(E.sibling.childrenAfterAggFilter=E.childrenAfterAggFilter)};e.changedPath.forEachChangedNodeDepthFirst(s?function(E){var w;E.childrenAfterAggFilter=(null===(w=E.childrenAfterFilter)||void 0===w?void 0:w.filter(function(S){var D;return v({node:S})&&i.filterManager.doesRowPassAggregateFilters({rowNode:S})?(y(S,!0),!0):null===(D=S.childrenAfterAggFilter)||void 0===D?void 0:D.length}))||null,i.setAllChildrenCount(E),E.sibling&&(E.sibling.childrenAfterAggFilter=E.childrenAfterAggFilter)}:y,!0)},r.prototype.setAllChildrenCountTreeData=function(e){var i=0;e.childrenAfterAggFilter.forEach(function(a){i++,i+=a.allChildrenCount}),e.setAllChildrenCount(i)},r.prototype.setAllChildrenCountGridGrouping=function(e){var i=0;e.childrenAfterAggFilter.forEach(function(a){a.group?i+=a.allChildrenCount:i++}),e.setAllChildrenCount(i)},r.prototype.setAllChildrenCount=function(e){e.hasChildren()?this.gridOptionsWrapper.isTreeData()?this.setAllChildrenCountTreeData(e):this.setAllChildrenCountGridGrouping(e):e.setAllChildrenCount(null)},__decorate$1G([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("filterManager")],r.prototype,"filterManager",void 0),__decorate$1G([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],r.prototype,"columnModel",void 0),__decorate$1G([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("filterAggregatesStage")],r)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),RowGroupingModule={moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.RowGroupingModule,beans:[AggregationStage,FilterAggregatesStage,GroupStage,PivotColDefService,PivotStage,AggFuncService],agStackComponents:[{componentName:"AgGridHeaderDropZones",componentClass:GridHeaderDropZones}],dependantModules:[EnterpriseCoreModule]},__extends$35=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__decorate$1F=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},ValuesDropZonePanel=function(l){function r(e){return l.call(this,e,"aggregation")||this}return __extends$35(r,l),r.prototype.passBeansUp=function(){l.prototype.setBeans.call(this,{gridOptionsWrapper:this.gridOptionsWrapper,eventService:this.eventService,context:this.getContext(),loggerFactory:this.loggerFactory,dragAndDropService:this.dragAndDropService});var e=this.gridOptionsWrapper.getLocaleTextFunc(),i=e("valueColumnsEmptyMessage","Drag here to aggregate"),a=e("values","Values");l.prototype.init.call(this,{dragAndDropIcon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jUB.ICON_AGGREGATE,icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("valuePanel",this.gridOptionsWrapper,null),emptyMessage:i,title:a}),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_VALUE_CHANGED,this.refreshGui.bind(this))},r.prototype.getAriaLabel=function(){return this.gridOptionsWrapper.getLocaleTextFunc()("ariaValuesDropZonePanelLabel","Values")},r.prototype.getTooltipParams=function(){var e=l.prototype.getTooltipParams.call(this);return e.location="valueColumnsList",e},r.prototype.getIconName=function(){return this.isPotentialDndColumns()?ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jUB.ICON_AGGREGATE:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jUB.ICON_NOT_ALLOWED},r.prototype.isColumnDroppable=function(e){return!(this.gridOptionsWrapper.isFunctionsReadOnly()||!e.isPrimary())&&e.isAllowValue()&&!e.isValueActive()},r.prototype.updateColumns=function(e){this.gridOptionsWrapper.isFunctionsPassive()?this.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_VALUE_CHANGE_REQUEST,columns:e}):this.columnModel.setValueColumns(e,"toolPanelUi")},r.prototype.getExistingColumns=function(){return this.columnModel.getValueColumns()},__decorate$1F([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],r.prototype,"columnModel",void 0),__decorate$1F([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("loggerFactory")],r.prototype,"loggerFactory",void 0),__decorate$1F([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("dragAndDropService")],r.prototype,"dragAndDropService",void 0),__decorate$1F([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],r.prototype,"passBeansUp",null),r}(BaseDropZonePanel),__extends$34=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__decorate$1E=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},PrimaryColsPanel=function(l){function r(){return l.call(this,r.TEMPLATE)||this}return __extends$34(r,l),r.prototype.postConstruct=function(){this.initialiseTabGuard({})},r.prototype.init=function(e,i,a){this.allowDragging=e,this.params=i,this.eventType=a,this.primaryColsHeaderPanel.init(this.params),this.params.suppressColumnExpandAll&&this.params.suppressColumnFilter&&this.params.suppressColumnSelectAll&&this.primaryColsHeaderPanel.setDisplayed(!1),this.addManagedListener(this.primaryColsListPanel,"groupExpanded",this.onGroupExpanded.bind(this)),this.addManagedListener(this.primaryColsListPanel,"selectionChanged",this.onSelectionChange.bind(this)),this.primaryColsListPanel.init(this.params,this.allowDragging,this.eventType),this.addManagedListener(this.primaryColsHeaderPanel,"expandAll",this.onExpandAll.bind(this)),this.addManagedListener(this.primaryColsHeaderPanel,"collapseAll",this.onCollapseAll.bind(this)),this.addManagedListener(this.primaryColsHeaderPanel,"selectAll",this.onSelectAll.bind(this)),this.addManagedListener(this.primaryColsHeaderPanel,"unselectAll",this.onUnselectAll.bind(this)),this.addManagedListener(this.primaryColsHeaderPanel,"filterChanged",this.onFilterChanged.bind(this)),this.positionableFeature=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Gxm(this.getGui(),{minHeight:100}),this.createManagedBean(this.positionableFeature)},r.prototype.toggleResizable=function(e){this.positionableFeature.setResizable(!!e&&{bottom:!0})},r.prototype.onExpandAll=function(){this.primaryColsListPanel.doSetExpandedAll(!0)},r.prototype.onCollapseAll=function(){this.primaryColsListPanel.doSetExpandedAll(!1)},r.prototype.expandGroups=function(e){this.primaryColsListPanel.setGroupsExpanded(!0,e)},r.prototype.collapseGroups=function(e){this.primaryColsListPanel.setGroupsExpanded(!1,e)},r.prototype.setColumnLayout=function(e){this.primaryColsListPanel.setColumnLayout(e)},r.prototype.onFilterChanged=function(e){this.primaryColsListPanel.setFilterText(e.filterText)},r.prototype.syncLayoutWithGrid=function(){this.primaryColsListPanel.onColumnsChanged()},r.prototype.onSelectAll=function(){this.primaryColsListPanel.doSetSelectedAll(!0)},r.prototype.onUnselectAll=function(){this.primaryColsListPanel.doSetSelectedAll(!1)},r.prototype.onGroupExpanded=function(e){this.primaryColsHeaderPanel.setExpandState(e.state)},r.prototype.onSelectionChange=function(e){this.primaryColsHeaderPanel.setSelectionState(e.state)},r.TEMPLATE='<div class="ag-column-select">\n            <ag-primary-cols-header ref="primaryColsHeaderPanel"></ag-primary-cols-header>\n            <ag-primary-cols-list ref="primaryColsListPanel"></ag-primary-cols-list>\n        </div>',__decorate$1E([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("primaryColsHeaderPanel")],r.prototype,"primaryColsHeaderPanel",void 0),__decorate$1E([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("primaryColsListPanel")],r.prototype,"primaryColsListPanel",void 0),__decorate$1E([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],r.prototype,"postConstruct",null),r}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.BxR),__extends$33=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__decorate$1D=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},ColumnToolPanel=function(l){function r(){var e=l.call(this,r.TEMPLATE)||this;return e.initialised=!1,e.childDestroyFuncs=[],e}return __extends$33(r,l),r.prototype.setVisible=function(e){l.prototype.setDisplayed.call(this,e),e&&!this.initialised&&this.init(this.params)},r.prototype.init=function(e){var i=this,a={suppressColumnMove:!1,suppressColumnSelectAll:!1,suppressColumnFilter:!1,suppressColumnExpandAll:!1,contractColumnSelection:!1,suppressPivotMode:!1,suppressRowGroups:!1,suppressValues:!1,suppressPivots:!1,suppressSyncLayoutWithGrid:!1,api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext()};if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.mergeDeep(a,e),this.params=a,this.isRowGroupingModuleLoaded()&&!this.params.suppressPivotMode&&(this.pivotModePanel=this.createBean(new PivotModePanel),this.childDestroyFuncs.push(function(){return i.destroyBean(i.pivotModePanel)}),this.appendChild(this.pivotModePanel)),this.primaryColsPanel=this.createBean(new PrimaryColsPanel),this.childDestroyFuncs.push(function(){return i.destroyBean(i.primaryColsPanel)}),this.primaryColsPanel.init(!0,this.params,"toolPanelUi"),this.primaryColsPanel.addCssClass("ag-column-panel-column-select"),this.appendChild(this.primaryColsPanel),this.isRowGroupingModuleLoaded()){this.params.suppressRowGroups||(this.rowGroupDropZonePanel=this.createBean(new RowGroupDropZonePanel(!1)),this.childDestroyFuncs.push(function(){return i.destroyBean(i.rowGroupDropZonePanel)}),this.appendChild(this.rowGroupDropZonePanel)),this.params.suppressValues||(this.valuesDropZonePanel=this.createBean(new ValuesDropZonePanel(!1)),this.childDestroyFuncs.push(function(){return i.destroyBean(i.valuesDropZonePanel)}),this.appendChild(this.valuesDropZonePanel)),this.params.suppressPivots||(this.pivotDropZonePanel=this.createBean(new PivotDropZonePanel(!1)),this.childDestroyFuncs.push(function(){return i.destroyBean(i.pivotDropZonePanel)}),this.appendChild(this.pivotDropZonePanel)),this.setLastVisible();var s=this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PIVOT_MODE_CHANGED,function(){i.resetChildrenHeight(),i.setLastVisible()});this.childDestroyFuncs.push(function(){return s()})}this.initialised=!0},r.prototype.setPivotModeSectionVisible=function(e){var i=this;!this.isRowGroupingModuleLoaded()||(this.pivotModePanel?this.pivotModePanel.setDisplayed(e):e&&(this.pivotModePanel=this.createBean(new PivotModePanel),this.getGui().insertBefore(this.pivotModePanel.getGui(),this.getGui().firstChild),this.childDestroyFuncs.push(function(){return i.destroyBean(i.pivotModePanel)})),this.setLastVisible())},r.prototype.setRowGroupsSectionVisible=function(e){!this.isRowGroupingModuleLoaded()||(this.rowGroupDropZonePanel?this.rowGroupDropZonePanel.setDisplayed(e):e&&(this.rowGroupDropZonePanel=this.createManagedBean(new RowGroupDropZonePanel(!1)),this.appendChild(this.rowGroupDropZonePanel)),this.setLastVisible())},r.prototype.setValuesSectionVisible=function(e){!this.isRowGroupingModuleLoaded()||(this.valuesDropZonePanel?this.valuesDropZonePanel.setDisplayed(e):e&&(this.valuesDropZonePanel=this.createManagedBean(new ValuesDropZonePanel(!1)),this.appendChild(this.valuesDropZonePanel)),this.setLastVisible())},r.prototype.setPivotSectionVisible=function(e){!this.isRowGroupingModuleLoaded()||(this.pivotDropZonePanel?this.pivotDropZonePanel.setDisplayed(e):e&&(this.pivotDropZonePanel=this.createManagedBean(new PivotDropZonePanel(!1)),this.appendChild(this.pivotDropZonePanel),this.pivotDropZonePanel.setDisplayed(e)),this.setLastVisible())},r.prototype.setResizers=function(){[this.primaryColsPanel,this.rowGroupDropZonePanel,this.valuesDropZonePanel,this.pivotDropZonePanel].forEach(function(e){if(e){var i=e.getGui();e.toggleResizable(!i.classList.contains("ag-last-column-drop")&&!i.classList.contains("ag-hidden"))}})},r.prototype.setLastVisible=function(){var e=this.getGui();Array.prototype.slice.call(e.querySelectorAll(".ag-column-drop")).forEach(function(d){return d.classList.remove("ag-last-column-drop")});var a=e.querySelectorAll(".ag-column-drop:not(.ag-hidden)"),s=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(a);s&&s.classList.add("ag-last-column-drop"),this.setResizers()},r.prototype.resetChildrenHeight=function(){for(var i=this.getGui().children,a=0;a<i.length;a++){var s=i[a];s.style.removeProperty("height"),s.style.removeProperty("flex")}},r.prototype.isRowGroupingModuleLoaded=function(){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.assertRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.RowGroupingModule,"Row Grouping")},r.prototype.expandColumnGroups=function(e){this.primaryColsPanel.expandGroups(e)},r.prototype.collapseColumnGroups=function(e){this.primaryColsPanel.collapseGroups(e)},r.prototype.setColumnLayout=function(e){this.primaryColsPanel.setColumnLayout(e)},r.prototype.syncLayoutWithGrid=function(){this.primaryColsPanel.syncLayoutWithGrid()},r.prototype.destroyChildren=function(){this.childDestroyFuncs.forEach(function(e){return e()}),this.childDestroyFuncs.length=0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.clearElement(this.getGui())},r.prototype.refresh=function(){this.destroyChildren(),this.init(this.params)},r.prototype.destroy=function(){this.destroyChildren(),l.prototype.destroy.call(this)},r.TEMPLATE='<div class="ag-column-panel"></div>',__decorate$1D([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],r.prototype,"gridApi",void 0),__decorate$1D([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnApi")],r.prototype,"columnApi",void 0),r}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$32=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__decorate$1C=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},HorizontalResizeComp=function(l){function r(){var e=l.call(this,'<div class="ag-tool-panel-horizontal-resize"></div>')||this;return e.minWidth=100,e.maxWidth=null,e}return __extends$32(r,l),r.prototype.setElementToResize=function(e){this.elementToResize=e},r.prototype.postConstruct=function(){var e=this.horizontalResizeService.addResizeBar({eResizeBar:this.getGui(),dragStartPixels:1,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this),onResizeEnd:this.onResizing.bind(this)});this.addDestroyFunc(e),this.setInverted(this.gridOptionsWrapper.isEnableRtl())},r.prototype.onResizeStart=function(){this.startingWidth=this.elementToResize.offsetWidth},r.prototype.onResizing=function(e){var a=Math.max(this.minWidth,Math.floor(this.startingWidth-e*(this.inverted?-1:1)));null!=this.maxWidth&&(a=Math.min(this.maxWidth,a)),this.elementToResize.style.width=a+"px"},r.prototype.setInverted=function(e){this.inverted=e},r.prototype.setMaxWidth=function(e){this.maxWidth=e},r.prototype.setMinWidth=function(e){this.minWidth=null!=e?e:100},__decorate$1C([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("horizontalResizeService")],r.prototype,"horizontalResizeService",void 0),__decorate$1C([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],r.prototype,"postConstruct",null),r}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$31=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__decorate$1B=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},SideBarButtonComp=function(l){function r(e){var i=l.call(this)||this;return i.toolPanelDef=e,i}return __extends$31(r,l),r.prototype.getToolPanelId=function(){return this.toolPanelDef.id},r.prototype.postConstruct=function(){var e=this.createTemplate();this.setTemplate(e),this.eIconWrapper.insertAdjacentElement("afterbegin",ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan(this.toolPanelDef.iconKey,this.gridOptionsWrapper)),this.addManagedListener(this.eToggleButton,"click",this.onButtonPressed.bind(this))},r.prototype.createTemplate=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc(),i=this.toolPanelDef;return'<div class="ag-side-button" role="presentation">\n                <button type="button" ref="eToggleButton" tabindex="-1" role="tab" class="ag-side-button-button">\n                    <div ref="eIconWrapper" class="ag-side-button-icon-wrapper" aria-hidden="true"></div>\n                    <span class="ag-side-button-label">'+e(i.labelKey,i.labelDefault)+"</span>\n                </button>\n            </div>"},r.prototype.onButtonPressed=function(){this.dispatchEvent({type:r.EVENT_TOGGLE_BUTTON_CLICKED})},r.prototype.setSelected=function(e){this.addOrRemoveCssClass("ag-selected",e)},r.EVENT_TOGGLE_BUTTON_CLICKED="toggleButtonClicked",__decorate$1B([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eToggleButton")],r.prototype,"eToggleButton",void 0),__decorate$1B([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eIconWrapper")],r.prototype,"eIconWrapper",void 0),__decorate$1B([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],r.prototype,"postConstruct",null),r}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$30=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__decorate$1A=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},SideBarButtonsComp=function(l){function r(){var e=l.call(this,r.TEMPLATE)||this;return e.buttonComps=[],e}return __extends$30(r,l),r.prototype.postConstruct=function(){this.addManagedListener(this.getFocusableElement(),"keydown",this.handleKeyDown.bind(this))},r.prototype.handleKeyDown=function(e){if(e.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.TAB&&e.shiftKey){var i=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(this.columnModel.getAllDisplayedColumns());this.focusService.focusGridView(i,!0)&&e.preventDefault()}},r.prototype.setToolPanelDefs=function(e){e.forEach(this.addButtonComp.bind(this))},r.prototype.setActiveButton=function(e){this.buttonComps.forEach(function(i){i.setSelected(e===i.getToolPanelId())})},r.prototype.addButtonComp=function(e){var i=this,a=this.createBean(new SideBarButtonComp(e));this.buttonComps.push(a),this.appendChild(a),a.addEventListener(SideBarButtonComp.EVENT_TOGGLE_BUTTON_CLICKED,function(){i.dispatchEvent({type:r.EVENT_SIDE_BAR_BUTTON_CLICKED,toolPanelId:e.id})})},r.prototype.clearButtons=function(){this.buttonComps=this.destroyBeans(this.buttonComps),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.clearElement(this.getGui())},r.EVENT_SIDE_BAR_BUTTON_CLICKED="sideBarButtonClicked",r.TEMPLATE='<div class="ag-side-buttons" role="tablist"></div>',__decorate$1A([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("focusService")],r.prototype,"focusService",void 0),__decorate$1A([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],r.prototype,"columnModel",void 0),__decorate$1A([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],r.prototype,"postConstruct",null),__decorate$1A([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FXL],r.prototype,"clearButtons",null),r}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$2$=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__decorate$1z=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},ToolPanelWrapper=function(l){function r(){return l.call(this,r.TEMPLATE)||this}return __extends$2$(r,l),r.prototype.setupResize=function(){var e=this.getGui(),i=this.resizeBar=this.createManagedBean(new HorizontalResizeComp);i.setElementToResize(e),this.appendChild(i)},r.prototype.getToolPanelId=function(){return this.toolPanelId},r.prototype.setToolPanelDef=function(e){var i=e.id,a=e.minWidth,s=e.maxWidth,d=e.width;this.toolPanelId=i,this.width=d;var _=this.userComponentFactory.getToolPanelCompDetails(e,{}).newAgStackInstance();null!=_?(_.then(this.setToolPanelComponent.bind(this)),null!=a&&this.resizeBar.setMinWidth(a),null!=s&&this.resizeBar.setMaxWidth(s)):console.warn("AG Grid: error processing tool panel component "+i+". You need to specify either 'toolPanel' or 'toolPanelFramework'")},r.prototype.setToolPanelComponent=function(e){var i=this;this.toolPanelCompInstance=e,this.appendChild(e.getGui()),this.addDestroyFunc(function(){i.destroyBean(e)}),this.width&&(this.getGui().style.width=this.width+"px")},r.prototype.getToolPanelInstance=function(){return this.toolPanelCompInstance},r.prototype.setResizerSizerSide=function(e){var i=this.gridOptionsWrapper.isEnableRtl(),a="left"===e;this.resizeBar.setInverted(i?a:!a)},r.prototype.refresh=function(){this.toolPanelCompInstance.refresh()},r.TEMPLATE='<div class="ag-tool-panel-wrapper"/>',__decorate$1z([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("userComponentFactory")],r.prototype,"userComponentFactory",void 0),__decorate$1z([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],r.prototype,"setupResize",null),r}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$2_=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__decorate$1y=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},SideBarComp=function(l){function r(){var e=l.call(this,r.TEMPLATE)||this;return e.toolPanelWrappers=[],e}return __extends$2_(r,l),r.prototype.postConstruct=function(){var e=this;this.sideBarButtonsComp.addEventListener(SideBarButtonsComp.EVENT_SIDE_BAR_BUTTON_CLICKED,this.onToolPanelButtonClicked.bind(this)),this.setSideBarDef(),this.gridOptionsWrapper.addEventListener("sideBar",function(){e.clearDownUi(),e.setSideBarDef()}),this.gridApi.registerSideBarComp(this),this.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.D_6(this.getFocusableElement(),{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this)}))},r.prototype.onTabKeyDown=function(e){if(!e.defaultPrevented){var a=this.focusService,s=this.sideBarButtonsComp,d=this.getGui(),h=s.getGui(),_=this.gridOptionsWrapper.getDocument().activeElement,y=d.querySelector(".ag-tool-panel-wrapper:not(.ag-hidden)");if(y)if(h.contains(_))a.focusInto(y,e.shiftKey)&&e.preventDefault();else if(!a.isFocusUnderManagedComponent(y)&&e.shiftKey){var m=a.findFocusableElements(y)[0];if(this.gridOptionsWrapper.getDocument().activeElement===m){var w=h.querySelector(".ag-selected button");w&&(e.preventDefault(),w.focus())}}}},r.prototype.handleKeyDown=function(e){var i=this.gridOptionsWrapper.getDocument();if(this.sideBarButtonsComp.getGui().contains(i.activeElement)){var a=this.sideBarButtonsComp.getGui(),s=Array.prototype.slice.call(a.querySelectorAll(".ag-side-button")),d=i.activeElement,h=s.findIndex(function(y){return y.contains(d)}),v=null;switch(e.key){case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.LEFT:case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.UP:v=Math.max(0,h-1);break;case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.RIGHT:case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.DOWN:v=Math.min(h+1,s.length-1)}if(null!==v){var _=s[v].querySelector("button");_&&(_.focus(),e.preventDefault())}}},r.prototype.onToolPanelButtonClicked=function(e){var i=e.toolPanelId,a=this.openedItem();this.openToolPanel(a===i?void 0:i)},r.prototype.clearDownUi=function(){this.sideBarButtonsComp.clearButtons(),this.destroyToolPanelWrappers()},r.prototype.setSideBarDef=function(){this.setDisplayed(!1);var e=this.gridOptionsWrapper.getSideBar(),i=!!e&&!!e.toolPanels;if(i){this.setDisplayed(i&&!e.hiddenByDefault);var s=e.toolPanels;this.sideBarButtonsComp.setToolPanelDefs(s),this.setupToolPanels(s),this.setSideBarPosition(e.position),e.hiddenByDefault||this.openToolPanel(e.defaultToolPanel)}},r.prototype.setSideBarPosition=function(e){e||(e="right");var i="left"===e,a=i?"right":"left";return this.addOrRemoveCssClass("ag-side-bar-left",i),this.addOrRemoveCssClass("ag-side-bar-right",!i),this.toolPanelWrappers.forEach(function(s){s.setResizerSizerSide(a)}),this},r.prototype.setupToolPanels=function(e){var i=this;e.forEach(function(a){if(null!=a.id){if("agColumnsToolPanel"===a.toolPanel&&!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.assertRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.ColumnToolPanelModule,"Column Tool Panel"))return;if("agFiltersToolPanel"===a.toolPanel&&!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.assertRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.FiltersToolPanelModule,"Filters Tool Panel"))return;var d=new ToolPanelWrapper;i.getContext().createBean(d),d.setToolPanelDef(a),d.setDisplayed(!1),i.getGui().appendChild(d.getGui()),i.toolPanelWrappers.push(d)}else console.warn("AG Grid: please review all your toolPanel components, it seems like at least one of them doesn't have an id")})},r.prototype.refresh=function(){this.toolPanelWrappers.forEach(function(e){return e.refresh()})},r.prototype.openToolPanel=function(e){var i=this.openedItem();i!==e&&(this.toolPanelWrappers.forEach(function(d){var h=e===d.getToolPanelId();d.setDisplayed(h)}),i!==this.openedItem()&&(this.sideBarButtonsComp.setActiveButton(e),this.raiseToolPanelVisibleEvent(e)))},r.prototype.getToolPanelInstance=function(e){var i=this.toolPanelWrappers.filter(function(a){return a.getToolPanelId()===e})[0];if(i)return i.getToolPanelInstance();console.warn("AG Grid: unable to lookup Tool Panel as invalid key supplied: "+e)},r.prototype.raiseToolPanelVisibleEvent=function(e){this.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_TOOL_PANEL_VISIBLE_CHANGED,source:e})},r.prototype.close=function(){this.openToolPanel(void 0)},r.prototype.isToolPanelShowing=function(){return!!this.openedItem()},r.prototype.openedItem=function(){var e=null;return this.toolPanelWrappers.forEach(function(i){i.isDisplayed()&&(e=i.getToolPanelId())}),e},r.prototype.destroyToolPanelWrappers=function(){var e=this;this.toolPanelWrappers.forEach(function(i){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeFromParent(i.getGui()),e.destroyBean(i)}),this.toolPanelWrappers.length=0},r.prototype.destroy=function(){this.destroyToolPanelWrappers(),l.prototype.destroy.call(this)},r.TEMPLATE='<div class="ag-side-bar ag-unselectable">\n            <ag-side-bar-buttons ref="sideBarButtons"></ag-side-bar-buttons>\n        </div>',__decorate$1y([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],r.prototype,"gridApi",void 0),__decorate$1y([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("focusService")],r.prototype,"focusService",void 0),__decorate$1y([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("sideBarButtons")],r.prototype,"sideBarButtonsComp",void 0),__decorate$1y([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],r.prototype,"postConstruct",null),r}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$2Z=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__decorate$1x=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},ToolPanelColDefService=function(l){function r(){var e=null!==l&&l.apply(this,arguments)||this;return e.isColGroupDef=function(i){return i&&typeof i.children<"u"},e.getId=function(i){return e.isColGroupDef(i)?i.groupId:i.colId},e}return __extends$2Z(r,l),r.prototype.createColumnTree=function(e){var i=this,a=[],s=function(h,v){if(i.isColGroupDef(h)){var _=h,m=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KTm(_,typeof _.groupId<"u"?_.groupId:_.headerName,!1,v),E=[];return _.children.forEach(function(T){var b=s(T,v+1);b&&E.push(b)}),m.setChildren(E),m}var w=h,D=i.columnModel.getPrimaryColumn(w.colId?w.colId:w.field);return D||a.push(w),D},d=[];return e.forEach(function(h){var v=s(h,0);v&&d.push(v)}),a.length>0&&console.warn("AG Grid: unable to find grid columns for the supplied colDef(s):",a),d},r.prototype.syncLayoutWithGrid=function(e){var i=this.getLeafPathTrees();e(this.mergeLeafPathTrees(i))},r.prototype.getLeafPathTrees=function(){var e=function(s,d){var h;if(s instanceof ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KTm)if(s.isPadding())h=d;else{var v=Object.assign({},s.getColGroupDef());v.groupId=s.getGroupId(),v.children=[d],h=v}else{var _=Object.assign({},s.getColDef());_.colId=s.getColId(),h=_}var y=s.getOriginalParent();return y?e(y,h):h};return this.columnModel.getAllGridColumns().filter(function(s){var d=s.getColDef();return s.isPrimary()&&!d.showRowGroup}).map(function(s){return e(s,s.getColDef())})},r.prototype.mergeLeafPathTrees=function(e){for(var i=this,s=function(y,m){if(!i.isColGroupDef(m))return y;var E=y,w=m;return w.children&&w.groupId&&i.addChildrenToGroup(E,w.groupId,w.children[0])||w.children.forEach(function(D){return s(E,D)}),E},d=[],h=1;h<=e.length;h++){var v=e[h-1],_=e[h];m=_,i.isColGroupDef(y=v)&&i.isColGroupDef(m)&&i.getId(y)===i.getId(m)?e[h]=s(v,_):d.push(v)}var y,m;return d},r.prototype.addChildrenToGroup=function(e,i,a){var s=this;if(!this.isColGroupDef(e))return!0;var m,E,w,S,D,T,h=e,v=a;if(E=v,w=(m=h).children.map(s.getId),S=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(w,s.getId(E)),T=(D=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(m.children))&&s.getId(D)!==s.getId(E),S&&T)return h.children.push(v),!0;if(h.groupId===i){var _=h.children.map(this.getId);if(!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(_,this.getId(v)))return h.children.push(v),!0}return h.children.forEach(function(m){return s.addChildrenToGroup(m,i,a)}),!1},__decorate$1x([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],r.prototype,"columnModel",void 0),__decorate$1x([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("toolPanelColDefService")],r)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),SideBarModule={moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.SideBarModule,beans:[ToolPanelColDefService],agStackComponents:[{componentName:"AgHorizontalResize",componentClass:HorizontalResizeComp},{componentName:"AgSideBar",componentClass:SideBarComp},{componentName:"AgSideBarButtons",componentClass:SideBarButtonsComp}],dependantModules:[EnterpriseCoreModule]},__decorate$1w=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},ModelItemUtils=function(){function l(){}return l.prototype.selectAllChildren=function(r,e,i){var a=this.extractAllLeafColumns(r);this.setAllColumns(a,e,i)},l.prototype.setColumn=function(r,e,i){this.setAllColumns([r],e,i)},l.prototype.setAllColumns=function(r,e,i){this.columnModel.isPivotMode()?this.setAllPivot(r,e,i):this.setAllVisible(r,e,i)},l.prototype.extractAllLeafColumns=function(r){var e=[],i=function(a){a.forEach(function(s){!s.isPassesFilter()||(s.isGroup()?i(s.getChildren()):e.push(s.getColumn()))})};return i(r),e},l.prototype.setAllVisible=function(r,e,i){var a=[];r.forEach(function(s){s.getColDef().lockVisible||s.isVisible()!=e&&a.push({colId:s.getId(),hide:!e})}),a.length>0&&this.columnModel.applyColumnState({state:a},i)},l.prototype.setAllPivot=function(r,e,i){this.gridOptionsWrapper.isFunctionsPassive()?this.setAllPivotPassive(r,e):this.setAllPivotActive(r,e,i)},l.prototype.setAllPivotPassive=function(r,e){var i=this.columnModel.getPivotColumns().slice(),a=this.columnModel.getValueColumns().slice(),s=this.columnModel.getRowGroupColumns().slice(),d=!1,h=!1,v=!1;r.forEach(e?function(D){D.isAnyFunctionActive()||(D.isAllowValue()?(a.push(D),h=!0):D.isAllowRowGroup()?(s.push(D),d=!0):D.isAllowPivot()&&(i.push(D),v=!0))}:function(D){!D.isAnyFunctionActive()||(i.indexOf(D)>=0&&(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeFromArray(i,D),d=!0),a.indexOf(D)>=0&&(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeFromArray(a,D),h=!0),s.indexOf(D)>=0&&(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeFromArray(s,D),v=!0))}),d&&this.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PIVOT_CHANGE_REQUEST,columns:i}),v&&this.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST,columns:s}),h&&this.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_VALUE_CHANGE_REQUEST,columns:s})},l.prototype.setAllPivotActive=function(r,e,i){var a=this,s=[];r.forEach(e?function(_){if(!_.isAnyFunctionActive())if(_.isAllowValue()){var y="string"==typeof _.getAggFunc()?_.getAggFunc():a.aggFuncService.getDefaultAggFunc(_);s.push({colId:_.getId(),aggFunc:y})}else _.isAllowRowGroup()?s.push({colId:_.getId(),rowGroup:!0}):_.isAllowPivot()&&s.push({colId:_.getId(),pivot:!0})}:function(_){(_.isPivotActive()||_.isRowGroupActive()||_.isValueActive())&&s.push({colId:_.getId(),pivot:!1,rowGroup:!1,aggFunc:null})}),s.length>0&&this.columnModel.applyColumnState({state:s},i)},__decorate$1w([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("aggFuncService")],l.prototype,"aggFuncService",void 0),__decorate$1w([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],l.prototype,"columnModel",void 0),__decorate$1w([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridOptionsWrapper")],l.prototype,"gridOptionsWrapper",void 0),__decorate$1w([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("eventService")],l.prototype,"eventService",void 0),__decorate$1w([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("modelItemUtils")],l)}(),ColumnsToolPanelModule={moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.ColumnToolPanelModule,beans:[ModelItemUtils],agStackComponents:[{componentName:"AgPrimaryColsHeader",componentClass:PrimaryColsHeaderPanel},{componentName:"AgPrimaryColsList",componentClass:PrimaryColsListPanel},{componentName:"AgPrimaryCols",componentClass:PrimaryColsPanel}],userComponents:[{componentName:"agColumnsToolPanel",componentClass:ColumnToolPanel}],dependantModules:[EnterpriseCoreModule,RowGroupingModule,SideBarModule]},workbook={getTemplate:function(){return{name:"Workbook",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",html:"http://www.w3.org/TR/REC-html40"}}],rawMap:{xmlns:"urn:schemas-microsoft-com:office:spreadsheet"}}}}},excelWorkbook={getTemplate:function(){return{name:"ExcelWorkbook",properties:{rawMap:{xmlns:"urn:schemas-microsoft-com:office:excel"}},children:[{name:"WindowHeight",textNode:"8130"},{name:"WindowWidth",textNode:"15135"},{name:"WindowHeight",textNode:"8130"},{name:"WindowTopX",textNode:"120"},{name:"WindowTopY",textNode:"45"},{name:"ProtectStructure",textNode:"False"},{name:"ProtectWindow",textNode:"False"}]}}},column={getTemplate:function(l){return{name:"Column",properties:{prefixedAttributes:[{prefix:"ss:",map:{Width:l.width}}]}}}},cell={getTemplate:function(l){var r,e,i=l.mergeAcross,a=l.styleId,s=l.data,d={};return i&&(d.MergeAcross=i),a&&(d.StyleID=a),{name:"Cell",properties:{prefixedAttributes:[{prefix:"ss:",map:d}]},children:[{name:"Data",properties:{prefixedAttributes:[{prefix:"ss:",map:{Type:null===(r=s)||void 0===r?void 0:r.type}}]},textNode:null===(e=s)||void 0===e?void 0:e.value}]}}},row={getTemplate:function(l){return{name:"Row",children:l.cells.map(function(e){return cell.getTemplate(e)})}}},worksheet={getTemplate:function(l){var r=l.table,e=l.name,a=r.rows,s=r.columns.map(function(h){return column.getTemplate(h)}),d=a.map(function(h){return row.getTemplate(h)});return{name:"Worksheet",children:[{name:"Table",children:s.concat(d)}],properties:{prefixedAttributes:[{prefix:"ss:",map:{Name:e}}]}}}},documentProperties={getTemplate:function(){return{name:"DocumentProperties",properties:{rawMap:{xmlns:"urn:schemas-microsoft-com:office:office"}},children:[{name:"Version",textNode:"12.00"}]}}},alignment={getTemplate:function(l){var r=l.alignment;return{name:"Alignment",properties:{prefixedAttributes:[{prefix:"ss:",map:{Vertical:r.vertical,Horizontal:r.horizontal,Indent:r.indent,ReadingOrder:r.readingOrder,Rotate:r.rotate,ShrinkToFit:r.shrinkToFit,VerticalText:r.verticalText,WrapText:r.wrapText}}]}}}},borders={getTemplate:function(l){var r=l.borders;return{name:"Borders",children:[r.borderBottom,r.borderLeft,r.borderRight,r.borderTop].map(function(d,h){return{name:"Border",properties:{prefixedAttributes:[{prefix:"ss:",map:{Position:0==h?"Bottom":1==h?"Left":2==h?"Right":"Top",LineStyle:d.lineStyle,Weight:d.weight,Color:d.color}}]}}})}}},font={getTemplate:function(l){var r=l.font;return{name:"Font",properties:{prefixedAttributes:[{prefix:"ss:",map:{Bold:r.bold,FontName:r.fontName,Italic:r.italic,Color:r.color,Outline:r.outline,Shadow:r.shadow,Size:r.size,StrikeThrough:r.strikeThrough,Underline:r.underline,VerticalAlign:r.verticalAlign}},{prefix:"x:",map:{CharSet:r.charSet,Family:r.family}}]}}}},interior={getTemplate:function(l){var r=l.interior;return{name:"Interior",properties:{prefixedAttributes:[{prefix:"ss:",map:{Color:r.color,Pattern:r.pattern,PatternColor:r.patternColor}}]}}}},protection={getTemplate:function(l){return{name:"Protection",properties:{prefixedAttributes:[{prefix:"ss:",map:{Protected:l.protection.protected,HideFormula:l.protection.hideFormula}}]}}}},numberFormat={getTemplate:function(l){return{name:"NumberFormat",properties:{prefixedAttributes:[{prefix:"ss:",map:{Format:l.numberFormat.format}}]}}}},style={getTemplate:function(l){var r=l.id;return{name:"Style",properties:{prefixedAttributes:[{prefix:"ss:",map:{ID:r,Name:l.name||r}}]}}}},ExcelXmlFactory=function(){function l(){}return l.createExcel=function(r,e){var i=this.excelXmlHeader(),a=documentProperties.getTemplate(),s=excelWorkbook.getTemplate(),d=this.workbook(a,s,r,e);return""+i+ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.IUB.createXml(d,function(h){return h?"1":"0"})},l.workbook=function(r,e,i,a){var s=[r,e,this.stylesXmlElement(i)].concat(worksheet.getTemplate(a));return Object.assign({},workbook.getTemplate(),{children:s})},l.excelXmlHeader=function(){return'<?xml version="1.0" ?>\n        <?mso-application progid="Excel.Sheet" ?>\n        '},l.stylesXmlElement=function(r){var e=this;return{name:"Styles",children:r?r.map(function(i){return e.styleXmlElement(i)}):[]}},l.styleXmlElement=function(r){var e=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.compose(this.addProperty("alignment",r),this.addProperty("borders",r),this.addProperty("font",r),this.addProperty("interior",r),this.addProperty("protection",r),this.addProperty("numberFormat",r))([]);return Object.assign({},style.getTemplate(r),{children:e})},l.addProperty=function(r,e){return function(i){return e[r]?i.concat({alignment,borders,font,interior,numberFormat,protection}[r].getTemplate(e)):i}},l.factoryMode=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.nPL.SINGLE_SHEET,l}(),INCH_TO_EMU=9525,numberFormatMap={0:1,"0.00":2,"#,##0":3,"#,##0.00":4,"0%":9,"0.00%":10,"0.00E+00":11,"# ?/?":12,"# ??/??":13,"mm-dd-yy":14,"d-mmm-yy":15,"d-mmm":16,"mmm-yy":17,"h:mm AM/PM":18,"h:mm:ss AM/PM":19,"h:mm":20,"h:mm:ss":21,"m/d/yy h:mm":22,"#,##0 ;(#,##0)":37,"#,##0 ;[Red](#,##0)":38,"#,##0.00;(#,##0.00)":39,"#,##0.00;[Red](#,##0.00)":40,"mm:ss":45,"[h]:mm:ss":46,"mmss.0":47,"##0.0E+0":48,"@":49},pixelsToPoint=function(l){return Math.round(72*l/96)},pointsToPixel=function(l){return Math.round(96*l/72)},pixelsToEMU=function(l){return Math.ceil(l*INCH_TO_EMU)},getFontFamilyId=function(l){if(void 0!==l){var e=["Automatic","Roman","Swiss","Modern","Script","Decorative"].indexOf(l||"Automatic");return Math.max(e,0)}},getHeightFromProperty=function(l,r){var e;if(r)return e="number"==typeof r?r:r({rowIndex:l}),pixelsToPoint(e)},setExcelImageTotalWidth=function(l,r){var e=l.position,i=e.colSpan,a=e.column;if(l.width)if(i)for(var s=r.slice(a-1,a+i-1),d=0,h=0;h<s.length;h++){var v=s[h].getActualWidth();if(l.width<d+v){l.position.colSpan=h+1,l.totalWidth=l.width,l.width=l.totalWidth-d;break}d+=v}else l.totalWidth=l.width},setExcelImageTotalHeight=function(l,r){var e=l.position,i=e.rowSpan,a=e.row;if(l.height)if(i)for(var s=0,d=0,h=a;h<a+i;h++){var v=pointsToPixel(getHeightFromProperty(h,r)||20);if(l.height<s+v){l.position.rowSpan=d+1,l.totalHeight=l.height,l.height=l.totalHeight-s;break}s+=v,d++}else l.totalHeight=l.height},createXmlPart=function(l){return""+ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.IUB.createHeader({encoding:"UTF-8",standalone:"yes"})+ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.IUB.createXml(l)},getExcelColumnName=function(l){var i=String.fromCharCode,a=Math.floor(l/26),s=l%26;return a&&26!==l?s?a<26?i(65+a-1)+i(65+s-1):getExcelColumnName(a)+i(65+s-1):getExcelColumnName(a-1)+"Z":i(65+l-1)},__extends$2Y=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__assign$A=function(){return __assign$A=Object.assign||function(l){for(var r,e=1,i=arguments.length;e<i;e++)for(var a in r=arguments[e])Object.prototype.hasOwnProperty.call(r,a)&&(l[a]=r[a]);return l},__assign$A.apply(this,arguments)},__read$U=function(l,r){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var a,d,i=e.call(l),s=[];try{for(;(void 0===r||r-- >0)&&!(a=i.next()).done;)s.push(a.value)}catch(h){d={error:h}}finally{try{a&&!a.done&&(e=i.return)&&e.call(i)}finally{if(d)throw d.error}}return s},__spread$s=function(){for(var l=[],r=0;r<arguments.length;r++)l=l.concat(__read$U(arguments[r]));return l},BaseExcelSerializingSession=function(l){function r(e){var i=l.call(this,e)||this;return i.mixedStyles={},i.mixedStyleCounter=0,i.rows=[],i.config=Object.assign({},e),i.stylesByIds={},i.config.baseExcelStyles.forEach(function(a){i.stylesByIds[a.id]=a}),i.excelStyles=__spread$s(i.config.baseExcelStyles),i}return __extends$2Y(r,l),r.prototype.addCustomContent=function(e){var i=this;e.forEach(function(a){var s=i.rows.length+1;i.rows.push({height:getHeightFromProperty(s,i.config.rowHeight),cells:(a.cells||[]).map(function(d,h){var v,_=i.addImage(s,i.columnsToExport[h],null===(v=d.data)||void 0===v?void 0:v.value),y=__assign$A({},d);return _&&(y.data={},null!=_.value?y.data.value=_.value:(y.data.type="e",y.data.value=null)),y}),outlineLevel:a.outlineLevel||void 0})})},r.prototype.onNewHeaderGroupingRow=function(){var e=this,i=[];return this.rows.push({cells:i,height:getHeightFromProperty(this.rows.length+1,this.config.headerRowHeight)}),{onColumn:function(a,s,d,h){var v=e.config.styleLinker(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.aCu.HEADER_GROUPING,1,"grouping-"+a,void 0,void 0);i.push(__assign$A(__assign$A({},e.createMergedCell(e.getStyleId(v),e.getDataTypeForValue("string"),a,d)),{collapsibleRanges:h}))}}},r.prototype.onNewHeaderRow=function(){return this.onNewRow(this.onNewHeaderColumn,this.config.headerRowHeight)},r.prototype.onNewBodyRow=function(){return this.onNewRow(this.onNewBodyColumn,this.config.rowHeight)},r.prototype.prepare=function(e){var i=this;l.prototype.prepare.call(this,e),this.columnsToExport=__spread$s(e),this.cols=e.map(function(a,s){return i.convertColumnToExcel(a,s)})},r.prototype.parse=function(){for(var e=this.rows.reduce(function(a,s){return Math.max(a,s.cells.length)},0);this.cols.length<e;)this.cols.push(this.convertColumnToExcel(null,this.cols.length+1));return this.createExcel({name:this.config.sheetName,table:{columns:this.cols,rows:this.rows}})},r.prototype.isFormula=function(e){return null!=e&&this.config.autoConvertFormulas&&e.toString().startsWith("=")},r.prototype.getStyleById=function(e){return null==e?null:this.stylesByIds[e]||null},r.prototype.convertColumnToExcel=function(e,i){var a=this.config.columnWidth;return a?"number"==typeof a?{width:a}:{width:a({column:e,index:i})}:e?{width:Math.max(e.getActualWidth(),75)}:{}},r.prototype.onNewHeaderColumn=function(e,i){var a=this;return function(s,d){var h=a.extractHeaderValue(s),v=a.config.styleLinker(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.aCu.HEADER,e,h,s,void 0);i.push(a.createCell(a.getStyleId(v),a.getDataTypeForValue("string"),h))}},r.prototype.onNewRow=function(e,i){var a=[];return this.rows.push({cells:a,height:getHeightFromProperty(this.rows.length+1,i)}),{onColumn:e.bind(this,this.rows.length,a)()}},r.prototype.onNewBodyColumn=function(e,i){var a=this,s=0;return function(d,h,v){if(s>0)s-=1;else{!a.config.gridOptionsWrapper.isGroupHideOpenParents()&&v.level&&(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(a.rows).outlineLevel=v.level);var _=a.extractRowCellValue(d,h,e,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.gTE.EXPORT_TYPE_EXCEL,v),y=a.config.styleLinker(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.aCu.BODY,e,_,d,v),m=a.getStyleId(y),E=d.getColSpan(v),w=a.addImage(e,d,_);w?i.push(a.createCell(m,a.getDataTypeForValue(w.value),w.value??"")):E>1?(s=E-1,i.push(a.createMergedCell(m,a.getDataTypeForValue(_),_,E-1))):i.push(a.createCell(m,a.getDataTypeForValue(_),_))}}},r.prototype.getStyleId=function(e){if(!e||!e.length)return null;if(1===e.length)return e[0];var i=e.join("-");return this.mixedStyles[i]||this.addNewMixedStyle(e),this.mixedStyles[i].excelID},r.prototype.addNewMixedStyle=function(e){var i=this;this.mixedStyleCounter+=1;var a="mixedStyle"+this.mixedStyleCounter,s={};e.forEach(function(h){i.excelStyles.forEach(function(v){v.id===h&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.mergeDeep(s,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.deepCloneObject(v))})}),s.id=a,s.name=a;var d=e.join("-");this.mixedStyles[d]={excelID:a,key:d,result:s},this.excelStyles.push(s),this.stylesByIds[a]=s},r}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.WKU),__extends$2X=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),ExcelXmlSerializingSession=function(l){function r(){return null!==l&&l.apply(this,arguments)||this}return __extends$2X(r,l),r.prototype.createExcel=function(e){return ExcelXmlFactory.createExcel(this.excelStyles,e)},r.prototype.getDataTypeForValue=function(e){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.isNumeric(e)?"Number":"String"},r.prototype.getType=function(e,i,a){if(this.isFormula(a))return"Formula";if(i&&i.dataType)switch(i.dataType.toLocaleLowerCase()){case"string":return"Formula";case"number":return"Number";case"datetime":return"DateTime";case"error":return"Error";case"boolean":return"Boolean";default:console.warn("AG Grid: Unrecognized data type for excel export ["+i.id+".dataType="+i.dataType+"]")}return e},r.prototype.addImage=function(){},r.prototype.createCell=function(e,i,a){var s=this.getStyleById(e),d=this.getType(i,s,a)||i;return{styleId:s?e:void 0,data:{type:d,value:this.getValueTransformed(d,a)}}},r.prototype.getValueTransformed=function(e,i){var h,a=this;switch(e){case"String":return function(h){if(a.config.suppressTextAsCDATA)return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.escapeString(h);var v="<![CDATA[",_="]]>",y=new RegExp(_,"g");return v+String(h).replace(y,"]]"+_+v+">")+_}(i);case"Number":return Number(i).valueOf()+"";case"Boolean":return(h=i)&&"0"!==h&&"false"!==h?"1":"0";default:return i}},r.prototype.createMergedCell=function(e,i,a,s){return{styleId:this.getStyleById(e)?e:void 0,data:{type:i,value:a},mergeAcross:s}},r}(BaseExcelSerializingSession),coreFactory={getTemplate:function(l){var e=(new Date).toJSON();return{name:"cp:coreProperties",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{cp:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",xsi:"http://www.w3.org/2001/XMLSchema-instance"}}]},children:[{name:"dc:creator",textNode:l},{name:"dc:title",textNode:"Workbook"},{name:"dcterms:created",properties:{rawMap:{"xsi:type":"dcterms:W3CDTF"}},textNode:e},{name:"dcterms:modified",properties:{rawMap:{"xsi:type":"dcterms:W3CDTF"}},textNode:e}]}}},contentTypeFactory={getTemplate:function(l){return{name:l.name,properties:{rawMap:{Extension:l.Extension,PartName:l.PartName,ContentType:l.ContentType}}}}},__read$T=function(l,r){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var a,d,i=e.call(l),s=[];try{for(;(void 0===r||r-- >0)&&!(a=i.next()).done;)s.push(a.value)}catch(h){d={error:h}}finally{try{a&&!a.done&&(e=i.return)&&e.call(i)}finally{if(d)throw d.error}}return s},__spread$r=function(){for(var l=[],r=0;r<arguments.length;r++)l=l.concat(__read$T(arguments[r]));return l},contentTypesFactory={getTemplate:function(l){var r=new Array(l).fill(void 0).map(function(h,v){return{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",PartName:"/xl/worksheets/sheet"+(v+1)+".xml"}}),e=ExcelXlsxFactory.worksheetImages.size,i={};ExcelXlsxFactory.workbookImageIds.forEach(function(h){i[h.type]=!0});var a=new Array(e).fill(void 0).map(function(h,v){return{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.drawing+xml",PartName:"/xl/drawings/drawing"+(v+1)+".xml"}}),s=Object.keys(i).map(function(h){return{name:"Default",ContentType:"image/"+h,Extension:h}});return{name:"Types",properties:{rawMap:{xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"}},children:__spread$r(s,[{name:"Default",Extension:"rels",ContentType:"application/vnd.openxmlformats-package.relationships+xml"},{name:"Default",ContentType:"application/xml",Extension:"xml"},{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",PartName:"/xl/workbook.xml"}],r,[{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.theme+xml",PartName:"/xl/theme/theme1.xml"},{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",PartName:"/xl/styles.xml"},{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",PartName:"/xl/sharedStrings.xml"}],a,[{name:"Override",ContentType:"application/vnd.openxmlformats-package.core-properties+xml",PartName:"/docProps/core.xml"}]).map(function(h){return contentTypeFactory.getTemplate(h)})}}},getAnchor=function(l,r){return{name:"xdr:"+l,children:[{name:"xdr:col",textNode:r.col.toString()},{name:"xdr:colOff",textNode:r.offsetX.toString()},{name:"xdr:row",textNode:r.row.toString()},{name:"xdr:rowOff",textNode:r.offsetY.toString()}]}},getExt=function(l){var r=[{name:"a:ext",properties:{rawMap:{uri:"{FF2B5EF4-FFF2-40B4-BE49-F238E27FC236}"}},children:[{name:"a16:creationId",properties:{rawMap:{id:"{822E6D20-D7BC-2841-A643-D49A6EF008A2}","xmlns:a16":"http://schemas.microsoft.com/office/drawing/2014/main"}}}]}];switch(l.recolor&&l.recolor.toLowerCase()){case"grayscale":case"sepia":case"washout":r.push({name:"a:ext",properties:{rawMap:{uri:"{C183D7F6-B498-43B3-948B-1728B52AA6E4}"}},children:[{name:"adec:decorative",properties:{rawMap:{val:"0","xmlns:adec":"http://schemas.microsoft.com/office/drawing/2017/decorative"}}}]})}return{name:"a:extLst",children:r}},getNvPicPr=function(l,r){return{name:"xdr:nvPicPr",children:[{name:"xdr:cNvPr",properties:{rawMap:{id:r,name:l.id,descr:null!=l.altText?l.altText:void 0}},children:[getExt(l)]},{name:"xdr:cNvPicPr",properties:{rawMap:{preferRelativeResize:"0"}},children:[{name:"a:picLocks"}]}]}},getColorDetails=function(l){if(l.saturation||l.tint){var r=[];return l.saturation&&r.push({name:"a:satMod",properties:{rawMap:{val:1e3*l.saturation}}}),l.tint&&r.push({name:"a:tint",properties:{rawMap:{val:1e3*l.tint}}}),r}},getDuoTone=function(l,r){return{name:"a:duotone",children:[{name:"a:prstClr",properties:{rawMap:{val:l.color}},children:getColorDetails(l)},{name:"a:srgbClr",properties:{rawMap:{val:r.color}},children:getColorDetails(r)}]}},getBlipFill=function(l,r){var e;if(l.transparency){var i=Math.min(Math.max(l.transparency,0),100);e=[{name:"a:alphaModFix",properties:{rawMap:{amt:1e5-Math.round(1e3*i)}}}]}if(l.recolor)switch(e||(e=[]),l.recolor.toLocaleLowerCase()){case"grayscale":e.push({name:"a:grayscl"});break;case"sepia":e.push(getDuoTone({color:"black"},{color:"D9C3A5",tint:50,saturation:180}));break;case"washout":e.push({name:"a:lum",properties:{rawMap:{bright:"70000",contrast:"-70000"}}})}return{name:"xdr:blipFill",children:[{name:"a:blip",properties:{rawMap:{cstate:"print","r:embed":"rId"+r,"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships"}},children:e},{name:"a:stretch",children:[{name:"a:fillRect"}]}]}},getSpPr=function(l,r){var e={name:"a:xfrm",children:[{name:"a:off",properties:{rawMap:{x:0,y:0}}},{name:"a:ext",properties:{rawMap:{cx:r.width,cy:r.height}}}]};return l.rotation&&(e.properties={rawMap:{rot:6e4*Math.min(Math.max(l.rotation,0),360)}}),{name:"xdr:spPr",children:[e,{name:"a:prstGeom",properties:{rawMap:{prst:"rect"}},children:[{name:"a:avLst"}]}]}},getImageBoxSize=function(l){l.fitCell=!!l.fitCell||!l.width||!l.height;var r=l.position,e=void 0===r?{}:r,i=l.fitCell,a=l.width,s=void 0===a?0:a,d=l.height,h=void 0===d?0:d,v=l.totalHeight,_=l.totalWidth,y=e.offsetX,m=void 0===y?0:y,E=e.offsetY,w=void 0===E?0:E,S=e.row,D=void 0===S?1:S,T=e.rowSpan,b=void 0===T?1:T,M=e.column,A=void 0===M?1:M,L=e.colSpan,N=void 0===L?1:L;return{from:{row:D-1,col:A-1,offsetX:pixelsToEMU(m),offsetY:pixelsToEMU(w)},to:{row:D-1+(i?1:b-1),col:A-1+(i?1:N-1),offsetX:pixelsToEMU(s+m),offsetY:pixelsToEMU(h+w)},height:pixelsToEMU(v||h),width:pixelsToEMU(_||s)}},getPicture=function(l,r,e,i){return{name:"xdr:pic",children:[getNvPicPr(l,r+1),getBlipFill(l,e+1),getSpPr(l,i)]}},drawingFactory={getTemplate:function(l){var r=l.sheetIndex,e=ExcelXlsxFactory.worksheetImages.get(r),i=ExcelXlsxFactory.worksheetImageIds.get(r);return{name:"xdr:wsDr",properties:{rawMap:{"xmlns:a":"http://schemas.openxmlformats.org/drawingml/2006/main","xmlns:xdr":"http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing"}},children:e.map(function(s,d){var h=getImageBoxSize(s);return{name:"xdr:twoCellAnchor",properties:{rawMap:{editAs:"absolute"}},children:[getAnchor("from",h.from),getAnchor("to",h.to),getPicture(s,d,i.get(s.id).index,h),{name:"xdr:clientData"}]}})}}},__read$S=function(l,r){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var a,d,i=e.call(l),s=[];try{for(;(void 0===r||r-- >0)&&!(a=i.next()).done;)s.push(a.value)}catch(h){d={error:h}}finally{try{a&&!a.done&&(e=i.return)&&e.call(i)}finally{if(d)throw d.error}}return s},getColorChildren=function(l){var r=__read$S(l,4);return{name:"a:"+r[0],children:[{name:"a:"+r[1],properties:{rawMap:{val:r[2],lastClr:r[3]}}}]}},colorScheme={getTemplate:function(){return{name:"a:clrScheme",properties:{rawMap:{name:"Office"}},children:[getColorChildren(["dk1","sysClr","windowText","000000"]),getColorChildren(["lt1","sysClr","window","FFFFFF"]),getColorChildren(["dk2","srgbClr","44546A"]),getColorChildren(["lt2","srgbClr","E7E6E6"]),getColorChildren(["accent1","srgbClr","4472C4"]),getColorChildren(["accent2","srgbClr","ED7D31"]),getColorChildren(["accent3","srgbClr","A5A5A5"]),getColorChildren(["accent4","srgbClr","FFC000"]),getColorChildren(["accent5","srgbClr","5B9BD5"]),getColorChildren(["accent6","srgbClr","70AD47"]),getColorChildren(["hlink","srgbClr","0563C1"]),getColorChildren(["folHlink","srgbClr","954F72"])]}}},__read$R=function(l,r){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var a,d,i=e.call(l),s=[];try{for(;(void 0===r||r-- >0)&&!(a=i.next()).done;)s.push(a.value)}catch(h){d={error:h}}finally{try{a&&!a.done&&(e=i.return)&&e.call(i)}finally{if(d)throw d.error}}return s},getFont$3=function(l){var r=__read$R(l,4);return{name:"a:"+r[0],properties:{rawMap:{script:r[2],typeface:r[1],panose:r[3]}}}},fontScheme={getTemplate:function(){var l=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.utf8_encode;return{name:"a:fontScheme",properties:{rawMap:{name:"Office"}},children:[{name:"a:majorFont",children:[getFont$3(["latin","Calibri Light",void 0,"020F0302020204030204"]),getFont$3(["ea",""]),getFont$3(["cs",""]),getFont$3(["font",l("\u6e38\u30b4\u30b7\u30c3\u30af Light"),"Jpan"]),getFont$3(["font",l("\ub9d1\uc740 \uace0\ub515"),"Hang"]),getFont$3(["font",l("\u7b49\u7ebf Light"),"Hans"]),getFont$3(["font",l("\u65b0\u7d30\u660e\u9ad4"),"Hant"]),getFont$3(["font","Times New Roman","Arab"]),getFont$3(["font","Times New Roman","Hebr"]),getFont$3(["font","Tahoma","Thai"]),getFont$3(["font","Nyala","Ethi"]),getFont$3(["font","Vrinda","Beng"]),getFont$3(["font","Shruti","Gujr"]),getFont$3(["font","MoolBoran","Khmr"]),getFont$3(["font","Tunga","Knda"]),getFont$3(["font","Raavi","Guru"]),getFont$3(["font","Euphemia","Cans"]),getFont$3(["font","Plantagenet Cherokee","Cher"]),getFont$3(["font","Microsoft Yi Baiti","Yiii"]),getFont$3(["font","Microsoft Himalaya","Tibt"]),getFont$3(["font","MV Boli","Thaa"]),getFont$3(["font","Mangal","Deva"]),getFont$3(["font","Gautami","Telu"]),getFont$3(["font","Latha","Taml"]),getFont$3(["font","Estrangelo Edessa","Syrc"]),getFont$3(["font","Kalinga","Orya"]),getFont$3(["font","Kartika","Mlym"]),getFont$3(["font","DokChampa","Laoo"]),getFont$3(["font","Iskoola Pota","Sinh"]),getFont$3(["font","Mongolian Baiti","Mong"]),getFont$3(["font","Times New Roman","Viet"]),getFont$3(["font","Microsoft Uighur","Uigh"]),getFont$3(["font","Sylfaen","Geor"]),getFont$3(["font","Arial","Armn"]),getFont$3(["font","Leelawadee UI","Bugi"]),getFont$3(["font","Microsoft JhengHei","Bopo"]),getFont$3(["font","Javanese Text","Java"]),getFont$3(["font","Segoe UI","Lisu"]),getFont$3(["font","Myanmar Text","Mymr"]),getFont$3(["font","Ebrima","Nkoo"]),getFont$3(["font","Nirmala UI","Olck"]),getFont$3(["font","Ebrima","Osma"]),getFont$3(["font","Phagspa","Phag"]),getFont$3(["font","Estrangelo Edessa","Syrn"]),getFont$3(["font","Estrangelo Edessa","Syrj"]),getFont$3(["font","Estrangelo Edessa","Syre"]),getFont$3(["font","Nirmala UI","Sora"]),getFont$3(["font","Microsoft Tai Le","Tale"]),getFont$3(["font","Microsoft New Tai Lue","Talu"]),getFont$3(["font","Ebrima","Tfng"])]},{name:"a:minorFont",children:[getFont$3(["latin","Calibri",void 0,"020F0502020204030204"]),getFont$3(["ea",""]),getFont$3(["cs",""]),getFont$3(["font",l("\u6e38\u30b4\u30b7\u30c3\u30af"),"Jpan"]),getFont$3(["font",l("\ub9d1\uc740 \uace0\ub515"),"Hang"]),getFont$3(["font",l("\u7b49\u7ebf"),"Hans"]),getFont$3(["font",l("\u65b0\u7d30\u660e\u9ad4"),"Hant"]),getFont$3(["font","Arial","Arab"]),getFont$3(["font","Arial","Hebr"]),getFont$3(["font","Tahoma","Thai"]),getFont$3(["font","Nyala","Ethi"]),getFont$3(["font","Vrinda","Beng"]),getFont$3(["font","Shruti","Gujr"]),getFont$3(["font","DaunPenh","Khmr"]),getFont$3(["font","Tunga","Knda"]),getFont$3(["font","Raavi","Guru"]),getFont$3(["font","Euphemia","Cans"]),getFont$3(["font","Plantagenet Cherokee","Cher"]),getFont$3(["font","Microsoft Yi Baiti","Yiii"]),getFont$3(["font","Microsoft Himalaya","Tibt"]),getFont$3(["font","MV Boli","Thaa"]),getFont$3(["font","Mangal","Deva"]),getFont$3(["font","Gautami","Telu"]),getFont$3(["font","Latha","Taml"]),getFont$3(["font","Estrangelo Edessa","Syrc"]),getFont$3(["font","Kalinga","Orya"]),getFont$3(["font","Kartika","Mlym"]),getFont$3(["font","DokChampa","Laoo"]),getFont$3(["font","Iskoola Pota","Sinh"]),getFont$3(["font","Mongolian Baiti","Mong"]),getFont$3(["font","Arial","Viet"]),getFont$3(["font","Microsoft Uighur","Uigh"]),getFont$3(["font","Sylfaen","Geor"]),getFont$3(["font","Arial","Armn"]),getFont$3(["font","Leelawadee UI","Bugi"]),getFont$3(["font","Microsoft JhengHei","Bopo"]),getFont$3(["font","Javanese Text","Java"]),getFont$3(["font","Segoe UI","Lisu"]),getFont$3(["font","Myanmar Text","Mymr"]),getFont$3(["font","Ebrima","Nkoo"]),getFont$3(["font","Nirmala UI","Olck"]),getFont$3(["font","Ebrima","Osma"]),getFont$3(["font","Phagspa","Phag"]),getFont$3(["font","Estrangelo Edessa","Syrn"]),getFont$3(["font","Estrangelo Edessa","Syrj"]),getFont$3(["font","Estrangelo Edessa","Syre"]),getFont$3(["font","Nirmala UI","Sora"]),getFont$3(["font","Microsoft Tai Le","Tale"]),getFont$3(["font","Microsoft New Tai Lue","Talu"]),getFont$3(["font","Ebrima","Tfng"])]}]}}},__read$Q=function(l,r){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var a,d,i=e.call(l),s=[];try{for(;(void 0===r||r-- >0)&&!(a=i.next()).done;)s.push(a.value)}catch(h){d={error:h}}finally{try{a&&!a.done&&(e=i.return)&&e.call(i)}finally{if(d)throw d.error}}return s},getPropertyVal=function(l,r,e){return{name:"a:"+l,properties:{rawMap:{val:r}},children:e}},getGs=function(l){var r=__read$Q(l,6),e=r[0],i=r[1],s=r[3],d=r[4],h=r[5],v=[];return v.push(getPropertyVal("satMod",r[2])),s&&v.push(getPropertyVal("lumMod",s)),d&&v.push(getPropertyVal("tint",d)),h&&v.push(getPropertyVal("shade",h)),{name:"a:gs",properties:{rawMap:{pos:e}},children:[{name:"a:schemeClr",properties:{rawMap:{val:i}},children:v}]}},getSolidFill=function(l,r){return{name:"a:solidFill",children:[getPropertyVal("schemeClr",l,r)]}},getGradFill=function(l){var r=__read$Q(l,5),e=r[0],i=r[1],a=r[2],s=r[3],h=__read$Q(r[4],2),v=h[0],_=h[1];return{name:"a:gradFill",properties:{rawMap:{rotWithShape:e}},children:[{name:"a:gsLst",children:[getGs(i),getGs(a),getGs(s)]},{name:"a:lin",properties:{rawMap:{ang:v,scaled:_}}}]}},getLine=function(l){var r=__read$Q(l,4);return{name:"a:ln",properties:{rawMap:{w:r[0],cap:r[1],cmpd:r[2],algn:r[3]}},children:[getSolidFill("phClr"),getPropertyVal("prstDash","solid"),{name:"a:miter",properties:{rawMap:{lim:"800000"}}}]}},getEffectStyle=function(l){var r=[];if(l){var e=__read$Q(l,5);r.push({name:"a:outerShdw",properties:{rawMap:{blurRad:e[0],dist:e[1],dir:e[2],algn:e[3],rotWithShape:e[4]}},children:[getPropertyVal("srgbClr","000000",[getPropertyVal("alpha","63000")])]})}return{name:"a:effectStyle",children:[Object.assign({},{name:"a:effectLst"},r.length?{children:r}:{})]}},getFillStyleList=function(){return{name:"a:fillStyleLst",children:[getSolidFill("phClr"),getGradFill(["1",["0","phClr","105000","110000","67000"],["50000","phClr","103000","105000","73000"],["100000","phClr","109000","105000","81000"],["5400000","0"]]),getGradFill(["1",["0","phClr","103000","102000","94000"],["50000","phClr","110000","100000",void 0,"100000"],["100000","phClr","120000","99000",void 0,"78000"],["5400000","0"]])]}},getLineStyleList=function(){return{name:"a:lnStyleLst",children:[getLine(["6350","flat","sng","ctr"]),getLine(["12700","flat","sng","ctr"]),getLine(["19050","flat","sng","ctr"])]}},getEffectStyleList=function(){return{name:"a:effectStyleLst",children:[getEffectStyle(),getEffectStyle(),getEffectStyle(["57150","19050","5400000","ctr","0"])]}},getBgFillStyleList=function(){return{name:"a:bgFillStyleLst",children:[getSolidFill("phClr"),getSolidFill("phClr",[getPropertyVal("tint","95000"),getPropertyVal("satMod","170000")]),getGradFill(["1",["0","phClr","150000","102000","93000","98000"],["50000","phClr","130000","103000","98000","90000"],["100000","phClr","120000",void 0,void 0,"63000"],["5400000","0"]])]}},formatScheme={getTemplate:function(){return{name:"a:fmtScheme",properties:{rawMap:{name:"Office"}},children:[getFillStyleList(),getLineStyleList(),getEffectStyleList(),getBgFillStyleList()]}}},themeElements={getTemplate:function(){return{name:"a:themeElements",children:[colorScheme.getTemplate(),fontScheme.getTemplate(),formatScheme.getTemplate()]}}},officeTheme={getTemplate:function(){return{name:"a:theme",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{a:"http://schemas.openxmlformats.org/drawingml/2006/main"}}],rawMap:{name:"Office Theme"}},children:[themeElements.getTemplate(),{name:"a:objectDefaults"},{name:"a:extraClrSchemeLst"}]}}},buildSharedString=function(l){var r=[];return l.forEach(function(e,i){var a=i.toString(),s={name:"t",textNode:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.utf8_encode(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.escapeString(a))};a.trim().length!==a.length&&(s.properties={rawMap:{"xml:space":"preserve"}}),r.push({name:"si",children:[s]})}),r},sharedStrings={getTemplate:function(l){return{name:"sst",properties:{rawMap:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main",count:l.size,uniqueCount:l.size}},children:buildSharedString(l)}}},numberFormatFactory={getTemplate:function(l){return{name:"numFmt",properties:{rawMap:{formatCode:l.formatCode,numFmtId:l.numFmtId}}}}},numberFormatsFactory={getTemplate:function(l){return{name:"numFmts",properties:{rawMap:{count:l.length}},children:l.map(function(r){return numberFormatFactory.getTemplate(r)})}}},fontFactory={getTemplate:function(l){var i=l.color,s=l.fontName,h=l.family,v=l.scheme,_=l.italic,y=l.bold,m=l.strikeThrough,E=l.outline,w=l.shadow,S=l.underline,D=l.verticalAlign,T=[{name:"sz",properties:{rawMap:{val:l.size}}},{name:"color",properties:{rawMap:{theme:l.colorTheme,rgb:void 0===i?"FF000000":i}}},{name:"name",properties:{rawMap:{val:void 0===s?"Calibri":s}}}];return h&&T.push({name:"family",properties:{rawMap:{val:h}}}),v&&T.push({name:"scheme",properties:{rawMap:{val:v}}}),_&&T.push({name:"i"}),y&&T.push({name:"b"}),m&&T.push({name:"strike"}),E&&T.push({name:"outline"}),w&&T.push({name:"shadow"}),S&&T.push({name:"u",properties:{rawMap:{val:S}}}),D&&T.push({name:"vertAlign",properties:{rawMap:{val:D}}}),{name:"font",children:T}}},fontsFactory={getTemplate:function(l){return{name:"fonts",properties:{rawMap:{count:l.length}},children:l.map(function(r){return fontFactory.getTemplate(r)})}}},fillFactory={getTemplate:function(l){var e=l.fgTheme,i=l.fgTint,a=l.fgRgb,s=l.bgRgb,d=l.bgIndexed,h={name:"patternFill",properties:{rawMap:{patternType:l.patternType}}};return(e||i||a)&&(h.children=[{name:"fgColor",properties:{rawMap:{theme:e,tint:i,rgb:a}}}]),(d||s)&&(h.children||(h.children=[]),h.children.push({name:"bgColor",properties:{rawMap:{indexed:d,rgb:s}}})),{name:"fill",children:[h]}}},fillsFactory={getTemplate:function(l){return{name:"fills",properties:{rawMap:{count:l.length}},children:l.map(function(r){return fillFactory.getTemplate(r)})}}},getWeightName=function(l){switch(l){case 1:return"thin";case 2:return"medium";case 3:return"thick";default:return"hair"}},mappedBorderNames={None:"None",Dot:"Dotted",Dash:"Dashed",Double:"Double",DashDot:"DashDot",DashDotDot:"DashDotDot",SlantDashDot:"SlantDashDot"},mediumBorders=["Dashed","DashDot","DashDotDot"],colorMap={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinDiagStripe:"lightUp",ThinHorzCross:"lightGrid",ThinDiagCross:"lightTrellis",Gray125:"gray125",Gray0625:"gray0625"},horizontalAlignmentMap={Automatic:"general",Left:"left",Center:"center",Right:"right",Fill:"fill",Justify:"justify",CenterAcrossSelection:"centerContinuous",Distributed:"distributed",JustifyDistributed:"justify"},verticalAlignmentMap={Automatic:void 0,Top:"top",Bottom:"bottom",Center:"center",Justify:"justify",Distributed:"distributed",JustifyDistributed:"justify"},convertLegacyPattern=function(l){return l?colorMap[l]||l:"none"},convertLegacyColor=function(l){return null==l?l:("#"===l.charAt(0)&&(l=l.substr(1)),6===l.length?"FF"+l:l)},convertLegacyBorder=function(l,r){if(!l)return"thin";var e=getWeightName(r),i=mappedBorderNames[l];return"Continuous"===l?e:"medium"===e&&-1!==mediumBorders.indexOf(i)?"medium"+i:i.charAt(0).toLowerCase()+i.substr(1)},convertLegacyHorizontalAlignment=function(l){return horizontalAlignmentMap[l]||"general"},convertLegacyVerticalAlignment=function(l){return verticalAlignmentMap[l]||void 0},getBorderColor=function(l){return{name:"color",properties:{rawMap:{rgb:convertLegacyColor(l||"#000000")}}}},borderFactory$1={getTemplate:function(l){var r=l.left,e=l.right,i=l.top,a=l.bottom,s=l.diagonal,d=r?[getBorderColor(r.color)]:void 0,h=e?[getBorderColor(e.color)]:void 0,v=i?[getBorderColor(i.color)]:void 0,_=a?[getBorderColor(a.color)]:void 0,y=s?[getBorderColor(s.color)]:void 0;return{name:"border",children:[{name:"left",properties:{rawMap:{style:r&&r.style}},children:d},{name:"right",properties:{rawMap:{style:e&&e.style}},children:h},{name:"top",properties:{rawMap:{style:i&&i.style}},children:v},{name:"bottom",properties:{rawMap:{style:a&&a.style}},children:_},{name:"diagonal",properties:{rawMap:{style:s&&s.style}},children:y}]}}},bordersFactory={getTemplate:function(l){return{name:"borders",properties:{rawMap:{count:l.length}},children:l.map(function(r){return borderFactory$1.getTemplate(r)})}}},getReadingOrderId=function(l){var e=["Context","LeftToRight","RightToLeft"].indexOf(l);return Math.max(e,0)},alignmentFactory={getTemplate:function(l){var r=l.horizontal,e=l.indent,i=l.readingOrder,a=l.rotate,s=l.shrinkToFit,d=l.vertical,h=l.wrapText;return{name:"alignment",properties:{rawMap:{horizontal:r&&convertLegacyHorizontalAlignment(r),indent:e,readingOrder:i&&getReadingOrderId(i),textRotation:a,shrinkToFit:s,vertical:d&&convertLegacyVerticalAlignment(d),wrapText:h}}}}},protectionFactory={getTemplate:function(l){return{name:"protection",properties:{rawMap:{hidden:!0===l.hideFormula?1:0,locked:!1===l.protected?0:1}}}}},xfFactory={getTemplate:function(l){var r=l.alignment,e=l.borderId,i=l.fillId,a=l.fontId,s=l.numFmtId,d=l.protection,h=l.xfId,v=[];return r&&v.push(alignmentFactory.getTemplate(r)),d&&v.push(protectionFactory.getTemplate(d)),{name:"xf",properties:{rawMap:{applyAlignment:r?1:void 0,applyProtection:d?1:void 0,applyBorder:e?1:void 0,applyFill:i?1:void 0,borderId:e,fillId:i,applyFont:a?1:void 0,fontId:a,applyNumberFormat:s?1:void 0,numFmtId:s,xfId:h}},children:v.length?v:void 0}}},cellStylesXfsFactory={getTemplate:function(l){return{name:"cellStyleXfs",properties:{rawMap:{count:l.length}},children:l.map(function(r){return xfFactory.getTemplate(r)})}}},cellXfsFactory={getTemplate:function(l){return{name:"cellXfs",properties:{rawMap:{count:l.length}},children:l.map(function(r){return xfFactory.getTemplate(r)})}}},borderFactory={getTemplate:function(l){return{name:"cellStyle",properties:{rawMap:{builtinId:l.builtinId,name:l.name,xfId:l.xfId}}}}},cellStylesFactory={getTemplate:function(l){return{name:"cellStyles",properties:{rawMap:{count:l.length}},children:l.map(function(r){return borderFactory.getTemplate(r)})}}},__assign$z=function(){return __assign$z=Object.assign||function(l){for(var r,e=1,i=arguments.length;e<i;e++)for(var a in r=arguments[e])Object.prototype.hasOwnProperty.call(r,a)&&(l[a]=r[a]);return l},__assign$z.apply(this,arguments)},stylesMap,registeredNumberFmts,registeredFonts,registeredFills,registeredBorders,registeredCellStyleXfs,registeredCellXfs,registeredCellStyles,currentSheet,getStyleName=function(l,r){return-1!==l.indexOf("mixedStyle")&&r>1&&(l+="_"+r),l},resetStylesheetValues=function(){stylesMap={base:0},registeredNumberFmts=[],registeredFonts=[{fontName:"Calibri",colorTheme:"1",family:"2",scheme:"minor"}],registeredFills=[{patternType:"none"},{patternType:"gray125"}],registeredBorders=[{left:void 0,right:void 0,top:void 0,bottom:void 0,diagonal:void 0}],registeredCellStyleXfs=[{borderId:0,fillId:0,fontId:0,numFmtId:0}],registeredCellXfs=[{borderId:0,fillId:0,fontId:0,numFmtId:0,xfId:0}],registeredCellStyles=[{builtinId:0,name:"Normal",xfId:0}]},registerFill=function(l){var r=convertLegacyPattern(l.pattern),e=convertLegacyColor(l.color),i=convertLegacyColor(l.patternColor),a=registeredFills.findIndex(function(s){return!(s.patternType!=r||s.fgRgb!=e||s.bgRgb!=i)});return-1===a&&(a=registeredFills.length,registeredFills.push({patternType:r,fgRgb:e,bgRgb:i})),a},registerNumberFmt=function(l){if(l=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.utf8_encode(l),numberFormatMap[l])return numberFormatMap[l];var r=registeredNumberFmts.findIndex(function(e){return e.formatCode===l});return-1===r?registeredNumberFmts.push({formatCode:l,numFmtId:r=registeredNumberFmts.length+164}):r=registeredNumberFmts[r].numFmtId,r},registerBorders=function(l){var s,d,h,v,_,y,m,E,r=l.borderBottom,e=l.borderTop,i=l.borderLeft,a=l.borderRight;i&&(h=convertLegacyBorder(i.lineStyle,i.weight),m=convertLegacyColor(i.color)),a&&(v=convertLegacyBorder(a.lineStyle,a.weight),E=convertLegacyColor(a.color)),r&&(s=convertLegacyBorder(r.lineStyle,r.weight),_=convertLegacyColor(r.color)),e&&(d=convertLegacyBorder(e.lineStyle,e.weight),y=convertLegacyColor(e.color));var w=registeredBorders.findIndex(function(S){var D=S.left,T=S.right,b=S.top,M=S.bottom;if(!D&&(h||m)||!T&&(v||E)||!b&&(d||y)||!M&&(s||_))return!1;var A=D||{},G=T||{},$=b||{},ie=M||{};return!(A.style!=h||A.color!=m||G.style!=v||G.color!=E||$.style!=d||$.color!=y||ie.style!=s||ie.color!=_)});return-1===w&&(w=registeredBorders.length,registeredBorders.push({left:{style:h,color:m},right:{style:v,color:E},top:{style:d,color:y},bottom:{style:s,color:_},diagonal:{style:void 0,color:void 0}})),w},registerFont=function(l){var r=l.fontName,e=void 0===r?"Calibri":r,i=l.color,a=l.size,s=l.bold,d=l.italic,h=l.outline,v=l.shadow,_=l.strikeThrough,y=l.underline,m=l.family,E=l.verticalAlign,w=e&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.utf8_encode(e),S=convertLegacyColor(i),D=getFontFamilyId(m),T=y?y.toLocaleLowerCase():void 0,b=E?E.toLocaleLowerCase():void 0,M=registeredFonts.findIndex(function(A){return!(A.fontName!=w||A.color!=S||A.size!=a||A.bold!=s||A.italic!=d||A.outline!=h||A.shadow!=v||A.strikeThrough!=_||A.underline!=T||A.verticalAlign!=b||A.family!=D)});return-1===M&&(M=registeredFonts.length,registeredFonts.push({fontName:w,color:S,size:a,bold:s,italic:d,outline:h,shadow:v,strikeThrough:_,underline:T,verticalAlign:b,family:D?.toString()})),M},registerStyle=function(l){var r=l.alignment,e=l.borders,i=l.font,a=l.interior,s=l.numberFormat,d=l.protection,h=l.id,v=0,_=0,y=0,m=0;!h||(h=getStyleName(h,currentSheet),null==stylesMap[h]&&(a&&(v=registerFill(a)),e&&(_=registerBorders(e)),i&&(y=registerFont(i)),s&&(m=registerNumberFmt(s.format)),stylesMap[h]=registeredCellXfs.length,registeredCellXfs.push({alignment:r,borderId:_||0,fillId:v||0,fontId:y||0,numFmtId:m||0,protection:d,xfId:0})))},stylesheetFactory={getTemplate:function(l){var r=numberFormatsFactory.getTemplate(registeredNumberFmts),e=fontsFactory.getTemplate(registeredFonts.map(function(v){return __assign$z(__assign$z({},v),{size:null!=v.size?v.size:l})})),i=fillsFactory.getTemplate(registeredFills),a=bordersFactory.getTemplate(registeredBorders),s=cellStylesXfsFactory.getTemplate(registeredCellStyleXfs),d=cellXfsFactory.getTemplate(registeredCellXfs),h=cellStylesFactory.getTemplate(registeredCellStyles);return resetStylesheetValues(),{name:"styleSheet",properties:{rawMap:{"mc:Ignorable":"x14ac x16r2 xr",xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac","xmlns:x16r2":"http://schemas.microsoft.com/office/spreadsheetml/2015/02/main","xmlns:xr":"http://schemas.microsoft.com/office/spreadsheetml/2014/revision"}},children:[r,e,i,a,s,d,h,{name:"tableStyles",properties:{rawMap:{count:0,defaultPivotStyle:"PivotStyleLight16",defaultTableStyle:"TableStyleMedium2"}}}]}}},getStyleId=function(l,r){return stylesMap[getStyleName(l,r)]||0},registerStyles=function(l,r){1===(currentSheet=r)&&resetStylesheetValues(),l.forEach(registerStyle)},sheetFactory={getTemplate:function(l,r){var e=(r+1).toString();return{name:"sheet",properties:{rawMap:{name:l,sheetId:e,"r:id":"rId"+e}}}}},sheetsFactory={getTemplate:function(l){return{name:"sheets",children:l.map(function(r,e){return sheetFactory.getTemplate(r,e)})}}},workbookFactory={getTemplate:function(l){return{name:"workbook",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships"}}],rawMap:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},children:[sheetsFactory.getTemplate(l)]}}},getExcelCellWidth=function(l){return Math.ceil((l-12)/7+1)},columnFactory={getTemplate:function(l){var r=l.min,e=l.max,i=l.outlineLevel,a=l.s,s=l.width,d=l.hidden,h=l.bestFit,v=1,_="0";return s>1&&(v=getExcelCellWidth(s),_="1"),{name:"col",properties:{rawMap:{min:r,max:e,outlineLevel:i??void 0,width:v,style:a,hidden:d?"1":"0",bestFit:h?"1":"0",customWidth:_}}}}},convertLegacyType=function(l){var r=l.charAt(0).toLowerCase();return"s"===r?"inlineStr":r},cellFactory={getTemplate:function(l,r,e){var i=l.ref,s=l.styleId,d=l.data||{type:"empty",value:null},h=d.type,v=d.value,_=h;"f"===h?_="str":h.charAt(0)===h.charAt(0).toUpperCase()&&(_=convertLegacyType(h));var m,y={name:"c",properties:{rawMap:{r:i,t:"empty"===_?void 0:_,s:s?getStyleId(s,e):void 0}}};return"empty"===_?y:(m="str"===_&&"f"===h?[{name:"f",textNode:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.escapeString(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.utf8_encode(v))}]:"inlineStr"===_?[{name:"is",children:[{name:"t",textNode:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.escapeString(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.utf8_encode(v))}]}]:[{name:"v",textNode:v}],Object.assign({},y,{children:m}))}},__read$P=function(l,r){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var a,d,i=e.call(l),s=[];try{for(;(void 0===r||r-- >0)&&!(a=i.next()).done;)s.push(a.value)}catch(h){d={error:h}}finally{try{a&&!a.done&&(e=i.return)&&e.call(i)}finally{if(d)throw d.error}}return s},__spread$q=function(){for(var l=[],r=0;r<arguments.length;r++)l=l.concat(__read$P(arguments[r]));return l},addEmptyCells=function(l,r){for(var e=[],i=0,a=0;a<l.length;a++)(s=l[a]).mergeAcross&&(e.push({pos:a,excelPos:i}),i+=s.mergeAcross),i++;if(e.length)for(a=e.length-1;a>=0;a--){for(var d=[],s=l[e[a].pos],h=1;h<=s.mergeAcross;h++)d.push({ref:""+getExcelColumnName(e[a].excelPos+1+h)+(r+1),styleId:s.styleId,data:{type:"empty",value:null}});d.length&&l.splice.apply(l,__spread$q([e[a].pos+1,0],d))}},shouldDisplayCell=function(l){var r;return""!==(null===(r=l.data)||void 0===r?void 0:r.value)||void 0!==l.styleId},rowFactory={getTemplate:function(l,r,e){var i=l.index,a=l.collapsed,s=l.hidden,d=l.height,h=l.outlineLevel,v=l.cells,_=void 0===v?[]:v;return addEmptyCells(_,r),{name:"row",properties:{rawMap:{r:i,collapsed:a,hidden:s?"1":"0",ht:d,customHeight:null!=d?"1":"0",spans:"1:1",outlineLevel:h||void 0}},children:_.filter(shouldDisplayCell).map(function(m,E){return cellFactory.getTemplate(m,E,e)})}}},mergeCellFactory={getTemplate:function(l){return{name:"mergeCell",properties:{rawMap:{ref:l}}}}},getMergedCellsAndAddColumnGroups=function(l,r){var e=[],i=[];l.forEach(function(d,h){var y,v=d.cells,_=0;d.index=h+1,v.forEach(function(m,E){var w=E+_+1,S=getExcelColumnName(w),D=h+1;if(m.mergeAcross){var T=getExcelColumnName(E+(_+=m.mergeAcross)+1);e.push(""+S+D+":"+T+D)}r[w-1]||(r[w-1]={});var b=m.collapsibleRanges;b&&b.forEach(function(M){i.push([w+M[0],w+M[1]])}),(y=r[w-1]).min=w,y.max=w,m.ref=""+S+D})}),i.sort(function(d,h){return d[0]!==h[0]?d[0]-h[0]:h[1]-d[1]});var a=new Map,s=new Map;return i.filter(function(d){var h=d.toString();return!a.get(h)&&(a.set(h,!0),!0)}).forEach(function(d){var h=r.find(function(_){return _.min==d[0]&&_.max==d[1]}),v=s.get(d[0]);r.push({min:d[0],max:d[1],outlineLevel:v||1,width:(h||{width:100}).width}),s.set(d[0],(v||0)+1)}),e},getPageOrientation=function(l){return!l||"Portrait"!==l&&"Landscape"!==l?"portrait":l.toLocaleLowerCase()},getPageSize=function(l){if(null==l)return 1;var e=["Letter","Letter Small","Tabloid","Ledger","Legal","Statement","Executive","A3","A4","A4 Small","A5","A6","B4","B5","Folio","Envelope","Envelope DL","Envelope C5","Envelope B5","Envelope C3","Envelope C4","Envelope C6","Envelope Monarch","Japanese Postcard","Japanese Double Postcard"].indexOf(l);return-1===e?1:e+1},addColumns=function(l){return function(r){return l.length&&r.push({name:"cols",children:l.map(function(e){return columnFactory.getTemplate(e)})}),r}},addSheetData=function(l,r){return function(e){return l.length&&e.push({name:"sheetData",children:l.map(function(i,a){return rowFactory.getTemplate(i,a,r)})}),e}},addMergeCells=function(l){return function(r){return l.length&&r.push({name:"mergeCells",properties:{rawMap:{count:l.length}},children:l.map(function(e){return mergeCellFactory.getTemplate(e)})}),r}},addPageMargins=function(l){return function(r){var e=l.top,a=l.right,d=l.bottom,v=l.left,y=l.header,E=l.footer;return r.push({name:"pageMargins",properties:{rawMap:{bottom:void 0===d?.75:d,footer:void 0===E?.3:E,header:void 0===y?.3:y,left:void 0===v?.7:v,right:void 0===a?.7:a,top:void 0===e?.75:e}}}),r}},addPageSetup=function(l){return function(r){return l&&r.push({name:"pageSetup",properties:{rawMap:{horizontalDpi:0,verticalDpi:0,orientation:getPageOrientation(l.orientation),paperSize:getPageSize(l.pageSize)}}}),r}},replaceHeaderFooterTokens=function(l){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.iterateObject({"&[Page]":"&P","&[Pages]":"&N","&[Date]":"&D","&[Time]":"&T","&[Tab]":"&A","&[Path]":"&Z","&[File]":"&F"},function(e,i){l=l.replace(e,i)}),l},getHeaderPosition=function(l){return"Center"===l?"C":"Right"===l?"R":"L"},applyHeaderFontStyle=function(l,r){return r&&(l+="&amp;&quot;",l+=r.fontName||"Calibri",l+=r.bold!==r.italic?r.bold?",Bold":",Italic":r.bold?",Bold Italic":",Regular",l+="&quot;",r.size&&(l+="&amp;"+r.size),r.strikeThrough&&(l+="&amp;S"),r.underline&&(l+="&amp;"+("Double"===r.underline?"E":"U")),r.color&&(l+="&amp;K"+r.color.replace("#","").toUpperCase())),l},processHeaderFooterContent=function(l){return l.reduce(function(r,e){var i=getHeaderPosition(e.position);return""+applyHeaderFontStyle(r+"&amp;"+i,e.font)+ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.escapeString(replaceHeaderFooterTokens(e.value))},"")},buildHeaderFooter=function(l){var e=[];return["all","first","even"].forEach(function(i){var a=l[i],s="all"===i?"odd":i;!a||!a.header&&!a.footer||ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.iterateObject(a,function(d,h){var v=""+d.charAt(0).toUpperCase()+d.slice(1);h&&e.push({name:""+s+v,properties:{rawMap:{"xml:space":"preserve"}},textNode:processHeaderFooterContent(h)})})}),e},addHeaderFooter=function(l){return function(r){return l?(r.push({name:"headerFooter",properties:{rawMap:{differentFirst:null!=l.first?1:0,differentOddEven:null!=l.even?1:0}},children:buildHeaderFooter(l)}),r):r}},addDrawingRel=function(l){return function(r){return ExcelXlsxFactory.worksheetImages.get(l)&&r.push({name:"drawing",properties:{rawMap:{"r:id":"rId1"}}}),r}},addSheetPr=function(){return function(l){return l.push({name:"sheetPr",children:[{name:"outlinePr",properties:{rawMap:{summaryBelow:0}}}]}),l}},addSheetFormatPr=function(l){return function(r){var e=l.reduce(function(i,a){return a.outlineLevel&&a.outlineLevel>i?a.outlineLevel:i},0);return r.push({name:"sheetFormatPr",properties:{rawMap:{baseColWidth:10,defaultRowHeight:16,outlineLevelRow:e||void 0}}}),r}},worksheetFactory={getTemplate:function(l){var e=l.currentSheet,i=l.margins,a=void 0===i?{}:i,s=l.pageSetup,d=l.headerFooterConfig,h=l.worksheet.table,v=h.rows,_=h.columns,y=_&&_.length?getMergedCellsAndAddColumnGroups(v,_):[];return{name:"worksheet",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships"}}],rawMap:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},children:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.compose(addSheetPr(),addSheetFormatPr(v),addColumns(_),addSheetData(v,e+1),addMergeCells(y),addPageMargins(a),addPageSetup(s),addHeaderFooter(d),addDrawingRel(e))([])}}},relationshipFactory={getTemplate:function(l){return{name:"Relationship",properties:{rawMap:{Id:l.Id,Type:l.Type,Target:l.Target}}}}},relationshipsFactory={getTemplate:function(l){return{name:"Relationships",properties:{rawMap:{xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"}},children:l.map(function(e){return relationshipFactory.getTemplate(e)})}}},__read$O=function(l,r){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var a,d,i=e.call(l),s=[];try{for(;(void 0===r||r-- >0)&&!(a=i.next()).done;)s.push(a.value)}catch(h){d={error:h}}finally{try{a&&!a.done&&(e=i.return)&&e.call(i)}finally{if(d)throw d.error}}return s},__spread$p=function(){for(var l=[],r=0;r<arguments.length;r++)l=l.concat(__read$O(arguments[r]));return l},ExcelXlsxFactory=function(){function l(){}return l.createExcel=function(r,e,i,a,s){return this.addSheetName(e),registerStyles(r,this.sheetNames.length),this.createWorksheet(e,i,a,s)},l.buildImageMap=function(r,e,i,a,s){var d=this.sheetNames.length,h=this.images.get(r.id);(!r.position||!r.position.row||!r.position.column)&&(r.position||(r.position={}),r.position=Object.assign({},r.position,{row:e,column:a.indexOf(i)+1}));var v=r;if(setExcelImageTotalWidth(v,a),setExcelImageTotalHeight(v,s),h){var _=h.find(function(y){return y.sheetId===d});_?_.image.push(v):h.push({sheetId:d,image:[v]})}else this.images.set(v.id,[{sheetId:d,image:[v]}]),this.workbookImageIds.set(v.id,{type:v.imageType,index:this.workbookImageIds.size});this.buildSheetImageMap(d,v)},l.buildSheetImageMap=function(r,e){var i=this.worksheetImageIds.get(r);i||this.worksheetImageIds.set(r,i=new Map);var a=this.worksheetImages.get(r);a?(a.push(e),i.get(e.id)||i.set(e.id,{index:i.size,type:e.imageType})):(this.worksheetImages.set(r,[e]),i.set(e.id,{index:0,type:e.imageType}))},l.addSheetName=function(r){for(var e=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.escapeString(r.name)||"",i="";-1!==this.sheetNames.indexOf(""+e+i);)if(""===i)i="_1";else{var a=parseInt(i.slice(1),10);i="_"+(a+1)}r.name=""+e+i,this.sheetNames.push(r.name)},l.getStringPosition=function(r){return this.sharedStrings.has(r)?this.sharedStrings.get(r):(this.sharedStrings.set(r,this.sharedStrings.size),this.sharedStrings.size-1)},l.resetFactory=function(){this.sharedStrings=new Map,this.images=new Map,this.worksheetImages=new Map,this.workbookImageIds=new Map,this.worksheetImageIds=new Map,this.sheetNames=[],this.factoryMode=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.nPL.SINGLE_SHEET},l.createWorkbook=function(){return createXmlPart(workbookFactory.getTemplate(this.sheetNames))},l.createStylesheet=function(r){return createXmlPart(stylesheetFactory.getTemplate(r))},l.createSharedStrings=function(){return createXmlPart(sharedStrings.getTemplate(this.sharedStrings))},l.createCore=function(r){return createXmlPart(coreFactory.getTemplate(r))},l.createContentTypes=function(r){return createXmlPart(contentTypesFactory.getTemplate(r))},l.createRels=function(){var r=relationshipsFactory.getTemplate([{Id:"rId1",Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",Target:"xl/workbook.xml"},{Id:"rId2",Type:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",Target:"docProps/core.xml"}]);return createXmlPart(r)},l.createTheme=function(){return createXmlPart(officeTheme.getTemplate())},l.createWorkbookRels=function(r){var e=new Array(r).fill(void 0).map(function(a,s){return{Id:"rId"+(s+1),Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet",Target:"worksheets/sheet"+(s+1)+".xml"}}),i=relationshipsFactory.getTemplate(__spread$p(e,[{Id:"rId"+(r+1),Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",Target:"theme/theme1.xml"},{Id:"rId"+(r+2),Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",Target:"styles.xml"},{Id:"rId"+(r+3),Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",Target:"sharedStrings.xml"}]));return createXmlPart(i)},l.createDrawing=function(r){return createXmlPart(drawingFactory.getTemplate({sheetIndex:r}))},l.createDrawingRel=function(r){var e=this,i=this.worksheetImageIds.get(r),a=[];return i.forEach(function(s,d){a.push({Id:"rId"+(s.index+1),Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",Target:"../media/image"+(e.workbookImageIds.get(d).index+1)+"."+s.type})}),createXmlPart(relationshipsFactory.getTemplate(a))},l.createWorksheetDrawingRel=function(r){var e=relationshipsFactory.getTemplate([{Id:"rId1",Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",Target:"../drawings/drawing"+(r+1)+".xml"}]);return createXmlPart(e)},l.createWorksheet=function(r,e,i,a){return createXmlPart(worksheetFactory.getTemplate({worksheet:r,currentSheet:this.sheetNames.length-1,margins:e,pageSetup:i,headerFooterConfig:a}))},l.sharedStrings=new Map,l.sheetNames=[],l.images=new Map,l.worksheetImages=new Map,l.workbookImageIds=new Map,l.worksheetImageIds=new Map,l.factoryMode=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.nPL.SINGLE_SHEET,l}(),__extends$2W=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),ExcelXlsxSerializingSession=function(l){function r(){return null!==l&&l.apply(this,arguments)||this}return __extends$2W(r,l),r.prototype.createExcel=function(e){var s=this.config;return ExcelXlsxFactory.createExcel(this.excelStyles,e,s.margins,s.pageSetup,s.headerFooterConfig)},r.prototype.getDataTypeForValue=function(e){return void 0===e?"empty":ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.isNumeric(e)?"n":"s"},r.prototype.getType=function(e,i,a){if(this.isFormula(a))return"f";if(i&&i.dataType)switch(i.dataType.toLocaleLowerCase()){case"formula":return"f";case"string":return"s";case"number":return"n";case"datetime":return"d";case"error":return"e";case"boolean":return"b";default:console.warn("AG Grid: Unrecognized data type for excel export ["+i.id+".dataType="+i.dataType+"]")}return e},r.prototype.addImage=function(e,i,a){if(this.config.addImageToCell){var s=this.config.addImageToCell(e,i,a);if(s)return ExcelXlsxFactory.buildImageMap(s.image,e,i,this.columnsToExport,this.config.rowHeight),s}},r.prototype.createCell=function(e,i,a){var s=this.getStyleById(e),d=this.getType(i,s,a)||i;return{styleId:s?e:void 0,data:{type:d,value:this.getCellValue(d,a)}}},r.prototype.createMergedCell=function(e,i,a,s){var d=a??"";return{styleId:this.getStyleById(e)?e:void 0,data:{type:i,value:"s"===i?ExcelXlsxFactory.getStringPosition(d).toString():a},mergeAcross:s}},r.prototype.getCellValue=function(e,i){if(null==i)return ExcelXlsxFactory.getStringPosition("").toString();switch(e){case"s":return""===i?"":ExcelXlsxFactory.getStringPosition(i).toString();case"f":return i.slice(1);case"n":return Number(i).toString();default:return i}},r}(BaseExcelSerializingSession),__extends$2V=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__assign$y=function(){return __assign$y=Object.assign||function(l){for(var r,e=1,i=arguments.length;e<i;e++)for(var a in r=arguments[e])Object.prototype.hasOwnProperty.call(r,a)&&(l[a]=r[a]);return l},__assign$y.apply(this,arguments)},__decorate$1v=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},getMultipleSheetsAsExcel=function(l){var r=l.data,e=l.fontSize,i=void 0===e?11:e,a=l.author,s=void 0===a?"AG Grid":a,d=ExcelXlsxFactory.images.size>0;if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.EHG.addFolders(["_rels/","docProps/","xl/","xl/theme/","xl/_rels/","xl/worksheets/"]),d){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.EHG.addFolders(["xl/worksheets/_rels","xl/drawings/","xl/drawings/_rels","xl/media/"]);var h=0;ExcelXlsxFactory.images.forEach(function(m){var E=m[0].image[0];ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.EHG.addFile("xl/media/image"+ ++h+"."+E.imageType,E.base64,!0)})}if(!r||0===r.length)return console.warn("AG Grid: Invalid params supplied to getMultipleSheetsAsExcel() - `ExcelExportParams.data` is empty."),void ExcelXlsxFactory.resetFactory();var v=r.length,_=0;return r.forEach(function(m,E){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.EHG.addFile("xl/worksheets/sheet"+(E+1)+".xml",m),d&&ExcelXlsxFactory.worksheetImages.get(E)&&createImageRelationsForSheet(E,_++)}),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.EHG.addFile("xl/workbook.xml",ExcelXlsxFactory.createWorkbook()),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.EHG.addFile("xl/styles.xml",ExcelXlsxFactory.createStylesheet(i)),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.EHG.addFile("xl/sharedStrings.xml",ExcelXlsxFactory.createSharedStrings()),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.EHG.addFile("xl/theme/theme1.xml",ExcelXlsxFactory.createTheme()),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.EHG.addFile("xl/_rels/workbook.xml.rels",ExcelXlsxFactory.createWorkbookRels(v)),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.EHG.addFile("docProps/core.xml",ExcelXlsxFactory.createCore(s)),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.EHG.addFile("[Content_Types].xml",ExcelXlsxFactory.createContentTypes(v)),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.EHG.addFile("_rels/.rels",ExcelXlsxFactory.createRels()),ExcelXlsxFactory.resetFactory(),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.EHG.getContent(l.mimeType||"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet")},exportMultipleSheetsAsExcel=function(l){var r=l.fileName,e=void 0===r?"export.xlsx":r,i=getMultipleSheetsAsExcel(l);i&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.aVm.download(e,i)},createImageRelationsForSheet=function(l,r){var e="xl/drawings",i=e+"/drawing"+(r+1)+".xml",s="xl/worksheets/_rels/sheet"+(l+1)+".xml.rels";ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.EHG.addFile(e+"/_rels/drawing"+(r+1)+".xml.rels",ExcelXlsxFactory.createDrawingRel(l)),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.EHG.addFile(i,ExcelXlsxFactory.createDrawing(l)),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.EHG.addFile(s,ExcelXlsxFactory.createWorksheetDrawingRel(r))},ExcelCreator=function(l){function r(){var e=null!==l&&l.apply(this,arguments)||this;return e.exportMode="xlsx",e}return __extends$2V(r,l),r.prototype.postConstruct=function(){this.setBeans({gridSerializer:this.gridSerializer,gridOptionsWrapper:this.gridOptionsWrapper})},r.prototype.getMergedParams=function(e){var i=this.gridOptionsWrapper.getDefaultExportParams("excel");return Object.assign({},i,e)},r.prototype.getData=function(e){return this.setExportMode(e.exportMode||"xlsx"),l.prototype.getData.call(this,e)},r.prototype.export=function(e){if(this.isExportSuppressed())return console.warn("AG Grid: Export cancelled. Export is not allowed as per your configuration."),"";var i=this.getMergedParams(e),a=this.getData(i),d=this.packageFile({data:[a],fontSize:i.fontSize,author:i.author,mimeType:i.mimeType});return d&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.aVm.download(this.getFileName(i.fileName),d),a},r.prototype.exportDataAsExcel=function(e){return this.export(e)},r.prototype.getDataAsExcel=function(e){var i=this.getMergedParams(e),a=this.getData(i);return e&&"xml"===e.exportMode?a:this.packageFile({data:[a],fontSize:i.fontSize,author:i.author,mimeType:i.mimeType})},r.prototype.setFactoryMode=function(e,i){void 0===i&&(i="xlsx"),("xlsx"===i?ExcelXlsxFactory:ExcelXmlFactory).factoryMode=e},r.prototype.getFactoryMode=function(e){return("xlsx"===e?ExcelXlsxFactory:ExcelXmlFactory).factoryMode},r.prototype.getSheetDataForExcel=function(e){var i=this.getMergedParams(e);return this.getData(i)},r.prototype.getMultipleSheetsAsExcel=function(e){return getMultipleSheetsAsExcel(e)},r.prototype.exportMultipleSheetsAsExcel=function(e){return exportMultipleSheetsAsExcel(e)},r.prototype.getDefaultFileName=function(){return"export."+this.getExportMode()},r.prototype.getDefaultFileExtension=function(){return this.getExportMode()},r.prototype.createSerializingSession=function(e){var i=this,a=i.columnModel,s=i.valueService,d=i.gridOptionsWrapper,h="xlsx"===this.getExportMode(),v="ag-grid";null!=e.sheetName&&(v=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.utf8_encode(e.sheetName.toString().substr(0,31)));var _=__assign$y(__assign$y({},e),{sheetName:v,columnModel:a,valueService:s,gridOptionsWrapper:d,headerRowHeight:e.headerRowHeight||e.rowHeight,baseExcelStyles:this.gridOptions.excelStyles||[],styleLinker:this.styleLinker.bind(this)});return new(h?ExcelXlsxSerializingSession:ExcelXmlSerializingSession)(_)},r.prototype.styleLinker=function(e,i,a,s,d){if(e===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.aCu.HEADER)return["header"];if(e===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.aCu.HEADER_GROUPING)return["header","headerGroup"];var h=this.gridOptions.excelStyles,v=["cell"];if(!h||!h.length)return v;var _=h.map(function(y){return y.id});return this.stylingService.processAllCellClasses(s.getColDef(),{value:a,data:d.data,node:d,colDef:s.getColDef(),column:s,rowIndex:i,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()},function(y){_.indexOf(y)>-1&&v.push(y)}),v.sort(function(y,m){return _.indexOf(y)<_.indexOf(m)?-1:1})},r.prototype.isExportSuppressed=function(){return this.gridOptionsWrapper.isSuppressExcelExport()},r.prototype.setExportMode=function(e){this.exportMode=e},r.prototype.getExportMode=function(){return this.exportMode},r.prototype.packageFile=function(e){return"xml"===this.getExportMode()?new Blob(["\ufeff",e.data[0]],{type:e.mimeType||"application/vnd.ms-excel"}):getMultipleSheetsAsExcel(e)},__decorate$1v([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],r.prototype,"columnModel",void 0),__decorate$1v([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("valueService")],r.prototype,"valueService",void 0),__decorate$1v([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridOptions")],r.prototype,"gridOptions",void 0),__decorate$1v([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("stylingService")],r.prototype,"stylingService",void 0),__decorate$1v([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridSerializer")],r.prototype,"gridSerializer",void 0),__decorate$1v([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridOptionsWrapper")],r.prototype,"gridOptionsWrapper",void 0),__decorate$1v([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],r.prototype,"postConstruct",null),__decorate$1v([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("excelCreator")],r)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.z0n),ExcelExportModule={moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.ExcelExportModule,beans:[ExcelCreator,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.YaM,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.IFn],dependantModules:[ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jMC,EnterpriseCoreModule]},__extends$2U=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__decorate$1u=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},EXPAND_STATE=(()=>(function(l){l[l.EXPANDED=0]="EXPANDED",l[l.COLLAPSED=1]="COLLAPSED",l[l.INDETERMINATE=2]="INDETERMINATE"}(EXPAND_STATE||(EXPAND_STATE={})),EXPAND_STATE))(),FiltersToolPanelHeaderPanel=function(l){function r(){return null!==l&&l.apply(this,arguments)||this}return __extends$2U(r,l),r.prototype.preConstruct=function(){this.setTemplate('<div class="ag-filter-toolpanel-search" role="presentation">\n                <div ref="eExpand" class="ag-filter-toolpanel-expand"></div>\n                <ag-input-text-field ref="eFilterTextField" class="ag-filter-toolpanel-search-input"></ag-input-text-field>\n            </div>')},r.prototype.postConstruct=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc();this.eFilterTextField.onValueChange(this.onSearchTextChanged.bind(this)),this.eFilterTextField.setInputAriaLabel(e("ariaFilterColumnsInput","Filter Columns Input")),this.createExpandIcons(),this.setExpandState(EXPAND_STATE.EXPANDED),this.addManagedListener(this.eExpand,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_NEW_COLUMNS_LOADED,this.showOrHideOptions.bind(this))},r.prototype.init=function(e){this.params=e,this.columnModel.isReady()&&this.showOrHideOptions()},r.prototype.createExpandIcons=function(){this.eExpand.appendChild(this.eExpandChecked=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("columnSelectOpen",this.gridOptionsWrapper)),this.eExpand.appendChild(this.eExpandUnchecked=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("columnSelectClosed",this.gridOptionsWrapper)),this.eExpand.appendChild(this.eExpandIndeterminate=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("columnSelectIndeterminate",this.gridOptionsWrapper))},r.prototype.showOrHideOptions=function(){var e=!this.params.suppressFilterSearch,i=!this.params.suppressExpandAll,a=this.gridOptionsWrapper.getLocaleTextFunc();this.eFilterTextField.setInputPlaceholder(a("searchOoo","Search..."));var d=this.columnModel.getAllGridColumns().some(function(h){return h.getOriginalParent()&&h.isFilterAllowed()});ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eFilterTextField.getGui(),e),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eExpand,i&&d)},r.prototype.onSearchTextChanged=function(){var e=this;this.onSearchTextChangedDebounced||(this.onSearchTextChangedDebounced=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.debounce(function(){e.dispatchEvent({type:"searchChanged",searchText:e.eFilterTextField.getValue()})},300)),this.onSearchTextChangedDebounced()},r.prototype.onExpandClicked=function(){this.dispatchEvent(this.currentExpandState===EXPAND_STATE.EXPANDED?{type:"collapseAll"}:{type:"expandAll"})},r.prototype.setExpandState=function(e){this.currentExpandState=e,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eExpandChecked,this.currentExpandState===EXPAND_STATE.EXPANDED),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eExpandUnchecked,this.currentExpandState===EXPAND_STATE.COLLAPSED),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eExpandIndeterminate,this.currentExpandState===EXPAND_STATE.INDETERMINATE)},__decorate$1u([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],r.prototype,"columnModel",void 0),__decorate$1u([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eExpand")],r.prototype,"eExpand",void 0),__decorate$1u([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eFilterTextField")],r.prototype,"eFilterTextField",void 0),__decorate$1u([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.$j7],r.prototype,"preConstruct",null),__decorate$1u([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],r.prototype,"postConstruct",null),r}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$2T=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__decorate$1t=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},ToolPanelFilterComp=function(l){function r(e){void 0===e&&(e=!1);var i=l.call(this,r.TEMPLATE)||this;return i.expanded=!1,i.hideHeader=e,i}return __extends$2T(r,l),r.prototype.postConstruct=function(){this.eExpandChecked=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("columnSelectOpen",this.gridOptionsWrapper),this.eExpandUnchecked=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("columnSelectClosed",this.gridOptionsWrapper),this.eExpand.appendChild(this.eExpandChecked),this.eExpand.appendChild(this.eExpandUnchecked)},r.prototype.setColumn=function(e){var i=this;this.column=e,this.eFilterName.innerText=this.columnModel.getDisplayNameForColumn(this.column,"filterToolPanel",!1)||"",this.addManagedListener(this.eFilterToolPanelHeader,"click",this.toggleExpanded.bind(this)),this.addManagedListener(this.eFilterToolPanelHeader,"keydown",function(a){a.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.ENTER&&i.toggleExpanded()}),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_FILTER_OPENED,this.onFilterOpened.bind(this)),this.addInIcon("filter",this.eFilterIcon,this.column),this.eFilterIcon.classList.toggle("ag-hidden",!this.isFilterActive()),this.eExpandChecked.classList.add("ag-hidden"),this.hideHeader?(this.eFilterToolPanelHeader.classList.toggle("ag-hidden",!0),this.eFilterToolPanelHeader.removeAttribute("tabindex")):this.eFilterToolPanelHeader.setAttribute("tabindex","0"),this.addManagedListener(this.column,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sgG.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this))},r.prototype.getColumn=function(){return this.column},r.prototype.getColumnFilterName=function(){return this.columnModel.getDisplayNameForColumn(this.column,"filterToolPanel",!1)},r.prototype.addCssClassToTitleBar=function(e){this.eFilterToolPanelHeader.classList.add(e)},r.prototype.addInIcon=function(e,i,a){if(null!=i){var s=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan(e,this.gridOptionsWrapper,a);i.appendChild(s)}},r.prototype.isFilterActive=function(){return this.filterManager.isFilterActive(this.column)},r.prototype.onFilterChanged=function(){this.eFilterIcon.classList.toggle("ag-hidden",!this.isFilterActive()),this.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sgG.EVENT_FILTER_CHANGED})},r.prototype.toggleExpanded=function(){this.expanded?this.collapse():this.expand()},r.prototype.expand=function(){var i,e=this;if(!this.expanded){this.expanded=!0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaExpanded(this.eFilterToolPanelHeader,!0);var a=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.loadTemplate('<div class="ag-filter-toolpanel-instance-filter"></div>'),s=null===(i=this.filterManager.getOrCreateFilterWrapper(this.column,"TOOLBAR"))||void 0===i?void 0:i.filterPromise;s&&s.then(function(d){e.underlyingFilter=d,d&&(a.appendChild(d.getGui()),e.agFilterToolPanelBody.appendChild(a),d.afterGuiAttached&&d.afterGuiAttached({container:"toolPanel"}))}),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eExpandChecked,!0),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eExpandUnchecked,!1)}},r.prototype.collapse=function(){!this.expanded||(this.expanded=!1,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaExpanded(this.eFilterToolPanelHeader,!1),this.agFilterToolPanelBody.removeChild(this.agFilterToolPanelBody.children[0]),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eExpandChecked,!1),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eExpandUnchecked,!0))},r.prototype.refreshFilter=function(){if(this.expanded){var e=this.underlyingFilter;!e||"function"==typeof e.refreshVirtualList&&e.refreshVirtualList()}},r.prototype.onFilterOpened=function(e){"COLUMN_MENU"===e.source&&e.column===this.column&&(!this.expanded||this.collapse())},r.TEMPLATE='\n        <div class="ag-filter-toolpanel-instance">\n            <div class="ag-filter-toolpanel-header ag-filter-toolpanel-instance-header" ref="eFilterToolPanelHeader" role="button" aria-expanded="false">\n                <div ref="eExpand" class="ag-filter-toolpanel-expand"></div>\n                <span ref="eFilterName" class="ag-header-cell-text"></span>\n                <span ref="eFilterIcon" class="ag-header-icon ag-filter-icon ag-filter-toolpanel-instance-header-icon" aria-hidden="true"></span>\n            </div>\n            <div class="ag-filter-toolpanel-instance-body ag-filter" ref="agFilterToolPanelBody"></div>\n        </div>',__decorate$1t([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eFilterToolPanelHeader")],r.prototype,"eFilterToolPanelHeader",void 0),__decorate$1t([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eFilterName")],r.prototype,"eFilterName",void 0),__decorate$1t([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("agFilterToolPanelBody")],r.prototype,"agFilterToolPanelBody",void 0),__decorate$1t([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eFilterIcon")],r.prototype,"eFilterIcon",void 0),__decorate$1t([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eExpand")],r.prototype,"eExpand",void 0),__decorate$1t([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("filterManager")],r.prototype,"filterManager",void 0),__decorate$1t([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],r.prototype,"columnModel",void 0),__decorate$1t([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],r.prototype,"postConstruct",null),r}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$2S=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__decorate$1s=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},ToolPanelFilterGroupComp=function(l){function r(e,i,a,s,d){var h=l.call(this)||this;return h.columnGroup=e,h.childFilterComps=i,h.depth=s,h.expandedCallback=a,h.showingColumn=d,h}return __extends$2S(r,l),r.prototype.preConstruct=function(){this.setTemplate(r.TEMPLATE,{filterGroupComp:{cssIdentifier:"filter-toolpanel",direction:"vertical"}})},r.prototype.init=function(){var e=this;this.setGroupTitle(),this.filterGroupComp.setAlignItems("stretch"),this.filterGroupComp.addCssClass("ag-filter-toolpanel-group-level-"+this.depth),this.filterGroupComp.addCssClassToTitleBar("ag-filter-toolpanel-group-level-"+this.depth+"-header"),this.childFilterComps.forEach(function(i){e.filterGroupComp.addItem(i),i.addCssClassToTitleBar("ag-filter-toolpanel-group-level-"+(e.depth+1)+"-header")}),this.refreshFilterClass(),this.addExpandCollapseListeners(),this.addFilterChangedListeners(),this.setupTooltip()},r.prototype.setupTooltip=function(){var e=this;if(this.showingColumn){var i=function(){var a=e.columnGroup.getColDef().headerTooltip;e.setTooltip(a)};i(),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_NEW_COLUMNS_LOADED,i)}},r.prototype.getTooltipParams=function(){var e=l.prototype.getTooltipParams.call(this);return e.location="filterToolPanelColumnGroup",e},r.prototype.addCssClassToTitleBar=function(e){this.filterGroupComp.addCssClassToTitleBar(e)},r.prototype.refreshFilters=function(){this.childFilterComps.forEach(function(e){e instanceof r?e.refreshFilters():e.refreshFilter()})},r.prototype.isColumnGroup=function(){return this.columnGroup instanceof ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KTm},r.prototype.isExpanded=function(){return this.filterGroupComp.isExpanded()},r.prototype.getChildren=function(){return this.childFilterComps},r.prototype.getFilterGroupName=function(){return this.filterGroupName?this.filterGroupName:""},r.prototype.getFilterGroupId=function(){return this.columnGroup.getId()},r.prototype.hideGroupItem=function(e,i){this.filterGroupComp.hideItem(e,i)},r.prototype.hideGroup=function(e){this.addOrRemoveCssClass("ag-hidden",e)},r.prototype.forEachToolPanelFilterChild=function(e){this.childFilterComps.forEach(function(i){i instanceof ToolPanelFilterComp&&e(i)})},r.prototype.addExpandCollapseListeners=function(){var e=this,i=this.isColumnGroup()?function(){return e.expandedCallback()}:function(){return e.forEachToolPanelFilterChild(function(s){return s.expand()})},a=this.isColumnGroup()?function(){return e.expandedCallback()}:function(){return e.forEachToolPanelFilterChild(function(s){return s.collapse()})};this.addManagedListener(this.filterGroupComp,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.H1u.EVENT_EXPANDED,i),this.addManagedListener(this.filterGroupComp,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.H1u.EVENT_COLLAPSED,a)},r.prototype.getColumns=function(){return this.columnGroup instanceof ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KTm?this.columnGroup.getLeafColumns():[this.columnGroup]},r.prototype.addFilterChangedListeners=function(){var e=this;this.getColumns().forEach(function(i){e.addManagedListener(i,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sgG.EVENT_FILTER_CHANGED,function(){return e.refreshFilterClass()})}),this.columnGroup instanceof ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KTm||this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_FILTER_OPENED,this.onFilterOpened.bind(this))},r.prototype.refreshFilterClass=function(){var e=this.getColumns();this.filterGroupComp.addOrRemoveCssClass("ag-has-filter",e.some(function(a){return a.isFilterActive()}))},r.prototype.onFilterOpened=function(e){"COLUMN_MENU"===e.source&&e.column===this.columnGroup&&(!this.isExpanded()||this.collapse())},r.prototype.expand=function(){this.filterGroupComp.toggleGroupExpand(!0)},r.prototype.collapse=function(){this.filterGroupComp.toggleGroupExpand(!1)},r.prototype.setGroupTitle=function(){this.filterGroupName=this.columnGroup instanceof ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KTm?this.getColumnGroupName(this.columnGroup):this.getColumnName(this.columnGroup),this.filterGroupComp.setTitle(this.filterGroupName||"")},r.prototype.getColumnGroupName=function(e){return this.columnModel.getDisplayNameForProvidedColumnGroup(null,e,"filterToolPanel")},r.prototype.getColumnName=function(e){return this.columnModel.getDisplayNameForColumn(e,"filterToolPanel",!1)},r.prototype.destroyFilters=function(){this.childFilterComps=this.destroyBeans(this.childFilterComps),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.clearElement(this.getGui())},r.prototype.destroy=function(){this.destroyFilters(),l.prototype.destroy.call(this)},r.TEMPLATE='<div class="ag-filter-toolpanel-group-wrapper">\n            <ag-group-component ref="filterGroupComp"></ag-group-component>\n        </div>',__decorate$1s([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("filterGroupComp")],r.prototype,"filterGroupComp",void 0),__decorate$1s([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],r.prototype,"columnModel",void 0),__decorate$1s([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.$j7],r.prototype,"preConstruct",null),__decorate$1s([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],r.prototype,"init",null),r}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$2R=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__decorate$1r=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},FiltersToolPanelListPanel=function(l){function r(){var e=l.call(this,r.TEMPLATE)||this;return e.initialised=!1,e.filterGroupComps=[],e}return __extends$2R(r,l),r.prototype.init=function(e){var i=this;this.initialised=!0;var a={suppressExpandAll:!1,suppressFilterSearch:!1,suppressSyncLayoutWithGrid:!1,api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext()};ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.mergeDeep(a,e),this.params=a,this.params.suppressSyncLayoutWithGrid||this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_MOVED,function(){return i.onColumnsChanged()}),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_NEW_COLUMNS_LOADED,function(){return i.onColumnsChanged()}),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_TOOL_PANEL_VISIBLE_CHANGED,function(s){"filters"===s.source&&i.refreshFilters()}),this.columnModel.isReady()&&this.onColumnsChanged()},r.prototype.onColumnsChanged=function(){var e=this.columnModel.isPivotMode();this.params.suppressSyncLayoutWithGrid||e?this.buildTreeFromProvidedColumnDefs():this.syncFilterLayout()},r.prototype.syncFilterLayout=function(){this.toolPanelColDefService.syncLayoutWithGrid(this.setFiltersLayout.bind(this))},r.prototype.buildTreeFromProvidedColumnDefs=function(){var e=this;this.destroyFilters();var i=this.columnModel.getPrimaryColumnTree();this.filterGroupComps=this.recursivelyAddComps(i,0);var a=this.filterGroupComps.length;a&&(this.filterGroupComps.forEach(function(s){return e.appendChild(s)}),this.setFirstAndLastVisible(0,a-1)),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(this.searchFilterText)&&this.searchFilters(this.searchFilterText),this.fireExpandedEvent()},r.prototype.setFiltersLayout=function(e){var i=this;this.destroyFilters();var a=this.toolPanelColDefService.createColumnTree(e);this.filterGroupComps=this.recursivelyAddComps(a,0);var s=this.filterGroupComps.length;s&&(this.filterGroupComps.forEach(function(d){return i.appendChild(d)}),this.setFirstAndLastVisible(0,s-1)),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(this.searchFilterText)&&this.searchFilters(this.searchFilterText),this.fireExpandedEvent()},r.prototype.recursivelyAddComps=function(e,i){var a=this;return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.flatten(e.map(function(s){if(s instanceof ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KTm)return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.flatten(a.recursivelyAddFilterGroupComps(s,i));var d=s;if(!a.shouldDisplayFilter(d))return[];var v=new ToolPanelFilterComp(0===i);if(a.createBean(v),v.setColumn(d),i>0)return v;var _=a.createBean(new ToolPanelFilterGroupComp(d,[v],a.onGroupExpanded.bind(a),i,!0));return _.addCssClassToTitleBar("ag-filter-toolpanel-header"),_.collapse(),_}))},r.prototype.recursivelyAddFilterGroupComps=function(e,i){if(this.filtersExistInChildren(e.getChildren())){var a=e.getColGroupDef();if(a&&a.suppressFiltersToolPanel)return[];var s=e.isPadding()?i:i+1,d=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.flatten(this.recursivelyAddComps(e.getChildren(),s));if(e.isPadding())return d;var h=new ToolPanelFilterGroupComp(e,d,this.onGroupExpanded.bind(this),i,!1);return this.createBean(h),h.addCssClassToTitleBar("ag-filter-toolpanel-header"),[h]}},r.prototype.filtersExistInChildren=function(e){var i=this;return e.some(function(a){return a instanceof ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KTm?i.filtersExistInChildren(a.getChildren()):i.shouldDisplayFilter(a)})},r.prototype.shouldDisplayFilter=function(e){var i=e.getColDef()&&e.getColDef().suppressFiltersToolPanel;return e.isFilterAllowed()&&!i},r.prototype.refresh=function(){},r.prototype.setVisible=function(e){l.prototype.setDisplayed.call(this,e),e&&!this.initialised&&this.init(this.params)},r.prototype.expandFilterGroups=function(e,i){var a=[],s=function(h){var v=h.getFilterGroupId();(!i||ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(i,v))&&(e&&h.isColumnGroup()?h.expand():h.collapse(),a.push(v)),h.getChildren().forEach(function(y){y instanceof ToolPanelFilterGroupComp&&s(y)})};if(this.filterGroupComps.forEach(s),this.onGroupExpanded(),i){var d=i.filter(function(h){return a.indexOf(h)<0});d.length>0&&console.warn("AG Grid: unable to find groups for these supplied groupIds:",d)}},r.prototype.expandFilters=function(e,i){var a=[],s=function(h){if(h instanceof ToolPanelFilterGroupComp){var v=!1;return h.getChildren().forEach(function(m){s(m)&&(e?(h.expand(),v=!0):h.isColumnGroup()||h.collapse())}),v}var _=h.getColumn().getColId(),y=!i||ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(i,_);return y&&(e?h.expand():h.collapse(),a.push(_)),y};if(this.filterGroupComps.forEach(s),this.onGroupExpanded(),i){var d=i.filter(function(h){return a.indexOf(h)<0});d.length>0&&console.warn("AG Grid: unable to find columns for these supplied colIds:",d)}},r.prototype.onGroupExpanded=function(){this.fireExpandedEvent()},r.prototype.fireExpandedEvent=function(){var e=0,i=0,a=function(d){!d.isColumnGroup()||(d.isExpanded()?e++:i++,d.getChildren().forEach(function(h){h instanceof ToolPanelFilterGroupComp&&a(h)}))};this.filterGroupComps.forEach(a),this.dispatchEvent({type:"groupExpanded",state:e>0&&i>0?EXPAND_STATE.INDETERMINATE:i>0?EXPAND_STATE.COLLAPSED:EXPAND_STATE.EXPANDED})},r.prototype.performFilterSearch=function(e){this.searchFilterText=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(e)?e.toLowerCase():null,this.searchFilters(this.searchFilterText)},r.prototype.searchFilters=function(e){var s,d,i=function(h){return!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(e)||-1!==h.toLowerCase().indexOf(e)},a=function(h,v){if(!(h instanceof ToolPanelFilterGroupComp))return i(h.getColumnFilterName()||"");var _=h.getChildren(),y=i(h.getFilterGroupName()),m=v||y;if(m){h.hideGroup(!1);for(var E=0;E<_.length;E++)a(_[E],m),h.hideGroupItem(!1,E);return!0}var w=!1;return _.forEach(function(S,D){var T=a(S,v);h.hideGroupItem(!T,D),T&&(w=!0)}),h.hideGroup(!w),w};this.filterGroupComps.forEach(function(h,v){a(h,!1),void 0===s?h.containsCssClass("ag-hidden")||(s=v,d=v):!h.containsCssClass("ag-hidden")&&d!==v&&(d=v)}),this.setFirstAndLastVisible(s,d)},r.prototype.setFirstAndLastVisible=function(e,i){this.filterGroupComps.forEach(function(a,s){a.removeCssClass("ag-first-group-visible"),a.removeCssClass("ag-last-group-visible"),s===e&&a.addCssClass("ag-first-group-visible"),s===i&&a.addCssClass("ag-last-group-visible")})},r.prototype.refreshFilters=function(){this.filterGroupComps.forEach(function(e){return e.refreshFilters()})},r.prototype.destroyFilters=function(){this.filterGroupComps=this.destroyBeans(this.filterGroupComps),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.clearElement(this.getGui())},r.prototype.destroy=function(){this.destroyFilters(),l.prototype.destroy.call(this)},r.TEMPLATE='<div class="ag-filter-list-panel"></div>',__decorate$1r([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],r.prototype,"gridApi",void 0),__decorate$1r([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnApi")],r.prototype,"columnApi",void 0),__decorate$1r([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("toolPanelColDefService")],r.prototype,"toolPanelColDefService",void 0),__decorate$1r([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],r.prototype,"columnModel",void 0),r}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$2Q=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__decorate$1q=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},FiltersToolPanel=function(l){function r(){var e=l.call(this,r.TEMPLATE)||this;return e.initialised=!1,e.listenerDestroyFuncs=[],e}return __extends$2Q(r,l),r.prototype.init=function(e){this.initialised&&(this.listenerDestroyFuncs.forEach(function(d){return d()}),this.listenerDestroyFuncs=[]),this.initialised=!0;var i={suppressExpandAll:!1,suppressFilterSearch:!1,suppressSyncLayoutWithGrid:!1,api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext()};ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.mergeDeep(i,e),this.params=i,this.filtersToolPanelHeaderPanel.init(this.params),this.filtersToolPanelListPanel.init(this.params),this.params.suppressExpandAll&&this.params.suppressFilterSearch&&this.filtersToolPanelHeaderPanel.setDisplayed(!1),this.listenerDestroyFuncs.push(this.addManagedListener(this.filtersToolPanelHeaderPanel,"expandAll",this.onExpandAll.bind(this)),this.addManagedListener(this.filtersToolPanelHeaderPanel,"collapseAll",this.onCollapseAll.bind(this)),this.addManagedListener(this.filtersToolPanelHeaderPanel,"searchChanged",this.onSearchChanged.bind(this)),this.addManagedListener(this.filtersToolPanelListPanel,"groupExpanded",this.onGroupExpanded.bind(this)))},r.prototype.setVisible=function(e){l.prototype.setDisplayed.call(this,e),e&&!this.initialised&&this.init(this.params)},r.prototype.onExpandAll=function(){this.filtersToolPanelListPanel.expandFilterGroups(!0)},r.prototype.onCollapseAll=function(){this.filtersToolPanelListPanel.expandFilterGroups(!1)},r.prototype.onSearchChanged=function(e){this.filtersToolPanelListPanel.performFilterSearch(e.searchText)},r.prototype.setFilterLayout=function(e){this.filtersToolPanelListPanel.setFiltersLayout(e)},r.prototype.onGroupExpanded=function(e){this.filtersToolPanelHeaderPanel.setExpandState(e.state)},r.prototype.expandFilterGroups=function(e){this.filtersToolPanelListPanel.expandFilterGroups(!0,e)},r.prototype.collapseFilterGroups=function(e){this.filtersToolPanelListPanel.expandFilterGroups(!1,e)},r.prototype.expandFilters=function(e){this.filtersToolPanelListPanel.expandFilters(!0,e)},r.prototype.collapseFilters=function(e){this.filtersToolPanelListPanel.expandFilters(!1,e)},r.prototype.syncLayoutWithGrid=function(){this.filtersToolPanelListPanel.syncFilterLayout()},r.prototype.refresh=function(){this.init(this.params)},r.prototype.destroy=function(){l.prototype.destroy.call(this)},r.TEMPLATE='<div class="ag-filter-toolpanel">\n            <ag-filters-tool-panel-header ref="filtersToolPanelHeaderPanel"></ag-filters-tool-panel-header>\n            <ag-filters-tool-panel-list ref="filtersToolPanelListPanel"></ag-filters-tool-panel-list>\n         </div>',__decorate$1q([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("filtersToolPanelHeaderPanel")],r.prototype,"filtersToolPanelHeaderPanel",void 0),__decorate$1q([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("filtersToolPanelListPanel")],r.prototype,"filtersToolPanelListPanel",void 0),__decorate$1q([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],r.prototype,"gridApi",void 0),__decorate$1q([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnApi")],r.prototype,"columnApi",void 0),r}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),FiltersToolPanelModule={moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.FiltersToolPanelModule,beans:[],agStackComponents:[{componentName:"AgFiltersToolPanelHeader",componentClass:FiltersToolPanelHeaderPanel},{componentName:"AgFiltersToolPanelList",componentClass:FiltersToolPanelListPanel}],userComponents:[{componentName:"agFiltersToolPanel",componentClass:FiltersToolPanel}],dependantModules:[SideBarModule,EnterpriseCoreModule]},__extends$2P=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__decorate$1p=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},ChartDatasource=function(l){function r(){return null!==l&&l.apply(this,arguments)||this}return __extends$2P(r,l),r.prototype.getData=function(e){if(e.crossFiltering){if(e.grouping)return console.warn("AG Grid: crossing filtering with row grouping is not supported."),{chartData:[],columnNames:{}};if(!this.gridOptionsWrapper.isRowModelDefault())return console.warn("AG Grid: crossing filtering is only supported in the client side row model."),{chartData:[],columnNames:{}}}this.gridOptionsWrapper.isRowModelServerSide()&&e.pivoting&&this.updatePivotKeysForSSRM();var a=this.extractRowsFromGridRowModel(e);return a.chartData=this.aggregateRowsByDimension(e,a.chartData),a},r.prototype.extractRowsFromGridRowModel=function(e){var y,i=this,a=[],s={},d={},h={},v={},_=[];if(e.crossFiltering)v=this.getFilteredRowNodes(),y=(_=this.getAllRowNodes()).length;else{var m=this.gridRowModel.getRowCount()-1;y=(e.endRow>=0?Math.min(e.endRow,m):m)-e.startRow+1}for(var w=function(M){var A={},L=e.crossFiltering?_[M]:S.gridRowModel.getRow(M+e.startRow);e.dimensionCols.forEach(function(N){var G=N.colId,k=i.columnModel.getGridColumn(G);if(k){var K=i.valueService.getValue(k,L);if(e.grouping){var $=K&&K.toString?String(K.toString()):"",j=r.getGroupLabels(L,$);A[G]={labels:j,toString:function(){return this.labels.filter(function(ie){return!!ie}).reverse().join(" - ")}},L.group&&(d[j.toString()]=M);var Y=j.slice(1,j.length).toString();Y&&(h[Y]=d[Y])}else A[G]=K}else A[ChartDataModel.DEFAULT_CATEGORY]=M+1}),e.valueCols.forEach(function(N){var G=[],k=N.getColDef().pivotKeys;k&&(G=k.slice());var K=N.getColDef().headerName;K&&G.push(K),G.length>0&&(s[N.getId()]=G);var $=N.getColId();if(e.crossFiltering){var j=$+"-filtered-out",ie=null!=(Y=i.valueService.getValue(N,L))&&"function"==typeof Y.toNumber?Y.toNumber():Y;v[L.id]?(A[$]=ie,A[j]=e.aggFunc||e.isScatter?void 0:0):(A[$]=e.aggFunc||e.isScatter?void 0:0,A[j]=ie)}else{var Y;(Y=i.valueService.getValue(N,L))&&Y.hasOwnProperty("toString")&&(Y=parseFloat(Y.toString())),A[$]=null!=Y&&"function"==typeof Y.toNumber?Y.toNumber():Y}}),L.footer&&(A.footer=!0),a.push(A)},S=this,D=0;D<y;D++)w(D);if(e.grouping){var T=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.values(h);a=a.filter(function(M,A){return!M.footer&&!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(T,A)})}return{chartData:a,columnNames:s}},r.prototype.aggregateRowsByDimension=function(e,i){var a=this,s=e.dimensionCols;if(!e.aggFunc||0===s.length)return i;var d=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(s),h=d&&d.colId,v={},_=[];return i.forEach(function(y){var m=v;s.forEach(function(E){var w=E.colId,S=y[w];if(w===h){var D=m[S];D||(D={__children:[]},s.forEach(function(T){var b=T.colId;D[b]=y[b]}),m[S]=D,_.push(D)),D.__children.push(y)}else m[S]||(m[S]={}),m=m[S]})}),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.assertRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.RowGroupingModule,"Charting Aggregation")&&_.forEach(function(y){return e.valueCols.forEach(function(m){if(e.crossFiltering)e.valueCols.forEach(function(S){var D=S.getColId(),T=y.__children.filter(function(N){return typeof N[D]<"u"}).map(function(N){return N[D]}),b=a.aggregationStage.aggregateValues(T,e.aggFunc);y[S.getId()]=b&&typeof b.value<"u"?b.value:b;var M=D+"-filtered-out",A=y.__children.filter(function(N){return typeof N[M]<"u"}).map(function(N){return N[M]}),L=a.aggregationStage.aggregateValues(A,e.aggFunc);y[M]=L&&typeof L.value<"u"?L.value:L});else{var E=y.__children.map(function(S){return S[m.getId()]}),w=0;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.assertRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.RowGroupingModule,"Charting Aggregation")&&(w=a.aggregationStage.aggregateValues(E,e.aggFunc)),y[m.getId()]=w&&typeof w.value<"u"?w.value:w}})}),_},r.prototype.updatePivotKeysForSSRM=function(){var e=this.columnModel.getSecondaryColumns();if(e){var i=this.extractPivotKeySeparator(e);e.forEach(function(a){var s=a.getColId().split(i);a.getColDef().pivotKeys=s.slice(0,s.length-1)})}},r.prototype.extractPivotKeySeparator=function(e){if(0===e.length)return"";var i=function(s,d){var h=s.getGroupId();return s.getParent()?i(s.getParent(),h):d.split(h)[1][0]},a=e[0];return i(a.getParent(),a.getColId())},r.getGroupLabels=function(e,i){for(var a=[i];e&&0!==e.level;)(e=e.parent)&&a.push(e.key);return a},r.prototype.getFilteredRowNodes=function(){var e={};return this.gridRowModel.forEachNodeAfterFilterAndSort(function(i){e[i.id]=i}),e},r.prototype.getAllRowNodes=function(){var e=[];return this.gridRowModel.forEachNode(function(i){e.push(i)}),this.sortRowNodes(e)},r.prototype.sortRowNodes=function(e){var i=this.sortController.getSortOptions();return i&&0!=i.length?this.rowNodeSorter.doFullSort(e,i):e},__decorate$1p([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowModel")],r.prototype,"gridRowModel",void 0),__decorate$1p([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("valueService")],r.prototype,"valueService",void 0),__decorate$1p([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],r.prototype,"columnModel",void 0),__decorate$1p([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowNodeSorter")],r.prototype,"rowNodeSorter",void 0),__decorate$1p([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("sortController")],r.prototype,"sortController",void 0),__decorate$1p([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FiY)("aggregationStage")],r.prototype,"aggregationStage",void 0),r}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$2O=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__decorate$1o=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},__read$N=function(l,r){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var a,d,i=e.call(l),s=[];try{for(;(void 0===r||r-- >0)&&!(a=i.next()).done;)s.push(a.value)}catch(h){d={error:h}}finally{try{a&&!a.done&&(e=i.return)&&e.call(i)}finally{if(d)throw d.error}}return s},__spread$o=function(){for(var l=[],r=0;r<arguments.length;r++)l=l.concat(__read$N(arguments[r]));return l},ChartDataModel=function(l){function r(e){var i=l.call(this)||this;return i.unlinked=!1,i.chartData=[],i.valueColState=[],i.dimensionColState=[],i.columnNames={},i.grouping=!1,i.crossFiltering=!1,i.suppressComboChartWarnings=!1,i.chartId=e.chartId,i.chartType=e.chartType,i.pivotChart=e.pivotChart,i.chartThemeName=e.chartThemeName,i.aggFunc=e.aggFunc,i.referenceCellRange=e.cellRange,i.suppliedCellRange=e.cellRange,i.suppressChartRanges=e.suppressChartRanges,i.unlinked=!!e.unlinkChart,i.crossFiltering=!!e.crossFiltering,i.seriesChartTypes=e.seriesChartTypes||[],i.initComboCharts(e),i}return __extends$2O(r,l),r.prototype.initComboCharts=function(e){("customCombo"===e.chartType||this.seriesChartTypes&&this.seriesChartTypes.length>0)&&(this.chartType="customCombo",this.savedCustomSeriesChartTypes=this.seriesChartTypes||[])},r.prototype.init=function(){this.datasource=this.createManagedBean(new ChartDatasource),this.updateCellRanges()},r.prototype.updateCellRanges=function(e){this.valueCellRange&&(this.referenceCellRange=this.valueCellRange);var i=this.getAllChartColumns(),a=i.dimensionCols,s=i.valueCols,d=this.getAllColumnsFromRanges();e&&this.updateColumnState(e),this.setDimensionCellRange(a,d,e),this.setValueCellRange(s,d,e),e||(this.resetColumnState(),this.syncDimensionCellRange()),this.updateSeriesChartTypes(),this.updateData()},r.prototype.updateSeriesChartTypes=function(){if(this.isComboChart()){if(this.seriesChartTypes=this.seriesChartTypes.map(function(e){var i=["groupedColumn","stackedColumn","stackedArea"].includes(e.chartType);return e.secondaryAxis=!i&&e.secondaryAxis,e}),"customCombo"===this.chartType)return void this.updateSeriesChartTypesForCustomCombo();this.updateChartSeriesTypesForBuiltInCombos()}},r.prototype.updateSeriesChartTypesForCustomCombo=function(){var e=this;!(this.seriesChartTypes&&this.seriesChartTypes.length>0)&&!this.suppressComboChartWarnings&&console.warn("AG Grid: 'seriesChartTypes' are required when the 'customCombo' chart type is specified."),this.seriesChartTypes=this.seriesChartTypes.map(function(d){return r.SUPPORTED_COMBO_CHART_TYPES.includes(d.chartType)||(console.warn("AG Grid: invalid chartType '"+d.chartType+"' supplied in 'seriesChartTypes', converting to 'line' instead."),d.chartType="line"),d});var s=this.valueColState.map(function(d){return(!e.savedCustomSeriesChartTypes||0===e.savedCustomSeriesChartTypes.length)&&(e.savedCustomSeriesChartTypes=e.seriesChartTypes),e.savedCustomSeriesChartTypes.find(function(v){return v.colId===d.colId})||(d.selected&&!e.suppressComboChartWarnings&&console.warn("AG Grid: no 'seriesChartType' found for colId = '"+d.colId+"', defaulting to 'line'."),{colId:d.colId,chartType:"line",secondaryAxis:!1})});this.seriesChartTypes=s,this.savedCustomSeriesChartTypes=s,this.suppressComboChartWarnings=!0},r.prototype.updateChartSeriesTypesForBuiltInCombos=function(){var e="columnLineCombo"===this.chartType?"groupedColumn":"stackedArea",i="columnLineCombo"===this.chartType?"line":"groupedColumn",a=this.valueColState.filter(function(d){return d.selected}),s=Math.ceil(a.length/2);this.seriesChartTypes=a.map(function(d,h){return{colId:d.colId,chartType:h>=s?i:e,secondaryAxis:!1}})},r.prototype.updateData=function(){var e=this.getRowIndexes(),i=e.startRow,a=e.endRow;this.pivotChart&&this.resetColumnState(),this.grouping=this.isGrouping();var s={aggFunc:this.aggFunc,dimensionCols:[this.getSelectedDimension()],grouping:this.grouping,pivoting:this.isPivotActive(),crossFiltering:this.crossFiltering,valueCols:this.getSelectedValueCols(),startRow:i,endRow:a,isScatter:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(["scatter","bubble"],this.chartType)},d=this.datasource.getData(s),v=d.columnNames;this.chartData=d.chartData,this.columnNames=v},r.prototype.isGrouping=function(){var e=this.gridOptionsWrapper.isTreeData(),i=e?null:this.columnModel.getRowGroupColumns(),a=e||i&&i.length>0,s=this.getSelectedDimension().colId,h=this.columnModel.getGroupDisplayColumns().map(function(v){return v.getColId()}).some(function(v){return v===s});return!!a&&h},r.prototype.getSelectedValueCols=function(){return this.valueColState.filter(function(e){return e.selected}).map(function(e){return e.column})},r.prototype.getSelectedDimension=function(){return this.dimensionColState.filter(function(e){return e.selected})[0]},r.prototype.getColDisplayName=function(e){return this.columnModel.getDisplayNameForColumn(e,"chart")},r.prototype.isPivotMode=function(){return this.columnModel.isPivotMode()},r.prototype.getChartDataType=function(e){var i=this.columnModel.getPrimaryColumn(e);return i?i.getColDef().chartDataType:void 0},r.prototype.isPivotActive=function(){return this.columnModel.isPivotActive()},r.prototype.createCellRange=function(e){for(var i=[],a=1;a<arguments.length;a++)i[a-1]=arguments[a];return{id:this.chartId,startRow:this.referenceCellRange.startRow,endRow:this.referenceCellRange.endRow,columns:i,startColumn:e===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.StC.DIMENSION?i[0]:this.referenceCellRange.startColumn,type:e}},r.prototype.getAllColumnsFromRanges=function(){if(this.pivotChart)return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.convertToSet(this.columnModel.getAllDisplayedColumns());var e=this.dimensionCellRange||this.valueCellRange?[]:this.referenceCellRange.columns;return this.dimensionCellRange&&e.push.apply(e,__spread$o(this.dimensionCellRange.columns)),this.valueCellRange&&e.push.apply(e,__spread$o(this.valueCellRange.columns)),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.convertToSet(e)},r.prototype.getRowIndexes=function(){var e=0,i=0,a=this.rangeService,s=this.valueCellRange;if(a&&s){e=a.getRangeStartRow(s).rowIndex;var d=a.getRangeEndRow(s);i=d.rowPinned===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.gTE.PINNED_BOTTOM?-1:d.rowIndex}return{startRow:e,endRow:i}},r.prototype.getAllChartColumns=function(){var e=this,i=this.columnModel.getAllDisplayedColumns(),a=new Set,s=new Set;return i.forEach(function(d){var h=d.getColDef(),v=h.chartDataType;if(v)switch(v){case"category":case"time":return void a.add(d);case"series":return void s.add(d);case"excluded":return;default:console.warn("AG Grid: unexpected chartDataType value '"+v+"' supplied, instead use 'category', 'series' or 'excluded'")}"ag-Grid-AutoColumn"!==h.colId?d.isPrimary()?(e.isNumberCol(d)?s:a).add(d):s.add(d):a.add(d)}),{dimensionCols:a,valueCols:s}},r.prototype.isNumberCol=function(e){if("ag-Grid-AutoColumn"===e.getColId())return!1;var i=this.rowRenderer.getRowNode({rowIndex:0,rowPinned:null});if(!i)return!1;var a=this.valueService.getValue(e,i);return null==a&&(a=this.extractLeafData(i,e)),null!=a&&"function"==typeof a.toNumber&&(a=a.toNumber()),"number"==typeof a},r.prototype.extractLeafData=function(e,i){if(!e.allLeafChildren)return null;for(var a=0;a<e.allLeafChildren.length;a++){var d=this.valueService.getValue(i,e.allLeafChildren[a]);if(null!=d)return d}return null},r.prototype.resetColumnState=function(){var e=this,i=this.getAllChartColumns(),a=i.dimensionCols,s=i.valueCols,d=this.getAllColumnsFromRanges(),h=this.valueColState.length<1;this.dimensionColState=[],this.valueColState=[];var v=!1,_=1,y=this.suppliedCellRange.columns[0];a.forEach(function(w){var S="ag-Grid-AutoColumn"===w.getColId(),D=!1;e.crossFiltering&&e.aggFunc?y.getColId()===w.getColId()&&(D=!0):D=!!S||!v&&d.has(w),e.dimensionColState.push({column:w,colId:w.getColId(),displayName:e.getColDisplayName(w),selected:D,order:_++}),D&&(v=!0)});var m={colId:r.DEFAULT_CATEGORY,displayName:this.chartTranslationService.translate("defaultCategory"),selected:!v,order:0};this.dimensionColState.unshift(m);var E=this.referenceCellRange.columns.filter(function(w){return s.has(w)});s.forEach(function(w){h&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(e.referenceCellRange.columns,w)&&(w=E.shift()),e.valueColState.push({column:w,colId:w.getColId(),displayName:e.getColDisplayName(w),selected:d.has(w),order:_++})})},r.prototype.updateColumnState=function(e){var i=function(_){return _.colId===e.colId},s=this.dimensionColState,d=this.valueColState;s.filter(i).length>0?s.forEach(function(_){return _.selected=i(_)}):d.filter(i).forEach(function(_){return _.selected=e.selected});var h=__spread$o(s,d),v=[];h.forEach(function(_,y){y===e.order&&v.push(e.colId),_.colId!==e.colId&&v.push(_.colId)}),h.forEach(function(_){var y=v.indexOf(_.colId);_.order=y>=0?v.indexOf(_.colId):h.length-1}),this.reorderColState()},r.prototype.reorderColState=function(){var e=function(i,a){return i.order-a.order};this.dimensionColState.sort(e),this.valueColState.sort(e)},r.prototype.setDimensionCellRange=function(e,i,a){var s=this;if(this.dimensionCellRange=void 0,a||this.dimensionColState.length){var d=a;if(this.crossFiltering&&this.aggFunc){var h=this.suppliedCellRange.columns[0];d=this.dimensionColState.filter(function(v){return v.colId===h.getColId()})[0]}else(!d||!e.has(d.column))&&(d=this.dimensionColState.filter(function(v){return v.selected})[0]);d&&d.colId!==r.DEFAULT_CATEGORY&&(this.dimensionCellRange=this.createCellRange(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.StC.DIMENSION,d.column))}else e.forEach(function(v){s.dimensionCellRange||!i.has(v)||(s.dimensionCellRange=s.createCellRange(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.StC.DIMENSION,v))})},r.prototype.setValueCellRange=function(e,i,a){this.valueCellRange=void 0;var s=[];if(e.forEach(function(h){a&&a.colId===h.getColId()?a.selected&&s.push(a.column):i.has(h)&&s.push(h)}),s.length>0){var d=[];this.valueColState.length>0?d=this.valueColState.map(function(h){return h.colId}):i.forEach(function(h){return d.push(h.getColId())}),s.sort(function(h,v){return d.indexOf(h.getColId())-d.indexOf(v.getColId())}),this.valueCellRange=this.createCellRange.apply(this,__spread$o([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.StC.VALUE],s))}},r.prototype.syncDimensionCellRange=function(){var e=this.getSelectedDimension();e&&e.column&&(this.dimensionCellRange=this.createCellRange(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.StC.DIMENSION,e.column))},r.prototype.isComboChart=function(){return["columnLineCombo","areaColumnCombo","customCombo"].includes(this.chartType)},r.DEFAULT_CATEGORY="AG-GRID-DEFAULT-CATEGORY",r.SUPPORTED_COMBO_CHART_TYPES=["line","groupedColumn","stackedColumn","area","stackedArea"],__decorate$1o([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],r.prototype,"columnModel",void 0),__decorate$1o([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("valueService")],r.prototype,"valueService",void 0),__decorate$1o([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rangeService")],r.prototype,"rangeService",void 0),__decorate$1o([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowRenderer")],r.prototype,"rowRenderer",void 0),__decorate$1o([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],r.prototype,"chartTranslationService",void 0),__decorate$1o([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],r.prototype,"init",null),r}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),BBox$1=function(){function l(r,e,i,a){this.x=r,this.y=e,this.width=i,this.height=a}return l.prototype.clone=function(){var r=this;return new l(r.x,r.y,r.width,r.height)},l.prototype.isValid=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},l.prototype.dilate=function(r){this.x-=r,this.y-=r,this.width+=2*r,this.height+=2*r},l.prototype.containsPoint=function(r,e){return r>=this.x&&r<=this.x+this.width&&e>=this.y&&e<=this.y+this.height},l.prototype.render=function(r,e){void 0===e&&(e=l.noParams),r.save(),e.resetTransform&&r.setTransform(1,0,0,1,0,0),r.strokeStyle=e.strokeStyle||"cyan",r.lineWidth=e.lineWidth||1,r.strokeRect(this.x,this.y,this.width,this.height),e.label&&(r.fillStyle=e.fillStyle||"black",r.textBaseline="bottom",r.fillText(e.label,this.x,this.y)),r.restore()},l.noParams={},l}(),__read$M=function(l,r){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var a,d,i=e.call(l),s=[];try{for(;(void 0===r||r-- >0)&&!(a=i.next()).done;)s.push(a.value)}catch(h){d={error:h}}finally{try{a&&!a.done&&(e=i.return)&&e.call(i)}finally{if(d)throw d.error}}return s},Matrix$1=function(){function l(r){void 0===r&&(r=[1,0,0,1,0,0]),this.elements=r}return l.prototype.setElements=function(r){var e=this.elements;return e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e[4]=r[4],e[5]=r[5],this},l.prototype.setIdentityElements=function(){var r=this.elements;return r[0]=1,r[1]=0,r[2]=0,r[3]=1,r[4]=0,r[5]=0,this},Object.defineProperty(l.prototype,"identity",{get:function(){var r=this.elements;return 1===r[0]&&0===r[1]&&0===r[2]&&1===r[3]&&0===r[4]&&0===r[5]},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"a",{get:function(){return this.elements[0]},set:function(r){this.elements[0]=r},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"b",{get:function(){return this.elements[1]},set:function(r){this.elements[1]=r},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"c",{get:function(){return this.elements[2]},set:function(r){this.elements[2]=r},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"d",{get:function(){return this.elements[3]},set:function(r){this.elements[3]=r},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"e",{get:function(){return this.elements[4]},set:function(r){this.elements[4]=r},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"f",{get:function(){return this.elements[5]},set:function(r){this.elements[5]=r},enumerable:!0,configurable:!0}),l.prototype.AxB=function(r,e,i){var s=r[1]*e[0]+r[3]*e[1],d=r[0]*e[2]+r[2]*e[3],h=r[1]*e[2]+r[3]*e[3],v=r[0]*e[4]+r[2]*e[5]+r[4],_=r[1]*e[4]+r[3]*e[5]+r[5];(i=i||r)[0]=r[0]*e[0]+r[2]*e[1],i[1]=s,i[2]=d,i[3]=h,i[4]=v,i[5]=_},l.prototype.multiplySelf=function(r){return this.AxB(this.elements,r.elements),this},l.prototype.multiply=function(r){var e=new Array(6);return this.AxB(this.elements,r.elements,e),new l(e)},l.prototype.preMultiplySelf=function(r){return this.AxB(r.elements,this.elements,this.elements),this},l.prototype.inverse=function(){var r=__read$M(this.elements,6),e=r[0],i=r[1],a=r[2],s=r[3],d=r[4],h=r[5],v=1/(e*s-i*a);return new l([s*=v,-(i*=v),-(a*=v),e*=v,a*h-s*d,i*d-e*h])},l.prototype.inverseTo=function(r){var e=__read$M(this.elements,6),i=e[0],a=e[1],s=e[2],d=e[3],h=e[4],v=e[5],_=1/(i*d-a*s);return r.setElements([d*=_,-(a*=_),-(s*=_),i*=_,s*v-d*h,a*h-i*v]),this},l.prototype.invertSelf=function(){var r=this.elements,e=r[0],i=r[1],a=r[2],s=r[3],d=r[4],h=r[5],v=1/(e*s-i*a);return e*=v,i*=v,a*=v,r[0]=s*=v,r[1]=-i,r[2]=-a,r[3]=e,r[4]=a*h-s*d,r[5]=i*d-e*h,this},l.prototype.clone=function(){return new l(this.elements.slice())},l.prototype.transformPoint=function(r,e){var i=this.elements;return{x:r*i[0]+e*i[2]+i[4],y:r*i[1]+e*i[3]+i[5]}},l.prototype.transformBBox=function(r,e,i){void 0===e&&(e=0);var w,S,a=this.elements,s=a[0],d=a[1],h=a[2],v=a[3],_=.5*r.width,y=.5*r.height,m=r.x+_,E=r.y+y;if(e){_-=e,y-=e;var D=Math.sqrt(s*s+h*h),T=Math.sqrt(d*d+v*v);w=Math.abs(_*s)+Math.abs(y*h)+Math.abs(D*e),S=Math.abs(_*d)+Math.abs(y*v)+Math.abs(T*e)}else w=Math.abs(_*s)+Math.abs(y*h),S=Math.abs(_*d)+Math.abs(y*v);return i||(i=new BBox$1(0,0,0,0)),i.x=m*s+E*h+a[4]-w,i.y=m*d+E*v+a[5]-S,i.width=w+w,i.height=S+S,i},l.prototype.toContext=function(r){if(!this.identity){var e=this.elements;r.transform(e[0],e[1],e[2],e[3],e[4],e[5])}},l.flyweight=function(r){return r?l.matrix.setElements(r instanceof l?r.elements:r):l.matrix.setIdentityElements(),l.matrix},l.matrix=new l,l}(),ID_MAP={};function createId$1(l){var e=l.constructor,i=e.hasOwnProperty("className")?e.className:e.name;if(!i)throw new Error("The "+e+" is missing the 'className' property.");var a=(ID_MAP[i]??0)+1;return ID_MAP[i]=a,i+"-"+a}function windowValue(l){var r;return null===(r=typeof window>"u"?void 0:window)||void 0===r?void 0:r[l]}var RedrawType=(()=>(function(l){l[l.NONE=0]="NONE",l[l.TRIVIAL=1]="TRIVIAL",l[l.MINOR=2]="MINOR",l[l.MAJOR=3]="MAJOR"}(RedrawType||(RedrawType={})),RedrawType))();function evalAvailable(){try{return eval(""),!0}catch(l){return!1}}var EVAL_USEABLE=evalAvailable();function SceneChangeDetection(opts){var _a=opts||{},_b=_a.redraw,redraw=void 0===_b?RedrawType.TRIVIAL:_b,_c=_a.type,type=void 0===_c?"normal":_c,changeCb=_a.changeCb,convertor=_a.convertor,_d=_a.checkDirtyOnAssignment,checkDirtyOnAssignment=void 0!==_d&&_d,debug=null!=windowValue("agChartsSceneChangeDetectionDebug");return function(target,key){var privateKey="__"+key;if(!target[key])if(EVAL_USEABLE){var setterJs="\n                "+(debug?"var setCount = 0;":"")+"\n                function set_"+key+"(value) {\n                    const oldValue = this."+privateKey+";\n                    "+(convertor?"value = convertor(value);":"")+"\n                    if (value !== oldValue) {\n                        this."+privateKey+" = value;\n                        "+(debug?"console.log({ t: this, property: '"+key+"', oldValue, value, stack: new Error().stack });":"")+"\n                        "+("normal"===type?"this.markDirty(this, "+redraw+");":"")+"\n                        "+("transform"===type?"this.markDirtyTransform("+redraw+");":"")+"\n                        "+("path"===type?"if (!this._dirtyPath) { this._dirtyPath = true; this.markDirty(this, "+redraw+"); }":"")+"\n                        "+("font"===type?"if (!this._dirtyFont) { this._dirtyFont = true; this.markDirty(this, "+redraw+"); }":"")+"\n                        "+(changeCb?"changeCb(this);":"")+"\n                    }\n                    "+(checkDirtyOnAssignment?"if (value != null && value._dirty > "+RedrawType.NONE+") { this.markDirty(value, value._dirty); }":"")+"\n                };\n                set_"+key+";\n            ",getterJs="\n                function get_"+key+"() {\n                    return this."+privateKey+";\n                };\n                get_"+key+";\n            ";Object.defineProperty(target,key,{set:eval(setterJs),get:eval(getterJs),enumerable:!0,configurable:!1})}else{var setter=function(l){var r=this[privateKey];(l=convertor?convertor(l):l)!==r&&(this[privateKey]=l,"normal"===type&&this.markDirty(this,redraw),"transform"===type&&this.markDirtyTransform(redraw),"path"===type&&!this._dirtyPath&&(this._dirtyPath=!0,this.markDirty(this,redraw)),"font"===type&&!this._dirtyFont&&(this._dirtyFont=!0,this.markDirty(this,redraw)),changeCb&&changeCb(this)),checkDirtyOnAssignment&&null!=l&&l._dirty>RedrawType.NONE&&this.markDirty(l,l._dirty)},getter=function(){return this[privateKey]};Object.defineProperty(target,key,{set:setter,get:getter,enumerable:!0,configurable:!1})}}}var ChangeDetectable=function(){function l(){this._dirty=RedrawType.MAJOR}return l.prototype.markDirty=function(r,e){void 0===e&&(e=RedrawType.TRIVIAL),!(this._dirty>e)&&(this._dirty=e)},l.prototype.markClean=function(r){this._dirty=RedrawType.NONE},l.prototype.isDirty=function(){return this._dirty>RedrawType.NONE},l}(),__extends$2N=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__decorate$1n=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},__values$s=function(l){var r="function"==typeof Symbol&&Symbol.iterator,e=r&&l[r],i=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&i>=l.length&&(l=void 0),{value:l&&l[i++],done:!l}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},__read$L=function(l,r){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var a,d,i=e.call(l),s=[];try{for(;(void 0===r||r-- >0)&&!(a=i.next()).done;)s.push(a.value)}catch(h){d={error:h}}finally{try{a&&!a.done&&(e=i.return)&&e.call(i)}finally{if(d)throw d.error}}return s},PointerEvents$1=(()=>(function(l){l[l.All=0]="All",l[l.None=1]="None"}(PointerEvents$1||(PointerEvents$1={})),PointerEvents$1))(),zIndexChangedCallback=function(l){l.parent&&(l.parent.dirtyZIndex=!0),l.zIndexChanged()},Node$1=function(l){function r(){var e=null!==l&&l.apply(this,arguments)||this;return e.serialNumber=r._nextSerialNumber++,e.id=createId$1(e),e.tag=NaN,e.isContainerNode=!1,e._children=[],e.childSet={},e.matrix=new Matrix$1,e.inverseMatrix=new Matrix$1,e._dirtyTransform=!1,e.scalingX=1,e.scalingY=1,e.scalingCenterX=null,e.scalingCenterY=null,e.rotationCenterX=null,e.rotationCenterY=null,e.rotation=0,e.translationX=0,e.translationY=0,e.visible=!0,e.dirtyZIndex=!1,e.zIndex=0,e.zIndexSubOrder=void 0,e.pointerEvents=PointerEvents$1.All,e}return __extends$2N(r,l),r.isNode=function(e){return!!e&&void 0!==e.matrix},r.prototype._setScene=function(e){var i,a,s;this._scene=e,this._debug=null===(s=e)||void 0===s?void 0:s.debug;try{for(var d=__values$s(this.children),h=d.next();!h.done;h=d.next())h.value._setScene(e)}catch(_){i={error:_}}finally{try{h&&!h.done&&(a=d.return)&&a.call(d)}finally{if(i)throw i.error}}},Object.defineProperty(r.prototype,"scene",{get:function(){return this._scene},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"children",{get:function(){return this._children},enumerable:!0,configurable:!0}),r.prototype.countChildren=function(e){if(void 0===e&&(e=r.MAX_SAFE_INTEGER),e<=0)return 0;for(var i=this.children,a=i.length,s=a,d=0;d<a;d++)s+=i[d].countChildren(e-1);return s},r.prototype.append=function(e){var i,a;r.isNode(e)&&(e=[e]);try{for(var s=__values$s(e),d=s.next();!d.done;d=s.next()){var h=d.value;if(h.parent)throw new Error(h+" already belongs to another parent: "+h.parent+".");if(h.scene)throw new Error(h+" already belongs to a scene: "+h.scene+".");if(this.childSet[h.id])throw new Error("Duplicate "+h.constructor.name+" node: "+h);this._children.push(h),this.childSet[h.id]=!0,h._parent=this,h._setScene(this.scene)}}catch(v){i={error:v}}finally{try{d&&!d.done&&(a=s.return)&&a.call(s)}finally{if(i)throw i.error}}this.dirtyZIndex=!0,this.markDirty(this,RedrawType.MAJOR)},r.prototype.appendChild=function(e){return this.append(e),e},r.prototype.removeChild=function(e){if(e.parent===this){var i=this.children.indexOf(e);if(i>=0)return this._children.splice(i,1),delete this.childSet[e.id],e._parent=void 0,e._setScene(),this.dirtyZIndex=!0,this.markDirty(e,RedrawType.MAJOR),e}throw new Error("The node to be removed is not a child of this node.")},r.prototype.insertBefore=function(e,i){var a=e.parent;if(e.parent&&e.parent.removeChild(e),i&&i.parent===this){var s=this.children.indexOf(i);if(!(s>=0))throw new Error(i+" has "+a+" as the parent, but is not in its list of children.");this._children.splice(s,0,e),this.childSet[e.id]=!0,e._parent=this,e._setScene(this.scene),this.dirtyZIndex=!0,this.markDirty(e,RedrawType.MAJOR)}else this.append(e);return e},Object.defineProperty(r.prototype,"nextSibling",{get:function(){var e=this.parent;if(e){var i=e.children,a=i.indexOf(this);if(a>=0&&a<=i.length-1)return i[a+1]}},enumerable:!0,configurable:!0}),r.prototype.transformPoint=function(e,i){for(var a=Matrix$1.flyweight(this.matrix),s=this.parent;s;)a.preMultiplySelf(s.matrix),s=s.parent;return a.invertSelf().transformPoint(e,i)},r.prototype.inverseTransformPoint=function(e,i){for(var a=Matrix$1.flyweight(this.matrix),s=this.parent;s;)a.preMultiplySelf(s.matrix),s=s.parent;return a.transformPoint(e,i)},r.prototype.markDirtyTransform=function(){this._dirtyTransform=!0,this.markDirty(this,RedrawType.MAJOR)},Object.defineProperty(r.prototype,"rotationDeg",{get:function(){return this.rotation/Math.PI*180},set:function(e){this.rotation=e/180*Math.PI},enumerable:!0,configurable:!0}),r.prototype.containsPoint=function(e,i){return!1},r.prototype.pickNode=function(e,i){var a;if(this.visible&&this.pointerEvents!==PointerEvents$1.None&&this.containsPoint(e,i)){var s=this.children;if(s.length>1e3){for(var d=s.length-1;d>=0;d--)if(h=null!==(a=s[d].computeBBox())&&void 0!==a&&a.containsPoint(e,i)?s[d].pickNode(e,i):void 0)return h}else if(s.length)for(d=s.length-1;d>=0;d--){var h;if(h=s[d].pickNode(e,i))return h}else if(!this.isContainerNode)return this}},r.prototype.computeBBox=function(){},r.prototype.computeTransformedBBox=function(){var e=this.computeBBox();if(e){this.computeTransformMatrix();for(var i=Matrix$1.flyweight(this.matrix),a=this.parent;a;)a.computeTransformMatrix(),i.preMultiplySelf(a.matrix),a=a.parent;return i.transformBBox(e,0,e),e}},r.prototype.computeBBoxCenter=function(){var e=this.computeBBox&&this.computeBBox();return e?[e.x+.5*e.width,e.y+.5*e.height]:[0,0]},r.prototype.computeTransformMatrix=function(){if(this._dirtyTransform){var h,v,e=__read$L([0,0],2),i=e[0],a=e[1],s=this.scalingX,d=this.scalingY;1===s&&1===d?(h=0,v=0):(h=null===this.scalingCenterX?i:this.scalingCenterX,v=null===this.scalingCenterY?a:this.scalingCenterY);var E,w,_=this.rotation,y=Math.cos(_),m=Math.sin(_);0===_?(E=0,w=0):(E=null===this.rotationCenterX?i:this.rotationCenterX,w=null===this.rotationCenterY?a:this.rotationCenterY);var S=this.translationX,D=this.translationY,T=h*(1-s)-E,b=v*(1-d)-w;this._dirtyTransform=!1,this.matrix.setElements([y*s,m*s,-m*d,y*d,y*T-m*b+E+S,m*T+y*b+w+D]).inverseTo(this.inverseMatrix)}},r.prototype.render=function(e){var i=e.stats;this._dirty=RedrawType.NONE,i&&i.nodesRendered++},r.prototype.clearBBox=function(e){var i=this.computeBBox();if(null!=i){var a=i.x,s=i.y,d=i.width,h=i.height,v=this.transformPoint(a,s),_=this.transformPoint(a+d,s+h);e.clearRect(v.x,v.y,_.x-v.x,_.y-v.y)}},r.prototype.markDirty=function(e,i,a){void 0===i&&(i=RedrawType.TRIVIAL),void 0===a&&(a=i),!(this._dirty>i)&&(this._dirty===i&&i===a||(this._dirty=i,this.parent?this.parent.markDirty(this,a):this.scene&&this.scene.markDirty()))},Object.defineProperty(r.prototype,"dirty",{get:function(){return this._dirty},enumerable:!0,configurable:!0}),r.prototype.markClean=function(e){var i,a,s=e||{},d=s.force,v=s.recursive,_=void 0===v||v;if((this._dirty!==RedrawType.NONE||void 0!==d&&d)&&(this._dirty=RedrawType.NONE,_))try{for(var y=__values$s(this.children),m=y.next();!m.done;m=y.next())m.value.markClean()}catch(w){i={error:w}}finally{try{m&&!m.done&&(a=y.return)&&a.call(y)}finally{if(i)throw i.error}}},r.prototype.visibilityChanged=function(){},Object.defineProperty(r.prototype,"nodeCount",{get:function(){var e,i,a=1,s=this._dirty>=RedrawType.NONE||this._dirtyTransform?1:0,d=this.visible?1:0;try{for(var h=__values$s(this._children),v=h.next();!v.done;v=h.next()){var y=v.value.nodeCount;a+=y.count,d+=y.visibleCount,s+=y.dirtyCount}}catch(S){e={error:S}}finally{try{v&&!v.done&&(i=h.return)&&i.call(h)}finally{if(e)throw e.error}}return{count:a,visibleCount:d,dirtyCount:s}},enumerable:!0,configurable:!0}),r.prototype.zIndexChanged=function(){},r._nextSerialNumber=0,r.MAX_SAFE_INTEGER=Math.pow(2,53)-1,__decorate$1n([SceneChangeDetection({type:"transform"})],r.prototype,"scalingX",void 0),__decorate$1n([SceneChangeDetection({type:"transform"})],r.prototype,"scalingY",void 0),__decorate$1n([SceneChangeDetection({type:"transform"})],r.prototype,"scalingCenterX",void 0),__decorate$1n([SceneChangeDetection({type:"transform"})],r.prototype,"scalingCenterY",void 0),__decorate$1n([SceneChangeDetection({type:"transform"})],r.prototype,"rotationCenterX",void 0),__decorate$1n([SceneChangeDetection({type:"transform"})],r.prototype,"rotationCenterY",void 0),__decorate$1n([SceneChangeDetection({type:"transform"})],r.prototype,"rotation",void 0),__decorate$1n([SceneChangeDetection({type:"transform"})],r.prototype,"translationX",void 0),__decorate$1n([SceneChangeDetection({type:"transform"})],r.prototype,"translationY",void 0),__decorate$1n([SceneChangeDetection({redraw:RedrawType.MAJOR,changeCb:function(e){return e.visibilityChanged()}})],r.prototype,"visible",void 0),__decorate$1n([SceneChangeDetection({redraw:RedrawType.TRIVIAL,changeCb:zIndexChangedCallback})],r.prototype,"zIndex",void 0),__decorate$1n([SceneChangeDetection({redraw:RedrawType.TRIVIAL,changeCb:zIndexChangedCallback})],r.prototype,"zIndexSubOrder",void 0),r}(ChangeDetectable);function chainObjects$1(l,r){var e=Object.create(l);for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i]);return e}function getValue(l,r,e){var i=Array.isArray(r)?r:r.split("."),a=l;try{i.forEach(function(s){a=a[s]})}catch(s){if(3!==arguments.length)throw s;a=e}return a}function emptyTarget$1(l){return Array.isArray(l)?[]:{}}function cloneUnlessOtherwiseSpecified$1(l,r){return!1!==r.clone&&r.isMergeableObject(l)?deepMerge$1(emptyTarget$1(l),l,r):l}function defaultArrayMerge$1(l,r,e){return l.concat(r).map(function(i){return cloneUnlessOtherwiseSpecified$1(i,e)})}function getMergeFunction$1(l,r){if(!r.customMerge)return deepMerge$1;var e=r.customMerge(l);return"function"==typeof e?e:deepMerge$1}function getEnumerableOwnPropertySymbols$1(l){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(l).filter(function(r){return l.propertyIsEnumerable(r)}):[]}function getKeys$1(l){return Object.keys(l).concat(getEnumerableOwnPropertySymbols$1(l))}function propertyIsOnObject$1(l,r){try{return r in l}catch{return!1}}function propertyIsUnsafe$1(l,r){return propertyIsOnObject$1(l,r)&&!(Object.hasOwnProperty.call(l,r)&&Object.propertyIsEnumerable.call(l,r))}function mergeObject$1(l,r,e){var i={};return e.isMergeableObject(l)&&getKeys$1(l).forEach(function(a){i[a]=cloneUnlessOtherwiseSpecified$1(l[a],e)}),getKeys$1(r).forEach(function(a){propertyIsUnsafe$1(l,a)||(i[a]=propertyIsOnObject$1(l,a)&&e.isMergeableObject(r[a])?getMergeFunction$1(a,e)(l[a],r[a],e):cloneUnlessOtherwiseSpecified$1(r[a],e))}),i}function defaultIsMergeableObject$1(l){return isNonNullObject$1(l)&&!isSpecial$1(l)}function isNonNullObject$1(l){return!!l&&"object"==typeof l}function isSpecial$1(l){var r=Object.prototype.toString.call(l);return"[object RegExp]"===r||"[object Date]"===r}function deepMerge$1(l,r,e){(e=e||{}).arrayMerge=e.arrayMerge||defaultArrayMerge$1,e.isMergeableObject=e.isMergeableObject||defaultIsMergeableObject$1,e.cloneUnlessOtherwiseSpecified=cloneUnlessOtherwiseSpecified$1;var i=Array.isArray(r);return i===Array.isArray(l)?i?e.arrayMerge(l,r,e):mergeObject$1(l,r,e):cloneUnlessOtherwiseSpecified$1(r,e)}function isObject(l){return"object"==typeof l&&!Array.isArray(l)}var __extends$2M=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__decorate$1m=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},Shape$1=function(l){function r(){var e=null!==l&&l.apply(this,arguments)||this;return e.lastInstanceId=0,e.fillOpacity=1,e.strokeOpacity=1,e.fill=r.defaultStyles.fill,e.stroke=r.defaultStyles.stroke,e.strokeWidth=r.defaultStyles.strokeWidth,e.lineDash=r.defaultStyles.lineDash,e.lineDashOffset=r.defaultStyles.lineDashOffset,e.lineCap=r.defaultStyles.lineCap,e.lineJoin=r.defaultStyles.lineJoin,e.opacity=r.defaultStyles.opacity,e.fillShadow=r.defaultStyles.fillShadow,e}return __extends$2M(r,l),r.createInstance=function(e){var i=Object.create(e);return i._setParent(void 0),i.id=e.id+"-Instance-"+String(++e.lastInstanceId),i},r.prototype.restoreOwnStyles=function(){for(var e=this.constructor.defaultStyles,i=Object.getOwnPropertyNames(e),a=0,s=i.length;a<s;a++){var d=i[a];this[d]=e[d]}},r.prototype.restoreAllStyles=function(){var e=this.constructor.defaultStyles;for(var i in e)this[i]=e[i]},r.prototype.restoreOverriddenStyles=function(){var e=this.constructor.defaultStyles,i=Object.getPrototypeOf(e);for(var a in e)e.hasOwnProperty(a)&&i.hasOwnProperty(a)&&(this[a]=e[a])},r.prototype.align=function(e,i){var a,s,h=(null===(s=null===(a=this.scene)||void 0===a?void 0:a.canvas)||void 0===s?void 0:s.pixelRatio)??1,v=Math.round(e*h)/h;return null==i?v:Math.round((i+e)*h)/h-v},r.prototype.fillStroke=function(e){if(this.scene){var i=this.scene.canvas.pixelRatio||1,a=e.globalAlpha;if(this.fill){e.fillStyle=this.fill,e.globalAlpha=a*this.opacity*this.fillOpacity;var s=this.fillShadow;s&&s.enabled&&(e.shadowColor=s.color,e.shadowOffsetX=s.xOffset*i,e.shadowOffsetY=s.yOffset*i,e.shadowBlur=s.blur*i),e.fill()}e.shadowColor="rgba(0, 0, 0, 0)",this.stroke&&this.strokeWidth&&(e.strokeStyle=this.stroke,e.globalAlpha=a*this.opacity*this.strokeOpacity,e.lineWidth=this.strokeWidth,this.lineDash&&e.setLineDash(this.lineDash),this.lineDashOffset&&(e.lineDashOffset=this.lineDashOffset),this.lineCap&&(e.lineCap=this.lineCap),this.lineJoin&&(e.lineJoin=this.lineJoin),e.stroke())}},r.prototype.containsPoint=function(e,i){return this.isPointInPath(e,i)},r.defaultStyles=chainObjects$1({},{fill:"black",stroke:void 0,strokeWidth:0,lineDash:void 0,lineDashOffset:0,lineCap:void 0,lineJoin:void 0,opacity:1,fillShadow:void 0}),__decorate$1m([SceneChangeDetection({redraw:RedrawType.MINOR})],r.prototype,"fillOpacity",void 0),__decorate$1m([SceneChangeDetection({redraw:RedrawType.MINOR})],r.prototype,"strokeOpacity",void 0),__decorate$1m([SceneChangeDetection({redraw:RedrawType.MINOR})],r.prototype,"fill",void 0),__decorate$1m([SceneChangeDetection({redraw:RedrawType.MINOR})],r.prototype,"stroke",void 0),__decorate$1m([SceneChangeDetection({redraw:RedrawType.MINOR})],r.prototype,"strokeWidth",void 0),__decorate$1m([SceneChangeDetection({redraw:RedrawType.MINOR})],r.prototype,"lineDash",void 0),__decorate$1m([SceneChangeDetection({redraw:RedrawType.MINOR})],r.prototype,"lineDashOffset",void 0),__decorate$1m([SceneChangeDetection({redraw:RedrawType.MINOR})],r.prototype,"lineCap",void 0),__decorate$1m([SceneChangeDetection({redraw:RedrawType.MINOR})],r.prototype,"lineJoin",void 0),__decorate$1m([SceneChangeDetection({redraw:RedrawType.MINOR,convertor:function(e){return Math.min(1,Math.max(0,e))}})],r.prototype,"opacity",void 0),__decorate$1m([SceneChangeDetection({redraw:RedrawType.MINOR,checkDirtyOnAssignment:!0})],r.prototype,"fillShadow",void 0),r}(Node$1),HdpiCanvas$1=function(){function l(r){var e=r.document,i=void 0===e?window.document:e,a=r.width,s=void 0===a?600:a,d=r.height,h=void 0===d?300:d,v=r.domLayer,_=void 0!==v&&v,y=r.zIndex,m=void 0===y?0:y,E=r.name,w=void 0===E?void 0:E;this._container=void 0,this._enabled=!0,this._opacity=1,this._pixelRatio=NaN,this._width=0,this._height=0,this.document=i,this.element=i.createElement("canvas"),this.context=this.element.getContext("2d"),this.imageSource=this.context.canvas;var S=this.element.style;S.userSelect="none",S.display="block",_&&(S.position="absolute",S.zIndex=String(m),S.top="0",S.left="0",S.pointerEvents="none",S.opacity="1",w&&(this.element.id=w)),this.setPixelRatio(),this.resize(s,h)}return Object.defineProperty(l.prototype,"container",{get:function(){return this._container},set:function(r){this._container!==r&&(this.remove(),r&&r.appendChild(this.element),this._container=r)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"enabled",{get:function(){return this._enabled},set:function(r){this.element.style.display=r?"block":"none",this._enabled=!!r},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"opacity",{get:function(){return this._opacity},set:function(r){this.element.style.opacity=""+r,this._opacity=r},enumerable:!0,configurable:!0}),l.prototype.remove=function(){this.element.parentNode?.removeChild(this.element)},l.prototype.destroy=function(){this.element.remove(),this._canvas=void 0,Object.freeze(this)},l.prototype.snapshot=function(){},l.prototype.clear=function(){this.context.save(),this.context.resetTransform(),this.context.clearRect(0,0,this.width,this.height),this.context.restore()},l.prototype.toImage=function(){var r=this.document.createElement("img");return r.src=this.getDataURL(),r},l.prototype.getDataURL=function(r){return this.element.toDataURL(r)},l.prototype.download=function(r){r=((r||"").trim()||"image")+".png";var i=this.getDataURL("image/png"),a=this.document,s=a.createElement("a");s.href=i,s.download=r,s.style.display="none",a.body.appendChild(s),s.click(),a.body.removeChild(s)},Object.defineProperty(l.prototype,"pixelRatio",{get:function(){return this._pixelRatio},enumerable:!0,configurable:!0}),l.prototype.setPixelRatio=function(r){var e=r||window.devicePixelRatio;e!==this.pixelRatio&&(l.overrideScale(this.context,e),this._pixelRatio=e,this.resize(this.width,this.height))},Object.defineProperty(l.prototype,"pixelated",{get:function(){return"pixelated"===this.element.style.imageRendering},set:function(r){this.element.style.imageRendering=r?"pixelated":"auto"},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),l.prototype.resize=function(r,e){if(r>0&&e>0){var i=this,a=i.element,s=i.context,d=i.pixelRatio;a.width=Math.round(r*d),a.height=Math.round(e*d),a.style.width=r+"px",a.style.height=e+"px",s.resetTransform(),this._width=r,this._height=e}},Object.defineProperty(l,"textMeasuringContext",{get:function(){if(this._textMeasuringContext)return this._textMeasuringContext;var r=document.createElement("canvas");return this._textMeasuringContext=r.getContext("2d"),this._textMeasuringContext},enumerable:!0,configurable:!0}),Object.defineProperty(l,"svgText",{get:function(){if(this._svgText)return this._svgText;var r="http://www.w3.org/2000/svg",e=document.createElementNS(r,"svg");e.setAttribute("width","100"),e.setAttribute("height","100"),e.classList?e.classList.add("text-measuring-svg"):e.setAttribute("class","text-measuring-svg"),e.style.position="absolute",e.style.top="-1000px",e.style.visibility="hidden";var i=document.createElementNS(r,"text");return i.setAttribute("x","0"),i.setAttribute("y","30"),i.setAttribute("text","black"),e.appendChild(i),document.body.appendChild(e),this._svgText=i,i},enumerable:!0,configurable:!0}),Object.defineProperty(l,"has",{get:function(){if(this._has)return this._has;var r=navigator.userAgent.indexOf("Chrome")>-1,e=navigator.userAgent.indexOf("Firefox")>-1,i=!r&&navigator.userAgent.indexOf("Safari")>-1;return this._has=Object.freeze({textMetrics:void 0!==this.textMeasuringContext.measureText("test").actualBoundingBoxDescent&&!e&&!i,getTransform:void 0!==this.textMeasuringContext.getTransform}),this._has},enumerable:!0,configurable:!0}),l.measureText=function(r,e,i,a){var s=this.textMeasuringContext;return s.font=e,s.textBaseline=i,s.textAlign=a,s.measureText(r)},l.getTextSize=function(r,e){if(this.has.textMetrics){var i=this.textMeasuringContext;i.font=e;var a=i.measureText(r);return{width:a.width,height:a.actualBoundingBoxAscent+a.actualBoundingBoxDescent}}return this.measureSvgText(r,e)},l.measureSvgText=function(r,e){var i=this.textSizeCache,a=i[e];if(a){var s=a[r];if(s)return s}else i[e]={};var d=this.svgText;d.style.font=e,d.textContent=r;var h=d.getBBox(),v={width:h.width,height:h.height};return i[e][r]=v,v},l.overrideScale=function(r,e){var i=0,a={save:function(){this.$save(),i++},restore:function(){if(!(i>0))throw new Error("Unable to restore() past depth 0");this.$restore(),i--},setTransform:function(d,h,v,_,y,m){"object"==typeof d?this.$setTransform(d):this.$setTransform(d*e,h*e,v*e,_*e,y*e,m*e)},resetTransform:function(){this.$setTransform(e,0,0,e,0,0)}};for(var s in a)a.hasOwnProperty(s)&&(r["$"+s]||(r["$"+s]=r[s]),r[s]=a[s])},l.textSizeCache={},l}(),__extends$2L=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__decorate$1l=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s};function SceneFontChangeDetection(l){var r=l||{},e=r.redraw;return SceneChangeDetection({redraw:void 0===e?RedrawType.MAJOR:e,type:"font",changeCb:r.changeCb})}var Text$1=function(l){function r(){var e=null!==l&&l.apply(this,arguments)||this;return e.x=0,e.y=0,e.lines=[],e.text="",e._dirtyFont=!0,e.fontSize=10,e.fontFamily="sans-serif",e.textAlign=r.defaultStyles.textAlign,e.textBaseline=r.defaultStyles.textBaseline,e.lineHeight=14,e}return __extends$2L(r,l),r.prototype._splitText=function(){this.lines="string"==typeof this.text?this.text.split(/\r?\n/g):[]},Object.defineProperty(r.prototype,"font",{get:function(){return this._dirtyFont&&(this._dirtyFont=!1,this._font=getFont$2(this.fontSize,this.fontFamily,this.fontStyle,this.fontWeight)),this._font},enumerable:!0,configurable:!0}),r.prototype.computeBBox=function(){return HdpiCanvas$1.has.textMetrics?this.getPreciseBBox():this.getApproximateBBox()},r.prototype.getPreciseBBox=function(){var e=HdpiCanvas$1.measureText(this.text,this.font,this.textBaseline,this.textAlign);return new BBox$1(this.x-e.actualBoundingBoxLeft,this.y-e.actualBoundingBoxAscent,e.width,e.actualBoundingBoxAscent+e.actualBoundingBoxDescent)},r.prototype.getApproximateBBox=function(){var e=HdpiCanvas$1.getTextSize(this.text,this.font),a=this.x,s=this.y;switch(this.textAlign){case"end":case"right":a-=e.width;break;case"center":a-=e.width/2}switch(this.textBaseline){case"alphabetic":s-=.7*e.height;break;case"middle":s-=.45*e.height;break;case"ideographic":case"bottom":s-=e.height;break;case"hanging":s-=.2*e.height}return new BBox$1(a,s,e.width,e.height)},r.prototype.isPointInPath=function(e,i){var a=this.transformPoint(e,i),s=this.computeBBox();return!!s&&s.containsPoint(a.x,a.y)},r.prototype.render=function(e){var i=e.ctx,s=e.stats;if(this.dirty!==RedrawType.NONE||e.forceRender)if(this.lines.length&&this.scene){this.computeTransformMatrix(),this.matrix.toContext(i);var d=this,h=d.fill,v=d.stroke,_=d.strokeWidth;i.font=this.font,i.textAlign=this.textAlign,i.textBaseline=this.textBaseline;var y=this.scene.canvas.pixelRatio||1,m=i.globalAlpha;if(h){i.fillStyle=h,i.globalAlpha=m*this.opacity*this.fillOpacity;var E=this,w=E.fillShadow,S=E.text,D=E.x,T=E.y;w&&w.enabled&&(i.shadowColor=w.color,i.shadowOffsetX=w.xOffset*y,i.shadowOffsetY=w.yOffset*y,i.shadowBlur=w.blur*y),i.fillText(S,D,T)}if(v&&_){i.strokeStyle=v,i.lineWidth=_,i.globalAlpha=m*this.opacity*this.strokeOpacity;var b=this,M=b.lineDash,A=b.lineDashOffset,L=b.lineCap,N=b.lineJoin;S=b.text,D=b.x,T=b.y,M&&i.setLineDash(M),A&&(i.lineDashOffset=A),L&&(i.lineCap=L),N&&(i.lineJoin=N),i.strokeText(S,D,T)}l.prototype.render.call(this,e)}else s&&(s.nodesSkipped+=this.nodeCount.count);else s&&(s.nodesSkipped+=this.nodeCount.count)},r.className="Text",r.defaultStyles=chainObjects$1(Shape$1.defaultStyles,{textAlign:"start",fontStyle:void 0,fontWeight:void 0,fontSize:10,fontFamily:"sans-serif",textBaseline:"alphabetic"}),__decorate$1l([SceneChangeDetection({redraw:RedrawType.MAJOR})],r.prototype,"x",void 0),__decorate$1l([SceneChangeDetection({redraw:RedrawType.MAJOR})],r.prototype,"y",void 0),__decorate$1l([SceneChangeDetection({redraw:RedrawType.MAJOR,changeCb:function(e){return e._splitText()}})],r.prototype,"text",void 0),__decorate$1l([SceneFontChangeDetection()],r.prototype,"fontStyle",void 0),__decorate$1l([SceneFontChangeDetection()],r.prototype,"fontWeight",void 0),__decorate$1l([SceneFontChangeDetection()],r.prototype,"fontSize",void 0),__decorate$1l([SceneFontChangeDetection()],r.prototype,"fontFamily",void 0),__decorate$1l([SceneChangeDetection({redraw:RedrawType.MAJOR})],r.prototype,"textAlign",void 0),__decorate$1l([SceneChangeDetection({redraw:RedrawType.MAJOR})],r.prototype,"textBaseline",void 0),__decorate$1l([SceneChangeDetection({redraw:RedrawType.MAJOR})],r.prototype,"lineHeight",void 0),r}(Shape$1);function getFont$2(l,r,e,i){return[e||"",i||"",l+"px",r].join(" ").trim()}var __assign$x=function(){return __assign$x=Object.assign||function(l){for(var r,e=1,i=arguments.length;e<i;e++)for(var a in r=arguments[e])Object.prototype.hasOwnProperty.call(r,a)&&(l[a]=r[a]);return l},__assign$x.apply(this,arguments)},Observable$1=function(){function l(){this.allPropertyListeners=new Map,this.allEventListeners=new Map}return l.prototype.addPropertyListener=function(r,e,i){void 0===i&&(i=this);var a=this.allPropertyListeners,s=a.get(r);s||a.set(r,s=new Map),s.has(e)||s.set(e,new Set);var h=s.get(e);h&&h.add(i)},l.prototype.removePropertyListener=function(r,e,i){void 0===i&&(i=this);var s=this.allPropertyListeners.get(r);if(s)if(e){var d=s.get(e);d&&(d.delete(i),d.size||s.delete(e))}else s.clear()},l.prototype.notifyPropertyListeners=function(r,e,i){var a=this,d=this.allPropertyListeners.get(r);d&&d.forEach(function(h,v){h.forEach(function(_){return v.call(_,{type:r,source:a,value:i,oldValue:e})})})},l.prototype.addEventListener=function(r,e,i){void 0===i&&(i=this);var a=this.allEventListeners,s=a.get(r);s||a.set(r,s=new Map),s.has(e)||s.set(e,new Set);var h=s.get(e);h&&h.add(i)},l.prototype.removeEventListener=function(r,e,i){void 0===i&&(i=this);var s=this.allEventListeners.get(r);if(s)if(e){var d=s.get(e);d&&(d.delete(i),d.size||s.delete(e))}else s.clear()},l.prototype.clearEventListeners=function(){this.allEventListeners=new Map},l.prototype.notifyEventListeners=function(r){var e=this,i=this.allEventListeners;r.forEach(function(a){var s=i.get(a);s&&s.forEach(function(d,h){d.forEach(function(v){return h.call(v,{type:a,source:e})})})})},l.prototype.fireEvent=function(r){var e=this,i=this.allEventListeners.get(r.type);i&&i.forEach(function(a,s){a.forEach(function(d){return s.call(d,__assign$x(__assign$x({},r),{source:e}))})})},l.privateKeyPrefix="_",l}(),__extends$2K=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Caption=function(l){function r(){var e=l.call(this)||this;e.node=new Text$1,e.enabled=!1;var i=e.node;return i.textAlign="center",i.textBaseline="top",i.pointerEvents=PointerEvents$1.None,e}return __extends$2K(r,l),Object.defineProperty(r.prototype,"text",{get:function(){return this.node.text},set:function(e){this.node.text=e},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"fontStyle",{get:function(){return this.node.fontStyle},set:function(e){this.node.fontStyle=e},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"fontWeight",{get:function(){return this.node.fontWeight},set:function(e){this.node.fontWeight=e},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"fontSize",{get:function(){return this.node.fontSize},set:function(e){this.node.fontSize=e},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"fontFamily",{get:function(){return this.node.fontFamily},set:function(e){this.node.fontFamily=e},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"color",{get:function(){return this.node.fill},set:function(e){this.node.fill=e},enumerable:!0,configurable:!0}),r.PADDING=10,r}(Observable$1),__extends$2J=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();function ticks$1(l,r,e){var i=tickStep$1(l,r,e);return range$1(l=Math.ceil(l/i)*i,r=Math.floor(r/i)*i+i/2,i)}var e10$1=Math.sqrt(50),e5$1=Math.sqrt(10),e2$1=Math.sqrt(2);function tickStep$1(l,r,e){var i=Math.abs(r-l)/Math.max(0,e),a=Math.pow(10,Math.floor(Math.log(i)/Math.LN10)),s=i/a;return s>=e10$1?a*=10:s>=e5$1?a*=5:s>=e2$1&&(a*=2),r<l?-a:a}function tickIncrement$1(l,r,e){var i=(r-l)/Math.max(0,e),a=Math.floor(Math.log(i)/Math.LN10),s=i/Math.pow(10,a);return a>=0?(s>=e10$1?10:s>=e5$1?5:s>=e2$1?2:1)*Math.pow(10,a):-Math.pow(10,-a)/(s>=e10$1?10:s>=e5$1?5:s>=e2$1?2:1)}var NumericTicks$1=function(l){function r(e,i){var a=l.call(this)||this;if(i)for(var s=0,d=i.length;s<d;s++)a[s]=i[s];return a.fractionDigits=e,a}return __extends$2J(r,l),r}(Array);function range$1(l,r,e){void 0===e&&(e=1);for(var i=Math.abs(e),a=i>0&&i<1?Math.abs(Math.floor(Math.log(i)/Math.LN10)):0,s=Math.pow(10,a),d=Math.max(0,Math.ceil((r-l)/e))||0,h=new NumericTicks$1(a),v=0;v<d;v++)h[v]=Math.round((l+e*v)*s)/s;return h}function calculateNiceSecondaryAxis(l,r){var e=Math.floor(l[0]),i=l[1],a=getTickStep(e=calculateNiceStart(e,i,r),i,r);return[[e,i=e+(r-1)*a],getTicks(e,a,r)]}function calculateNiceStart(l,r,e){var i=Math.abs(r-l)/(e-1),a=Math.floor(Math.log10(i)),s=Math.pow(10,a);return Math.floor(l/s)*s}function getTicks(l,r,e){for(var i=Math.floor(Math.log10(r)),a=r>0&&r<1?Math.abs(i):0,s=Math.pow(10,a),d=new NumericTicks$1(a),h=0;h<e;h++)d[h]=Math.round((l+r*h)*s)/s;return d}function getTickStep(l,r,e){return calculateNextNiceStep((r-l)/(e-1))}function calculateNextNiceStep(l){var r=Math.floor(Math.log10(l)),e=Math.pow(10,r),i=l/e*10;return i>0&&i<=1?e/10:i>1&&i<=2?2*e/10:i>1&&i<=5?5*e/10:i>5&&i<=10?10*e/10:i>10&&i<=20?20*e/10:i>20&&i<=40?40*e/10:i>40&&i<=50?50*e/10:i>50&&i<=100?100*e/10:i}var constant$3=function(l){return function(){return l}};function interpolateNumber$1(l,r){return l=+l,r=+r,function(e){return l*(1-e)+r*e}}function date$1(l,r){var e=new Date,i=+l,a=+r;return function(s){return e.setTime(i*(1-s)+a*s),e}}function array$1(l,r){var d,e=r?r.length:0,i=l?Math.min(e,l.length):0,a=new Array(i),s=new Array(e);for(d=0;d<i;++d)a[d]=interpolateValue$1(l[d],r[d]);for(;d<e;++d)s[d]=r[d];return function(h){for(d=0;d<i;++d)s[d]=a[d](h);return s}}function object$1(l,r){var a,e={},i={};for(a in(null===l||"object"!=typeof l)&&(l={}),(null===r||"object"!=typeof r)&&(r={}),r)a in l?e[a]=interpolateValue$1(l[a],r[a]):i[a]=r[a];return function(s){for(a in e)i[a]=e[a](s);return i}}var __read$K=function(l,r){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var a,d,i=e.call(l),s=[];try{for(;(void 0===r||r-- >0)&&!(a=i.next()).done;)s.push(a.value)}catch(h){d={error:h}}finally{try{a&&!a.done&&(e=i.return)&&e.call(i)}finally{if(d)throw d.error}}return s},Color$1=function(){function l(r,e,i,a){void 0===a&&(a=1),this.r=Math.min(1,Math.max(0,r||0)),this.g=Math.min(1,Math.max(0,e||0)),this.b=Math.min(1,Math.max(0,i||0)),this.a=Math.min(1,Math.max(0,a||0))}return l.fromString=function(r){if(r.indexOf("#")>=0)return l.fromHexString(r);var e=l.nameToHex[r];if(e)return l.fromHexString(e);if(r.indexOf("rgb")>=0)return l.fromRgbaString(r);throw new Error("Invalid color string: '"+r+"'")},l.parseHex=function(r){var e;switch((r=r.replace(/ /g,"").slice(1)).length){case 6:case 8:e=[];for(var i=0;i<r.length;i+=2)e.push(parseInt(""+r[i]+r[i+1],16));break;case 3:case 4:e=r.split("").map(function(a){return parseInt(a,16)}).map(function(a){return a+16*a})}if(e.length>=3&&e.every(function(a){return a>=0}))return 3===e.length&&e.push(255),e},l.fromHexString=function(r){var e=l.parseHex(r);if(e){var i=__read$K(e,4);return new l(i[0]/255,i[1]/255,i[2]/255,i[3]/255)}throw new Error("Malformed hexadecimal color string: '"+r+"'")},l.stringToRgba=function(r){for(var e=__read$K([NaN,NaN],2),i=e[0],a=e[1],s=0;s<r.length;s++){var d=r[s];if(i||"("!==d){if(")"===d){a=s;break}}else i=s}var h=i&&a&&r.substring(i+1,a);if(h){var v=h.split(","),_=[];for(s=0;s<v.length;s++){var y=v[s],m=parseFloat(y);if(isNaN(m))return;y.indexOf("%")>=0?(m=Math.max(0,Math.min(100,m)),m/=100):3===s?m=Math.max(0,Math.min(1,m)):(m=Math.max(0,Math.min(255,m)),m/=255),_.push(m)}return _}},l.fromRgbaString=function(r){var e=l.stringToRgba(r);if(e){if(3===e.length)return new l(e[0],e[1],e[2]);if(4===e.length)return new l(e[0],e[1],e[2],e[3])}throw new Error("Malformed rgb/rgba color string: '"+r+"'")},l.fromArray=function(r){if(4===r.length)return new l(r[0],r[1],r[2],r[3]);if(3===r.length)return new l(r[0],r[1],r[2]);throw new Error("The given array should contain 3 or 4 color components (numbers).")},l.fromHSB=function(r,e,i,a){void 0===a&&(a=1);var s=l.HSBtoRGB(r,e,i);return new l(s[0],s[1],s[2],a)},l.padHex=function(r){return 1===r.length?"0"+r:r},l.prototype.toHexString=function(){var r="#"+l.padHex(Math.round(255*this.r).toString(16))+l.padHex(Math.round(255*this.g).toString(16))+l.padHex(Math.round(255*this.b).toString(16));return this.a<1&&(r+=l.padHex(Math.round(255*this.a).toString(16))),r},l.prototype.toRgbaString=function(r){void 0===r&&(r=3);var e=[Math.round(255*this.r),Math.round(255*this.g),Math.round(255*this.b)],i=Math.pow(10,r);return 1!==this.a?(e.push(Math.round(this.a*i)/i),"rgba("+e.join(", ")+")"):"rgb("+e.join(", ")+")"},l.prototype.toString=function(){return 1===this.a?this.toHexString():this.toRgbaString()},l.prototype.toHSB=function(){return l.RGBtoHSB(this.r,this.g,this.b)},l.RGBtoHSB=function(r,e,i){var a=Math.min(r,e,i),s=Math.max(r,e,i),h=NaN;if(a!==s){var v=s-a,_=(s-r)/v,y=(s-e)/v,m=(s-i)/v;h=r===s?m-y:e===s?2+_-m:4+y-_,(h/=6)<0&&(h+=1)}return[360*h,0!==s?(s-a)/s:0,s]},l.HSBtoRGB=function(r,e,i){isNaN(r)&&(r=0),r=(r%360+360)%360/360;var a=0,s=0,d=0;if(0===e)a=s=d=i;else{var h=6*(r-Math.floor(r)),v=h-Math.floor(h),_=i*(1-e),y=i*(1-e*v),m=i*(1-e*(1-v));switch(h>>0){case 0:a=i,s=m,d=_;break;case 1:a=y,s=i,d=_;break;case 2:a=_,s=i,d=m;break;case 3:a=_,s=y,d=i;break;case 4:a=m,s=_,d=i;break;case 5:a=i,s=_,d=y}}return[a,s,d]},l.prototype.derive=function(r,e,i,a){var s=l.RGBtoHSB(this.r,this.g,this.b),d=s[2];0==d&&i>1&&(d=.05);var h=((s[0]+r)%360+360)%360,v=Math.max(Math.min(s[1]*e,1),0);d=Math.max(Math.min(d*i,1),0);var _=Math.max(Math.min(this.a*a,1),0),y=l.HSBtoRGB(h,v,d);return y.push(_),l.fromArray(y)},l.prototype.brighter=function(){return this.derive(0,1,1/.7,1)},l.prototype.darker=function(){return this.derive(0,1,.7,1)},l.nameToHex=Object.freeze({aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",grey:"#808080",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"}),l}();function color$1(l,r){if("string"==typeof l)try{l=Color$1.fromString(l)}catch{l=Color$1.fromArray([0,0,0])}if("string"==typeof r)try{r=Color$1.fromString(r)}catch{r=Color$1.fromArray([0,0,0])}var e=interpolateNumber$1(l.r,r.r),i=interpolateNumber$1(l.g,r.g),a=interpolateNumber$1(l.b,r.b),s=interpolateNumber$1(l.a,r.a);return function(d){return Color$1.fromArray([e(d),i(d),a(d),s(d)]).toRgbaString()}}function interpolateValue$1(l,r){var e=typeof r;if(null==r||"boolean"===e)return constant$3(r);if("number"===e)return interpolateNumber$1(l,r);if("string"===e)try{return color$1(l,r=Color$1.fromString(r))}catch{}return r instanceof Color$1?color$1(l,r):r instanceof Date?date$1(l,r):Array.isArray(r)?array$1(l,r):"function"!=typeof r.valueOf&&"function"!=typeof r.toString||isNaN(r)?object$1(l,r):interpolateNumber$1(l,r)}function ascending$1(l,r){return l<r?-1:l>r?1:l>=r?0:NaN}function ascendingStringNumberUndefined(l,r){var e=0;return"number"==typeof l&&"number"==typeof r?e=l-r:"string"==typeof l&&"string"==typeof r?e=l.localeCompare(r):null==l&&null==r||(e=null==l?-1:null==r?1:String(l).localeCompare(String(r))),e}function compoundAscending(l,r,e){for(var i in l){var a=e(l[i],r[i]);if(0!==a)return a}return 0}function bisectRight(l,r,e,i,a){for(void 0===i&&(i=0),void 0===a&&(a=l.length);i<a;){var s=i+a>>>1;e(l[s],r)>0?a=s:i=s+1}return i}function complexBisectRight$1(l,r,e,i,a){void 0===i&&(i=0),void 0===a&&(a=l.length);for(var s=ascendingComparator$1(e);i<a;){var d=i+a>>>1;s(l[d],r)<0?i=d+1:a=d}return i}function ascendingComparator$1(l){return function(r,e){return ascending$1(l(r),e)}}var __read$J=function(l,r){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var a,d,i=e.call(l),s=[];try{for(;(void 0===r||r-- >0)&&!(a=i.next()).done;)s.push(a.value)}catch(h){d={error:h}}finally{try{a&&!a.done&&(e=i.return)&&e.call(i)}finally{if(d)throw d.error}}return s},constant$2=function(l){return function(){return l}},identity$6=function(l){return l};function clamper$2(l){var r,e=l[0],i=l[l.length-1];return e>i&&(r=__read$J([i,e],2),e=r[0],i=r[1]),function(a){return Math.max(e,Math.min(i,a))}}var ContinuousScale$1=function(){function l(){this.unknown=void 0,this.clamper=clamper$2,this._clamp=identity$6,this._domain=[0,1],this._range=[0,1],this.transform=identity$6,this.untransform=identity$6,this._interpolate=interpolateValue$1,this.rescale()}return Object.defineProperty(l.prototype,"clamp",{get:function(){return this._clamp!==identity$6},set:function(r){this._clamp=r?this.clamper(this.domain):identity$6},enumerable:!0,configurable:!0}),l.prototype.setDomain=function(r){this._domain=r.map(function(e){return+e}),this._clamp!==identity$6&&(this._clamp=this.clamper(this.domain)),this.rescale()},l.prototype.getDomain=function(){return this._domain.slice()},Object.defineProperty(l.prototype,"domain",{get:function(){return this.getDomain()},set:function(r){this.setDomain(r)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"range",{get:function(){return this._range.slice()},set:function(r){this._range=r.slice(),this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"interpolate",{get:function(){return this._interpolate},set:function(r){this._interpolate=r,this.rescale()},enumerable:!0,configurable:!0}),l.prototype.rescale=function(){this.piecewise=Math.min(this.domain.length,this.range.length)>2?this.polymap:this.bimap,this.output=void 0,this.input=void 0},l.prototype.normalize=function(r,e){return(e-=r=+r)?function(i){return(i-r)/e}:constant$2(isNaN(e)?NaN:.5)},l.prototype.bimap=function(r,e,i){var v,_,a=r[0],s=r[1],d=e[0],h=e[1];return s<a?(v=this.normalize(s,a),_=i(h,d)):(v=this.normalize(a,s),_=i(d,h)),function(y){return _(v(y))}},l.prototype.polymap=function(r,e,i){var a=this,s=Math.min(r.length,e.length)-1;r[s]<r[0]&&(r=r.slice().reverse(),e=e.slice().reverse());var d=Array.from({length:s},function(v,_){return a.normalize(r[_],r[_+1])}),h=Array.from({length:s},function(v,_){return i(e[_],e[_+1])});return function(v){var _=bisectRight(r,v,ascending$1,1,s)-1;return h[_](d[_](v))}},l.prototype.convert=function(r,e){if(r=+r,isNaN(r))return this.unknown;this.output||(this.output=this.piecewise(this.domain.map(this.transform),this.range,this.interpolate));var i=e?e(this.domain):this._clamp;return this.output(this.transform(i(r)))},l.prototype.invert=function(r){return this.input||(this.input=this.piecewise(this.range,this.domain.map(this.transform),interpolateNumber$1)),this._clamp(this.untransform(this.input(r)))},l}();function formatDefault$1(l,r){for(var e=l.toPrecision(r),i=-1,a=0,s=!1,d=e.length,h=1;!s&&h<d;++h)switch(e[h]){case".":i=a=h;break;case"0":0===i&&(i=h),a=h;break;case"e":s=!0;break;default:i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(a+1):e}var formatTypes$1={"":formatDefault$1,"%":function(l,r){return(100*l).toFixed(r)},b:function(l){return Math.round(l).toString(2)},c:function(l){return String(l)},d:formatDecimal$1,e:function(l,r){return l.toExponential(r)},f:function(l,r){return l.toFixed(r)},g:function(l,r){return l.toPrecision(r)},o:function(l){return Math.round(l).toString(8)},p:function(l,r){return formatRounded$1(100*l,r)},r:formatRounded$1,s:formatPrefixAuto$1,X:function(l){return Math.round(l).toString(16).toUpperCase()},x:function(l){return Math.round(l).toString(16)}},prefixes$1=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"],FormatSpecifier$1=function l(r){r instanceof l?(this.fill=r.fill,this.align=r.align,this.sign=r.sign,this.symbol=r.symbol,this.zero=r.zero,this.width=r.width,this.comma=r.comma,this.precision=r.precision,this.trim=r.trim,this.type=r.type,this.string=r.string):(this.fill=void 0===r.fill?" ":String(r.fill),this.align=void 0===r.align?">":String(r.align),this.sign=void 0===r.sign?"-":String(r.sign),this.symbol=void 0===r.symbol?"":String(r.symbol),this.zero=!!r.zero,this.width=void 0===r.width?void 0:+r.width,this.comma=!!r.comma,this.precision=void 0===r.precision?void 0:+r.precision,this.trim=!!r.trim,this.type=void 0===r.type?"":String(r.type),this.string=r.string)},formatRegEx$1=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i,interpolateRegEx$1=/(#\{(.*?)\})/g,prefixExponent$1,formatDefaultLocale$1,format$1,formatPrefix$1;function makeFormatSpecifier$1(l){if(l instanceof FormatSpecifier$1)return new FormatSpecifier$1(l);var r=!1,e=l.replace(interpolateRegEx$1,function(){return r||(l=arguments[2],r=!0),"#{}"}),i=formatRegEx$1.exec(l);if(!i)throw new Error("Invalid format: "+l);return new FormatSpecifier$1({fill:i[1],align:i[2],sign:i[3],symbol:i[4],zero:i[5],width:i[6],comma:i[7],precision:i[8]&&i[8].slice(1),trim:i[9],type:i[10],string:r?e:void 0})}function tickFormat$1(l,r,e,i){var d,a=tickStep$1(l,r,e),s=makeFormatSpecifier$1(i??",f");switch(s.type){case"s":var h=Math.max(Math.abs(l),Math.abs(r));return null==s.precision&&(d=precisionPrefix$1(a,h),isNaN(d)||(s.precision=d)),formatPrefix$1(s,h);case"":case"e":case"g":case"p":case"r":null==s.precision&&(d=precisionRound$1(a,Math.max(Math.abs(l),Math.abs(r))),isNaN(d)||(s.precision=d-+("e"===s.type)));break;case"f":case"%":null==s.precision&&(d=precisionFixed$1(a),isNaN(d)||(s.precision=d-2*+("%"===s.type)))}return format$1(s)}function formatPrefixAuto$1(l,r){void 0===r&&(r=0);var e=formatDecimalParts$1(l,r);if(!e)return String(l);var i=e[0],a=e[1],s=a-(prefixExponent$1=3*Math.max(-8,Math.min(8,Math.floor(a/3))))+1,d=i.length;if(s===d)return i;if(s>d)return i+new Array(s-d+1).join("0");if(s>0)return i.slice(0,s)+"."+i.slice(s);var h=formatDecimalParts$1(l,Math.max(0,r+s-1));return"0."+new Array(1-s).join("0")+h[0]}function formatDecimal$1(l){return l=Math.round(l),Math.abs(l)>=1e21?l.toLocaleString("en").replace(/,/g,""):l.toString(10)}function formatGroup$1(l,r){return function(e,i){for(var a=[],s=e.length,d=0,h=l[0],v=0;s>0&&h>0&&(v+h+1>i&&(h=Math.max(1,i-v)),a.push(e.substring(s-=h,s+h)),!((v+=h+1)>i));)h=l[d=(d+1)%l.length];return a.reverse(),a.join(r)}}function formatNumerals$1(l){return function(r){return r.replace(/[0-9]/g,function(e){return l[+e]})}}function formatTrim$1(l){for(var r=-1,e=0,i=!1,a=l.length,s=1;!i&&s<a;++s)switch(l[s]){case".":r=e=s;break;case"0":0===r&&(r=s),e=s;break;default:if(!+l[s]){i=!0;break}r>0&&(r=0)}return r>0?l.slice(0,r)+l.slice(e+1):l}function formatRounded$1(l,r){var e=formatDecimalParts$1(l,r);if(!e)return String(l);var i=e[0],a=e[1];return a<0?"0."+new Array(-a).join("0")+i:i.length>a+1?i.slice(0,a+1)+"."+i.slice(a+1):i+new Array(a-i.length+2).join("0")}function formatDecimalParts$1(l,r){var e=r?l.toExponential(r-1):l.toExponential(),i=e.indexOf("e");if(!(i<0)){var a=e.slice(0,i);return[a.length>1?a[0]+a.slice(2):a,+e.slice(i+1)]}}function identity$5(l){return l}function defaultLocale$1(l){formatDefaultLocale$1=formatLocale$3(l),format$1=formatDefaultLocale$1.format,formatPrefix$1=formatDefaultLocale$1.formatPrefix}function exponent$1(l){var r=formatDecimalParts$1(Math.abs(l));return r?r[1]:NaN}function precisionFixed$1(l){return Math.max(0,-exponent$1(Math.abs(l)))}function precisionPrefix$1(l,r){var e=Math.floor(exponent$1(r)/3);return e=Math.min(8,e),e=Math.max(-8,e),Math.max(0,3*e-exponent$1(Math.abs(l)))}function precisionRound$1(l,r){return l=Math.abs(l),r=Math.abs(r)-l,Math.max(0,exponent$1(r)-exponent$1(l))+1}function formatLocale$3(l){var r=void 0===l.grouping||void 0===l.thousands?identity$5:formatGroup$1(l.grouping.map(Number),String(l.thousands)),e=void 0===l.currency?"":String(l.currency[0]),i=void 0===l.currency?"":String(l.currency[1]),a=void 0===l.decimal?".":String(l.decimal),s=void 0===l.numerals?identity$5:formatNumerals$1(l.numerals.map(String)),d=void 0===l.percent?"%":String(l.percent),h=void 0===l.minus?"\u2212":String(l.minus),v=void 0===l.nan?"NaN":String(l.nan);function _(m){var E=makeFormatSpecifier$1(m),w=E.fill,S=E.align,D=E.sign,T=E.symbol,b=E.zero,M=E.width,A=E.comma,L=E.precision,N=E.trim,G=E.type;"n"===G?(A=!0,G="g"):formatTypes$1[G]||(void 0===L&&(L=12),N=!0,G="g"),(b||"0"===w&&"="===S)&&(b=!0,w="0",S="=");var k="$"===T?e:"#"===T&&/[boxX]/.test(G)?"0"+G.toLowerCase():"",K="$"===T?i:/[%p]/.test(G)?d:"",$=formatTypes$1[G],j=/[defgprs%]/.test(G);return L=void 0===L?6:/[gprs]/.test(G)?Math.max(1,Math.min(21,L)):Math.max(0,Math.min(20,L)),function Y(ie){var Q,re=k,J=K;if("c"===G)J=$(+ie)+J,Q="";else{var oe=+ie,fe=ie<0||1/oe<0;if(Q=isNaN(oe)?v:$(Math.abs(oe),L),N&&(Q=formatTrim$1(Q)),fe&&0==+Q&&"+"!==D&&(fe=!1),re=(fe?"("===D?D:h:"-"===D||"("===D?"":D)+re,J=("s"===G?prefixes$1[8+prefixExponent$1/3]:"")+J+(fe&&"("===D?")":""),j)for(var pe=0,z=Q.length;pe<z;pe++){var le=Q.charCodeAt(pe);if(48>le||le>57){J=(46===le?a+Q.slice(pe+1):Q.slice(pe))+J,Q=Q.slice(0,pe);break}}}A&&!b&&(Q=r(Q,1/0));var X=re.length+Q.length+J.length,ne=X<M?new Array(M-X+1).join(w):"";switch(A&&b&&(Q=r(ne+Q,ne.length?M-J.length:1/0),ne=""),S){case"<":Q=re+Q+J+ne;break;case"=":Q=re+ne+Q+J;break;case"^":Q=ne.slice(0,X=ne.length>>1)+re+Q+J+ne.slice(X);break;default:Q=ne+re+Q+J}var we=E.string;return we?we.replace(interpolateRegEx$1,function(){return s(Q)}):s(Q)}}return{format:_,formatPrefix:function y(m,E){var w=makeFormatSpecifier$1(m);w.type="f";var S=_(w),D=3*Math.max(-8,Math.min(8,Math.floor(exponent$1(E)/3))),T=Math.pow(10,-D),b=prefixes$1[8+D/3];return function(M){return S(T*+M)+b}}}}defaultLocale$1({thousands:",",grouping:[3],currency:["$",""]});var __extends$2I=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),LinearScale$1=function(l){function r(){var e=null!==l&&l.apply(this,arguments)||this;return e.type="linear",e}return __extends$2I(r,l),r.prototype.ticks=function(e){void 0===e&&(e=10);var i=this._domain;return ticks$1(i[0],i[i.length-1],e)},r.prototype.nice=function(e){void 0===e&&(e=10);var v,i=this.domain,a=0,s=i.length-1,d=i[a],h=i[s];h<d&&(v=d,d=h,h=v,v=a,a=s,s=v),(v=tickIncrement$1(d,h,e))>0?v=tickIncrement$1(d=Math.floor(d/v)*v,h=Math.ceil(h/v)*v,e):v<0&&(v=tickIncrement$1(d=Math.ceil(d*v)/v,h=Math.floor(h*v)/v,e)),v>0?(i[a]=Math.floor(d/v)*v,i[s]=Math.ceil(h/v)*v,this.domain=i):v<0&&(i[a]=Math.ceil(d*v)/v,i[s]=Math.floor(h*v)/v,this.domain=i)},r.prototype.tickFormat=function(e){var s=this.domain;return tickFormat$1(s[0],s[s.length-1],e.count??10,e.specifier)},r}(ContinuousScale$1),__values$r=function(l){var r="function"==typeof Symbol&&Symbol.iterator,e=r&&l[r],i=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&i>=l.length&&(l=void 0),{value:l&&l[i++],done:!l}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")};function find(l,r){for(var e=0;e<l.length;e++){var i=l[e];if(r(i,e,l))return i}}function identity$4(l){return l}function extent$1(l,r,e){for(var d,h,v,i=e||identity$4,a=l.length,s=-1;++s<a;)if(r(d=l[s]))for(h=v=d;++s<a;)r(d=l[s])&&(h>d&&(h=d),v<d&&(v=d));return void 0===h||void 0===v?void 0:[i(h),i(v)]}function findMinMax(l){var r,e,i=void 0,a=void 0;try{for(var s=__values$r(l),d=s.next();!d.done;d=s.next()){var h=d.value;h<0?i=(i??0)+h:h>=0&&(a=(a??0)+h)}}catch(v){r={error:v}}finally{try{d&&!d.done&&(e=s.return)&&e.call(s)}finally{if(r)throw r.error}}return{min:i,max:a}}function isNumber$1(l){return"number"==typeof l&&Number.isFinite(l)}function isNumberObject$1(l){return!!l&&l.hasOwnProperty("valueOf")&&isNumber$1(l.valueOf())}function isNumeric$1(l){return isNumber$1(l)||isNumberObject$1(l)}function isDate$1(l){return l instanceof Date&&!isNaN(+l)}function isString$1(l){return"string"==typeof l}function isStringObject$1(l){return!!l&&l.hasOwnProperty("toString")&&isString$1(l.toString())}function isDiscrete(l){return isString$1(l)||isStringObject$1(l)}function isContinuous$1(l){return isNumeric$1(l)||isDate$1(l)}function checkDatum(l,r){return r&&isContinuous$1(l)?l:r?void 0:isDiscrete(l)?l:String(l)}var sign$1=Math.sign?Math.sign:function(l){return 0==(l=+l)||isNaN(l)?l:l>0?1:-1};function linearRoot$1(l,r){var e=-r/l;return 0!==l&&e>=0&&e<=1?[e]:[]}function quadraticRoots$1(l,r,e){if(0===l)return linearRoot$1(r,e);var i=r*r-4*l*e,a=[];if(0===i){var s=-r/(2*l);s>=0&&s<=1&&a.push(s)}else if(i>0){var d=Math.sqrt(i),h=(-r-d)/(2*l),v=(-r+d)/(2*l);h>=0&&h<=1&&a.push(h),v>=0&&v<=1&&a.push(v)}return a}function cubicRoots$1(l,r,e,i){if(0===l)return quadraticRoots$1(r,e,i);var a=r/l,s=e/l,h=(3*s-a*a)/9,v=(9*a*s-i/l*27-2*a*a*a)/54,_=h*h*h+v*v,y=1/3,m=[];if(_>=0){var E=Math.sqrt(_),w=sign$1(v+E)*Math.pow(Math.abs(v+E),y),S=sign$1(v-E)*Math.pow(Math.abs(v-E),y),D=Math.abs(Math.sqrt(3)*(w-S)/2),T=-y*a+(w+S);if(T>=0&&T<=1&&m.push(T),0===D){var b=-y*a-(w+S)/2;b>=0&&b<=1&&m.push(b)}}else{var M=Math.acos(v/Math.sqrt(-h*h*h)),A=y*a,L=2*Math.sqrt(-h),N=L*Math.cos(y*M)-A,G=L*Math.cos(y*(M+2*Math.PI))-A,k=L*Math.cos(y*(M+4*Math.PI))-A;N>=0&&N<=1&&m.push(N),G>=0&&G<=1&&m.push(G),k>=0&&k<=1&&m.push(k)}return m}function segmentIntersection$1(l,r,e,i,a,s,d,h){var v=(e-l)*(h-s)-(i-r)*(d-a);if(0===v)return null;var _=((d-a)*(r-s)-(l-a)*(h-s))/v,y=((e-l)*(r-s)-(i-r)*(l-a))/v;return _>=0&&_<=1&&y>=0&&y<=1?{x:l+_*(e-l),y:r+_*(i-r)}:null}function cubicSegmentIntersections$1(l,r,e,i,a,s,d,h,v,_,y,m){for(var E=[],w=_-m,S=y-v,D=v*(m-_)-_*(y-v),T=bezierCoefficients$1(l,e,a,d),b=bezierCoefficients$1(r,i,s,h),G=cubicRoots$1(w*T[0]+S*b[0],w*T[1]+S*b[1],w*T[2]+S*b[2],w*T[3]+S*b[3]+D),k=0;k<G.length;k++){var re,K=G[k],$=K*K,j=K*$,Y=T[0]*j+T[1]*$+T[2]*K+T[3],ie=b[0]*j+b[1]*$+b[2]*K+b[3];(re=v!==y?(Y-v)/(y-v):(ie-_)/(m-_))>=0&&re<=1&&E.push({x:Y,y:ie})}return E}function bezierCoefficients$1(l,r,e,i){return[3*r-l-3*e+i,3*l-6*r+3*e,-3*l+3*r,l]}var __values$q=function(l){var r="function"==typeof Symbol&&Symbol.iterator,e=r&&l[r],i=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&i>=l.length&&(l=void 0),{value:l&&l[i++],done:!l}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},Path2D$1=function(){function l(){this.previousCommands=[],this.previousParams=[],this.previousClosedPath=!1,this.commands=[],this.params=[],this._closedPath=!1}return l.prototype.isDirty=function(){if(this._closedPath!==this.previousClosedPath||this.previousCommands.length!==this.commands.length||this.previousParams.length!==this.params.length)return!0;for(var r=0;r<this.commands.length;r++)if(this.commands[r]!==this.previousCommands[r])return!0;for(r=0;r<this.params.length;r++)if(this.params[r]!==this.previousParams[r])return!0;return!1},l.prototype.draw=function(r){var e,i,a=this.commands,s=this.params,d=0;r.beginPath();try{for(var h=__values$q(a),v=h.next();!v.done;v=h.next())switch(v.value){case"M":r.moveTo(s[d++],s[d++]);break;case"L":r.lineTo(s[d++],s[d++]);break;case"C":r.bezierCurveTo(s[d++],s[d++],s[d++],s[d++],s[d++],s[d++]);break;case"Z":r.closePath()}}catch(y){e={error:y}}finally{try{v&&!v.done&&(i=h.return)&&i.call(h)}finally{if(e)throw e.error}}0===a.length&&r.closePath()},l.prototype.moveTo=function(r,e){this.xy?(this.xy[0]=r,this.xy[1]=e):this.xy=[r,e],this.commands.push("M"),this.params.push(r,e)},l.prototype.lineTo=function(r,e){this.xy?(this.commands.push("L"),this.params.push(r,e),this.xy[0]=r,this.xy[1]=e):this.moveTo(r,e)},l.prototype.rect=function(r,e,i,a){this.moveTo(r,e),this.lineTo(r+i,e),this.lineTo(r+i,e+a),this.lineTo(r,e+a),this.closePath()},l.prototype.arcTo=function(r,e,i,a,s,d,h){var v=this.xy;if(v){r<0&&(r=-r),e<0&&(e=-e);var _=v[0],y=v[1],m=(_-d)/2,E=(y-h)/2,w=Math.sin(i),S=Math.cos(i),D=S*m+w*E,T=-w*m+S*E,b=D/r,M=T/e,A=b*b+M*M,L=(_+d)/2,N=(y+h)/2,G=0,k=0;A>=1?(r*=A=Math.sqrt(A),e*=A):(A=Math.sqrt(1/A-1),a===s&&(A=-A),L+=S*(G=A*r*M)-w*(k=-A*e*b),N+=w*G+S*k);var K=Math.atan2((T-k)/e,(D-G)/r),$=Math.atan2((-T-k)/e,(-D-G)/r)-K;this.cubicArc(L,N,r,e,i,K,K+$,1-s)}},l.cubicArc=function(r,e,i,a,s,d,h,v,_,y){if(y){var m=v;v=_,_=m}var E=e.length,w=.5522847498307935,S=Math.sin(v),D=Math.cos(v),T=Math.sin(h),b=Math.cos(h),M=Math.PI/2,A=b*D*s-T*S*d,L=T*D*s+b*S*d,N=-b*S*s-T*D*d,G=-T*S*s+b*D*d;for((_-=v)<0&&(_+=2*Math.PI),r.push("M"),e.push(A+i,L+a);_>=M;){_-=M,r.push("C");var k=N+i;e.push(A+N*w+i,L+G*w+a,A*w+N+i,L*w+G+a,Math.abs(k)<1e-8?0:k,G+a),m=A,A=N,N=-m,m=L,L=G,G=-m}if(_){var K=1.3333333333333333*Math.tan(_/4),$=Math.sin(_),j=Math.cos(_),Y=j+K*$,ie=$-K*j;r.push("C"),k=A*j+N*$+i,e.push(A+N*K+i,L+G*K+a,A*Y+N*ie+i,L*Y+G*ie+a,Math.abs(k)<1e-8?0:k,L*j+G*$+a)}if(y)for(var re=E,J=e.length-2;re<J;re+=2,J-=2)m=e[re],e[re]=e[J],e[J]=m,m=e[re+1],e[re+1]=e[J+1],e[J+1]=m},l.prototype.cubicArc=function(r,e,i,a,s,d,h,v){var _=this.commands,y=this.params,m=_.length;l.cubicArc(_,y,r,e,i,a,s,d,h,v);var E=y[y.length-2],w=y[y.length-1];this.xy?(_[m]="L",this.xy[0]=E,this.xy[1]=w):this.xy=[E,w]},l.prototype.deCasteljau=function(r,e){var i=r.length;if(i<2||i%2==1)throw new Error("Fewer than two points or not an even count.");if(2===i||0===e)return r.slice(0,2);if(1===e)return r.slice(-2);for(var a=[],s=i-2,d=0;d<s;d+=2)a.push((1-e)*r[d]+e*r[d+2],(1-e)*r[d+1]+e*r[d+3]);return this.deCasteljau(a,e)},l.prototype.approximateCurve=function(r,e){var i=this.deCasteljau(r,0);this.moveTo(i[0],i[1]);for(var a=1/e,s=a;s<=1;s+=a){var d=this.deCasteljau(r,s);this.lineTo(d[0],d[1])}},l.prototype.quadraticCurveTo=function(r,e,i,a){this.xy||this.moveTo(r,e),this.cubicCurveTo((this.xy[0]+2*r)/3,(this.xy[1]+2*e)/3,(2*r+i)/3,(2*e+a)/3,i,a)},l.prototype.cubicCurveTo=function(r,e,i,a,s,d){this.xy||this.moveTo(r,e),this.commands.push("C"),this.params.push(r,e,i,a,s,d),this.xy[0]=s,this.xy[1]=d},Object.defineProperty(l.prototype,"closedPath",{get:function(){return this._closedPath},enumerable:!0,configurable:!0}),l.prototype.closePath=function(){this.xy&&(this.xy=void 0,this.commands.push("Z"),this._closedPath=!0)},l.prototype.clear=function(r){(void 0===r?{trackChanges:!1}:r).trackChanges?(this.previousCommands=this.commands,this.previousParams=this.params,this.previousClosedPath=this._closedPath,this.commands=[],this.params=[]):(this.commands.length=0,this.params.length=0),this.xy=void 0,this._closedPath=!1},l.prototype.isPointInPath=function(r,e){for(var i=this.commands,a=this.params,s=i.length,d=-1e4,h=-1e4,v=NaN,_=NaN,y=0,m=0,E=0,w=0,S=0;w<s;w++)switch(i[w]){case"M":isNaN(v)||segmentIntersection$1(v,_,y,m,d,h,r,e)&&E++,v=y=a[S++],_=m=a[S++];break;case"L":segmentIntersection$1(y,m,a[S++],a[S++],d,h,r,e)&&E++,y=a[S-2],m=a[S-1];break;case"C":E+=cubicSegmentIntersections$1(y,m,a[S++],a[S++],a[S++],a[S++],a[S++],a[S++],d,h,r,e).length,y=a[S-2],m=a[S-1];break;case"Z":isNaN(v)||segmentIntersection$1(v,_,y,m,d,h,r,e)&&E++}return E%2==1},l.prototype.toCubicPaths=function(){var i,a,s,d,h,r=[],e=this.params,v=0;return this.commands.forEach(function(_){switch(_){case"M":d=e[v++],h=e[v++],r.push([a=d,s=h]);break;case"L":var y=e[v++],m=e[v++];i.push((d+d+y)/3,(h+h+m)/3,(d+y+y)/3,(h+m+m)/3,y,m),d=y,h=m;break;case"C":i.push(e[v++],e[v++],e[v++],e[v++],e[v++],e[v++]),d=e[v-2],h=e[v-1];break;case"Z":i.push((d+d+a)/3,(h+h+s)/3,(d+a+a)/3,(h+s+s)/3,a,s),d=a,h=s}}),r},l.cubicPathToString=function(r){var e=r.length;if(!(e%2==0&&(e/2-1)/2>=1))throw new Error("Invalid path.");return"M"+r.slice(0,2).join(",")+"C"+r.slice(2).join(",")},l}(),__extends$2H=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__assign$w=function(){return __assign$w=Object.assign||function(l){for(var r,e=1,i=arguments.length;e<i;e++)for(var a in r=arguments[e])Object.prototype.hasOwnProperty.call(r,a)&&(l[a]=r[a]);return l},__assign$w.apply(this,arguments)},__decorate$1k=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},__values$p=function(l){var r="function"==typeof Symbol&&Symbol.iterator,e=r&&l[r],i=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&i>=l.length&&(l=void 0),{value:l&&l[i++],done:!l}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},__read$I=function(l,r){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var a,d,i=e.call(l),s=[];try{for(;(void 0===r||r-- >0)&&!(a=i.next()).done;)s.push(a.value)}catch(h){d={error:h}}finally{try{a&&!a.done&&(e=i.return)&&e.call(i)}finally{if(d)throw d.error}}return s},__spread$n=function(){for(var l=[],r=0;r<arguments.length;r++)l=l.concat(__read$I(arguments[r]));return l},Group$1=function(l){function r(e){var i,a,s=l.call(this)||this;s.opts=e,s.clipPath=new Path2D$1,s.opacity=1;var d=e||{},h=d.zIndex,v=d.zIndexSubOrder;return s.isContainerNode=!0,void 0!==h&&(s.zIndex=h),void 0!==v&&(s.zIndexSubOrder=v),!(null===(i=s.opts)||void 0===i)&&i.optimiseDirtyTracking&&(s.visibleChildren={},s.dirtyChildren={}),s.name=null===(a=s.opts)||void 0===a?void 0:a.name,s}return __extends$2H(r,l),r.prototype.opacityChanged=function(){this.layer&&(this.layer.opacity=this.opacity)},r.prototype.zIndexChanged=function(){var e;this.layer&&(null===(e=this._scene)||void 0===e||e.moveLayer(this.layer,this.zIndex,this.zIndexSubOrder))},r.prototype.isLayer=function(){return null!=this.layer},r.prototype.append=function(e){var i,a;if(l.prototype.append.call(this,e),this.dirtyChildren){e=e instanceof Array?e:[e];try{for(var s=__values$p(e),d=s.next();!d.done;d=s.next()){var h=d.value;this.dirtyChildren[h.id]=h}}catch(v){i={error:v}}finally{try{d&&!d.done&&(a=s.return)&&a.call(s)}finally{if(i)throw i.error}}}},r.prototype._setScene=function(e){var i;if(this._scene&&this.layer&&(this._scene.removeLayer(this.layer),this.layer=void 0),this.layer)throw new Error("AG Charts - unable to deregister scene rendering layer!");if(l.prototype._setScene.call(this,e),e&&(null===(i=this.opts)||void 0===i?void 0:i.layer)){var a=this.opts||{};this.layer=e.addLayer({zIndex:a.zIndex,zIndexSubOrder:a.zIndexSubOrder,name:a.name})}},r.prototype.visibilityChanged=function(){this.layer&&(this.layer.enabled=this.visible)},r.prototype.removeChild=function(e){return l.prototype.removeChild.call(this,e),this.dirtyChildren&&this.visibleChildren&&(delete this.dirtyChildren[e.id],delete this.visibleChildren[e.id]),e},r.prototype.markDirty=function(e,i){void 0===i&&(i=RedrawType.TRIVIAL),l.prototype.markDirty.call(this,e,i,i<=RedrawType.MINOR?RedrawType.TRIVIAL:i),e!==this&&this.dirtyChildren&&(this.dirtyChildren[e.id]=e)},r.prototype.markClean=function(e){var i,a;this.syncChildVisibility();var s=this.dirtyChildren,d=void 0===s?{}:s;try{for(var h=__values$p(Object.keys(d)),v=h.next();!v.done;v=h.next())delete d[v.value]}catch(y){i={error:y}}finally{try{v&&!v.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}l.prototype.markClean.call(this,e)},r.prototype.containsPoint=function(e,i){return!0},r.prototype.computeBBox=function(){var e=1/0,i=-1/0,a=1/0,s=-1/0;return this.computeTransformMatrix(),this.children.forEach(function(d){if(d.visible){var h=d.computeTransformedBBox();if(h){var v=h.x,_=h.y;v<e&&(e=v),_<a&&(a=_),v+h.width>i&&(i=v+h.width),_+h.height>s&&(s=_+h.height)}}}),new BBox$1(e,a,i-e,s-a)},r.prototype.computeTransformedBBox=function(){return this.computeBBox()},r.prototype.render=function(e){var i;this.layer&&(null===(i=this.opts)||void 0===i?void 0:i.optimiseDirtyTracking)?this.optimisedRender(e):this.basicRender(e)},r.prototype.basicRender=function(e){var i,a,s=this.opts,d=(void 0===s?{}:s).name,h=void 0===d?void 0:d,v=this._debug,_=(void 0===v?{}:v).consoleLog,y=void 0!==_&&_,m=this,w=m.dirtyZIndex,S=m.clipPath,D=m.layer,T=m.children,b=e.ctx,M=e.forceRender,A=e.clipBBox,N=e.stats,G=m.dirty>=RedrawType.MINOR||w||e.resized,k=G||T.some(function(pe){return pe.dirty>=RedrawType.TRIVIAL});if(h&&y&&console.log({name:h,group:this,isDirty:G,isChildDirty:k,renderCtx:e,forceRender:M}),D&&(M=!1),!G&&!k&&!M){if(h&&y&&N){var K=this.nodeCount;console.log({name:h,result:"skipping",renderCtx:e,counts:K,group:this})}return D&&N&&(N.layersSkipped++,N.nodesSkipped+=this.nodeCount.count),void l.prototype.markClean.call(this,{recursive:!1})}var $=this.visible;if(D){if((b=D.context).save(),b.setTransform(e.ctx.getTransform()),M=!0,D.clear(),A){var j=A.width,Y=A.height,ie=A.x,re=A.y;y&&console.log({name:h,clipBBox:A,ctxTransform:b.getTransform(),renderCtx:e,group:this}),S.clear(),S.rect(ie,re,j,Y),S.draw(b),b.clip()}}else b.globalAlpha*=this.opacity;this.computeTransformMatrix(),this.matrix.toContext(b),A=A?this.matrix.inverse().transformBBox(A):void 0,w&&(this.sortChildren(),M=!0);var Q=M!==e.forceRender||A!==e.clipBBox||b!==e.ctx?__assign$w(__assign$w({},e),{ctx:b,forceRender:M,clipBBox:A}):e,oe=0;try{for(var fe=__values$p(T),ge=fe.next();!ge.done;ge=fe.next()){var ce=ge.value;ce.visible&&$?M||ce.dirty!==RedrawType.NONE?(b.save(),ce.render(Q),b.restore()):N&&(oe+=ce.nodeCount.count):(ce.markClean(),N&&(oe+=ce.nodeCount.count))}}catch(pe){i={error:pe}}finally{try{ge&&!ge.done&&(a=fe.return)&&a.call(fe)}finally{if(i)throw i.error}}N&&(N.nodesSkipped+=oe),l.prototype.render.call(this,e),D&&(N&&N.layersRendered++,b.restore(),D.snapshot()),h&&y&&N&&(K=this.nodeCount,console.log({name:h,result:"rendered",skipped:oe,renderCtx:e,counts:K,group:this}))},r.prototype.optimisedRender=function(e){var i,a,s,d,h=this._debug,v=(void 0===h?{}:h).consoleLog,_=void 0!==v&&v,y=this,m=y.name,w=y.dirtyZIndex,S=y.clipPath,D=y.layer,T=y.dirtyChildren,b=void 0===T?{}:T,M=y.visibleChildren,A=void 0===M?{}:M,L=y.visible,N=e.ctx,G=e.clipBBox,K=e.stats;if(D){var $=y.dirty>=RedrawType.MINOR||w||e.resized,j=Object.keys(b).length>0;if(m&&_&&console.log({name:m,group:this,isDirty:$,isChildDirty:j,renderCtx:e}),!$&&!j){if(m&&_&&K){var Y=this.nodeCount;console.log({name:m,result:"skipping",renderCtx:e,counts:Y,group:this})}return K&&(K.layersSkipped++,K.nodesSkipped+=this.nodeCount.count),void l.prototype.markClean.call(this,{recursive:!1})}if((N=D.context).save(),N.setTransform(e.ctx.getTransform()),D.clear(),G){var ie=G.width,re=G.height,J=G.x,Q=G.y;_&&console.log({name:m,clipBBox:G,ctxTransform:N.getTransform(),renderCtx:e,group:this}),S.clear(),S.rect(J,Q,ie,re),S.draw(N),N.clip()}this.syncChildVisibility(),this.computeTransformMatrix(),this.matrix.toContext(N),G=G?this.matrix.inverse().transformBBox(G):void 0,w&&this.sortChildren();var fe=!0!==e.forceRender||G!==e.clipBBox||N!==e.ctx?__assign$w(__assign$w({},e),{ctx:N,forceRender:!0,clipBBox:G}):e;if(_&&console.log({name:m,visibleChildren:A,dirtyChildren:b}),L)try{for(var ce=__values$p(Object.values(A)),pe=ce.next();!pe.done;pe=ce.next()){var z=pe.value;N.save(),z.render(fe),N.restore()}}catch(ne){i={error:ne}}finally{try{pe&&!pe.done&&(a=ce.return)&&a.call(ce)}finally{if(i)throw i.error}}this.markClean({recursive:!1});try{for(var le=__values$p(Object.values(b)),X=le.next();!X.done;X=le.next())(z=X.value).markClean(),delete b[z.id]}catch(ne){s={error:ne}}finally{try{X&&!X.done&&(d=le.return)&&d.call(le)}finally{if(s)throw s.error}}K&&(K.nodesSkipped+=0),K&&K.layersRendered++,N.restore(),D.snapshot(),m&&_&&K&&(Y=this.nodeCount,console.log({name:m,result:"rendered",skipped:0,renderCtx:e,counts:Y,group:this}))}},r.prototype.syncChildVisibility=function(){var e,i,s=this.dirtyChildren,d=this.visibleChildren;if(s&&d)try{for(var h=__values$p(Object.values(s)),v=h.next();!v.done;v=h.next()){var _=v.value;!_.visible&&d[_.id]?delete d[_.id]:_.visible&&!d[_.id]&&(d[_.id]=_)}}catch(y){e={error:y}}finally{try{v&&!v.done&&(i=h.return)&&i.call(h)}finally{if(e)throw e.error}}},r.prototype.sortChildren=function(){this.dirtyZIndex=!1,this.children.sort(function(e,i){return compoundAscending(__spread$n([e.zIndex],e.zIndexSubOrder??[void 0,void 0],[e.serialNumber]),__spread$n([i.zIndex],i.zIndexSubOrder??[void 0,void 0],[i.serialNumber]),ascendingStringNumberUndefined)})},r.className="Group",__decorate$1k([SceneChangeDetection({convertor:function(e){return Math.min(1,Math.max(0,e))},changeCb:function(e){return e.opacityChanged()}})],r.prototype,"opacity",void 0),r}(Node$1),__values$o=function(l){var r="function"==typeof Symbol&&Symbol.iterator,e=r&&l[r],i=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&i>=l.length&&(l=void 0),{value:l&&l[i++],done:!l}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},EnterNode$1=function(){function l(r,e){this.next=null,this.scene=r.scene,this.parent=r,this.datum=e}return l.prototype.appendChild=function(r){if(null===this.next)return this.parent.insertBefore(r,null);if(!Node$1.isNode(this.next))throw new Error(this.next+" is not a Node.");return this.parent.insertBefore(r,this.next)},l.prototype.insertBefore=function(r,e){return this.parent.insertBefore(r,e)},l}(),Selection$1=function(){function l(r,e){this.groups=r,this.parents=e}return l.select=function(r){return new l([["function"==typeof r?r():r]],[void 0])},l.selectAll=function(r){return new l([r??[]],[void 0])},l.prototype.append=function(r){return this.select(function(e){return e.appendChild(new r)})},l.prototype.select=function(r){for(var e=this.groups,i=e.length,a=[],s=0;s<i;s++)for(var d=e[s],h=d.length,v=a[s]=new Array(h),_=0;_<h;_++){var y=d[_];if(y){var m=r(y,y.datum,_,d);m&&(m.datum=y.datum),v[_]=m}}return new l(a,this.parents)},l.prototype.selectByClass=function(r){return this.select(function(e){if(Node$1.isNode(e))for(var i=e.children,a=i.length,s=0;s<a;s++){var d=i[s];if(d instanceof r)return d}})},l.prototype.selectByTag=function(r){return this.select(function(e){if(Node$1.isNode(e))for(var i=e.children,a=i.length,s=0;s<a;s++){var d=i[s];if(d.tag===r)return d}})},l.prototype.selectAllByClass=function(r){return this.selectAll(function(e){var i=[];if(Node$1.isNode(e))for(var a=e.children,s=a.length,d=0;d<s;d++){var h=a[d];h instanceof r&&i.push(h)}return i})},l.prototype.selectAllByTag=function(r){return this.selectAll(function(e){var i=[];if(Node$1.isNode(e))for(var a=e.children,s=a.length,d=0;d<s;d++){var h=a[d];h.tag===r&&i.push(h)}return i})},l.prototype.selectNone=function(){return[]},l.prototype.selectAll=function(r){r||(r=this.selectNone);for(var e=[],i=[],a=this.groups,s=a.length,d=0;d<s;d++)for(var h=a[d],v=h.length,_=0;_<v;_++){var y=h[_];y&&(e.push(r(y,y.datum,_,h)),i.push(y))}return new l(e,i)},l.prototype.each=function(r){var e,i,a,s;try{for(var d=__values$o(this.groups),h=d.next();!h.done;h=d.next()){var v=h.value,_=0;try{for(var y=(a=void 0,__values$o(v)),m=y.next();!m.done;m=y.next()){var E=m.value;E&&r(E,E.datum,_,v),_++}}catch(w){a={error:w}}finally{try{m&&!m.done&&(s=y.return)&&s.call(y)}finally{if(a)throw a.error}}}}catch(w){e={error:w}}finally{try{h&&!h.done&&(i=d.return)&&i.call(d)}finally{if(e)throw e.error}}return this},l.prototype.remove=function(){return this.each(function(r){if(Node$1.isNode(r)){var e=r.parent;e&&e.removeChild(r)}})},l.prototype.merge=function(r){for(var e=this.groups,i=r.groups,a=e.length,d=Math.min(a,i.length),h=new Array(a),v=0;v<d;v++)for(var _=e[v],y=i[v],m=_.length,E=h[v]=new Array(m),w=0;w<m;w++)E[w]=_[w]||y[w]||void 0;for(;v<a;v++)h[v]=e[v];return new l(h,this.parents)},l.prototype.node=function(){for(var r=this.groups,e=r.length,i=0;i<e;i++)for(var a=r[i],s=a.length,d=0;d<s;d++){var h=a[d];if(h)return h}return null},l.prototype.attr=function(r,e){return this.each(function(i){i[r]=e}),this},l.prototype.attrFn=function(r,e){return this.each(function(i,a,s,d){i[r]=e(i,a,s,d)}),this},l.prototype.call=function(r){return r(this),this},Object.defineProperty(l.prototype,"size",{get:function(){var r,e,i,a,s=0;try{for(var d=__values$o(this.groups),h=d.next();!h.done;h=d.next()){var v=h.value;try{for(var _=(i=void 0,__values$o(v)),y=_.next();!y.done;y=_.next())y.value&&s++}catch(E){i={error:E}}finally{try{y&&!y.done&&(a=_.return)&&a.call(_)}finally{if(i)throw i.error}}}}catch(E){r={error:E}}finally{try{h&&!h.done&&(e=d.return)&&e.call(d)}finally{if(r)throw r.error}}return s},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"data",{get:function(){var r,e,i,a,s=new Array(this.size),d=0;try{for(var h=__values$o(this.groups),v=h.next();!v.done;v=h.next()){var _=v.value;try{for(var y=(i=void 0,__values$o(_)),m=y.next();!m.done;m=y.next()){var E=m.value;E&&(s[d++]=E.datum)}}catch(w){i={error:w}}finally{try{m&&!m.done&&(a=y.return)&&a.call(y)}finally{if(i)throw i.error}}}}catch(w){r={error:w}}finally{try{v&&!v.done&&(e=h.return)&&e.call(h)}finally{if(r)throw r.error}}return s},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"enter",{get:function(){return new l(this.enterGroups?this.enterGroups:[[]],this.parents)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"exit",{get:function(){return new l(this.exitGroups?this.exitGroups:[[]],this.parents)},enumerable:!0,configurable:!0}),l.prototype.setDatum=function(r){return this.each(function(e){e.datum=r})},Object.defineProperty(l.prototype,"datum",{get:function(){var r=this.node();return r?r.datum:null},enumerable:!0,configurable:!0}),l.prototype.setData=function(r,e){if("function"!=typeof r){var i=r;r=function(){return i}}for(var a=this.groups,s=this.parents,d=a.length,h=new Array(d),v=new Array(d),_=new Array(d),y=0;y<d;y++){var m=a[y],E=s[y];if(!E)throw new Error("Group #"+y+" has no parent: "+m);var w=m.length,S=r(E,E.datum,y,s),D=S.length,T=v[y]=new Array(D),b=h[y]=new Array(D),M=_[y]=new Array(w);e?this.bindKey(E,m,T,b,M,S,e):this.bindIndex(E,m,T,b,M,S);for(var A=0,L=0;A<D;A++){var N=T[A];if(N){A>=L&&(L=A+1);for(var G=b[L];!G&&L<D;)G=b[++L];N.next=G||null}}}var k=new l(h,s);return k.enterGroups=v,k.exitGroups=_,k},l.prototype.bindIndex=function(r,e,i,a,s,d){for(var h=e.length,v=d.length,_=0;_<v;_++)(y=e[_])?(y.datum=d[_],a[_]=y):i[_]=new EnterNode$1(r,d[_]);for(;_<h;_++){var y;(y=e[_])&&(s[_]=y)}},l.prototype.bindKey=function(r,e,i,a,s,d,h){for(var v=e.length,_=d.length,y=new Array(v),m={},E=0;E<v;E++)(w=e[E])&&((S=y[E]=l.keyPrefix+h(w,w.datum,E,e))in m?s[E]=w:m[S]=w);for(E=0;E<_;E++){var S;(w=m[S=l.keyPrefix+h(r,d[E],E,d)])?(a[E]=w,w.datum=d[E],m[S]=void 0):i[E]=new EnterNode$1(r,d[E])}for(E=0;E<v;E++){var w;(w=e[E])&&m[y[E]]===w&&(s[E]=w)}},l.keyPrefix="$",l}(),__extends$2G=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__decorate$1j=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},Line$1=function(l){function r(){var e=l.call(this)||this;return e.x1=0,e.y1=0,e.x2=0,e.y2=0,e.restoreOwnStyles(),e}return __extends$2G(r,l),r.prototype.computeBBox=function(){return new BBox$1(this.x1,this.y1,this.x2-this.x1,this.y2-this.y1)},r.prototype.isPointInPath=function(e,i){return!1},r.prototype.render=function(e){var i,a=e.ctx,d=e.stats;if(this.dirty!==RedrawType.NONE||e.forceRender){this.computeTransformMatrix(),this.matrix.toContext(a);var h=this.x1,v=this.y1,_=this.x2,y=this.y2;if(h===_){var m=Math.round(h)+Math.floor(this.strokeWidth)%2/2;h=m,_=m}else if(v===y){var E=Math.round(v)+Math.floor(this.strokeWidth)%2/2;v=E,y=E}a.beginPath(),a.moveTo(h,v),a.lineTo(_,y),this.fillStroke(a),null===(i=this.fillShadow)||void 0===i||i.markClean(),l.prototype.render.call(this,e)}else d&&(d.nodesSkipped+=this.nodeCount.count)},r.className="Line",r.defaultStyles=chainObjects$1(Shape$1.defaultStyles,{fill:void 0,strokeWidth:1}),__decorate$1j([SceneChangeDetection({redraw:RedrawType.MAJOR})],r.prototype,"x1",void 0),__decorate$1j([SceneChangeDetection({redraw:RedrawType.MAJOR})],r.prototype,"y1",void 0),__decorate$1j([SceneChangeDetection({redraw:RedrawType.MAJOR})],r.prototype,"x2",void 0),__decorate$1j([SceneChangeDetection({redraw:RedrawType.MAJOR})],r.prototype,"y2",void 0),r}(Shape$1),__extends$2F=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__decorate$1i=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s};function ScenePathChangeDetection(l){var r=l||{},e=r.redraw;return SceneChangeDetection({redraw:void 0===e?RedrawType.MAJOR:e,type:"path",convertor:r.convertor,changeCb:r.changeCb})}var Path$1=function(l){function r(e){var i=l.call(this)||this;return i.renderOverride=e,i.path=new Path2D$1,i._dirtyPath=!0,i}return __extends$2F(r,l),Object.defineProperty(r.prototype,"dirtyPath",{get:function(){return this._dirtyPath},set:function(e){this._dirtyPath!==e&&(this._dirtyPath=e,e&&this.markDirty(this,RedrawType.MAJOR))},enumerable:!0,configurable:!0}),r.prototype.checkPathDirty=function(){var e;this._dirtyPath||(this.dirtyPath=this.path.isDirty()||((null===(e=this.fillShadow)||void 0===e?void 0:e.isDirty())??!1))},r.prototype.isPointInPath=function(e,i){var a=this.transformPoint(e,i);return this.path.closedPath&&this.path.isPointInPath(a.x,a.y)},r.prototype.isDirtyPath=function(){},r.prototype.updatePath=function(){},r.prototype.render=function(e){var a,s=e.ctx,h=e.stats;if(this.dirty!==RedrawType.NONE||e.forceRender){if(this.computeTransformMatrix(),this.matrix.toContext(s),(this.dirtyPath||this.isDirtyPath())&&(this.updatePath(),this.dirtyPath=!1),this.clipPath){if(s.save(),"normal"===this.clipMode&&(this.clipPath.draw(s),s.clip()),this.renderOverride?this.renderOverride(s):(this.path.draw(s),this.fillStroke(s)),"punch-out"===this.clipMode){this.clipPath.draw(s),s.clip();var v=this.computeBBox()??{},_=v.x,m=v.y,w=v.width,D=v.height;s.clearRect(void 0===_?-1e4:_,void 0===m?-1e4:m,void 0===w?2e4:w,void 0===D?2e4:D)}s.restore()}else this.renderOverride?this.renderOverride(s):(this.path.draw(s),this.fillStroke(s));null===(a=this.fillShadow)||void 0===a||a.markClean(),l.prototype.render.call(this,e)}else h&&(h.nodesSkipped+=this.nodeCount.count)},r.className="Path",__decorate$1i([ScenePathChangeDetection()],r.prototype,"clipPath",void 0),__decorate$1i([ScenePathChangeDetection()],r.prototype,"clipMode",void 0),r}(Shape$1),twoPi=2*Math.PI;function normalizeAngle360(l){return l%=twoPi,(l+=twoPi)%twoPi}function normalizeAngle360Inclusive(l){return l%=twoPi,(l+=twoPi)!==twoPi&&(l%=twoPi),l}function normalizeAngle180(l){return(l%=twoPi)<-Math.PI?l+=twoPi:l>=Math.PI&&(l-=twoPi),l}function toRadians(l){return l/180*Math.PI}function isEqual(l,r,e){return void 0===e&&(e=1e-10),Math.abs(l-r)<e}function toFixed(l,r){void 0===r&&(r=2);var e=Math.floor(Math.log(Math.abs(l))/Math.LN10);return e>=0||!isFinite(e)?l.toFixed(r):l.toFixed(Math.abs(e)-1+r)}function mod(l,r){var e=l%r;return e>=0?e:e+r}var __extends$2E=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__decorate$1h=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},ArcType=(()=>(function(l){l[l.Open=0]="Open",l[l.Chord=1]="Chord",l[l.Round=2]="Round"}(ArcType||(ArcType={})),ArcType))(),Arc=function(l){function r(){var e=l.call(this)||this;return e.centerX=0,e.centerY=0,e.radiusX=10,e.radiusY=10,e.startAngle=0,e.endAngle=2*Math.PI,e.counterClockwise=!1,e.type=ArcType.Open,e.restoreOwnStyles(),e}return __extends$2E(r,l),Object.defineProperty(r.prototype,"fullPie",{get:function(){return isEqual(normalizeAngle360(this.startAngle),normalizeAngle360(this.endAngle))},enumerable:!0,configurable:!0}),r.prototype.updatePath=function(){var e=this.path;e.clear(),e.cubicArc(this.centerX,this.centerY,this.radiusX,this.radiusY,0,this.startAngle,this.endAngle,this.counterClockwise?1:0),this.type===ArcType.Chord?e.closePath():this.type===ArcType.Round&&!this.fullPie&&(e.lineTo(this.centerX,this.centerY),e.closePath())},r.prototype.computeBBox=function(){return new BBox$1(this.centerX-this.radiusX,this.centerY-this.radiusY,2*this.radiusX,2*this.radiusY)},r.prototype.isPointInPath=function(e,i){var a=this.transformPoint(e,i),s=this.computeBBox();return this.type!==ArcType.Open&&s.containsPoint(a.x,a.y)&&this.path.isPointInPath(a.x,a.y)},r.className="Arc",r.defaultStyles=chainObjects$1(Shape$1.defaultStyles,{lineWidth:1,fillStyle:null}),__decorate$1h([ScenePathChangeDetection()],r.prototype,"centerX",void 0),__decorate$1h([ScenePathChangeDetection()],r.prototype,"centerY",void 0),__decorate$1h([ScenePathChangeDetection()],r.prototype,"radiusX",void 0),__decorate$1h([ScenePathChangeDetection()],r.prototype,"radiusY",void 0),__decorate$1h([ScenePathChangeDetection()],r.prototype,"startAngle",void 0),__decorate$1h([ScenePathChangeDetection()],r.prototype,"endAngle",void 0),__decorate$1h([ScenePathChangeDetection()],r.prototype,"counterClockwise",void 0),__decorate$1h([ScenePathChangeDetection()],r.prototype,"type",void 0),r}(Path$1),doOnceFlags$1={};function doOnce$1(l,r){doOnceFlags$1[r]||(l(),doOnceFlags$1[r]=!0)}function Validate(l){return function(r,e){var i="__"+e;r[e]||Object.defineProperty(r,e,{set:function(d){var h;l(d)?this[i]=d:console.warn("AG Charts - Property ["+((null===(h=r.constructor)||void 0===h?void 0:h.name)??r.className)+"."+e+"] cannot be set to ["+d+"], ignoring.")},get:function(){return this[i]},enumerable:!0,configurable:!1})}}var BOOLEAN=function(l){return!0===l||!1===l},OPT_BOOLEAN=function(l){return void 0===l||!0===l||!1===l},STRING=function(l){return"string"==typeof l},OPT_STRING=function(l){return void 0===l||"string"==typeof l};function OPT_NUMBER(l,r){return function(e){return void 0===e||"number"==typeof e&&e>=(l??-1/0)&&e<=(r??1/0)}}function NUMBER(l,r){return function(e){return"number"==typeof e&&e>=(l??-1/0)&&e<=(r??1/0)}}var FONT_WEIGHTS=["normal","bold","bolder","lighter","100","200","300","400","500","600","700","800","900"],OPT_FONT_STYLE=function(l){return void 0===l||"normal"===l||"italic"===l||"oblique"===l},OPT_FONT_WEIGHT=function(l){return void 0===l||FONT_WEIGHTS.includes(l)};function Deprecated(l,r){var e=!1,i=(r??{}).default,a=void 0===i?void 0:i;return function(s,d){var h="__"+d;s[d]||Object.defineProperty(s,d,{set:function(y){var m,E;if(y!==a&&!e){var w=["AG Charts - Property ["+(E=null===(m=s.constructor)||void 0===m?void 0:m.name,(E??s.className)+".")+d+"] is deprecated.",l].filter(function(S){return null!=S}).join(" ");console.warn(w),e=!0}this[h]=y},get:function(){return this[h]},enumerable:!0,configurable:!1})}}var Layers=(()=>(function(l){l[l.AXIS_GRIDLINES_ZINDEX=0]="AXIS_GRIDLINES_ZINDEX",l[l.SERIES_CROSSLINE_RANGE_ZINDEX=10]="SERIES_CROSSLINE_RANGE_ZINDEX",l[l.AXIS_ZINDEX=20]="AXIS_ZINDEX",l[l.SERIES_LAYER_ZINDEX=500]="SERIES_LAYER_ZINDEX",l[l.SERIES_LABEL_ZINDEX=1e3]="SERIES_LABEL_ZINDEX",l[l.SERIES_CROSSLINE_LINE_ZINDEX=2500]="SERIES_CROSSLINE_LINE_ZINDEX",l[l.LEGEND_ZINDEX=3e3]="LEGEND_ZINDEX"}(Layers||(Layers={})),Layers))(),__decorate$1g=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},__read$H=function(l,r){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var a,d,i=e.call(l),s=[];try{for(;(void 0===r||r-- >0)&&!(a=i.next()).done;)s.push(a.value)}catch(h){d={error:h}}finally{try{a&&!a.done&&(e=i.return)&&e.call(i)}finally{if(d)throw d.error}}return s},__spread$m=function(){for(var l=[],r=0;r<arguments.length;r++)l=l.concat(__read$H(arguments[r]));return l},__values$n=function(l){var r="function"==typeof Symbol&&Symbol.iterator,e=r&&l[r],i=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&i>=l.length&&(l=void 0),{value:l&&l[i++],done:!l}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},Tags=(()=>(function(l){l[l.Tick=0]="Tick",l[l.GridLine=1]="GridLine"}(Tags||(Tags={})),Tags))(),AxisTick=function(){function l(){this.width=1,this.size=6,this.color="rgba(195, 195, 195, 1)",this.count=void 0}return __decorate$1g([Validate(NUMBER(0))],l.prototype,"width",void 0),__decorate$1g([Validate(NUMBER(0))],l.prototype,"size",void 0),__decorate$1g([Validate(OPT_STRING)],l.prototype,"color",void 0),l}(),AxisLabel=function(){function l(){this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif",this.padding=5,this.color="rgba(87, 87, 87, 1)",this.rotation=void 0,this.autoRotate=void 0,this.autoRotateAngle=335,this.mirrored=!1,this.parallel=!1,this.formatter=void 0,this.onFormatChange=void 0}return Object.defineProperty(l.prototype,"format",{get:function(){return this._format},set:function(r){this._format!==r&&(this._format=r,this.onFormatChange&&this.onFormatChange(r))},enumerable:!0,configurable:!0}),__decorate$1g([Validate(OPT_FONT_STYLE)],l.prototype,"fontStyle",void 0),__decorate$1g([Validate(OPT_FONT_WEIGHT)],l.prototype,"fontWeight",void 0),__decorate$1g([Validate(NUMBER(1))],l.prototype,"fontSize",void 0),__decorate$1g([Validate(STRING)],l.prototype,"fontFamily",void 0),__decorate$1g([Validate(NUMBER(0))],l.prototype,"padding",void 0),__decorate$1g([Validate(STRING)],l.prototype,"color",void 0),__decorate$1g([Validate(OPT_NUMBER(-360,360))],l.prototype,"rotation",void 0),__decorate$1g([Validate(OPT_BOOLEAN)],l.prototype,"autoRotate",void 0),__decorate$1g([Validate(NUMBER(-360,360))],l.prototype,"autoRotateAngle",void 0),__decorate$1g([Validate(BOOLEAN)],l.prototype,"mirrored",void 0),__decorate$1g([Validate(BOOLEAN)],l.prototype,"parallel",void 0),__decorate$1g([Validate(STRING)],l.prototype,"_format",void 0),l}(),Axis=function(){function l(r){this.id=createId$1(this),this.axisGroup=new Group$1({name:this.id+"-axis",layer:!0,zIndex:Layers.AXIS_ZINDEX}),this.crossLineGroup=new Group$1({name:this.id+"-CrossLines"}),this.lineGroup=this.axisGroup.appendChild(new Group$1({name:this.id+"-Line"})),this.tickGroup=this.axisGroup.appendChild(new Group$1({name:this.id+"-Tick"})),this.titleGroup=this.axisGroup.appendChild(new Group$1({name:this.id+"-Title"})),this.tickGroupSelection=Selection$1.select(this.tickGroup).selectAll(),this.lineNode=this.lineGroup.appendChild(new Line$1),this.gridlineGroup=new Group$1({name:this.id+"-gridline",layer:!0,zIndex:Layers.AXIS_GRIDLINES_ZINDEX}),this.gridlineGroupSelection=Selection$1.select(this.gridlineGroup).selectAll(),this._crossLines=[],this.line={width:1,color:"rgba(195, 195, 195, 1)"},this.tick=new AxisTick,this.label=new AxisLabel,this.translation={x:0,y:0},this.rotation=0,this._labelAutoRotated=!1,this._calculatedTickCount=void 0,this.requestedRange=[0,1],this._visibleRange=[0,1],this._title=void 0,this._gridLength=0,this.gridStyle=[{stroke:"rgba(219, 219, 219, 1)",lineDash:[4,2]}],this._radialGrid=!1,this.fractionDigits=0,this.thickness=0,this.scale=r,this.label.onFormatChange=this.onLabelFormatChange.bind(this)}return Object.defineProperty(l.prototype,"scale",{get:function(){return this._scale},set:function(r){var i,e=this;this._scale=r,this.requestedRange=r.range.slice(),this.onLabelFormatChange(),null===(i=this.crossLines)||void 0===i||i.forEach(function(a){e.initCrossLine(a)})},enumerable:!0,configurable:!0}),l.prototype.getTicks=function(){return this.ticks??this.scale.ticks(this.calculatedTickCount)},Object.defineProperty(l.prototype,"crossLines",{get:function(){return this._crossLines},set:function(r){var i,a,e=this;null===(i=this._crossLines)||void 0===i||i.forEach(function(s){return e.detachCrossLine(s)}),this._crossLines=r,null===(a=this._crossLines)||void 0===a||a.forEach(function(s){e.attachCrossLine(s),e.initCrossLine(s)})},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"labelAutoRotated",{get:function(){return this._labelAutoRotated},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"calculatedTickCount",{get:function(){return this._calculatedTickCount??this.tick.count},enumerable:!0,configurable:!0}),l.prototype.attachCrossLine=function(r){this.crossLineGroup.appendChild(r.group)},l.prototype.detachCrossLine=function(r){this.crossLineGroup.removeChild(r.group)},l.prototype.calculateTickCount=function(r){},l.prototype.getMeta=function(){},l.prototype.updateRange=function(){var r=this,e=r.requestedRange,i=r.visibleRange,s=(e[1]-e[0])/(i[1]-i[0]),h=e[0]-s*i[0];r.scale.range=[h,h+s]},l.prototype.inRange=function(r,e,i){return void 0===e&&(e=0),void 0===i&&(i=0),0===this.inRangeEx(r,e,i)},l.prototype.inRangeEx=function(r,e,i){void 0===e&&(e=0),void 0===i&&(i=0);var a=this.range,s=Math.min(a[0],a[1]),d=Math.max(a[0],a[1]);return r+e<s-i?-1:r>d+i?1:0},Object.defineProperty(l.prototype,"range",{get:function(){return this.requestedRange},set:function(r){this.requestedRange=r.slice(),this.updateRange()},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"visibleRange",{get:function(){return this._visibleRange.slice()},set:function(r){if(r&&2===r.length){var e=__read$H(r,2),i=e[0],a=e[1];i=Math.max(0,i),a=Math.min(1,a),i=Math.min(i,a),a=Math.max(i,a),this._visibleRange=[i,a],this.updateRange()}},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"domain",{get:function(){return this.scale.domain.slice()},set:function(r){this.scale.domain=r.slice(),this.onLabelFormatChange(this.label.format)},enumerable:!0,configurable:!0}),l.prototype.onLabelFormatChange=function(r){var e=this.scale;if(r&&e&&e.tickFormat)try{this.labelFormatter=e.tickFormat({ticks:this.getTicks(),count:this.calculatedTickCount,specifier:r})}catch{this.labelFormatter=void 0,doOnce$1(function(){return console.warn("AG Charts - the axis label format string "+r+" is invalid. No formatting will be applied")},"invalid axis label format string "+r)}else this.labelFormatter=void 0},Object.defineProperty(l.prototype,"title",{get:function(){return this._title},set:function(r){var e=this._title;e!==r&&(e&&this.titleGroup.removeChild(e.node),r&&(r.node.rotation=-Math.PI/2,this.titleGroup.appendChild(r.node)),this._title=r,this.updateTitle({ticks:this.ticks||this.scale.ticks(this.calculatedTickCount)}))},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"gridLength",{get:function(){return this._gridLength},set:function(r){var i,e=this;(this._gridLength&&!r||!this._gridLength&&r)&&(this.gridlineGroupSelection=this.gridlineGroupSelection.remove().setData([])),this._gridLength=r,null===(i=this.crossLines)||void 0===i||i.forEach(function(a){e.initCrossLine(a)})},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"radialGrid",{get:function(){return this._radialGrid},set:function(r){this._radialGrid!==r&&(this._radialGrid=r,this.gridlineGroupSelection=this.gridlineGroupSelection.remove().setData([]))},enumerable:!0,configurable:!0}),l.prototype.update=function(){var r,e,i=this,a=i.axisGroup,s=i.gridlineGroup,d=i.crossLineGroup,h=i.scale,v=i.gridLength,_=i.tick,y=i.label,m=i.requestedRange,E=i.translation,w=Math.min.apply(Math,__spread$m(m)),S=Math.max.apply(Math,__spread$m(m)),D=toRadians(this.rotation),T=y.parallel,b=Math.floor(E.x),M=Math.floor(E.y);d.translationX=b,d.translationY=M,d.rotation=D,a.translationX=b,a.translationY=M,a.rotation=D,s.translationX=b,s.translationY=M,s.rotation=D,this.updateLine();var A=y.mirrored?1:-1,L=normalizeAngle360(D),N=normalizeAngle360(D-Math.PI/2),G=(h.bandwidth||0)/2,k=this.getTicks(),K=this.updateTicks({ticks:k}),$=this.updateLabels({parallelFlipRotation:L,regularFlipRotation:N,sideFlag:A,tickLineGroupSelection:K,ticks:k}),j=this.updateGridLines({gridLength:v,ticks:k,halfBandwidth:G,labelBboxes:$,sideFlag:A});this.tickGroupSelection=K,this.gridlineGroupSelection=j;var Y=!1,ie=function(J,Q){return Math.round(h.convert(Q)+G)},re=function(J){var Q=Math.floor(w),oe=Math.ceil(S),fe=Q!==oe&&J.translationY>=Q&&J.translationY<=oe;return Y=fe||Y,fe};if(K.attrFn("translationY",ie).attrFn("visible",re),j.attrFn("translationY",ie).attrFn("visible",re),this.tickGroup.visible=Y,this.gridlineGroup.visible=Y,!Y)return null===(r=this.crossLines)||void 0===r||r.forEach(function(J){J.update(Y)}),void this.updateTitle({ticks:k});K.selectByTag(Tags.Tick).each(function(J,Q,oe){J.strokeWidth=_.width,J.stroke=_.color,J.visible=$.has(oe)}).attr("x1",A*_.size).attr("x2",0).attr("y1",0).attr("y2",0),this.updateTitle({ticks:k}),null===(e=this.crossLines)||void 0===e||e.forEach(function(J){J.sideFlag=-A,J.direction=D===-Math.PI/2?ChartAxisDirection.X:ChartAxisDirection.Y,J.label.parallel=void 0!==J.label.parallel?J.label.parallel:T,J.parallelFlipRotation=L,J.regularFlipRotation=N,J.update(Y)})},l.prototype.updateTicks=function(r){var i=this.tickGroupSelection.setData(r.ticks);i.exit.remove();var a=i.enter.append(Group$1);return a.append(Line$1).each(function(s){return s.tag=Tags.Tick}),a.append(Text$1),i.merge(a)},l.prototype.updateGridLines=function(r){var e=r.gridLength,a=r.labelBboxes,s=r.halfBandwidth,d=r.sideFlag,h=this,v=h.gridStyle,_=h.scale,y=h.tick,m=this.gridlineGroupSelection.setData(e?r.ticks:[]);m.exit.remove();var E=m;if(e){var w=function(M){return M.tag=Tags.GridLine},S=m.enter.append(Group$1);this.radialGrid?S.append(Arc).each(w):S.append(Line$1).each(w),E=m.merge(S)}if(e&&v.length){var D=v.length,T=void 0;if(this.radialGrid){var b=normalizeAngle360Inclusive(toRadians(e));T=E.selectByTag(Tags.GridLine).each(function(M,A,L){var N=Math.round(_.convert(A)+s);M.centerX=0,M.centerY=_.range[0]-N,M.endAngle=b,M.radiusX=N,M.radiusY=N,M.visible=a.has(L)})}else T=E.selectByTag(Tags.GridLine).each(function(M,A,L){M.x1=0,M.x2=-d*e,M.y1=0,M.y2=0,M.visible=Math.abs(M.parent.translationY-_.range[0])>1&&a.has(L)});T.each(function(M,A,L){var N=v[L%D];M.stroke=N.stroke,M.strokeWidth=y.width,M.lineDash=N.lineDash,M.fill=void 0})}return E},l.prototype.updateLabels=function(r){var e=this,i=r.ticks,a=r.tickLineGroupSelection,s=r.sideFlag,d=r.parallelFlipRotation,h=r.regularFlipRotation,v=this,_=v.label,y=v.label.parallel,m=v.scale,E=v.tick,w=v.requestedRange,S=Math.min.apply(Math,__spread$m(w)),D=Math.max.apply(Math,__spread$m(w)),T=0,b=_.rotation?normalizeAngle360(toRadians(_.rotation)):0,M=!b&&d>=0&&d<=Math.PI?-1:1,A=!b&&h>=0&&h<=Math.PI?-1:1;this.fractionDigits=i.fractionDigits>=0?i.fractionDigits:0;var L=new Map,N=0,G=!1,k=!1,K=D-S,$=a.selectByClass(Text$1).each(function(he,be,ve){if(he.fontStyle=_.fontStyle,he.fontWeight=_.fontWeight,he.fontSize=_.fontSize,he.fontFamily=_.fontFamily,he.fill=_.color,he.text=e.formatTickDatum(be,ve),he.visible=he.parent.visible,!0===he.visible){var De=""===he.text||null==he.text;L.set(ve,De?null:he.computeBBox()),!De&&(N++,0===ve&&he.translationY===m.range[0]?G=!0:ve===i.length-1&&he.translationY===m.range[1]&&(k=!0))}}),j=s*(E.size+_.padding),Y=K/N,ie=function(he,be){var ve,De,Le=0,Te=!1,Ue=he.size-1;try{for(var et=__values$n(he.entries()),it=et.next();!it.done;it=et.next()){var Xe=__read$H(it.value,2),nt=Xe[0],qe=Xe[1];if(null!=qe){var Ee=0===nt&&G||nt===Ue&&k?2:1,Pe=be?qe.width/Ee:qe.height/Ee,me=Pe<=0?0:Pe+12;Le+=me,me>Y&&(Te=!0)}}}catch(I){ve={error:I}}finally{try{it&&!it.done&&(De=et.return)&&De.call(et)}finally{if(ve)throw ve.error}}return{totalLength:Le,rotate:Te}},re=y,J=ie(L,re),Q=J.totalLength,oe=J.rotate;this._labelAutoRotated=!1,void 0===_.rotation&&!0===_.autoRotate&&oe&&(T=normalizeAngle360(toRadians(_.autoRotateAngle)),this._labelAutoRotated=!0),(b||T)&&(re=y?b===Math.PI||T===Math.PI:b===Math.PI/2||b===Math.PI+Math.PI/2||T===Math.PI/2||T===Math.PI+Math.PI/2,Q=ie(L,re).totalLength);var fe=y?M*Math.PI/2:-1===A?Math.PI:0,ge=y&&!b?s*M==-1?"hanging":"bottom":"middle",ce=b>0&&b<=Math.PI||T>0&&T<=Math.PI?-1:1,pe=y?b||T?s*ce==-1?"end":"start":"center":s*A==-1?"end":"start";if($.each(function(he){""!==he.text&&null!=he.text?(he.textBaseline=ge,he.textAlign=pe,he.x=j,he.rotationCenterX=j,he.rotation=fe+b+T):he.visible=!1}),Q>K){var z=m instanceof ContinuousScale$1,X=Math.floor(K/(Q/N)),ne=X>2?Math.ceil(N/X):N,we=0;$.each(function(he,be,ve){!0===he.visible&&(he.visible=!((!z||void 0!==e.tick.count||0!==ve&&ve!==N-1)&&we%ne!=0),we++,he.visible||L.delete(ve))})}return L},l.prototype.updateLine=function(){var e=this.lineNode,i=this.requestedRange;e.x1=0,e.x2=0,e.y1=i[0],e.y2=i[1],e.strokeWidth=this.line.width,e.stroke=this.line.color,e.visible=!0},l.prototype.updateTitle=function(r){var i,e=r.ticks,a=this,d=a.rotation,h=a.title,_=a.requestedRange,y=a.tickGroup,m=a.lineGroup;if(h){var E=!1;if(h.enabled&&a.lineNode.visible){E=!0;var w=a.label.mirrored?1:-1,S=normalizeAngle360(d),D=Caption.PADDING,T=h.node,b=-1===w&&S>Math.PI&&S<2*Math.PI?-1:1;T.rotation=b*w*Math.PI/2,T.x=Math.floor(b*w*(_[0]+_[1])/2);var M=m.computeBBox(),A=0===d?M.width:M.height;if((null===(i=e)||void 0===i?void 0:i.length)>0){var L=y.computeBBox(),N=0===d?L.width:L.height;Math.abs(N)<1/0&&(A+=N)}T.y=-1===w?Math.floor(b*(-D-A)):Math.floor(-D-A),T.textBaseline=1===b?"bottom":"top"}h.node.visible=E}},l.prototype.formatTickDatum=function(r,e){var i=this,a=i.label,s=i.labelFormatter,d=i.fractionDigits,h=this.getMeta();return a.formatter?a.formatter({value:d>=0?r:String(r),index:e,fractionDigits:d,formatter:s,axis:h}):s?s(r):"number"==typeof r&&d>=0?r.toFixed(d):String(r)},l.prototype.formatDatum=function(r){return String(r)},l.prototype.computeBBox=function(){return this.axisGroup.computeBBox()},l.prototype.initCrossLine=function(r){r.scale=this.scale,r.gridLength=this.gridLength},l}(),__extends$2D=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__read$G=function(l,r){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var a,d,i=e.call(l),s=[];try{for(;(void 0===r||r-- >0)&&!(a=i.next()).done;)s.push(a.value)}catch(h){d={error:h}}finally{try{a&&!a.done&&(e=i.return)&&e.call(i)}finally{if(d)throw d.error}}return s},__spread$l=function(){for(var l=[],r=0;r<arguments.length;r++)l=l.concat(__read$G(arguments[r]));return l},ChartAxisDirection=(()=>(function(l){l.X="x",l.Y="y"}(ChartAxisDirection||(ChartAxisDirection={})),ChartAxisDirection))();function flipChartAxisDirection(l){return l===ChartAxisDirection.X?ChartAxisDirection.Y:ChartAxisDirection.X}var ChartAxisPosition=(()=>(function(l){l.Top="top",l.Right="right",l.Bottom="bottom",l.Left="left",l.Angle="angle",l.Radius="radius"}(ChartAxisPosition||(ChartAxisPosition={})),ChartAxisPosition))(),ChartAxis=function(l){function r(){var e=null!==l&&l.apply(this,arguments)||this;return e.keys=[],e.direction=ChartAxisDirection.Y,e.boundSeries=[],e.includeInvisibleDomains=!1,e._position=ChartAxisPosition.Left,e}return __extends$2D(r,l),Object.defineProperty(r.prototype,"type",{get:function(){return this.constructor.type||""},enumerable:!0,configurable:!0}),r.prototype.getMeta=function(){return{id:this.id,direction:this.direction,boundSeries:this.boundSeries}},r.prototype.useCalculatedTickCount=function(){return this.scale instanceof LinearScale$1},r.prototype.calculateTickCount=function(){if(this.useCalculatedTickCount()){var i=this.tick.count,a=__read$G(this.range,2),s=a[0],d=a[1];if(void 0!==i)return void(this._calculatedTickCount=void 0);var h=Math.abs(d-s),v=this.calculateTickIntervalEstimate(),m=Math.max(Math.pow(Math.log(h)/Math.log(600),2),.75);this._calculatedTickCount=Math.max(2,Math.floor(h/(v*m)))}},r.prototype.calculateTickIntervalEstimate=function(){var e,i,a=this,s=a.domain,d=a.label.fontSize,v=1.5*d;if(a.direction===ChartAxisDirection.Y)return 2*d+v;var _=(null===(i=(e=this.scale).ticks)||void 0===i?void 0:i.call(e,10))||[s[0],s[s.length-1]];return Math.max.apply(Math,__spread$l(_.map(function(m){return String(m).length})))*d+v},Object.defineProperty(r.prototype,"position",{get:function(){return this._position},set:function(e){if(this._position!==e)switch(this._position=e,e){case ChartAxisPosition.Top:this.direction=ChartAxisDirection.X,this.rotation=-90,this.label.mirrored=!0,this.label.parallel=!0;break;case ChartAxisPosition.Right:this.direction=ChartAxisDirection.Y,this.rotation=0,this.label.mirrored=!0,this.label.parallel=!1;break;case ChartAxisPosition.Bottom:this.direction=ChartAxisDirection.X,this.rotation=-90,this.label.mirrored=!1,this.label.parallel=!0;break;case ChartAxisPosition.Left:this.direction=ChartAxisDirection.Y,this.rotation=0,this.label.mirrored=!1,this.label.parallel=!1}},enumerable:!0,configurable:!0}),r.prototype.calculateDomain=function(e){var i,a=e.primaryTickCount,s=this,d=s.direction,h=s.boundSeries,v=s.includeInvisibleDomains;if(0===h.length&&console.warn("AG Charts - chart series not initialised; check series and axes configuration."),this.linkedTo)this.domain=this.linkedTo.domain;else{var _=[];h.filter(function(E){return v||E.visible}).forEach(function(E){_.push(E.getDomain(d))});var y=(i=new Array).concat.apply(i,__spread$l(_));a=this.updateDomain(y,"y"===this.direction,a)}return{primaryTickCount:a}},r.prototype.updateDomain=function(e,i,a){return this.domain=e,a},r}(Axis),__extends$2C=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__read$F=function(l,r){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var a,d,i=e.call(l),s=[];try{for(;(void 0===r||r-- >0)&&!(a=i.next()).done;)s.push(a.value)}catch(h){d={error:h}}finally{try{a&&!a.done&&(e=i.return)&&e.call(i)}finally{if(d)throw d.error}}return s};function clamper$1(l){var r,e=l[0],i=l[l.length-1];return e>i&&(r=__read$F([i,e],2),e=r[0],i=r[1]),function(a){return a>=e&&a<=i?a:NaN}}var NumberAxis=function(l){function r(){var e=l.call(this,new LinearScale$1)||this;return e._nice=!0,e._min=NaN,e._max=NaN,e.scale.clamper=clamper$1,e}return __extends$2C(r,l),Object.defineProperty(r.prototype,"nice",{get:function(){return this._nice},set:function(e){this._nice!==e&&(this._nice=e,e&&this.scale.nice&&this.scale.nice("number"==typeof this.calculatedTickCount?this.calculatedTickCount:void 0))},enumerable:!0,configurable:!0}),r.prototype.setDomain=function(e,i){var a=this,s=a.scale,d=a.min,h=a.max;if(e.length>2&&(e=extent$1(e,isContinuous$1,Number)||[]),e=[isNaN(d)?e[0]:d,isNaN(h)?e[1]:h],i){var v=__read$F(calculateNiceSecondaryAxis(e,i),2),y=v[1];return s.domain=v[0],void(this.ticks=y)}s.domain=e,this.onLabelFormatChange(this.label.format),this.scale.clamp=!0,this.nice&&this.scale.nice&&this.scale.nice("number"==typeof this.calculatedTickCount?this.calculatedTickCount:void 0)},Object.defineProperty(r.prototype,"domain",{get:function(){return this.scale.domain},set:function(e){this.setDomain(e)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"min",{get:function(){return this._min},set:function(e){this._min!==e&&(this._min=e,isNaN(e)||(this.scale.domain=[e,this.scale.domain[1]]))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"max",{get:function(){return this._max},set:function(e){this._max!==e&&(this._max=e,isNaN(e)||(this.scale.domain=[this.scale.domain[0],e]))},enumerable:!0,configurable:!0}),r.prototype.formatDatum=function(e){return"number"==typeof e?e.toFixed(2):(doOnce$1(function(){return console.warn("AG Charts - Data contains Date objects which are being plotted against a number axis, please only use a number axis for numbers.")},"number axis config used with Date objects"),String(e))},r.prototype.updateDomain=function(e,i,a){return i?(this.setDomain(e,a),a??this.scale.ticks(this.calculatedTickCount).length):l.prototype.updateDomain.call(this,e,i,a)},r.className="NumberAxis",r.type="number",r}(ChartAxis),__read$E=function(l,r){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var a,d,i=e.call(l),s=[];try{for(;(void 0===r||r-- >0)&&!(a=i.next()).done;)s.push(a.value)}catch(h){d={error:h}}finally{try{a&&!a.done&&(e=i.return)&&e.call(i)}finally{if(d)throw d.error}}return s},BandScale$1=function(){function l(){this.type="band",this.index=new Map,this.ordinalRange=[],this._domain=[],this._range=[0,1],this._bandwidth=1,this._rawBandwidth=1,this._paddingInner=0,this._paddingOuter=0,this._round=!1,this._align=.5}return Object.defineProperty(l.prototype,"domain",{get:function(){return this._domain},set:function(r){var e=this._domain;e.length=0,this.index=new Map;var i=this.index;r.forEach(function(a){void 0===i.get(a)&&i.set(a,e.push(a)-1)}),this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"range",{get:function(){return this._range},set:function(r){this._range[0]=r[0],this._range[1]=r[1],this.rescale()},enumerable:!0,configurable:!0}),l.prototype.ticks=function(){return this._domain},l.prototype.convert=function(r){var e=this.index.get(r);if(void 0===e)return NaN;var i=this.ordinalRange[e];return void 0===i?NaN:i},Object.defineProperty(l.prototype,"bandwidth",{get:function(){return this._bandwidth},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"rawBandwidth",{get:function(){return this._rawBandwidth},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"padding",{get:function(){return this._paddingInner},set:function(r){r=Math.max(0,Math.min(1,r)),this._paddingInner=r,this._paddingOuter=r,this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"paddingInner",{get:function(){return this._paddingInner},set:function(r){this._paddingInner=Math.max(0,Math.min(1,r)),this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"paddingOuter",{get:function(){return this._paddingOuter},set:function(r){this._paddingOuter=Math.max(0,Math.min(1,r)),this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"round",{get:function(){return this._round},set:function(r){this._round=r,this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"align",{get:function(){return this._align},set:function(r){this._align=Math.max(0,Math.min(1,r)),this.rescale()},enumerable:!0,configurable:!0}),l.prototype.rescale=function(){var r,e=this._domain.length;if(e){var i=__read$E(this._range,2),a=i[0],s=i[1],d=s<a;d&&(a=(r=__read$E([s,a],2))[0],s=r[1]);var h=(s-a)/Math.max(1,e-this._paddingInner+2*this._paddingOuter),v=h;this._round&&(v=Math.floor(v)),a+=(s-a-v*(e-this._paddingInner))*this._align,this._bandwidth=v*(1-this._paddingInner),this._rawBandwidth=h*(1-this._paddingInner),this._round&&(a=Math.round(a),this._bandwidth=Math.round(this._bandwidth));for(var _=[],y=0;y<e;y++)_.push(a+v*y);d&&_.reverse(),this.ordinalRange=_}},l}(),__extends$2B=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__read$D=function(l,r){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var a,d,i=e.call(l),s=[];try{for(;(void 0===r||r-- >0)&&!(a=i.next()).done;)s.push(a.value)}catch(h){d={error:h}}finally{try{a&&!a.done&&(e=i.return)&&e.call(i)}finally{if(d)throw d.error}}return s},__spread$k=function(){for(var l=[],r=0;r<arguments.length;r++)l=l.concat(__read$D(arguments[r]));return l},CategoryAxis=function(l){function r(){var e=l.call(this,new BandScale$1)||this;return e._paddingOverrideEnabled=!1,e.includeInvisibleDomains=!0,e}return __extends$2B(r,l),Object.defineProperty(r.prototype,"paddingInner",{get:function(){return this._paddingOverrideEnabled=!0,this.scale.paddingInner},set:function(e){this._paddingOverrideEnabled=!0,this.scale.paddingInner=e},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"paddingOuter",{get:function(){return this.scale.paddingOuter},set:function(e){this.scale.paddingOuter=e},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"domain",{get:function(){return this.scale.domain.slice()},set:function(e){var i=new Set(e);this.scale.domain=new(Array.bind.apply(Array,__spread$k([void 0],i.values())))},enumerable:!0,configurable:!0}),r.prototype.calculateDomain=function(e){var i=e.primaryTickCount;return this._paddingOverrideEnabled||(this.boundSeries.some(function(s){return["bar","column"].includes(s.type)})?(this.scale.paddingInner=.2,this.scale.paddingOuter=.3):(this.scale.paddingInner=1,this.scale.paddingOuter=0)),l.prototype.calculateDomain.call(this,{primaryTickCount:i})},r.className="CategoryAxis",r.type="category",r}(ChartAxis),TreeNode=function(){function l(r,e,i){void 0===r&&(r=""),void 0===i&&(i=0),this.x=0,this.y=0,this.subtreeLeft=NaN,this.subtreeRight=NaN,this.screenX=0,this.screenY=0,this.children=[],this.leafCount=0,this.prelim=0,this.mod=0,this.ancestor=this,this.change=0,this.shift=0,this.label=r,this.parent=e,this.depth=e?e.depth+1:0,this.number=i}return l.prototype.getLeftSibling=function(){return this.number>0&&this.parent?this.parent.children[this.number-1]:void 0},l.prototype.getLeftmostSibling=function(){return this.number>0&&this.parent?this.parent.children[0]:void 0},l.prototype.nextLeft=function(){return this.children?this.children[0]:this.thread},l.prototype.nextRight=function(){return this.children?this.children[this.children.length-1]:this.thread},l.prototype.getSiblings=function(){var r=this;return this.parent?this.parent.children.filter(function(e,i){return i!==r.number}):[]},l}();function ticksToTree(l,r){void 0===r&&(r=!0);var e=new TreeNode,i=0;return r&&l.forEach(function(a){return i=Math.max(i,a.labels.length)}),l.forEach(function(a){if(r)for(;a.labels.length<i;)a.labels.unshift("");insertTick(e,a)}),e}function insertTick(l,r){var e=r.labels.slice().reverse(),i=e.length-1;e.forEach(function(a,s){var d=l.children,h=find(d,function(y){return y.label===a}),v=s!==i;if(h&&v)l=h;else{var _=new TreeNode(a,l);_.number=d.length,d.push(_),v&&(l=_)}})}function moveSubtree(l,r,e){var a=e/(r.number-l.number);r.change-=a,r.shift+=e,l.change+=a,r.prelim+=e,r.mod+=e}function ancestor(l,r,e){return r.getSiblings().indexOf(l.ancestor)>=0?l.ancestor:e}function executeShifts(l){var r=l.children;if(r)for(var e=0,i=0,a=r.length-1;a>=0;a--){var s=r[a];s.prelim+=e,s.mod+=e,e+=s.shift+(i+=s.change)}}function apportion(l,r,e){var i=l.getLeftSibling();if(i){for(var a=l,s=l,d=i,h=s.getLeftmostSibling(),v=s.mod,_=a.mod,y=d.mod,m=h.mod;d.nextRight()&&s.nextLeft();){d=d.nextRight(),s=s.nextLeft(),h=h.nextLeft(),(a=a.nextRight()).ancestor=l;var E=d.prelim+y-(s.prelim+v)+e;E>0&&(moveSubtree(ancestor(d,l,r),l,E),v+=E,_+=E),y+=d.mod,v+=s.mod,m+=h.mod,_+=a.mod}d.nextRight()&&!a.nextRight()?(a.thread=d.nextRight(),a.mod+=y-_):(s.nextLeft()&&!h.nextLeft()&&(h.thread=s.nextLeft(),h.mod+=v-m),r=l)}return r}function firstWalk(l,r){var e=l.children;if(e.length){var i=e[0];e.forEach(function(d){firstWalk(d,r),i=apportion(d,i,r)}),executeShifts(l);var a=(e[0].prelim+e[e.length-1].prelim)/2;(s=l.getLeftSibling())?(l.prelim=s.prelim+r,l.mod=l.prelim-a):l.prelim=a}else{var s=l.getLeftSibling();l.prelim=s?s.prelim+r:0}}var Dimensions=function(){function l(){this.top=1/0,this.right=-1/0,this.bottom=-1/0,this.left=1/0}return l.prototype.update=function(r,e){var i=e(r),a=i.x,s=i.y;a>this.right&&(this.right=a),a<this.left&&(this.left=a),s>this.bottom&&(this.bottom=s),s<this.top&&(this.top=s)},l}();function secondWalk(l,r,e){l.x=l.prelim+r,l.y=l.depth,e.update(l),l.children.forEach(function(i){return secondWalk(i,r+l.mod,e)})}function thirdWalk(l){var r=l.children,e=0;r.forEach(function(i){thirdWalk(i),i.children.length?e+=i.leafCount:e++}),l.leafCount=e,r.length?(l.subtreeLeft=r[0].subtreeLeft,l.subtreeRight=r[l.children.length-1].subtreeRight,l.x=(l.subtreeLeft+l.subtreeRight)/2):(l.subtreeLeft=l.x,l.subtreeRight=l.x)}function treeLayout(l){var r=new TreeLayout;return firstWalk(l,1),secondWalk(l,-l.prelim,r),thirdWalk(l),r}var TreeLayout=function(){function l(){this.dimensions=new Dimensions,this.leafCount=0,this.nodes=[],this.leafNodes=[],this.nonLeafNodes=[],this.depth=0}return l.prototype.update=function(r){this.dimensions.update(r,function(e){return{x:e.x,y:e.y}}),r.children.length?this.nonLeafNodes.push(r):(this.leafCount++,this.leafNodes.push(r)),r.depth>this.depth&&(this.depth=r.depth),this.nodes.push(r)},l.prototype.resize=function(r,e,i,a,s){void 0===i&&(i=0),void 0===a&&(a=0),void 0===s&&(s=!1);var d=this.leafCount-1,h=this.depth,v=this.dimensions,_=1,y=1;r>0&&d&&(_=r/d/((v.right-v.left)/d),s&&(_=-_)),e>0&&h&&(y=e/h/((v.bottom-v.top)/h));var D=new Dimensions;this.nodes.forEach(function(M){M.screenX=M.x*_,M.screenY=M.y*y,D.update(M,function(A){return{x:A.screenX,y:A.screenY}})});var T=-D.left,b=-D.top;this.nodes.forEach(function(M){M.screenX+=T+i,M.screenY+=b+a})},l}(),__extends$2A=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__read$C=function(l,r){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var a,d,i=e.call(l),s=[];try{for(;(void 0===r||r-- >0)&&!(a=i.next()).done;)s.push(a.value)}catch(h){d={error:h}}finally{try{a&&!a.done&&(e=i.return)&&e.call(i)}finally{if(d)throw d.error}}return s},__spread$j=function(){for(var l=[],r=0;r<arguments.length;r++)l=l.concat(__read$C(arguments[r]));return l},GroupedCategoryAxisLabel=function(l){function r(){var e=null!==l&&l.apply(this,arguments)||this;return e.grid=!1,e}return __extends$2A(r,l),r}(AxisLabel),GroupedCategoryAxis=function(l){function r(){var e=l.call(this,new BandScale$1)||this;e.tickScale=new BandScale$1,e.translation={x:0,y:0},e.line={width:1,color:"rgba(195, 195, 195, 1)"},e.label=new GroupedCategoryAxisLabel,e.labelColor="rgba(87, 87, 87, 1)",e.includeInvisibleDomains=!0;var a=e.axisGroup,s=e.gridlineGroup,d=e.tickScale,h=e.scale;return h.paddingOuter=.1,h.paddingInner=2*h.paddingOuter,e.requestedRange=h.range.slice(),e.scale=h,d.paddingInner=1,d.paddingOuter=0,e.gridLineSelection=Selection$1.select(s).selectAll(),e.axisLineSelection=Selection$1.select(a).selectAll(),e.separatorSelection=Selection$1.select(a).selectAll(),e.labelSelection=Selection$1.select(a).selectAll(),e}return __extends$2A(r,l),Object.defineProperty(r.prototype,"domain",{get:function(){return this.scale.domain},set:function(e){var i=e.filter(function(d,h,v){return v.indexOf(d)===h});this.scale.domain=i;var a=ticksToTree(i);this.tickTreeLayout=treeLayout(a);var s=i.slice();s.push(""),this.tickScale.domain=s,this.resizeTickTree()},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"range",{get:function(){return this.requestedRange.slice()},set:function(e){this.requestedRange=e.slice(),this.updateRange()},enumerable:!0,configurable:!0}),r.prototype.updateRange=function(){var e=this,i=e.requestedRange,a=e.visibleRange,d=(i[1]-i[0])/(a[1]-a[0]),v=i[0]-d*a[0];this.tickScale.range=e.scale.range=[v,v+d],this.resizeTickTree()},r.prototype.resizeTickTree=function(){var e=this.scale,i=e.domain.length?[e.convert(e.domain[0]),e.convert(e.domain[e.domain.length-1])]:e.range,a=this.tickTreeLayout,s=this.lineHeight;a&&a.resize(Math.abs(i[1]-i[0]),a.depth*s,(Math.min(i[0],i[1])||0)+(e.bandwidth||0)/2,-a.depth*s,i[1]-i[0]<0)},Object.defineProperty(r.prototype,"lineHeight",{get:function(){return 1.5*this.label.fontSize},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"gridLength",{get:function(){return this._gridLength},set:function(e){(this._gridLength&&!e||!this._gridLength&&e)&&(this.gridLineSelection=this.gridLineSelection.remove().setData([]),this.labelSelection=this.labelSelection.remove().setData([])),this._gridLength=e},enumerable:!0,configurable:!0}),r.prototype.calculateDomain=function(e){var i,a=e.primaryTickCount,d=this.direction,v=[],_=void 0;this.boundSeries.filter(function(m){return m.visible}).forEach(function(m){if(d===ChartAxisDirection.X)if(void 0===_){var E=m.getDomain(d);v.push(E),_="number"==typeof E[0]}else _&&v.push(m.getDomain(d));else v.push(m.getDomain(d))});var y=(i=new Array).concat.apply(i,__spread$j(v));return this.domain=extent$1(y,isContinuous$1)||y,{primaryTickCount:a}},r.prototype.update=function(){var e=this,i=this,a=i.axisGroup,s=i.gridlineGroup,d=i.scale,h=i.label,v=i.tickScale,_=i.requestedRange,y=d.range[0],m=d.range[1],w=Math.abs(m-y)/d.domain.length||0,S=h.parallel,D=toRadians(this.rotation),T=Math.abs(Math.cos(D))<1e-8,b=this.label.rotation?normalizeAngle360(toRadians(this.label.rotation)):0;a.translationX=this.translation.x,a.translationY=this.translation.y,a.rotation=D,s.translationX=this.translation.x,s.translationY=this.translation.y,s.rotation=D;var M=this.title;M&&(M.node.visible=!1);var A=this.lineHeight,L=this.tickTreeLayout,N=d.ticks(),G=L?L.nodes:[],k=!!L&&L.depth>1,K=v.ticks(),$=h.mirrored?1:-1,j=normalizeAngle360(D),Y=!b&&j>=0&&j<=Math.PI?-1:1,ie=normalizeAngle360(D-Math.PI/2),re=!b&&ie>=0&&ie<=Math.PI?-1:1,J=this.gridLineSelection.setData(this.gridLength?K:[]);J.exit.remove();var Q=J.enter.append(Line$1),oe=J.merge(Q),fe=this.labelSelection.setData(G);fe.exit.remove();var ge=fe.enter.append(Text$1),ce=fe.merge(ge),pe=h.formatter,z=new Map,le=0;ce.each(function(Pe,me,I){Pe.fontStyle=h.fontStyle,Pe.fontWeight=h.fontWeight,Pe.fontSize=h.fontSize,Pe.fontFamily=h.fontFamily,Pe.fill=h.color,Pe.textBaseline=-1===Y?"bottom":"hanging",Pe.textAlign="center",Pe.translationX=me.screenY-.25*h.fontSize,Pe.translationY=me.screenX,0===I?M&&M.enabled&&N.length>0?(Pe.visible=!0,Pe.text=M.text,Pe.fontSize=M.fontSize,Pe.fontStyle=M.fontStyle,Pe.fontWeight=M.fontWeight,Pe.fontFamily=M.fontFamily,Pe.textBaseline="hanging"):Pe.visible=!1:(Pe.text=pe?pe({value:String(me.label),index:I}):String(me.label),Pe.visible=me.screenX>=_[0]&&me.screenX<=_[1]);var xe=Pe.computeBBox();z.set(Pe.id,xe),xe.width>le&&(le=xe.width)});var X=$*h.padding,ne=S?Y*Math.PI/2:-1===re?Math.PI:0,we=this.label.grid,he=[];ce.each(function(Pe,me,I){if(Pe.x=X,Pe.rotationCenterX=X,me.children.length){Pe.translationX-=le-A+e.label.padding;var ct=me.leafCount*w;(xe=z.get(Pe.id))&&xe.width>ct?Pe.visible=!1:Pe.rotation=T?ne:-Math.PI/2}else{var xe;Pe.rotation=b,Pe.textAlign="end",Pe.textBaseline="middle",(xe=z.get(Pe.id))&&xe.height>w&&(Pe.visible=!1)}if(me.parent&&k){var tt=me.children.length?me.screenX-me.leafCount*w/2:me.screenX-w/2;if(me.children.length){var wt=-le-2*e.label.padding+me.screenY;he.push({y:tt,x1:wt+A,x2:wt,toString:function(){return String(I)}})}else(me.number!==me.children.length-1||we)&&he.push({y:tt,x1:0,x2:-le-2*e.label.padding,toString:function(){return String(I)}})}});var be=0;he.forEach(function(Pe){return be=Math.min(be,Pe.x2)}),he.push({y:Math.max(y,m),x1:0,x2:be,toString:function(){return String(he.length)}});var ve=this.separatorSelection.setData(he);ve.exit.remove();var De=ve.enter.append(Line$1),Le=ve.merge(De);this.separatorSelection=Le,Le.each(function(Pe,me){Pe.x1=me.x1,Pe.x2=me.x2,Pe.y1=me.y,Pe.y2=me.y,Pe.visible=me.y>=_[0]-1e-7&&me.y<=_[1]+1e-7,Pe.stroke=e.tick.color,Pe.fill=void 0,Pe.strokeWidth=1}),this.gridLineSelection=oe,this.labelSelection=ce;for(var Ue=L?L.depth+1:1,We=[],et=0;et<Ue;et++)We.push(et);var it=this.axisLineSelection.setData(We);it.exit.remove();var Xe=it.enter.append(Line$1),nt=it.merge(Xe);if(this.axisLineSelection=nt,nt.each(function(Pe,me,I){var xe=I>0?-le-2*e.label.padding-(I-1)*A:0;Pe.x1=xe,Pe.x2=xe,Pe.y1=_[0],Pe.y2=_[1],Pe.strokeWidth=e.line.width,Pe.stroke=e.line.color,Pe.visible=N.length>0&&(0===I||we&&k)}),this.gridLength){var qe=this.gridStyle,Ee=qe.length;oe.each(function(Pe,me,I){var xe=Math.round(v.convert(me));Pe.x1=0,Pe.x2=-$*e.gridLength,Pe.y1=xe,Pe.y2=xe,Pe.visible=xe>=_[0]&&xe<=_[1]&&Math.abs(Pe.parent.translationY-y)>1;var ct=qe[I%Ee];Pe.stroke=ct.stroke,Pe.strokeWidth=e.tick.width,Pe.lineDash=ct.lineDash,Pe.fill=void 0})}},r.className="GroupedCategoryAxis",r.type="groupedCategory",r}(ChartAxis),__extends$2z=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),t0$1=new Date,t1$1=new Date,TimeInterval$1=function(){function l(r,e){this._floor=r,this._offset=e}return l.prototype.floor=function(r){return r=new Date(+r),this._floor(r),r},l.prototype.ceil=function(r){return r=new Date(+r-1),this._floor(r),this._offset(r,1),this._floor(r),r},l.prototype.round=function(r){var e=this.floor(r),i=this.ceil(r),a=+r;return a-e.getTime()<i.getTime()-a?e:i},l.prototype.offset=function(r,e){return void 0===e&&(e=1),r=new Date(+r),this._offset(r,Math.floor(e)),r},l.prototype.range=function(r,e,i){void 0===i&&(i=1);var s,a=[];if(r=this.ceil(r),i=Math.floor(i),r>e||i<=0)return a;do{s=new Date(+r),a.push(s),this._offset(r,i),this._floor(r)}while(s<r&&r<e);return a},l.prototype.filter=function(r){var e=this;return new l(function(s){if(s>=s)for(e._floor(s);!r(s);)s.setTime(s.getTime()-1),e._floor(s);return s},function(s,d){if(s>=s)if(d<0)for(;++d<=0;)do{e._offset(s,-1)}while(!r(s));else for(;--d>=0;)do{e._offset(s,1)}while(!r(s));return s})},l}(),CountableTimeInterval$1=function(l){function r(e,i,a,s){var d=l.call(this,e,i)||this;return d._count=a,d._field=s,d}return __extends$2z(r,l),r.prototype.count=function(e,i){return t0$1.setTime(+e),t1$1.setTime(+i),this._floor(t0$1),this._floor(t1$1),Math.floor(this._count(t0$1,t1$1))},r.prototype.every=function(e){var a,i=this;if(e=Math.floor(e),isFinite(e)&&e>0)if(e>1){var s=this._field;a=this.filter(s?function(d){return s(d)%e==0}:function(d){return i.count(0,d)%e==0})}else a=this;return a},r}(TimeInterval$1);function floor$k(l){return l}function offset$k(l,r){l.setTime(l.getTime()+r)}function count$k(l,r){return r.getTime()-l.getTime()}var millisecond$1=new CountableTimeInterval$1(floor$k,offset$k,count$k),epochYear=new Date(0).getFullYear(),durationSecond$1=1e3,durationMinute$1=60*durationSecond$1,durationHour$1=60*durationMinute$1,durationDay$1=24*durationHour$1,durationWeek$1=7*durationDay$1,durationMonth$1=30*durationDay$1,durationYear$1=365*durationDay$1;function floor$j(l){l.setTime(l.getTime()-l.getMilliseconds())}function offset$j(l,r){l.setTime(l.getTime()+r*durationSecond$1)}function count$j(l,r){return(r.getTime()-l.getTime())/durationSecond$1}var second$1=new CountableTimeInterval$1(floor$j,offset$j,count$j);function floor$i(l){l.setTime(l.getTime()-l.getMilliseconds()-l.getSeconds()*durationSecond$1)}function offset$i(l,r){l.setTime(l.getTime()+r*durationMinute$1)}function count$i(l,r){return(r.getTime()-l.getTime())/durationMinute$1}function field$g(l){return Math.floor(l.getTime()/durationMinute$1)}var minute$1=new CountableTimeInterval$1(floor$i,offset$i,count$i,field$g);function floor$h(l){l.setTime(l.getTime()-l.getMilliseconds()-l.getSeconds()*durationSecond$1-l.getMinutes()*durationMinute$1)}function offset$h(l,r){l.setTime(l.getTime()+r*durationHour$1)}function count$h(l,r){return(r.getTime()-l.getTime())/durationHour$1}function field$f(l){return Math.floor(l.getTime()/durationHour$1)}var hour$1=new CountableTimeInterval$1(floor$h,offset$h,count$h,field$f);function floor$g(l){l.setHours(0,0,0,0)}function offset$g(l,r){l.setDate(l.getDate()+r)}function count$g(l,r){var e=r.getTimezoneOffset()-l.getTimezoneOffset();return(r.getTime()-l.getTime()-e*durationMinute$1)/durationDay$1}function field$e(l){return Math.floor(l.getTime()/durationDay$1)}var day$1=new CountableTimeInterval$1(floor$g,offset$g,count$g,field$e);function weekday$3(l){return new CountableTimeInterval$1(function r(a){a.setDate(a.getDate()-(a.getDay()+7-l)%7),a.setHours(0,0,0,0)},function e(a,s){a.setDate(a.getDate()+7*s)},function i(a,s){return(s.getTime()-a.getTime()-(s.getTimezoneOffset()-a.getTimezoneOffset())*durationMinute$1)/durationWeek$1})}var sunday$1=weekday$3(0),monday$1=weekday$3(1),tuesday=weekday$3(2),wednesday=weekday$3(3),thursday$1=weekday$3(4),friday=weekday$3(5),saturday=weekday$3(6);function floor$f(l){l.setDate(1),l.setHours(0,0,0,0)}function offset$f(l,r){l.setMonth(l.getMonth()+r)}function count$f(l,r){return r.getMonth()-l.getMonth()+12*(r.getFullYear()-l.getFullYear())}function field$d(l){return 12*(l.getFullYear()-epochYear)+l.getMonth()}var month$1=new CountableTimeInterval$1(floor$f,offset$f,count$f,field$d);function floor$e(l){l.setMonth(0,1),l.setHours(0,0,0,0)}function offset$e(l,r){l.setFullYear(l.getFullYear()+r)}function count$e(l,r){return r.getFullYear()-l.getFullYear()}function field$c(l){return l.getFullYear()-epochYear}var year$1=new CountableTimeInterval$1(floor$e,offset$e,count$e,field$c);function floor$d(l){l.setUTCHours(0,0,0,0)}function offset$d(l,r){l.setUTCDate(l.getUTCDate()+r)}function count$d(l,r){return(r.getTime()-l.getTime())/durationDay$1}function field$b(l){return l.getUTCDate()-1}var utcDay$1=new CountableTimeInterval$1(floor$d,offset$d,count$d,field$b);function floor$c(l){l.setUTCMonth(0,1),l.setUTCHours(0,0,0,0)}function offset$c(l,r){l.setUTCFullYear(l.getUTCFullYear()+r)}function count$c(l,r){return r.getUTCFullYear()-l.getUTCFullYear()}function field$a(l){return l.getUTCFullYear()}var utcYear$1=new CountableTimeInterval$1(floor$c,offset$c,count$c,field$a);function weekday$2(l){return new CountableTimeInterval$1(function r(a){a.setUTCDate(a.getUTCDate()-(a.getUTCDay()+7-l)%7),a.setHours(0,0,0,0)},function e(a,s){a.setUTCDate(a.getUTCDate()+7*s)},function i(a,s){return(s.getTime()-a.getTime())/durationWeek$1})}var utcSunday$1=weekday$2(0),utcMonday$1=weekday$2(1);weekday$2(2),weekday$2(3);var utcThursday$1=weekday$2(4);function localDate$1(l){if(l.y>=0&&l.y<100){var r=new Date(-1,l.m,l.d,l.H,l.M,l.S,l.L);return r.setFullYear(l.y),r}return new Date(l.y,l.m,l.d,l.H,l.M,l.S,l.L)}function utcDate$1(l){if(l.y>=0&&l.y<100){var r=new Date(Date.UTC(-1,l.m,l.d,l.H,l.M,l.S,l.L));return r.setUTCFullYear(l.y),r}return new Date(Date.UTC(l.y,l.m,l.d,l.H,l.M,l.S,l.L))}function formatLookup$1(l){for(var r={},e=0,i=l.length;e<i;e++)r[l[e].toLowerCase()]=e;return r}function newYear$1(l){return{y:l,m:0,d:1,H:0,M:0,S:0,L:0}}weekday$2(5),weekday$2(6);var percentCharCode$1=37,numberRe$1=/^\s*\d+/,percentRe$1=/^%/,requoteRe$1=/[\\^$*+?|[\]().{}]/g,requote$1=function(l){return l.replace(requoteRe$1,"\\$&")},formatRe$1=function(l){return new RegExp("^(?:"+l.map(requote$1).join("|")+")","i")},pads$1={"-":"",_:" ",0:"0"},locale$1;function pad$1(l,r,e){var i=l<0?"-":"",a=String(i?-l:l),s=a.length;return i+(s<e?new Array(e-s+1).join(r)+a:a)}function formatLocale$2(l){var r=l.dateTime,e=l.date,i=l.time,a=l.periods,s=l.days,d=l.shortDays,h=l.months,v=l.shortMonths,_=formatRe$1(a),y=formatLookup$1(a),m=formatRe$1(s),E=formatLookup$1(s),w=formatRe$1(d),S=formatLookup$1(d),D=formatRe$1(h),T=formatLookup$1(h),b=formatRe$1(v),M=formatLookup$1(v),A={a:function oe(F){return d[F.getDay()]},A:function fe(F){return s[F.getDay()]},b:function we(F){return v[F.getMonth()]},B:function he(F){return h[F.getMonth()]},c:void 0,d:X,e:X,f:function $(F,H){return j(F,H)+"000"},H:function J(F,H){return pad$1(F.getHours(),H,2)},I:function re(F,H){return pad$1(F.getHours()%12||12,H,2)},j:function ne(F,H){return pad$1(1+day$1.count(year$1.floor(F),F),H,3)},L:j,m:function be(F,H){return pad$1(F.getMonth()+1,H,2)},M:function ie(F,H){return pad$1(F.getMinutes(),H,2)},p:function Q(F){return a[F.getHours()>=12?1:0]},Q:lr,s:Mr,S:function Y(F,H){return pad$1(F.getSeconds(),H,2)},u:function ge(F){var H=F.getDay();return 0===H?7:H},U:function ce(F,H){return pad$1(sunday$1.count(year$1.floor(F),F),H,2)},V:function pe(F,H){var Z=F.getDay();F=Z>=4||0===Z?thursday$1.floor(F):thursday$1.ceil(F);var B=year$1.floor(F);return pad$1(thursday$1.count(B,F)+(4===B.getDay()?1:0),H,2)},w:function z(F){return F.getDay()},W:function le(F,H){return pad$1(monday$1.count(year$1.floor(F),F),H,2)},x:void 0,X:void 0,y:function ve(F,H){return pad$1(F.getFullYear()%100,H,2)},Y:function De(F,H){return pad$1(F.getFullYear()%1e4,H,4)},Z:function Le(F){var H=F.getTimezoneOffset();return(H>0?"-":(H*=-1,"+"))+pad$1(Math.floor(H/60),"0",2)+pad$1(H%60,"0",2)},"%":Ne},L={a:function xe(F){return d[F.getUTCDay()]},A:function ct(F){return s[F.getUTCDay()]},b:function me(F){return v[F.getUTCMonth()]},B:function I(F){return h[F.getUTCMonth()]},c:void 0,d:qe,e:qe,f:function Te(F,H){return Ue(F,H)+"000"},H:function Xe(F,H){return pad$1(F.getUTCHours(),H,2)},I:function it(F,H){return pad$1(F.getUTCHours()%12||12,H,2)},j:function Ee(F,H){return pad$1(1+utcDay$1.count(utcYear$1.floor(F),F),H,3)},L:Ue,m:function Pe(F,H){return pad$1(F.getUTCMonth()+1,H,2)},M:function et(F,H){return pad$1(F.getUTCMinutes(),H,2)},p:function nt(F){return a[F.getUTCHours()>=12?1:0]},Q:lr,s:Mr,S:function We(F,H){return pad$1(F.getUTCSeconds(),H,2)},u:function tt(F){var H=F.getUTCDay();return 0===H?7:H},U:function wt(F,H){return pad$1(utcSunday$1.count(utcYear$1.floor(F),F),H,2)},V:function tr(F,H){var Z=F.getUTCDay();F=Z>=4||0===Z?utcThursday$1.floor(F):utcThursday$1.ceil(F);var B=utcYear$1.floor(F);return pad$1(utcThursday$1.count(B,F)+(4===B.getUTCDay()?1:0),H,4)},w:function oi(F){return F.getUTCDay()},W:function _r(F,H){return pad$1(utcMonday$1.count(utcYear$1.floor(F),F),H,2)},x:void 0,X:void 0,y:function Bt(F,H){return pad$1(F.getUTCFullYear()%100,H,2)},Y:function ee(F,H){return pad$1(F.getUTCFullYear()%1e4,H,4)},Z:function Fe(){return"+0000"},"%":Ne},N={a:function xi(F,H,Z){var B=w.exec(H.slice(Z));return B?(F.w=S[B[0].toLowerCase()],Z+B[0].length):-1},A:function vt(F,H,Z){var B=m.exec(H.slice(Z));return B?(F.w=E[B[0].toLowerCase()],Z+B[0].length):-1},b:function li(F,H,Z){var B=b.exec(H.slice(Z));return B?(F.m=M[B[0].toLowerCase()],Z+B[0].length):-1},B:function Lr(F,H,Z){var B=D.exec(H.slice(Z));return B?(F.m=T[B[0].toLowerCase()],Z+B[0].length):-1},c:function Fi(F,H,Z){return K(F,r,H,Z)},d:Ar,e:Ar,f:function $e(F,H,Z){var B=numberRe$1.exec(H.slice(Z,Z+6));return B?(F.L=Math.floor(parseFloat(B[0])/1e3),Z+B[0].length):-1},H:It,I:It,j:function si(F,H,Z){var B=numberRe$1.exec(H.slice(Z,Z+3));return B?(F.m=0,F.d=+B[0],Z+B[0].length):-1},L:function ai(F,H,Z){var B=numberRe$1.exec(H.slice(Z,Z+3));return B?(F.L=+B[0],Z+B[0].length):-1},m:function Li(F,H,Z){var B=numberRe$1.exec(H.slice(Z,Z+2));return B?(F.m=parseFloat(B[0])-1,Z+B[0].length):-1},M:function Je(F,H,Z){var B=numberRe$1.exec(H.slice(Z,Z+2));return B?(F.M=+B[0],Z+B[0].length):-1},p:function Ai(F,H,Z){var B=_.exec(H.slice(Z));return B?(F.p=y[B[0].toLowerCase()],Z+B[0].length):-1},Q:function _t(F,H,Z){var B=numberRe$1.exec(H.slice(Z));return B?(F.Q=+B[0],Z+B[0].length):-1},s:function ot(F,H,Z){var B=numberRe$1.exec(H.slice(Z));return B?(F.Q=1e3*+B[0],Z+B[0].length):-1},S:function Mi(F,H,Z){var B=numberRe$1.exec(H.slice(Z,Z+2));return B?(F.S=+B[0],Z+B[0].length):-1},u:function xr(F,H,Z){var B=numberRe$1.exec(H.slice(Z,Z+1));return B?(F.u=+B[0],Z+B[0].length):-1},U:function ur(F,H,Z){var B=numberRe$1.exec(H.slice(Z,Z+2));return B?(F.U=+B[0],Z+B[0].length):-1},V:function Ii(F,H,Z){var B=numberRe$1.exec(H.slice(Z,Z+2));return B?(F.V=+B[0],Z+B[0].length):-1},w:function St(F,H,Z){var B=numberRe$1.exec(H.slice(Z,Z+1));return B?(F.w=+B[0],Z+B[0].length):-1},W:function Ir(F,H,Z){var B=numberRe$1.exec(H.slice(Z,Z+2));return B?(F.W=+B[0],Z+B[0].length):-1},x:function Ni(F,H,Z){return K(F,e,H,Z)},X:function Gi(F,H,Z){return K(F,i,H,Z)},y:function Wi(F,H,Z){var B=numberRe$1.exec(H.slice(Z,Z+2));return B?(F.y=+B[0]+(+B[0]>68?1900:2e3),Z+B[0].length):-1},Y:function ui(F,H,Z){var B=numberRe$1.exec(H.slice(Z,Z+4));return B?(F.y=+B[0],Z+B[0].length):-1},Z:function Bi(F,H,Z){var B=/^(Z)|^([+-]\d\d)(?::?(\d\d))?/.exec(H.slice(Z,Z+6));return B?(F.Z=B[1]?0:-(B[2]+(B[3]||"00")),Z+B[0].length):-1},"%":function Fr(F,H,Z){var B=percentRe$1.exec(H.slice(Z,Z+1));return B?Z+B[0].length:-1}};function G(F,H){return function(Z){var B=newYear$1(1900);if(K(B,F,Z+="",0)==Z.length){if("Q"in B)return new Date(B.Q);if("p"in B&&(B.H=B.H%12+12*B.p),"V"in B){if(B.V<1||B.V>53)return;if("w"in B||(B.w=1),"Z"in B){var rt=(Ie=utcDate$1(newYear$1(B.y))).getUTCDay();Ie=rt>4||0===rt?utcMonday$1.ceil(Ie):utcMonday$1.floor(Ie),Ie=utcDay$1.offset(Ie,7*(B.V-1)),B.y=Ie.getUTCFullYear(),B.m=Ie.getUTCMonth(),B.d=Ie.getUTCDate()+(B.w+6)%7}else{var Ie;rt=(Ie=H(newYear$1(B.y))).getDay(),Ie=rt>4||0===rt?monday$1.ceil(Ie):monday$1.floor(Ie),Ie=day$1.offset(Ie,7*(B.V-1)),B.y=Ie.getFullYear(),B.m=Ie.getMonth(),B.d=Ie.getDate()+(B.w+6)%7}}else("W"in B||"U"in B)&&("w"in B||(B.w="u"in B?B.u%7:"W"in B?1:0),rt="Z"in B?utcDate$1(newYear$1(B.y)).getUTCDay():H(newYear$1(B.y)).getDay(),B.m=0,B.d="W"in B?(B.w+6)%7+7*B.W-(rt+5)%7:B.w+7*B.U-(rt+6)%7);return"Z"in B?(B.H+=B.Z/100|0,B.M+=B.Z%100,utcDate$1(B)):H(B)}}}function k(F,H){return function(Z){var B=[],yt=F.length,Ie=-1,rt=0;for(Z instanceof Date||(Z=new Date(+Z));++Ie<yt;)if(F.charCodeAt(Ie)===percentCharCode$1){B.push(F.slice(rt,Ie));var pt=F.charAt(++Ie),Pt=pads$1[pt];null!=Pt?pt=F.charAt(++Ie):Pt="e"===pt?" ":"0";var Lt=H[pt];Lt&&(pt=Lt(Z,Pt)),B.push(pt),rt=Ie+1}return B.push(F.slice(rt,Ie)),B.join("")}}function K(F,H,Z,B){for(var yt=0,Ie=H.length,rt=Z.length;yt<Ie;){if(B>=rt)return-1;var pt=H.charCodeAt(yt++);if(pt===percentCharCode$1){var Pt=H.charAt(yt++),Lt=N[Pt in pads$1?H.charAt(yt++):Pt];if(!Lt||(B=Lt(F,Z,B))<0)return-1}else if(pt!=Z.charCodeAt(B++))return-1}return B}function j(F,H){return pad$1(F.getMilliseconds(),H,3)}function X(F,H){return pad$1(F.getDate(),H,2)}function Ue(F,H){return pad$1(F.getUTCMilliseconds(),H,3)}function qe(F,H){return pad$1(F.getUTCDate(),H,2)}function Ne(){return"%"}function lr(F){return F.getTime()}function Mr(F){return Math.floor(F.getTime()/1e3)}function It(F,H,Z){var B=numberRe$1.exec(H.slice(Z,Z+2));return B?(F.H=+B[0],Z+B[0].length):-1}function Ar(F,H,Z){var B=numberRe$1.exec(H.slice(Z,Z+2));return B?(F.d=+B[0],Z+B[0].length):-1}return A.x=k(e,A),A.X=k(i,A),A.c=k(r,A),L.x=k(e,L),L.X=k(i,L),L.c=k(r,L),{format:function(F){var H=k(F,A);return H.toString=function(){return F},H},parse:function(F){var H=G(F,localDate$1);return H.toString=function(){return F},H},utcFormat:function(F){var H=k(F,L);return H.toString=function(){return F},H},utcParse:function(F){var H=G(F,utcDate$1);return H.toString=function(){return F},H}}}function setDefaultLocale$1(l){return locale$1=formatLocale$2(l)}setDefaultLocale$1({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var __extends$2y=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__values$m=function(l){var r="function"==typeof Symbol&&Symbol.iterator,e=r&&l[r],i=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&i>=l.length&&(l=void 0),{value:l&&l[i++],done:!l}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},__read$B=function(l,r){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var a,d,i=e.call(l),s=[];try{for(;(void 0===r||r-- >0)&&!(a=i.next()).done;)s.push(a.value)}catch(h){d={error:h}}finally{try{a&&!a.done&&(e=i.return)&&e.call(i)}finally{if(d)throw d.error}}return s},__spread$i=function(){for(var l=[],r=0;r<arguments.length;r++)l=l.concat(__read$B(arguments[r]));return l},_a,DefaultTimeFormats=(()=>(function(l){l[l.MILLISECOND=0]="MILLISECOND",l[l.SECOND=1]="SECOND",l[l.MINUTE=2]="MINUTE",l[l.HOUR=3]="HOUR",l[l.SHORT_MONTH=4]="SHORT_MONTH",l[l.MONTH=5]="MONTH",l[l.YEAR=6]="YEAR"}(DefaultTimeFormats||(DefaultTimeFormats={})),DefaultTimeFormats))(),formatStrings=(_a={},_a[DefaultTimeFormats.MILLISECOND]=".%L",_a[DefaultTimeFormats.SECOND]=":%S",_a[DefaultTimeFormats.MINUTE]="%I:%M",_a[DefaultTimeFormats.HOUR]="%I %p",_a[DefaultTimeFormats.SHORT_MONTH]="%b %d",_a[DefaultTimeFormats.MONTH]="%B",_a[DefaultTimeFormats.YEAR]="%Y",_a),TimeScale$1=function(l){function r(){var e=null!==l&&l.apply(this,arguments)||this;return e.type="time",e.year=year$1,e.month=month$1,e.week=sunday$1,e.day=day$1,e.hour=hour$1,e.minute=minute$1,e.second=second$1,e.millisecond=millisecond$1,e.format=locale$1.format,e.tickIntervals=[[e.second,1,durationSecond$1],[e.second,5,5*durationSecond$1],[e.second,15,15*durationSecond$1],[e.second,30,30*durationSecond$1],[e.minute,1,durationMinute$1],[e.minute,5,5*durationMinute$1],[e.minute,15,15*durationMinute$1],[e.minute,30,30*durationMinute$1],[e.hour,1,durationHour$1],[e.hour,3,3*durationHour$1],[e.hour,6,6*durationHour$1],[e.hour,12,12*durationHour$1],[e.day,1,durationDay$1],[e.day,2,2*durationDay$1],[e.week,1,durationWeek$1],[e.month,1,durationMonth$1],[e.month,3,3*durationMonth$1],[e.year,1,durationYear$1]],e._domain=[new Date(2e3,0,1),new Date(2e3,0,2)],e}return __extends$2y(r,l),r.prototype.defaultTickFormat=function(e){var i,a,s=this,d=DefaultTimeFormats.YEAR,h=function(b){b<d&&(d=b)};try{for(var v=__values$m(e??[]),_=v.next();!_.done;_=v.next()){var y=_.value;this.second.floor(y)<y?h(DefaultTimeFormats.MILLISECOND):this.minute.floor(y)<y?h(DefaultTimeFormats.SECOND):this.hour.floor(y)<y?h(DefaultTimeFormats.MINUTE):this.day.floor(y)<y?h(DefaultTimeFormats.HOUR):this.month.floor(y)<y?h(DefaultTimeFormats.SHORT_MONTH):this.year.floor(y)<y?h(DefaultTimeFormats.MONTH):h(DefaultTimeFormats.YEAR)}}catch(b){i={error:b}}finally{try{_&&!_.done&&(a=v.return)&&a.call(v)}finally{if(i)throw i.error}}var m=l.prototype.getDomain.call(this),E=Math.min.apply(Math,__spread$i(m)),S=Math.max.apply(Math,__spread$i(m))-E,D=[formatStrings[d]];switch(d){case DefaultTimeFormats.SECOND:S/durationMinute$1>1&&D.push(formatStrings[DefaultTimeFormats.MINUTE]);case DefaultTimeFormats.MINUTE:S/durationHour$1>1&&D.push(formatStrings[DefaultTimeFormats.HOUR]);case DefaultTimeFormats.HOUR:S/durationDay$1>1&&D.push(formatStrings[DefaultTimeFormats.SHORT_MONTH]);case DefaultTimeFormats.SHORT_MONTH:case DefaultTimeFormats.MONTH:S/durationYear$1>1&&D.push(formatStrings[DefaultTimeFormats.YEAR])}var T=D.join(" ");return function(b){return s.format(T)(b)}},r.prototype.tickInterval=function(e,i,a,s){var d;if("number"==typeof e){var h=e,v=this.tickIntervals,_=Math.abs(a-i)/h,y=complexBisectRight$1(v,_,function(m){return m[2]});y===v.length?(s=tickStep$1(i/durationYear$1,a/durationYear$1,h),e=this.year):y?(e=(d=__read$B(v[_/v[y-1][2]<v[y][2]/_?y-1:y],2))[0],s=d[1]):(s=Math.max(tickStep$1(i,a,e),1),e=this.millisecond)}return null==s?e:e.every(s)},Object.defineProperty(r.prototype,"domain",{get:function(){return l.prototype.getDomain.call(this).map(function(e){return new Date(e)})},set:function(e){l.prototype.setDomain.call(this,e.map(function(i){return i instanceof Date?+i:+new Date(+i)}))},enumerable:!0,configurable:!0}),r.prototype.invert=function(e){return new Date(l.prototype.invert.call(this,e))},r.prototype.ticks=function(e){void 0===e&&(e=10);var i=l.prototype.getDomain.call(this),a=i[0],s=i[i.length-1],d=s<a;if(d){var h=a;a=s,s=h}var v=this.tickInterval(e,a,s),_=v?v.range(a,s+1):[];return d?_.reverse():_},r.prototype.tickFormat=function(e){var a=e.specifier;return null==a?this.defaultTickFormat(e.ticks):this.format(a)},r.prototype.nice=function(e){void 0===e&&(e=10);var i=l.prototype.getDomain.call(this),a=this.tickInterval(e,i[0],i[i.length-1]);a&&(this.domain=this._nice(i,a))},r.prototype._nice=function(e,i){var a,s,d=0,h=(e=e.slice()).length-1,v=e[d],_=e[h];return _<v&&(d=(a=__read$B([h,d],2))[0],h=a[1],v=(s=__read$B([_,v],2))[0],_=s[1]),e[d]=i.floor(v),e[h]=i.ceil(_),e},r}(ContinuousScale$1),__extends$2x=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__read$A=function(l,r){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var a,d,i=e.call(l),s=[];try{for(;(void 0===r||r-- >0)&&!(a=i.next()).done;)s.push(a.value)}catch(h){d={error:h}}finally{try{a&&!a.done&&(e=i.return)&&e.call(i)}finally{if(d)throw d.error}}return s},TimeAxis=function(l){function r(){var e=l.call(this,new TimeScale$1)||this;e.datumFormat="%m/%d/%y, %H:%M:%S",e._nice=!0,e._domain=[];var i=e.scale;return i.clamp=!0,e.scale=i,e.datumFormatter=i.tickFormat({ticks:e.getTicks(),count:e.calculatedTickCount,specifier:e.datumFormat}),e}return __extends$2x(r,l),Object.defineProperty(r.prototype,"nice",{get:function(){return this._nice},set:function(e){this._nice!==e&&(this._nice=e,e&&this.scale.nice&&this.scale.nice("number"==typeof this.calculatedTickCount?this.calculatedTickCount:void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"domain",{get:function(){return this.scale.domain},set:function(e){this._domain=e,this.setDomain(e)},enumerable:!0,configurable:!0}),r.prototype.setDomain=function(e,i){var a=this,s=a.scale,d=a.nice,h=__read$A(a._domain,2),v=h[0],_=h[1],y=a.calculatedTickCount;e.length>2&&(e=(extent$1(e,isContinuous$1,Number)||[0,1e3]).map(function(m){return new Date(m)})),e=[v instanceof Date?v:e[0],_ instanceof Date?_:e[1]],this.scale.domain=e,d&&s.nice&&s.nice("number"==typeof y?y:void 0),this.onLabelFormatChange(this.label.format)},r.prototype.onLabelFormatChange=function(e){e?l.prototype.onLabelFormatChange.call(this,e):this.labelFormatter=this.scale.tickFormat({ticks:this.getTicks(),count:this.calculatedTickCount})},r.prototype.formatDatum=function(e){return this.datumFormatter(e)},r.prototype.updateDomain=function(e,i,a){return this.setDomain(e,a),a??this.scale.ticks(this.calculatedTickCount).length},r.className="TimeAxis",r.type="time",r}(ChartAxis),HdpiOffscreenCanvas=function(){function l(r){var e=r.width,i=void 0===e?600:e,a=r.height,s=void 0===a?300:a;this.enabled=!0,this.opacity=1,this._pixelRatio=NaN,this._width=0,this._height=0,this.canvas=new OffscreenCanvas(i,s),this.context=this.canvas.getContext("2d"),this.imageSource=this.canvas.transferToImageBitmap(),this.setPixelRatio(),this.resize(i,s)}return l.isSupported=function(){return null!=window.OffscreenCanvas},l.prototype.snapshot=function(){this.imageSource.close(),this.imageSource=this.canvas.transferToImageBitmap()},l.prototype.destroy=function(){this.imageSource.close()},l.prototype.clear=function(){this.context.save(),this.context.resetTransform(),this.context.clearRect(0,0,this.width,this.height),this.context.restore()},Object.defineProperty(l.prototype,"pixelRatio",{get:function(){return this._pixelRatio},enumerable:!0,configurable:!0}),l.prototype.setPixelRatio=function(r){var e=r||window.devicePixelRatio;e!==this.pixelRatio&&(HdpiCanvas$1.overrideScale(this.context,e),this._pixelRatio=e,this.resize(this.width,this.height))},Object.defineProperty(l.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),l.prototype.resize=function(r,e){if(r>0&&e>0){var i=this,a=i.canvas,s=i.context,d=i.pixelRatio;a.width=Math.round(r*d),a.height=Math.round(e*d),s.resetTransform(),this._width=r,this._height=e}},l}(),__assign$v=function(){return __assign$v=Object.assign||function(l){for(var r,e=1,i=arguments.length;e<i;e++)for(var a in r=arguments[e])Object.prototype.hasOwnProperty.call(r,a)&&(l[a]=r[a]);return l},__assign$v.apply(this,arguments)},__read$z=function(l,r){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var a,d,i=e.call(l),s=[];try{for(;(void 0===r||r-- >0)&&!(a=i.next()).done;)s.push(a.value)}catch(h){d={error:h}}finally{try{a&&!a.done&&(e=i.return)&&e.call(i)}finally{if(d)throw d.error}}return s},__spread$h=function(){for(var l=[],r=0;r<arguments.length;r++)l=l.concat(__read$z(arguments[r]));return l},__values$l=function(l){var r="function"==typeof Symbol&&Symbol.iterator,e=r&&l[r],i=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&i>=l.length&&(l=void 0),{value:l&&l[i++],done:!l}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},Scene$1=function(){function l(r){this.id=createId$1(this),this.layers=[],this._nextZIndex=0,this._nextLayerId=0,this._dirty=!1,this._root=null,this.debug={dirtyTree:!1,stats:!1,renderBoundingBoxes:!1,consoleLog:!1};var a=r.document,s=void 0===a?window.document:a,d=r.mode,h=void 0===d?windowValue("agChartsSceneRenderModel")||"adv-composite":d,v=r.width,_=r.height;this.opts={document:s,mode:h},this.debug.stats=windowValue("agChartsSceneStats")??!1,this.debug.dirtyTree=windowValue("agChartsSceneDirtyTree")??!1,this.canvas=new HdpiCanvas$1({document:s,width:v,height:_}),this.ctx=this.canvas.context}return Object.defineProperty(l.prototype,"container",{get:function(){return this.canvas.container},set:function(r){this.canvas.container=r},enumerable:!0,configurable:!0}),l.prototype.download=function(r){this.canvas.download(r)},l.prototype.getDataURL=function(r){return this.canvas.getDataURL(r)},Object.defineProperty(l.prototype,"width",{get:function(){return this.pendingSize?this.pendingSize[0]:this.canvas.width},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"height",{get:function(){return this.pendingSize?this.pendingSize[1]:this.canvas.height},enumerable:!0,configurable:!0}),l.prototype.resize=function(r,e){return r=Math.round(r),e=Math.round(e),!(r===this.width&&e===this.height||r<=0||e<=0||(this.pendingSize=[r,e],this.markDirty(),0))},l.prototype.addLayer=function(r){var i=this.opts.mode;if(["composite","dom-composite","adv-composite"].includes(i)){var s=r||{},d=s.zIndex,h=void 0===d?this._nextZIndex++:d,v=s.name,_=s.zIndexSubOrder,m=this.width,E=this.height,w="dom-composite"===i,D="adv-composite"===i&&HdpiOffscreenCanvas.isSupported()?new HdpiOffscreenCanvas({width:m,height:E}):new HdpiCanvas$1({document:this.opts.document,width:m,height:E,domLayer:w,zIndex:h,name:v}),T={id:this._nextLayerId++,name:v,zIndex:h,zIndexSubOrder:_,canvas:D};if(h>=this._nextZIndex&&(this._nextZIndex=h+1),this.layers.push(T),this.sortLayers(),w){var b=this.layers.map(function(L){return L.canvas}).filter(function(L){return L instanceof HdpiCanvas$1}),M=b.findIndex(function(L){return L===D});(b[M-1]??this.canvas).element.insertAdjacentElement("afterend",D.element)}return this.debug.consoleLog&&console.log({layers:this.layers}),T.canvas}},l.prototype.removeLayer=function(r){var e=this.layers.findIndex(function(i){return i.canvas===r});e>=0&&(this.layers.splice(e,1),r.destroy(),this.markDirty(),this.debug.consoleLog&&console.log({layers:this.layers}))},l.prototype.moveLayer=function(r,e,i){var a=this.layers.find(function(s){return s.canvas===r});a&&(a.zIndex=e,a.zIndexSubOrder=i,this.sortLayers(),this.markDirty(),this.debug.consoleLog&&console.log({layers:this.layers}))},l.prototype.sortLayers=function(){this.layers.sort(function(r,e){return compoundAscending(__spread$h([r.zIndex],r.zIndexSubOrder??[void 0,void 0],[r.id]),__spread$h([e.zIndex],e.zIndexSubOrder??[void 0,void 0],[e.id]),ascendingStringNumberUndefined)})},l.prototype.markDirty=function(){this._dirty=!0},Object.defineProperty(l.prototype,"dirty",{get:function(){return this._dirty},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"root",{get:function(){return this._root},set:function(r){r!==this._root&&(this._root&&this._root._setScene(),this._root=r,r&&(null===r.parent&&r.scene&&r.scene!==this&&(r.scene.root=null),r._setScene(this)),this.markDirty())},enumerable:!0,configurable:!0}),l.prototype.render=function(r){var e,i,a,s=r||{},d=s.debugSplitTimes,h=void 0===d?[performance.now()]:d,v=s.extraDebugStats,_=void 0===v?{}:v,y=this,m=y.canvas,E=y.ctx,w=y.root,S=y.layers,D=y.pendingSize,T=y.opts.mode;if(D&&((e=this.canvas).resize.apply(e,__spread$h(D)),this.layers.forEach(function(be){var ve;return(ve=be.canvas).resize.apply(ve,__spread$h(D))}),this.pendingSize=void 0),!w||w.visible){if(this.dirty){var b={ctx:E,forceRender:!0,resized:!!D};"detailed"===this.debug.stats&&(b.stats={layersRendered:0,layersSkipped:0,nodesRendered:0,nodesSkipped:0});var M=!1;if((!w||w.dirty>=RedrawType.TRIVIAL)&&(M=!0,m.clear()),w&&this.debug.dirtyTree){var A=this.buildDirtyTree(w);console.log({dirtyTree:A.dirtyTree,paths:A.paths})}w&&M&&(this.debug.consoleLog&&console.log("before",{redrawType:RedrawType[w.dirty],canvasCleared:M,tree:this.buildTree(w)}),w.visible&&(E.save(),w.render(b),E.restore())),"dom-composite"!==T&&S.length>0&&M&&(E.save(),E.setTransform(1/m.pixelRatio,0,0,1/m.pixelRatio,0,0),S.forEach(function(be){var ve=be.canvas,De=ve.imageSource;!ve.enabled||(E.globalAlpha=ve.opacity,E.drawImage(De,0,0))}),E.restore()),this._dirty=!1;var G=performance.now();if(this.debug.stats){var k=h[0];h.push(G);var K=function(be,ve){var De=be+ve;return be+" / "+De+" ("+Math.round(100*be/De)+"%)"},$=function(be,ve){return Math.round(100*(ve-be))/100+"ms"},j=b.stats||{},Y=j.layersRendered,ie=void 0===Y?0:Y,re=j.layersSkipped,J=void 0===re?0:re,Q=j.nodesRendered,oe=void 0===Q?0:Q,fe=j.nodesSkipped,ge=void 0===fe?0:fe,ce=h.map(function(be,ve){return ve>0?$(h[ve-1],be):null}).filter(function(be){return null!=be}).join(" + "),pe=Object.entries(_).map(function(be){var ve=__read$z(be,2);return ve[0]+": "+ve[1]}).join(" ; "),z=[$(k,G)+" ("+ce+")",""+pe,"detailed"===this.debug.stats?"Layers: "+K(ie,J):null,"detailed"===this.debug.stats?"Nodes: "+K(oe,ge):null].filter(function(be){return null!=be});E.save(),E.fillStyle="white",E.fillRect(0,0,120,10+15*z.length),E.fillStyle="black";var X=0;try{for(var ne=__values$l(z),we=ne.next();!we.done;we=ne.next())E.fillText(we.value,2,10+15*X++)}catch(be){i={error:be}}finally{try{we&&!we.done&&(a=ne.return)&&a.call(ne)}finally{if(i)throw i.error}}E.restore()}w&&this.debug.consoleLog&&console.log("after",{redrawType:RedrawType[w.dirty],canvasCleared:M,tree:this.buildTree(w)})}}else this._dirty=!1},l.prototype.buildTree=function(r){var e=this;return __assign$v({name:(r instanceof Group$1?r.name:null)??r.id,node:r,dirty:RedrawType[r.dirty]},r.children.map(function(s){return e.buildTree(s)}).reduce(function(s,d){var h=d.name,v=d.node,m=v.zIndex,E=v.zIndexSubOrder;return(!v.visible||v.opacity<=0)&&(h="* "+h),r instanceof Group$1&&r.isLayer()&&(h="[ "+h+" ]"),s[[""+(h??"<unknown>"),"z: "+m,E&&"zo: "+E.join(" / ")].filter(function(S){return!!S}).join(" ")]=d,s},{}))},l.prototype.buildDirtyTree=function(r){var e=this;if(r.dirty===RedrawType.NONE)return{dirtyTree:{},paths:[]};var a=r.children.map(function(h){return e.buildDirtyTree(h)}).filter(function(h){return h.paths.length>0}),s=(r instanceof Group$1?r.name:null)??r.id,d=0===a.length?[s]:a.map(function(h){return h.paths}).reduce(function(h,v){return h.concat(v)},[]).map(function(h){return s+"."+h});return{dirtyTree:__assign$v({name:s,node:r,dirty:RedrawType[r.dirty]},a.map(function(h){return h.dirtyTree}).filter(function(h){return void 0!==h.dirty}).reduce(function(h,v){return h[v.name||"<unknown>"]=v,h},{})),paths:d}},l.className="Scene",l}(),Label$1=function(){function l(){this.enabled=!0,this.fontSize=12,this.fontFamily="Verdana, sans-serif",this.fontStyle=void 0,this.fontWeight=void 0,this.color="rgba(70, 70, 70, 1)"}return l.prototype.getFont=function(){return getFont$2(this.fontSize,this.fontFamily,this.fontStyle,this.fontWeight)},l}(),__extends$2w=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__decorate$1f=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},__read$y=function(l,r){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var a,d,i=e.call(l),s=[];try{for(;(void 0===r||r-- >0)&&!(a=i.next()).done;)s.push(a.value)}catch(h){d={error:h}}finally{try{a&&!a.done&&(e=i.return)&&e.call(i)}finally{if(d)throw d.error}}return s},__spread$g=function(){for(var l=[],r=0;r<arguments.length;r++)l=l.concat(__read$y(arguments[r]));return l},__values$k=function(l){var r="function"==typeof Symbol&&Symbol.iterator,e=r&&l[r],i=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&i>=l.length&&(l=void 0),{value:l&&l[i++],done:!l}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},SeriesNodePickMode=(()=>(function(l){l[l.EXACT_SHAPE_MATCH=0]="EXACT_SHAPE_MATCH",l[l.NEAREST_BY_MAIN_AXIS_FIRST=1]="NEAREST_BY_MAIN_AXIS_FIRST",l[l.NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST=2]="NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST",l[l.NEAREST_NODE=3]="NEAREST_NODE"}(SeriesNodePickMode||(SeriesNodePickMode={})),SeriesNodePickMode))(),SeriesItemHighlightStyle=function l(){this.fill="yellow",this.fillOpacity=void 0,this.stroke=void 0,this.strokeWidth=void 0},SeriesHighlightStyle=function l(){this.strokeWidth=void 0,this.dimOpacity=void 0,this.enabled=void 0},HighlightStyle=function(){function l(){this.fill=void 0,this.stroke=void 0,this.strokeWidth=void 0,this.item=new SeriesItemHighlightStyle,this.series=new SeriesHighlightStyle}return __decorate$1f([Deprecated("Use item.fill instead.")],l.prototype,"fill",void 0),__decorate$1f([Deprecated("Use item.stroke instead.")],l.prototype,"stroke",void 0),__decorate$1f([Deprecated("Use item.strokeWidth instead.")],l.prototype,"strokeWidth",void 0),l}(),SeriesTooltip=function l(){this.enabled=!0},Series=function(l){function r(e){var i=void 0===e?{}:e,a=i.seriesGroupUsesLayer,s=void 0===a||a,d=i.pickModes,h=void 0===d?[SeriesNodePickMode.NEAREST_BY_MAIN_AXIS_FIRST]:d,v=l.call(this)||this;v.id=createId$1(v),v.group=new Group$1,v.directions=[ChartAxisDirection.X,ChartAxisDirection.Y],v.directionKeys={},v.nodeDataRefresh=!0,v.label=new Label$1,v._data=void 0,v._visible=!0,v.showInLegend=!0,v.cursor="default",v.highlightStyle=new HighlightStyle;var _=v.group;return v.seriesGroup=_.appendChild(new Group$1({name:v.id+"-series",layer:s,zIndex:Layers.SERIES_LAYER_ZINDEX})),v.pickGroup=v.seriesGroup.appendChild(new Group$1),v.highlightGroup=_.appendChild(new Group$1({name:v.id+"-highlight",layer:!0,zIndex:Layers.SERIES_LAYER_ZINDEX,zIndexSubOrder:[v.id,15e3],optimiseDirtyTracking:!0})),v.highlightNode=v.highlightGroup.appendChild(new Group$1),v.highlightLabel=v.highlightGroup.appendChild(new Group$1),v.highlightNode.zIndex=0,v.highlightLabel.zIndex=10,v.pickModes=h,v}return __extends$2w(r,l),Object.defineProperty(r.prototype,"type",{get:function(){return this.constructor.type||""},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"data",{get:function(){return this._data},set:function(e){this._data=e,this.nodeDataRefresh=!0},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"visible",{get:function(){return this._visible},set:function(e){this._visible=e,this.visibleChanged()},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"grouped",{set:function(e){if(!0===e)throw new Error("AG Charts - grouped: true is unsupported for series of type: "+this.type)},enumerable:!0,configurable:!0}),r.prototype.setColors=function(e,i){},r.prototype.getKeys=function(e){var i=this,a=this.directionKeys,s=a&&a[e],d=[];return s&&s.forEach(function(h){var v=i[h];v&&(Array.isArray(v)?d.push.apply(d,__spread$g(v)):d.push(v))}),d},r.prototype.markNodeDataDirty=function(){this.nodeDataRefresh=!0},r.prototype.visibleChanged=function(){},r.prototype.getOpacity=function(e){var i=this.highlightStyle.series,a=i.dimOpacity,s=void 0===a?1:a,d=i.enabled;if(!1===(void 0===d||d)||1===s)return 1;switch(this.isItemIdHighlighted(e)){case"no-highlight":case"highlighted":return 1;case"peer-highlighted":case"other-highlighted":return s}},r.prototype.getStrokeWidth=function(e,i){var a=this.highlightStyle.series,s=a.strokeWidth,d=a.enabled;if(!1===(void 0===d||d)||void 0===s)return e;switch(this.isItemIdHighlighted(i)){case"highlighted":return s;case"no-highlight":case"other-highlighted":case"peer-highlighted":return e}},r.prototype.isItemIdHighlighted=function(e){var i=this.chart,a=void 0===i?{}:i,s=a.highlightedDatum,d=void 0===s?{}:s,h=d.series,v=void 0===h?void 0:h,_=d.itemId,y=void 0===_?void 0:_,m=a.highlightedDatum;return null!=v?v!==this?"other-highlighted":void 0===y?"highlighted":e&&(void 0===m?void 0:m)!==e&&y!==e.itemId?"peer-highlighted":"highlighted":"no-highlight"},r.prototype.pickNode=function(e,i){var a,s,d=this,h=d.pickModes;if(d.visible&&d.group.visible)try{for(var y=__values$k(h),m=y.next();!m.done;m=y.next()){var E=m.value;if(!i||i.includes(E)){var w=void 0;switch(E){case SeriesNodePickMode.EXACT_SHAPE_MATCH:w=this.pickNodeExactShape(e);break;case SeriesNodePickMode.NEAREST_BY_MAIN_AXIS_FIRST:case SeriesNodePickMode.NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST:w=this.pickNodeMainAxisFirst(e,E===SeriesNodePickMode.NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST);break;case SeriesNodePickMode.NEAREST_NODE:w=this.pickNodeClosestDatum(e)}if(w)return{pickMode:E,match:w.datum,distance:w.distance}}}}catch(S){a={error:S}}finally{try{m&&!m.done&&(s=y.return)&&s.call(y)}finally{if(a)throw a.error}}},r.prototype.pickNodeExactShape=function(e){var i=this.pickGroup.pickNode(e.x,e.y);if(i)return{datum:i.datum,distance:0}},r.prototype.pickNodeClosestDatum=function(e){throw new Error("AG Charts - Series.pickNodeClosestDatum() not implemented")},r.prototype.pickNodeMainAxisFirst=function(e,i){throw new Error("AG Charts - Series.pickNodeMainAxisFirst() not implemented")},r.prototype.fireNodeClickEvent=function(e,i){},r.prototype.toggleSeriesItem=function(e,i){this.visible=i,this.nodeDataRefresh=!0},r.prototype.fixNumericExtent=function(e,i){if(void 0===e)return[];var a=__read$y(e,2),s=a[0],d=a[1];if(d=+d,0==(s=+s)&&0===d)return[0,1];if(s===1/0&&d===-1/0)return[];if(s===1/0&&(s=0),d===-1/0&&(d=0),s===d)if(i instanceof TimeAxis)s-=1,d+=1;else{var h=Math.abs(.01*s);s-=h,d+=h}return isNumber$1(s)&&isNumber$1(d)?[s,d]:[]},r.highlightedZIndex=1e12,r}(Observable$1),__extends$2v=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Padding$1=function(l){function r(e,i,a,s){void 0===e&&(e=0),void 0===i&&(i=e),void 0===a&&(a=e),void 0===s&&(s=i);var d=l.call(this)||this;return d.top=e,d.right=i,d.bottom=a,d.left=s,d}return __extends$2v(r,l),r.prototype.clear=function(){this.top=this.right=this.bottom=this.left=0},r}(Observable$1),Gradient=function l(){this.stops=[]},__extends$2u=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),LinearGradient=function(l){function r(){var e=null!==l&&l.apply(this,arguments)||this;return e.angle=0,e}return __extends$2u(r,l),r.prototype.createGradient=function(e,i){var a=this.stops,s=this.angle%360*Math.PI/180,d=Math.cos(s),h=Math.sin(s),v=i.width,_=i.height,y=i.x+.5*v,m=i.y+.5*_;if(v>0&&_>0){var E=Math.sqrt(_*_+v*v)*Math.abs(Math.cos(s-Math.atan(_/v)))/2,w=e.createLinearGradient(y+d*E,m+h*E,y-d*E,m-h*E);return a.forEach(function(S){w.addColorStop(S.offset,S.color)}),w}return"black"},r}(Gradient),__extends$2t=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__decorate$1e=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},RectSizing=(()=>(function(l){l[l.Content=0]="Content",l[l.Border=1]="Border"}(RectSizing||(RectSizing={})),RectSizing))(),Rect=function(l){function r(){var e=l.call(this,function(i){return e.renderRect(i)})||this;return e.borderPath=new Path2D$1,e.x=0,e.y=0,e.width=10,e.height=10,e.radius=0,e.crisp=!1,e.gradient=!1,e.lastUpdatePathStrokeWidth=Shape$1.defaultStyles.strokeWidth,e.effectiveStrokeWidth=Shape$1.defaultStyles.strokeWidth,e}return __extends$2t(r,l),r.prototype.updateGradientInstance=function(){var e=this.fill;if(this.gradient){if(e){var i=new LinearGradient;i.angle=270,i.stops=[{offset:0,color:Color$1.fromString(e).brighter().toString()},{offset:1,color:Color$1.fromString(e).darker().toString()}],this.gradientInstance=i}}else this.gradientInstance=void 0;this.gradientFill=e},r.prototype.isDirtyPath=function(){var e;return!!(this.lastUpdatePathStrokeWidth!==this.strokeWidth||this.path.isDirty()||this.borderPath.isDirty()||(null===(e=this.clipPath)||void 0===e?void 0:e.isDirty()))},r.prototype.updatePath=function(){var i=this,a=i.path,s=i.borderPath,d=i.crisp,h=this,v=h.x,_=h.y,y=h.width,m=h.height,E=h.strokeWidth;if(a.clear({trackChanges:!0}),s.clear({trackChanges:!0}),d&&(y=this.align(v,y),m=this.align(_,m),v=this.align(v),_=this.align(_)),E){if(E<y&&E<m){var w=E/2;v+=w,_+=w,y-=E,m-=E,this.borderClipPath=void 0,a.rect(v,_,y,m)}else this.borderClipPath=this.borderClipPath??new Path2D$1,this.borderClipPath.clear({trackChanges:!0}),this.borderClipPath.rect(v,_,y,m);s.rect(v,_,y,m)}else this.borderClipPath=void 0,a.rect(v,_,y,m);this.effectiveStrokeWidth=E,this.lastUpdatePathStrokeWidth=E},r.prototype.computeBBox=function(){var e=this;return new BBox$1(e.x,e.y,e.width,e.height)},r.prototype.isPointInPath=function(e,i){var a=this.transformPoint(e,i);return this.computeBBox().containsPoint(a.x,a.y)},r.prototype.renderRect=function(e){var i,s=this,d=s.stroke,h=s.effectiveStrokeWidth,v=s.fill,_=s.path,y=s.borderPath,m=s.borderClipPath,E=s.opacity,w=!!d&&!!h;if(v){var S=this,T=S.fillOpacity,b=S.fillShadow;v!==S.gradientFill&&this.updateGradientInstance();var M=this.gradientInstance;if(e.fillStyle=M?M.createGradient(e,this.computeBBox()):v,e.globalAlpha=E*T,b&&b.enabled){var A=(null===(i=this.scene)||void 0===i?void 0:i.canvas.pixelRatio)??1;e.shadowColor=b.color,e.shadowOffsetX=b.xOffset*A,e.shadowOffsetY=b.yOffset*A,e.shadowBlur=b.blur*A}_.draw(e),e.fill(),e.shadowColor="rgba(0, 0, 0, 0)"}if(w){var L=this,N=L.strokeOpacity,G=L.lineDash,k=L.lineDashOffset,K=L.lineCap,$=L.lineJoin;m&&(m.draw(e),e.clip()),y.draw(e),e.strokeStyle=d,e.globalAlpha=E*N,e.lineWidth=h,G&&e.setLineDash(G),k&&(e.lineDashOffset=k),K&&(e.lineCap=K),$&&(e.lineJoin=$),e.stroke()}},r.className="Rect",__decorate$1e([ScenePathChangeDetection()],r.prototype,"x",void 0),__decorate$1e([ScenePathChangeDetection()],r.prototype,"y",void 0),__decorate$1e([ScenePathChangeDetection()],r.prototype,"width",void 0),__decorate$1e([ScenePathChangeDetection()],r.prototype,"height",void 0),__decorate$1e([ScenePathChangeDetection()],r.prototype,"radius",void 0),__decorate$1e([ScenePathChangeDetection()],r.prototype,"crisp",void 0),__decorate$1e([ScenePathChangeDetection({changeCb:function(e){return e.updateGradientInstance()}})],r.prototype,"gradient",void 0),r}(Path$1),__extends$2s=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__decorate$1d=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},__values$j=function(l){var r="function"==typeof Symbol&&Symbol.iterator,e=r&&l[r],i=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&i>=l.length&&(l=void 0),{value:l&&l[i++],done:!l}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},Marker$1=function(l){function r(){var e=null!==l&&l.apply(this,arguments)||this;return e.x=0,e.y=0,e.size=12,e}return __extends$2s(r,l),r.prototype.computeBBox=function(){var e=this,s=e.size,d=s/2;return new BBox$1(e.x-d,e.y-d,s,s)},r.prototype.applyPath=function(e,i){var a,s,d=this.path,v=this.x,_=this.y;d.clear();try{for(var y=__values$j(i),m=y.next();!m.done;m=y.next()){var E=m.value;v+=E.x*e,_+=E.y*e,"move"===E.t?d.moveTo(v,_):d.lineTo(v,_)}}catch(T){a={error:T}}finally{try{m&&!m.done&&(s=y.return)&&s.call(y)}finally{if(a)throw a.error}}d.closePath()},__decorate$1d([ScenePathChangeDetection()],r.prototype,"x",void 0),__decorate$1d([ScenePathChangeDetection()],r.prototype,"y",void 0),__decorate$1d([ScenePathChangeDetection({convertor:Math.abs})],r.prototype,"size",void 0),r}(Path$1),__extends$2r=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Square$1=function(l){function r(){return null!==l&&l.apply(this,arguments)||this}return __extends$2r(r,l),r.prototype.updatePath=function(){var e=this,i=e.path,a=e.x,s=e.y,d=this.size/2;i.clear(),i.moveTo(this.align(a-d),this.align(s-d)),i.lineTo(this.align(a+d),this.align(s-d)),i.lineTo(this.align(a+d),this.align(s+d)),i.lineTo(this.align(a-d),this.align(s+d)),i.closePath()},r.className="Square",r}(Marker$1),__extends$2q=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),MarkerLabel=function(l){function r(){var e=l.call(this)||this;e.label=new Text$1,e._marker=new Square$1,e._markerSize=15,e._spacing=8;var i=e.label;return i.textBaseline="middle",i.fontSize=12,i.fontFamily="Verdana, sans-serif",i.fill="black",i.y=HdpiCanvas$1.has.textMetrics?1:0,e.append([e.marker,i]),e.update(),e}return __extends$2q(r,l),Object.defineProperty(r.prototype,"text",{get:function(){return this.label.text},set:function(e){this.label.text=e},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"fontStyle",{get:function(){return this.label.fontStyle},set:function(e){this.label.fontStyle=e},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"fontWeight",{get:function(){return this.label.fontWeight},set:function(e){this.label.fontWeight=e},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"fontSize",{get:function(){return this.label.fontSize},set:function(e){this.label.fontSize=e},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"fontFamily",{get:function(){return this.label.fontFamily},set:function(e){this.label.fontFamily=e},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"color",{get:function(){return this.label.fill},set:function(e){this.label.fill=e},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"marker",{get:function(){return this._marker},set:function(e){this._marker!==e&&(this.removeChild(this._marker),this._marker=e,this.appendChild(e),this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"markerSize",{get:function(){return this._markerSize},set:function(e){this._markerSize!==e&&(this._markerSize=e,this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"markerFill",{get:function(){return this.marker.fill},set:function(e){this.marker.fill=e},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"markerStroke",{get:function(){return this.marker.stroke},set:function(e){this.marker.stroke=e},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"markerStrokeWidth",{get:function(){return this.marker.strokeWidth},set:function(e){this.marker.strokeWidth=e},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"markerFillOpacity",{get:function(){return this.marker.fillOpacity},set:function(e){this.marker.fillOpacity=e},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"markerStrokeOpacity",{get:function(){return this.marker.strokeOpacity},set:function(e){this.marker.strokeOpacity=e},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"spacing",{get:function(){return this._spacing},set:function(e){this._spacing!==e&&(this._spacing=e,this.update())},enumerable:!0,configurable:!0}),r.prototype.update=function(){var i=this.markerSize;this.marker.size=i,this.label.x=i/2+this.spacing},r.prototype.render=function(e){this.marker.opacity=this.opacity,this.label.opacity=this.opacity,l.prototype.render.call(this,e)},r.className="MarkerLabel",r}(Group$1),__extends$2p=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Circle$1=function(l){function r(){return null!==l&&l.apply(this,arguments)||this}return __extends$2p(r,l),r.prototype.updatePath=function(){var e=this,i=e.x,a=e.y,s=e.path,h=e.size/2;s.clear(),s.cubicArc(i,a,h,h,0,0,2*Math.PI,0),s.closePath()},r.className="Circle",r}(Marker$1),__extends$2o=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Cross=function(l){function r(){return null!==l&&l.apply(this,arguments)||this}return __extends$2o(r,l),r.prototype.updatePath=function(){l.prototype.applyPath.call(this,this.size/4.2,r.moves)},r.className="Cross",r.moves=[{x:-1,y:0,t:"move"},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1},{x:1,y:1},{x:-1,y:1},{x:-1,y:-1},{x:-1,y:1},{x:-1,y:-1}],r}(Marker$1),__extends$2n=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Diamond$1=function(l){function r(){return null!==l&&l.apply(this,arguments)||this}return __extends$2n(r,l),r.prototype.updatePath=function(){l.prototype.applyPath.call(this,this.size/2,r.moves)},r.className="Diamond",r.moves=[{x:0,y:-1,t:"move"},{x:1,y:1},{x:-1,y:1},{x:-1,y:-1},{x:1,y:-1}],r}(Marker$1),__extends$2m=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Heart=function(l){function r(){return null!==l&&l.apply(this,arguments)||this}return __extends$2m(r,l),r.prototype.rad=function(e){return e/180*Math.PI},r.prototype.updatePath=function(){var e=this,i=e.x,a=e.path,d=e.rad,h=e.size/4,v=this.y+h/2;a.clear(),a.cubicArc(i-h,v-h,h,h,0,d(130),d(330),0),a.cubicArc(i+h,v-h,h,h,0,d(220),d(50),0),a.lineTo(i,v+h),a.closePath()},r.className="Heart",r}(Marker$1),__extends$2l=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Plus=function(l){function r(){return null!==l&&l.apply(this,arguments)||this}return __extends$2l(r,l),r.prototype.updatePath=function(){l.prototype.applyPath.call(this,this.size/3,r.moves)},r.className="Plus",r.moves=[{x:-.5,y:-.5,t:"move"},{x:0,y:-1},{x:1,y:0},{x:0,y:1},{x:1,y:0},{x:0,y:1},{x:-1,y:0},{x:0,y:1},{x:-1,y:0},{x:0,y:-1},{x:-1,y:0},{x:0,y:-1}],r}(Marker$1),__extends$2k=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Triangle=function(l){function r(){return null!==l&&l.apply(this,arguments)||this}return __extends$2k(r,l),r.prototype.updatePath=function(){l.prototype.applyPath.call(this,1.1*this.size,r.moves)},r.className="Triangle",r.moves=[{x:0,y:-.48,t:"move"},{x:.5,y:.87},{x:-1,y:0}],r}(Marker$1);function getMarker$1(l){if(void 0===l&&(l=Square$1),"string"==typeof l)switch(l){case"circle":return Circle$1;case"cross":return Cross;case"diamond":return Diamond$1;case"heart":return Heart;case"plus":return Plus;case"triangle":return Triangle;default:return Square$1}return"function"==typeof l?l:Square$1}var __decorate$1c=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},__read$x=function(l,r){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var a,d,i=e.call(l),s=[];try{for(;(void 0===r||r-- >0)&&!(a=i.next()).done;)s.push(a.value)}catch(h){d={error:h}}finally{try{a&&!a.done&&(e=i.return)&&e.call(i)}finally{if(d)throw d.error}}return s},__spread$f=function(){for(var l=[],r=0;r<arguments.length;r++)l=l.concat(__read$x(arguments[r]));return l},__values$i=function(l){var r="function"==typeof Symbol&&Symbol.iterator,e=r&&l[r],i=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&i>=l.length&&(l=void 0),{value:l&&l[i++],done:!l}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},LegendOrientation=(()=>(function(l){l[l.Vertical=0]="Vertical",l[l.Horizontal=1]="Horizontal"}(LegendOrientation||(LegendOrientation={})),LegendOrientation))(),LegendPosition=(()=>(function(l){l.Top="top",l.Right="right",l.Bottom="bottom",l.Left="left"}(LegendPosition||(LegendPosition={})),LegendPosition))(),LegendLabel=function(){function l(){this.maxLength=void 0,this.color="black",this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif",this.formatter=void 0}return l.prototype.getFont=function(){return getFont$2(this.fontSize,this.fontFamily,this.fontStyle,this.fontWeight)},l}(),LegendMarker=function(){function l(){this.size=15,this._shape=void 0,this.padding=8,this.strokeWidth=1}return Object.defineProperty(l.prototype,"shape",{get:function(){return this._shape},set:function(r){var e;this._shape=r,null===(e=this.parent)||void 0===e||e.onMarkerShapeChange()},enumerable:!0,configurable:!0}),l}(),LegendItem=function l(){this.marker=new LegendMarker,this.label=new LegendLabel,this.maxWidth=void 0,this.paddingX=16,this.paddingY=8},NO_OP_LISTENER=function(){},LegendListeners=function l(){this.legendItemClick=NO_OP_LISTENER},Legend=function(){function l(){this.id=createId$1(this),this.group=new Group$1({name:"legend",layer:!0,zIndex:Layers.LEGEND_ZINDEX}),this.itemSelection=Selection$1.select(this.group).selectAll(),this.oldSize=[0,0],this.item=new LegendItem,this.listeners=new LegendListeners,this.truncatedItems=new Set,this._data=[],this._enabled=!0,this.orientation=LegendOrientation.Vertical,this._position=LegendPosition.Right,this.reverseOrder=void 0,this.spacing=20,this.characterWidths=new Map,this.size=[0,0],this.item.marker.parent=this}return Object.defineProperty(l.prototype,"data",{get:function(){return this._data},set:function(r){this._data=r,this.group.visible=r.length>0&&this.enabled},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"enabled",{get:function(){return this._enabled},set:function(r){this._enabled=r,this.group.visible=r&&this.data.length>0},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"position",{get:function(){return this._position},set:function(r){switch(this._position=r,r){case"right":case"left":this.orientation=LegendOrientation.Vertical;break;case"bottom":case"top":this.orientation=LegendOrientation.Horizontal}},enumerable:!0,configurable:!0}),l.prototype.onMarkerShapeChange=function(){this.itemSelection=this.itemSelection.setData([]),this.itemSelection.exit.remove(),this.group.markDirty(this.group,RedrawType.MINOR)},l.prototype.getCharacterWidths=function(r){var e=this.characterWidths;if(e.has(r))return e.get(r);var i={"...":HdpiCanvas$1.getTextSize("...",r).width};return e.set(r,i),i},l.prototype.performLayout=function(r,e){var i=this,a=this.item,s=a.paddingX,d=a.paddingY,h=a.label,v=a.maxWidth,_=a.marker,y=_.size,m=_.padding,E=_.shape,w=a.label,S=w.maxLength,D=void 0===S?1/0:S,T=w.fontStyle,b=w.fontWeight,M=w.fontSize,A=w.fontFamily,L=__spread$f(this.data);this.reverseOrder&&L.reverse();var N=this.itemSelection.setData(L,function(Te,Ue){var We=getMarker$1(E||Ue.marker.shape);return Ue.id+"-"+Ue.itemId+"-"+We.name});N.exit.remove();var G=N.enter.append(MarkerLabel).each(function(Te,Ue){var We=getMarker$1(E||Ue.marker.shape);Te.marker=new We}),k=this.itemSelection=N.merge(G),K=k.size,$=[],j=h.getFont(),re=v??.8*r;k.each(function(Te,Ue){var We,et,Xe=Ue.label.text??"<unknown>";Te.markerSize=y,Te.spacing=m,Te.fontStyle=T,Te.fontWeight=b,Te.fontSize=M,Te.fontFamily=A;var nt=Xe.split(""),qe=!1;if(Xe.length>D&&(Xe=""+Xe.substring(0,D),qe=!0),y+m+HdpiCanvas$1.getTextSize(Xe,j).width>re){var Pe="",me=i.getCharacterWidths(j),I=me["..."];try{for(var xe=__values$i(nt),ct=xe.next();!ct.done;ct=xe.next()){var tt=ct.value;if(me[tt]||(me[tt]=HdpiCanvas$1.getTextSize(tt,j).width),(I+=me[tt])>re)break;Pe+=tt}}catch(tr){We={error:tr}}finally{try{ct&&!ct.done&&(et=xe.return)&&et.call(xe)}finally{if(We)throw We.error}}Xe=Pe,qe=!0}var wt=Ue.itemId||Ue.id;qe?(Xe+="...",i.truncatedItems.add(wt)):i.truncatedItems.delete(wt),Te.text=Xe,$.push(Te.computeBBox())});var J=$.length&&$[0].height,Q=0,oe=0,fe=0,ge=0;switch(r=Math.max(1,r),e=Math.max(1,e),this.orientation){case LegendOrientation.Horizontal:if(!(isFinite(r)&&r>0))return!1;Q=0;var ce=0;do{var pe=0;ce=0,oe=0,Q++;for(var z=0;z<K;)(le=$[z]).width>oe&&(oe=le.width),++z%Q==0&&(pe+=oe,oe=0,ce++);z%Q!=0&&(pe+=oe,ce++),fe=pe+(ce-1)*s}while(fe>r&&ce>1);ge=J*Q+(Q-1)*d;break;case LegendOrientation.Vertical:if(!(isFinite(e)&&e>0))return!1;Q=2*K;do{Q=(Q>>1)+Q%2,oe=0,pe=0;var X=0,ne=0;for(z=0;z<K;){var le=$[z];ne||(X+=le.height),le.width>oe&&(oe=le.width),++z%Q==0&&(pe+=oe,oe=0,ne++)}z%Q!=0&&(pe+=oe,ne++),fe=pe+(ne-1)*s,ge=X+(Q-1)*d}while(ge>e&&Q>1)}var we=(r-fe)/2,he=(e-ge)/2,be=0,ve=0;oe=0,k.each(function(Te,Ue,We){Te.translationX=Math.floor(we+be),Te.translationY=Math.floor(he+ve);var et=$[We];et.width>oe&&(oe=et.width),(We+1)%Q==0?(be+=oe+s,ve=0,oe=0):ve+=et.height+d}),this.update();var De=this.size,Le=this.oldSize;De[0]=fe,De[1]=ge,(De[0]!==Le[0]||De[1]!==Le[1])&&(Le[0]=De[0],Le[1]=De[1])},l.prototype.update=function(){var r=this.item,e=r.marker.strokeWidth,i=r.label.color;this.itemSelection.each(function(a,s){var d=s.marker;a.markerFill=d.fill,a.markerStroke=d.stroke,a.markerStrokeWidth=e,a.markerFillOpacity=d.fillOpacity,a.markerStrokeOpacity=d.strokeOpacity,a.opacity=s.enabled?1:.5,a.color=i})},l.prototype.getDatumForPoint=function(r,e){var i=this.group.pickNode(r,e);if(i&&i.parent)return i.parent.datum},l.className="Legend",__decorate$1c([Validate(OPT_BOOLEAN)],l.prototype,"reverseOrder",void 0),l}(),__values$h=function(l){var r="function"==typeof Symbol&&Symbol.iterator,e=r&&l[r],i=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&i>=l.length&&(l=void 0),{value:l&&l[i++],done:!l}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},SizeMonitor=function(){function l(){}return l.init=function(){var r=this,e=window.ResizeObserver;e?this.resizeObserver=new e(function(a){var s,d;try{for(var h=__values$h(a),v=h.next();!v.done;v=h.next()){var _=v.value,y=_.contentRect,m=y.width,E=y.height;r.checkSize(r.elements.get(_.target),_.target,m,E)}}catch(w){s={error:w}}finally{try{v&&!v.done&&(d=h.return)&&d.call(h)}finally{if(s)throw s.error}}}):window.setInterval(function(){r.elements.forEach(function(a,s){r.checkClientSize(s,a)})},100),this.ready=!0},l.checkSize=function(r,e,i,a){r&&(!r.size||i!==r.size.width||a!==r.size.height)&&(r.size={width:i,height:a},r.cb(r.size,e))},l.observe=function(r,e){this.ready||this.init(),this.unobserve(r),this.resizeObserver&&this.resizeObserver.observe(r),this.elements.set(r,{cb:e}),this.checkClientSize(r,{cb:e})},l.unobserve=function(r){this.resizeObserver&&this.resizeObserver.unobserve(r),this.elements.delete(r)},l.checkClientSize=function(r,e){this.checkSize(e,r,r.clientWidth?r.clientWidth:0,r.clientHeight?r.clientHeight:0)},l.elements=new Map,l.ready=!1,l}();function circleRectOverlap(l,r,e,i,a,s,d){var _=l-(l<i?i:l>i+s?i+s:l),y=r-(r<a?a:r>a+d?a+d:r);return Math.sqrt(_*_+y*y)<=e}function rectRectOverlap(l,r,e,i,a,s,d,h){return l+e>a&&l<a+d&&r+i>s&&r<s+h}function rectContainsRect(l,r,e,i,a,s,d,h){return a+d<l+e&&a>l&&s>r&&s+h<r+i}function isPointLabelDatum(l){return null!=l&&"object"==typeof l.point&&"object"==typeof l.label}function placeLabels(l,r,e){void 0===e&&(e=5);var i=[];l=l.map(function(y){return y.slice().sort(function(m,E){return E.point.size-m.point.size})});for(var a=0;a<l.length;a++){var s=i[a]=[],d=l[a];if(d&&d.length&&d[0].label)for(var h=function(y,m){var E=d[y],w=E.label,D=E.point.x-.5*w.width,T=E.point.y-.5*E.point.size-w.height-e,b=w.width,M=w.height;return!r||rectContainsRect(r.x,r.y,r.width,r.height,D,T,b,M)?l.some(function(G){return G.some(function(k){return circleRectOverlap(k.point.x,k.point.y,.5*k.point.size,D,T,b,M)})})||i.some(function(G){return G.some(function(k){return rectRectOverlap(k.x,k.y,k.width,k.height,D,T,b,M)})})?"continue":void s.push({index:y,text:w.text,x:D,y:T,width:b,height:M,datum:E}):"continue"},v=0,_=d.length;v<_;v++)h(v)}return i}function debouncedAnimationFrame(l){return buildScheduler(function(r){return requestAnimationFrame(r)},l)}function debouncedCallback(l){return buildScheduler(function(r){return setTimeout(r,0)},l)}function buildScheduler(l,r){var e=0;return{schedule:function(){0===e&&l(function(){var i=e;e=0,r({count:i})}),e++}}}var __extends$2j=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__decorate$1b=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},SeriesMarker=function(l){function r(){var e=null!==l&&l.apply(this,arguments)||this;return e.enabled=!0,e.shape=Circle$1,e.size=6,e.maxSize=30,e.domain=void 0,e.fill=void 0,e.stroke=void 0,e.strokeWidth=1,e.fillOpacity=void 0,e.strokeOpacity=void 0,e}return __extends$2j(r,l),__decorate$1b([SceneChangeDetection({redraw:RedrawType.MAJOR})],r.prototype,"enabled",void 0),__decorate$1b([SceneChangeDetection({redraw:RedrawType.MAJOR})],r.prototype,"shape",void 0),__decorate$1b([SceneChangeDetection({redraw:RedrawType.MAJOR})],r.prototype,"size",void 0),__decorate$1b([SceneChangeDetection({redraw:RedrawType.MAJOR})],r.prototype,"maxSize",void 0),__decorate$1b([SceneChangeDetection({redraw:RedrawType.MAJOR})],r.prototype,"domain",void 0),__decorate$1b([SceneChangeDetection({redraw:RedrawType.MAJOR})],r.prototype,"fill",void 0),__decorate$1b([SceneChangeDetection({redraw:RedrawType.MAJOR})],r.prototype,"stroke",void 0),__decorate$1b([SceneChangeDetection({redraw:RedrawType.MAJOR})],r.prototype,"strokeWidth",void 0),__decorate$1b([SceneChangeDetection({redraw:RedrawType.MAJOR})],r.prototype,"fillOpacity",void 0),__decorate$1b([SceneChangeDetection({redraw:RedrawType.MAJOR})],r.prototype,"strokeOpacity",void 0),r}(ChangeDetectable),__extends$2i=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__decorate$1a=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},__read$w=function(l,r){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var a,d,i=e.call(l),s=[];try{for(;(void 0===r||r-- >0)&&!(a=i.next()).done;)s.push(a.value)}catch(h){d={error:h}}finally{try{a&&!a.done&&(e=i.return)&&e.call(i)}finally{if(d)throw d.error}}return s},__spread$e=function(){for(var l=[],r=0;r<arguments.length;r++)l=l.concat(__read$w(arguments[r]));return l},__values$g=function(l){var r="function"==typeof Symbol&&Symbol.iterator,e=r&&l[r],i=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&i>=l.length&&(l=void 0),{value:l&&l[i++],done:!l}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},CartesianSeries=function(l){function r(e){var i;void 0===e&&(e={});var a=l.call(this,{seriesGroupUsesLayer:!0,pickModes:e.pickModes})||this;a.highlightSelection=Selection$1.select(a.highlightNode).selectAll(),a.highlightLabelSelection=Selection$1.select(a.highlightLabel).selectAll(),a.subGroups=[],a.subGroupId=0,a.seriesItemEnabled=new Map,a.directionKeys=((i={})[ChartAxisDirection.X]=["xKey"],i[ChartAxisDirection.Y]=["yKey"],i);var s=e.pickGroupIncludes,h=e.pathsPerSeries,_=e.features,m=e.pathsZIndexSubOrderOffset;return a.opts={pickGroupIncludes:void 0===s?["datumNodes"]:s,pathsPerSeries:void 0===h?1:h,features:void 0===_?[]:_,pathsZIndexSubOrderOffset:void 0===m?[]:m},a}return __extends$2i(r,l),Object.defineProperty(r.prototype,"contextNodeData",{get:function(){var e;return null===(e=this._contextNodeData)||void 0===e?void 0:e.slice()},enumerable:!0,configurable:!0}),r.prototype.checkDomainXY=function(e,i,a,s){return(a&&isContinuous$1(e)||!a&&isDiscrete(e))&&(s&&isContinuous$1(i)||!s&&isDiscrete(i))?[e,i]:void 0},r.prototype.checkRangeXY=function(e,i,a,s){return!isNaN(e)&&!isNaN(i)&&a.inRange(e)&&s.inRange(i)},r.prototype.update=function(){var e=this,i=e.seriesItemEnabled,s=e.chart,d=(void 0===s?{}:s).highlightedDatum,h=(void 0===d?{}:d).series,v=void 0===h?void 0:h,_=v?v===this:void 0,y=e.visible&&0===i.size||__spread$e(i.values()).some(function(m){return!0===m});this.updateSelections(_,y),this.updateNodes(_,y)},r.prototype.updateSelections=function(e,i){var a=this;this.updateHighlightSelection(e),i&&(!this.nodeDataRefresh&&!this.isPathOrSelectionDirty()||(this.nodeDataRefresh&&(this.nodeDataRefresh=!1,this._contextNodeData=this.createNodeData(),this.updateSeriesGroups()),this.subGroups.forEach(function(s,d){var h=s.datumSelection,v=s.labelSelection,_=s.markerSelection,m=a._contextNodeData[d],E=m.nodeData,w=m.labelData;a.updatePaths({seriesHighlighted:e,itemId:m.itemId,contextData:m,paths:s.paths,seriesIdx:d}),s.datumSelection=a.updateDatumSelection({nodeData:E,datumSelection:h,seriesIdx:d}),s.labelSelection=a.updateLabelSelection({labelData:w,labelSelection:v,seriesIdx:d}),_&&(s.markerSelection=a.updateMarkerSelection({nodeData:E,markerSelection:_,seriesIdx:d}))})))},r.prototype.updateSeriesGroups=function(){var e,i=this,a=i._contextNodeData,s=i.seriesGroup,d=i.subGroups,h=i.opts,v=h.pickGroupIncludes,_=h.pathsPerSeries,y=h.features,m=h.pathsZIndexSubOrderOffset;if(a.length!==d.length){a.length<d.length&&d.splice(a.length).forEach(function(K){var $,j,ie=K.markerGroup,re=K.paths;if(s.removeChild(K.group),ie&&s.removeChild(ie),!v.includes("mainPath"))try{for(var J=__values$g(re),Q=J.next();!Q.done;Q=J.next())s.removeChild(Q.value)}catch(fe){$={error:fe}}finally{try{Q&&!Q.done&&(j=J.return)&&j.call(J)}finally{if($)throw $.error}}});for(var E=a.length;E>d.length;){var w=!0,S=this.subGroupId++,D=E-S,T=new Group$1({name:this.id+"-series-sub"+S,layer:w,zIndex:Layers.SERIES_LAYER_ZINDEX,zIndexSubOrder:[this.id,D]}),b=y.includes("markers")?new Group$1({name:this.id+"-series-sub"+this.subGroupId+++"-markers",layer:w,zIndex:Layers.SERIES_LAYER_ZINDEX,zIndexSubOrder:[this.id,1e4+S]}):void 0,M=new Group$1({name:this.id+"-series-sub"+this.subGroupId+++"-labels",layer:w,zIndex:Layers.SERIES_LABEL_ZINDEX,zIndexSubOrder:[this.id,S]}),A=new Group$1({name:this.id+"-series-sub"+this.subGroupId+++"-pickGroup",zIndex:Layers.SERIES_LAYER_ZINDEX,zIndexSubOrder:[this.id,1e4+S]}),L=v.includes("mainPath")?A:T,N=v.includes("datumNodes")?A:T;s.appendChild(T),s.appendChild(M),b&&s.appendChild(b);for(var G=[],k=0;k<_;k++)G[k]=new Path$1,G[k].zIndex=Layers.SERIES_LAYER_ZINDEX,G[k].zIndexSubOrder=[this.id,(e=m[k],(e??0)+D)],L.appendChild(G[k]);T.appendChild(A),d.push({paths:G,group:T,pickGroup:A,markerGroup:b,labelGroup:M,labelSelection:Selection$1.select(M).selectAll(),datumSelection:Selection$1.select(N).selectAll(),markerSelection:b?Selection$1.select(b).selectAll():void 0})}}},r.prototype.updateNodes=function(e,i){var s,a=this,d=this,h=d.highlightSelection,v=d.highlightLabelSelection,_=d._contextNodeData,y=d.seriesItemEnabled,E=d.opts.features.includes("markers"),w=this.visible&&(null===(s=this._contextNodeData)||void 0===s?void 0:s.length)>0&&i;this.group.visible=w,this.seriesGroup.visible=w,this.highlightGroup.visible=w&&!!e,this.seriesGroup.opacity=this.getOpacity(),E?this.updateMarkerNodes({markerSelection:h,isHighlight:!0,seriesIdx:-1}):this.updateDatumNodes({datumSelection:h,isHighlight:!0,seriesIdx:-1}),this.updateLabelNodes({labelSelection:v,seriesIdx:-1}),this.subGroups.forEach(function(S,D){var T,b,A=S.group,L=S.markerGroup,N=S.datumSelection,G=S.labelSelection,k=S.markerSelection,K=S.paths,$=S.labelGroup,j=S.pickGroup,Y=_[D].itemId,ie=w&&(y.get(Y)??!0),re=a.getOpacity({itemId:Y});A.opacity=re,A.visible=ie,j.visible=ie,$.visible=ie,L&&(L.opacity=re,L.zIndex=A.zIndex>=Layers.SERIES_LAYER_ZINDEX?A.zIndex:A.zIndex+1,L.visible=ie);try{for(var J=__values$g(K),Q=J.next();!Q.done;Q=J.next()){var oe=Q.value;oe.parent!==A&&(oe.opacity=re,oe.visible=ie)}}catch(fe){T={error:fe}}finally{try{Q&&!Q.done&&(b=J.return)&&b.call(J)}finally{if(T)throw T.error}}!A.visible||(a.updatePathNodes({seriesHighlighted:e,itemId:Y,paths:K,seriesIdx:D}),a.updateDatumNodes({datumSelection:N,isHighlight:!1,seriesIdx:D}),a.updateLabelNodes({labelSelection:G,seriesIdx:D}),E&&k&&a.updateMarkerNodes({markerSelection:k,isHighlight:!1,seriesIdx:D}))})},r.prototype.updateHighlightSelection=function(e){var i,a,b,s=this,d=s.chart,h=void 0===d?{}:d,v=h.highlightedDatum,_=(void 0===v?{}:v).datum,m=h.highlightedDatum,E=void 0===m?void 0:m,S=s.highlightLabelSelection,D=s._contextNodeData,T=e&&E&&(void 0===_?void 0:_)?E:void 0;if(this.highlightSelection=this.updateHighlightSelectionItem({item:T,highlightSelection:s.highlightSelection}),this.label.enabled&&null!=T){var M=T.itemId,A=void 0===M?void 0:M;try{for(var L=__values$g(D),N=L.next();!N.done&&null==(b=N.value.labelData.find(function(k){return k.datum===T.datum&&k.itemId===A}));N=L.next());}catch(k){i={error:k}}finally{try{N&&!N.done&&(a=L.return)&&a.call(L)}finally{if(i)throw i.error}}}this.highlightLabelSelection=this.updateHighlightSelectionLabel({item:b,highlightLabelSelection:S})},r.prototype.pickNodeExactShape=function(e){var i,a,s,d=l.prototype.pickNodeExactShape.call(this,e);if(d)return d;var h=e.x,v=e.y,y=this.opts.pickGroupIncludes.includes("markers");try{for(var m=__values$g(this.subGroups),E=m.next();!E.done;E=m.next()){var w=E.value,D=w.markerGroup,T=w.pickGroup.pickNode(h,v);if(!T&&y&&(T=null===(s=D)||void 0===s?void 0:s.pickNode(h,v)),T)return{datum:T.datum,distance:0}}}catch(b){i={error:b}}finally{try{E&&!E.done&&(a=m.return)&&a.call(m)}finally{if(i)throw i.error}}},r.prototype.pickNodeClosestDatum=function(e){var i,a,s,d,h,v,_,L,w=this,S=w.xAxis,D=w.yAxis,b=w._contextNodeData,M=w.group.transformPoint(e.x,e.y),A=1/0;try{for(var N=__values$g(b),G=N.next();!G.done;G=N.next()){var k=G.value;try{for(var K=(s=void 0,__values$g(k.nodeData)),$=K.next();!$.done;$=K.next()){var ge,j=$.value,Y=j.point,ie=void 0===Y?{}:Y,re=ie.x,J=void 0===re?NaN:re,Q=ie.y,oe=void 0===Q?NaN:Q;(null===(h=S)||void 0===h?void 0:h.inRange(J))&&(null===(v=D)||void 0===v?void 0:v.inRange(oe))&&(ge=Math.max(Math.pow(M.x-J,2)+Math.pow(M.y-oe,2),0))<A&&(A=ge,L=j)}}catch(ce){s={error:ce}}finally{try{$&&!$.done&&(d=K.return)&&d.call(K)}finally{if(s)throw s.error}}}}catch(ce){i={error:ce}}finally{try{G&&!G.done&&(a=N.return)&&a.call(N)}finally{if(i)throw i.error}}if(L)return{datum:L,distance:ge=Math.max(Math.sqrt(A)-((null===(_=L.point)||void 0===_?void 0:_.size)??0),0)}},r.prototype.pickNodeMainAxisFirst=function(e,i){var a,s,d,h,v,_,y,E=e.x,w=e.y,S=this,D=S.xAxis,T=S.yAxis,b=S.group,M=S._contextNodeData,A=[D,T].filter(function(De){return De instanceof CategoryAxis}).map(function(De){return De.direction});if(!i||0!==A.length){var N=__read$w(A,1)[0],G=void 0===N?ChartAxisDirection.X:N,k=b.transformPoint(E,w),K=G===ChartAxisDirection.X?[k.x,k.y]:[k.y,k.x],$=[1/0,1/0],j=void 0;try{for(var Y=__values$g(M),ie=Y.next();!ie.done;ie=Y.next()){var re=ie.value;try{for(var J=(d=void 0,__values$g(re.nodeData)),Q=J.next();!Q.done;Q=J.next()){var oe=Q.value,fe=oe.point,ge=void 0===fe?{}:fe,ce=ge.x,pe=void 0===ce?NaN:ce,z=ge.y,le=void 0===z?NaN:z;if((null===(v=D)||void 0===v?void 0:v.inRange(pe))&&(null===(_=T)||void 0===_?void 0:_.inRange(le))){for(var ne=G===ChartAxisDirection.X?[pe,le]:[le,pe],we=!0,he=0;he<ne.length;he++){var be=Math.abs(ne[he]-K[he]);if(be>$[he]){we=!1;break}be<$[he]&&($[he]=be,$.fill(1/0,he+1,$.length))}we&&(j=oe)}}}catch(De){d={error:De}}finally{try{Q&&!Q.done&&(h=J.return)&&h.call(J)}finally{if(d)throw d.error}}}}catch(De){a={error:De}}finally{try{ie&&!ie.done&&(s=Y.return)&&s.call(Y)}finally{if(a)throw a.error}}if(j)return{datum:j,distance:Math.max(Math.sqrt(Math.pow($[0],2)+Math.pow($[1],2))-((null===(y=j.point)||void 0===y?void 0:y.size)??0),0)}}},r.prototype.toggleSeriesItem=function(e,i){this.seriesItemEnabled.size>0?(this.seriesItemEnabled.set(e,i),this.nodeDataRefresh=!0):l.prototype.toggleSeriesItem.call(this,e,i)},r.prototype.isPathOrSelectionDirty=function(){return!1},r.prototype.getLabelData=function(){return[]},r.prototype.updatePaths=function(e){e.paths.forEach(function(i){return i.visible=!1})},r.prototype.updatePathNodes=function(e){},r.prototype.updateHighlightSelectionItem=function(e){var a=this.opts.features.includes("markers"),s=e.item,d=e.highlightSelection,h=s?[s]:[];return a?this.updateMarkerSelection({nodeData:h,markerSelection:d,seriesIdx:-1}):this.updateDatumSelection({nodeData:h,datumSelection:d,seriesIdx:-1})},r.prototype.updateHighlightSelectionLabel=function(e){var i=e.item;return this.updateLabelSelection({labelData:i?[i]:[],labelSelection:e.highlightLabelSelection,seriesIdx:-1})},r.prototype.updateDatumSelection=function(e){return e.datumSelection},r.prototype.updateDatumNodes=function(e){},r.prototype.updateMarkerSelection=function(e){return e.markerSelection},r.prototype.updateMarkerNodes=function(e){},r}(Series),CartesianSeriesMarker=function(l){function r(){var e=null!==l&&l.apply(this,arguments)||this;return e.formatter=void 0,e}return __extends$2i(r,l),__decorate$1a([SceneChangeDetection({redraw:RedrawType.MAJOR})],r.prototype,"formatter",void 0),r}(SeriesMarker),__extends$2h=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__assign$u=function(){return __assign$u=Object.assign||function(l){for(var r,e=1,i=arguments.length;e<i;e++)for(var a in r=arguments[e])Object.prototype.hasOwnProperty.call(r,a)&&(l[a]=r[a]);return l},__assign$u.apply(this,arguments)},__values$f=function(l){var r="function"==typeof Symbol&&Symbol.iterator,e=r&&l[r],i=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&i>=l.length&&(l=void 0),{value:l&&l[i++],done:!l}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},__read$v=function(l,r){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var a,d,i=e.call(l),s=[];try{for(;(void 0===r||r-- >0)&&!(a=i.next()).done;)s.push(a.value)}catch(h){d={error:h}}finally{try{a&&!a.done&&(e=i.return)&&e.call(i)}finally{if(d)throw d.error}}return s},__spread$d=function(){for(var l=[],r=0;r<arguments.length;r++)l=l.concat(__read$v(arguments[r]));return l},defaultTooltipCss$1='\n.ag-chart-tooltip {\n    display: table;\n    position: absolute;\n    user-select: none;\n    pointer-events: none;\n    white-space: nowrap;\n    z-index: 99999;\n    font: 12px Verdana, sans-serif;\n    color: black;\n    background: rgb(244, 244, 244);\n    border-radius: 5px;\n    box-shadow: 0 0 1px rgba(3, 3, 3, 0.7), 0.5vh 0.5vh 1vh rgba(3, 3, 3, 0.25);\n}\n\n.ag-chart-tooltip-hidden {\n    top: -10000px !important;\n}\n\n.ag-chart-tooltip-title {\n    font-weight: bold;\n    padding: 7px;\n    border-top-left-radius: 5px;\n    border-top-right-radius: 5px;\n    color: white;\n    background-color: #888888;\n    border-top-left-radius: 5px;\n    border-top-right-radius: 5px;\n}\n\n.ag-chart-tooltip-content {\n    padding: 7px;\n    line-height: 1.7em;\n    border-bottom-left-radius: 5px;\n    border-bottom-right-radius: 5px;\n    overflow: hidden;\n}\n\n.ag-chart-tooltip-content:empty {\n    padding: 0;\n    height: 7px;\n}\n\n.ag-chart-tooltip-arrow::before {\n    content: "";\n\n    position: absolute;\n    top: 100%;\n    left: 50%;\n    transform: translateX(-50%);\n\n    border: 6px solid #989898;\n\n    border-left-color: transparent;\n    border-right-color: transparent;\n    border-top-color: #989898;\n    border-bottom-color: transparent;\n\n    width: 0;\n    height: 0;\n\n    margin: 0 auto;\n}\n\n.ag-chart-tooltip-arrow::after {\n    content: "";\n\n    position: absolute;\n    top: 100%;\n    left: 50%;\n    transform: translateX(-50%);\n\n    border: 5px solid black;\n\n    border-left-color: transparent;\n    border-right-color: transparent;\n    border-top-color: rgb(244, 244, 244);\n    border-bottom-color: transparent;\n\n    width: 0;\n    height: 0;\n\n    margin: 0 auto;\n}\n\n.ag-chart-wrapper {\n    box-sizing: border-box;\n    overflow: hidden;\n}\n';function toTooltipHtml$1(l,r){if("string"==typeof l)return l;r=r||{};var e=l.content,a=l.title,s=void 0===a?r.title||void 0:a,d=l.color,v=l.backgroundColor;return(s?'<div class="'+Chart.defaultTooltipClass+'-title"\n        style="color: '+(void 0===d?r.color||"white":d)+"; background-color: "+(void 0===v?r.backgroundColor||"#888":v)+'">'+s+"</div>":"")+'<div class="'+Chart.defaultTooltipClass+'-content">'+(void 0===e?r.content||"":e)+"</div>"}var ChartTooltip=function(l){function r(e,i){var a=l.call(this)||this;a.enabled=!0,a.class=Chart.defaultTooltipClass,a.delay=0,a.tracking=!0,a.showTimeout=0,a.constrained=!1,a.chart=e,a.class="";var s=i.body,d=i.createElement("div");if(a.element=s.appendChild(d),window.IntersectionObserver){var h=a.chart.scene.canvas.element,v=new IntersectionObserver(function(_){var y,m;try{for(var E=__values$f(_),w=E.next();!w.done;w=E.next()){var S=w.value;S.target===h&&0===S.intersectionRatio&&a.toggle(!1)}}catch(D){y={error:D}}finally{try{w&&!w.done&&(m=E.return)&&m.call(E)}finally{if(y)throw y.error}}},{root:s});v.observe(h),a.observer=v}return a}return __extends$2h(r,l),r.prototype.destroy=function(){var e=this.element.parentNode;e&&e.removeChild(this.element),this.observer&&this.observer.unobserve(this.chart.scene.canvas.element)},r.prototype.isVisible=function(){var e=this.element;if(e.classList)return!e.classList.contains(Chart.defaultTooltipClass+"-hidden");var i=e.getAttribute("class");return!!i&&i.split(" ").indexOf(Chart.defaultTooltipClass+"-hidden")<0},r.prototype.updateClass=function(e,i){var a=[Chart.defaultTooltipClass,this.class];!0!==e&&a.push(Chart.defaultTooltipClass+"-hidden"),!0!==i&&a.push(Chart.defaultTooltipClass+"-arrow"),this.element.setAttribute("class",a.join(" "))},r.prototype.show=function(e,i,a){var s=this;void 0===a&&(a=!1);var d=this.element;if(void 0!==i)d.innerHTML=i;else if(!d.innerHTML)return;var h=e.pageX-d.clientWidth/2,v=e.pageY-d.clientHeight-8;if(this.constrained=!1,this.chart.container){var _=d.getBoundingClientRect(),m=window.innerWidth-_.width-1;h<0?(h=0,this.constrained=!0,this.updateClass(!0,this.constrained)):h>m&&(h=m,this.constrained=!0,this.updateClass(!0,this.constrained)),v<window.pageYOffset&&(v=e.pageY+20,this.constrained=!0,this.updateClass(!0,this.constrained))}if(d.style.left=Math.round(h)+"px",d.style.top=Math.round(v)+"px",this.delay>0&&!a)return this.toggle(!1),void(this.showTimeout=window.setTimeout(function(){s.toggle(!0)},this.delay));this.toggle(!0)},r.prototype.toggle=function(e){e||(window.clearTimeout(this.showTimeout),this.chart.lastPick&&!this.delay&&this.chart.changeHighlightDatum()),this.updateClass(e,this.constrained)},r}(Observable$1),ChartUpdateType=(()=>(function(l){l[l.FULL=0]="FULL",l[l.PROCESS_DATA=1]="PROCESS_DATA",l[l.PERFORM_LAYOUT=2]="PERFORM_LAYOUT",l[l.SERIES_UPDATE=3]="SERIES_UPDATE",l[l.SCENE_RENDER=4]="SCENE_RENDER",l[l.NONE=5]="NONE"}(ChartUpdateType||(ChartUpdateType={})),ChartUpdateType))(),Chart=function(l){function r(e){void 0===e&&(e=window.document);var i=l.call(this)||this;i.id=createId$1(i),i.background=new Rect,i.legend=new Legend,i.legendAutoPadding=new Padding$1,i._debug=!1,i.extraDebugStats={},i._container=void 0,i._data=[],i._autoSize=!1,i.padding=new Padding$1(20),i._title=void 0,i._subtitle=void 0,i._performUpdateType=ChartUpdateType.NONE,i.firstRenderComplete=!1,i.firstResizeReceived=!1,i.seriesToUpdate=new Set,i.performUpdateTrigger=debouncedCallback(function(v){var _=v.count;try{i.performUpdate(_)}catch(y){i._lastPerformUpdateError=y,console.error(y)}}),i._axes=[],i._series=[],i.legendBBox=new BBox$1(0,0,0,0),i._onMouseDown=i.onMouseDown.bind(i),i._onMouseMove=i.onMouseMove.bind(i),i._onMouseUp=i.onMouseUp.bind(i),i._onMouseOut=i.onMouseOut.bind(i),i._onClick=i.onClick.bind(i),i.lastTooltipMeta=void 0,i.handleTooltipTrigger=debouncedAnimationFrame(function(){i.handleTooltip(i.lastTooltipMeta),i.lastTooltipMeta=void 0}),i.pointerInsideLegend=!1,i.pointerOverLegendDatum=!1;var a=new Group$1({name:"root"}),s=i.background;s.fill="white",a.appendChild(s);var d=i.element=e.createElement("div");if(d.setAttribute("class","ag-chart-wrapper"),d.style.position="relative",i.scene=new Scene$1({document:e}),i.scene.debug.consoleLog=i._debug,i.scene.root=a,i.scene.container=d,i.autoSize=!0,SizeMonitor.observe(i.element,function(v){var _=v.width,y=v.height;i._lastAutoSize=[_,y],i.autoSize&&(_===i.width&&y===i.height||i.resize(_,y))}),i.tooltip=new ChartTooltip(i,e),i.tooltip.addPropertyListener("class",function(){return i.tooltip.toggle()}),r.tooltipDocuments.indexOf(e)<0){var h=e.createElement("style");h.innerHTML=defaultTooltipCss$1,e.head.insertBefore(h,e.head.querySelector("style")),r.tooltipDocuments.push(e)}return i.setupDomListeners(i.scene.canvas.element),i}return __extends$2h(r,l),Object.defineProperty(r.prototype,"debug",{get:function(){return this._debug},set:function(e){this._debug=e,this.scene.debug.consoleLog=e},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"container",{get:function(){return this._container},set:function(e){this._container!==e&&(this.element.parentNode?.removeChild(this.element),e&&e.appendChild(this.element),this._container=e)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"data",{get:function(){return this._data},set:function(e){this._data=e,this.series.forEach(function(i){return i.data=e})},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"width",{get:function(){return this.scene.width},set:function(e){this.autoSize=!1,this.width!==e&&this.resize(e,this.height)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"height",{get:function(){return this.scene.height},set:function(e){this.autoSize=!1,this.height!==e&&this.resize(this.width,e)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"autoSize",{get:function(){return this._autoSize},set:function(e){if(this._autoSize!==e){this._autoSize=e;var i=this.element.style;if(e){if(i.display="block",i.width="100%",i.height="100%",!this._lastAutoSize)return;this.resize(this._lastAutoSize[0],this._lastAutoSize[1])}else i.display="inline-block",i.width="auto",i.height="auto"}},enumerable:!0,configurable:!0}),r.prototype.download=function(e){this.scene.download(e)},Object.defineProperty(r.prototype,"title",{get:function(){return this._title},set:function(e){var i,a,s=this.scene.root;null!=this._title&&(null===(i=s)||void 0===i||i.removeChild(this._title.node)),this._title=e,null!=this._title&&(null===(a=s)||void 0===a||a.appendChild(this._title.node))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"subtitle",{get:function(){return this._subtitle},set:function(e){var i,a,s=this.scene.root;null!=this._subtitle&&(null===(i=s)||void 0===i||i.removeChild(this._subtitle.node)),this._subtitle=e,null!=this._subtitle&&(null===(a=s)||void 0===a||a.appendChild(this._subtitle.node))},enumerable:!0,configurable:!0}),r.prototype.destroy=function(){this._performUpdateType=ChartUpdateType.NONE,this.tooltip.destroy(),SizeMonitor.unobserve(this.element),this.container=void 0,this.cleanupDomListeners(this.scene.canvas.element),this.scene.container=void 0},Object.defineProperty(r.prototype,"performUpdateType",{get:function(){return this._performUpdateType},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"updatePending",{get:function(){return this._performUpdateType!==ChartUpdateType.NONE||null!=this.lastTooltipMeta},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"lastPerformUpdateError",{get:function(){return this._lastPerformUpdateError},enumerable:!0,configurable:!0}),r.prototype.update=function(e,i){var a,s;void 0===e&&(e=ChartUpdateType.FULL);var d=i||{},h=d.forceNodeDataRefresh,_=d.seriesToUpdate,y=void 0===_?this.series:_;void 0!==h&&h&&this.series.forEach(function(S){return S.markNodeDataDirty()});try{for(var m=__values$f(y),E=m.next();!E.done;E=m.next())this.seriesToUpdate.add(E.value)}catch(S){a={error:S}}finally{try{E&&!E.done&&(s=m.return)&&s.call(m)}finally{if(a)throw a.error}}e<this._performUpdateType&&(this._performUpdateType=e,this.performUpdateTrigger.schedule())},r.prototype.performUpdate=function(e){var i=this,a=i._performUpdateType,s=i.firstRenderComplete,d=i.firstResizeReceived,h=i.extraDebugStats,v=[performance.now()];switch(a){case ChartUpdateType.FULL:case ChartUpdateType.PROCESS_DATA:this.processData(),v.push(performance.now()),this.disableTooltip({updateProcessing:!1});case ChartUpdateType.PERFORM_LAYOUT:if(!s&&!d){this.debug&&console.log({firstRenderComplete:s,firstResizeReceived:d}),this._performUpdateType=ChartUpdateType.PERFORM_LAYOUT,this.performUpdateTrigger.schedule();break}this.performLayout(),v.push(performance.now());case ChartUpdateType.SERIES_UPDATE:this.seriesToUpdate.forEach(function(y){y.update()}),this.seriesToUpdate.clear(),v.push(performance.now());case ChartUpdateType.SCENE_RENDER:this.scene.render({debugSplitTimes:v,extraDebugStats:h}),this.firstRenderComplete=!0,this.extraDebugStats={};case ChartUpdateType.NONE:this._performUpdateType=ChartUpdateType.NONE}var _=performance.now();this.debug&&console.log({chart:this,durationMs:Math.round(100*(_-v[0]))/100,count:e,performUpdateType:ChartUpdateType[a]})},Object.defineProperty(r.prototype,"axes",{get:function(){return this._axes},set:function(e){var i=this;this._axes.forEach(function(a){return i.detachAxis(a)}),this._axes=e.filter(function(a){return!a.linkedTo}).concat(e.filter(function(a){return a.linkedTo})),this._axes.forEach(function(a){return i.attachAxis(a)})},enumerable:!0,configurable:!0}),r.prototype.attachAxis=function(e){this.scene.root.insertBefore(e.gridlineGroup,this.seriesRoot),this.scene.root.insertBefore(e.axisGroup,this.seriesRoot),this.scene.root.insertBefore(e.crossLineGroup,this.seriesRoot)},r.prototype.detachAxis=function(e){this.scene.root.removeChild(e.axisGroup),this.scene.root.removeChild(e.gridlineGroup),this.scene.root.removeChild(e.crossLineGroup)},Object.defineProperty(r.prototype,"series",{get:function(){return this._series},set:function(e){var i=this;this.removeAllSeries(),e.forEach(function(a){return i.addSeries(a)})},enumerable:!0,configurable:!0}),r.prototype.addSeries=function(e,i){var s=this.series,d=this.seriesRoot;if(s.indexOf(e)<0){var v=i?s.indexOf(i):-1;return v>=0?(s.splice(v,0,e),d.insertBefore(e.group,i.group)):(s.push(e),d.append(e.group)),this.initSeries(e),!0}return!1},r.prototype.initSeries=function(e){e.chart=this,e.data||(e.data=this.data),e.addEventListener("nodeClick",this.onSeriesNodeClick,this)},r.prototype.freeSeries=function(e){e.chart=void 0,e.removeEventListener("nodeClick",this.onSeriesNodeClick,this)},r.prototype.addSeriesAfter=function(e,i){var s=this.series,d=this.seriesRoot;if(s.indexOf(e)<0){var v=i?this.series.indexOf(i):-1;v>=0?(v+1<s.length?d.insertBefore(e.group,s[v+1].group):d.append(e.group),this.initSeries(e),s.splice(v+1,0,e)):(s.length>0?d.insertBefore(e.group,s[0].group):d.append(e.group),this.initSeries(e),s.unshift(e))}return!1},r.prototype.removeSeries=function(e){var i=this.series.indexOf(e);return i>=0&&(this.series.splice(i,1),this.freeSeries(e),this.seriesRoot.removeChild(e.group),!0)},r.prototype.removeAllSeries=function(){var e=this;this.series.forEach(function(i){e.freeSeries(i),e.seriesRoot.removeChild(i.group)}),this._series=[]},r.prototype.assignSeriesToAxes=function(){var e=this;this.axes.forEach(function(i){i.boundSeries=e.series.filter(function(a){return(i.direction===ChartAxisDirection.X?a.xAxis:a.yAxis)===i})})},r.prototype.assignAxesToSeries=function(e){var i=this;void 0===e&&(e=!1);var a={};this.axes.forEach(function(s){var d=s.direction;(a[d]||(a[d]=[])).push(s)}),this.series.forEach(function(s){s.directions.forEach(function(d){if(!(d===ChartAxisDirection.X?s.xAxis:s.yAxis)||e){var v=a[d];if(!v)return void console.warn("AG Charts - no available axis for direction ["+d+"]; check series and axes configuration.");var _=s.getKeys(d),y=i.findMatchingAxis(v,s.getKeys(d));if(!y)return void console.warn("AG Charts - no matching axis for direction ["+d+"] and keys ["+_+"]; check series and axes configuration.");d===ChartAxisDirection.X?s.xAxis=y:s.yAxis=y}})})},r.prototype.findMatchingAxis=function(e,i){var a,s,d,h;try{for(var v=__values$f(e),_=v.next();!_.done;_=v.next()){var y=_.value,m=y.keys;if(!m.length)return y;if(i)try{for(var E=(d=void 0,__values$f(i)),w=E.next();!w.done;w=E.next())if(m.indexOf(w.value)>=0)return y}catch(D){d={error:D}}finally{try{w&&!w.done&&(h=E.return)&&h.call(E)}finally{if(d)throw d.error}}}}catch(D){a={error:D}}finally{try{_&&!_.done&&(s=v.return)&&s.call(v)}finally{if(a)throw a.error}}},r.prototype.resize=function(e,i){this.scene.resize(e,i)&&(this.firstResizeReceived=!0,this.background.width=this.width,this.background.height=this.height,this.update(ChartUpdateType.PERFORM_LAYOUT,{forceNodeDataRefresh:!0}))},r.prototype.processData=function(){(this.axes.length>0||this.series.some(function(e){return e instanceof CartesianSeries}))&&(this.assignAxesToSeries(!0),this.assignSeriesToAxes()),this.series.forEach(function(e){return e.processData()}),this.updateLegend()},r.prototype.placeLabels=function(){var e,i,a=[],s=[];try{for(var d=__values$f(this.series),h=d.next();!h.done;h=d.next()){var v=h.value;if(v.visible&&v.label.enabled){var _=v.getLabelData();!_||!isPointLabelDatum(_[0])||(s.push(_),a.push(v))}}}catch(E){e={error:E}}finally{try{h&&!h.done&&(i=d.return)&&i.call(d)}finally{if(e)throw e.error}}var y=this.seriesRect,m=y&&s.length>0?placeLabels(s,{x:0,y:0,width:y.width,height:y.height}):[];return new Map(m.map(function(E,w){return[a[w],E]}))},r.prototype.updateLegend=function(){var e=[];this.series.filter(function(a){return a.showInLegend}).forEach(function(a){return a.listSeriesItems(e)});var i=this.legend.item.label.formatter;i&&e.forEach(function(a){return a.label.text=i({id:a.id,itemId:a.itemId,value:a.label.text})}),this.legend.data=e},r.prototype.positionCaptions=function(){var i=this._title,a=this._subtitle,d=10;if(!i)return{};if(i.node.visible=i.enabled,i.enabled){i.node.x=this.width/2,i.node.y=d;var h=i.node.computeBBox();h&&(d=h.y+h.height)}if(!a)return{};if(a.node.visible=i.enabled&&a.enabled,i.enabled&&a.enabled){a.node.x=this.width/2,a.node.y=d+10;var v=a.node.computeBBox();v&&(d=v.y+v.height)}return{captionAutoPadding:Math.floor(d)}},r.prototype.positionLegend=function(e){if(this.legend.enabled&&this.legend.data.length){var E,a=this.legend,s=this.legendAutoPadding,d=this.width,h=this.height-e,v=a.group,_=a.spacing,y=0,m=0;switch(a.position){case"bottom":a.performLayout(d-2*_,0),E=v.computeBBox(),v.visible=E.height<Math.floor(.5*h),v.visible?(y=(d-E.width)/2-E.x,m=e+h-E.height-E.y-_,s.bottom=E.height):s.bottom=0;break;case"top":a.performLayout(d-2*_,0),E=v.computeBBox(),v.visible=E.height<Math.floor(.5*h),v.visible?(y=(d-E.width)/2-E.x,m=e+_-E.y,s.top=E.height):s.top=0;break;case"left":a.performLayout(d,h-2*_),E=v.computeBBox(),v.visible=E.width<Math.floor(.5*d),v.visible?(y=_-E.x,m=e+(h-E.height)/2-E.y,s.left=E.width):s.left=0;break;default:a.performLayout(d,h-2*_),E=v.computeBBox(),v.visible=E.width<Math.floor(.5*d),v.visible?(y=d-E.width-E.x-_,m=e+(h-E.height)/2-E.y,s.right=E.width):s.right=0}v.visible&&(v.translationX=Math.floor(y+v.translationX),v.translationY=Math.floor(m+v.translationY),this.legendBBox=v.computeBBox())}},r.prototype.setupDomListeners=function(e){e.addEventListener("mousedown",this._onMouseDown),e.addEventListener("mousemove",this._onMouseMove),e.addEventListener("mouseup",this._onMouseUp),e.addEventListener("mouseout",this._onMouseOut),e.addEventListener("click",this._onClick)},r.prototype.cleanupDomListeners=function(e){e.removeEventListener("mousedown",this._onMouseDown),e.removeEventListener("mousemove",this._onMouseMove),e.removeEventListener("mouseup",this._onMouseUp),e.removeEventListener("mouseout",this._onMouseOut),e.removeEventListener("click",this._onClick)},r.prototype.getSeriesRect=function(){return this.seriesRect},r.prototype.pickSeriesNode=function(e){var i,a,h=this.tooltip.tracking,v=performance.now(),_=h?void 0:[SeriesNodePickMode.EXACT_SHAPE_MATCH],y=__spread$d(this.series).reverse(),m=void 0;try{for(var E=__values$f(y),w=E.next();!w.done;w=E.next()){var S=w.value;if(S.visible&&S.group.visible){var D=S.pickNode(e,_)??{},T=D.match,b=D.distance;if(T&&null!=b&&((!m||m.distance>b)&&(m={series:S,distance:b,datum:T}),0===b))break}}}catch(M){i={error:M}}finally{try{w&&!w.done&&(a=E.return)&&a.call(E)}finally{if(i)throw i.error}}return this.extraDebugStats.pickSeriesNode=Math.round((this.extraDebugStats.pickSeriesNode??0)+(performance.now()-v)),m},r.prototype.onMouseMove=function(e){this.handleLegendMouseMove(e),this.tooltip.enabled&&(this.tooltip.delay>0&&this.tooltip.toggle(!1),this.lastTooltipMeta={pageX:e.pageX,pageY:e.pageY,offsetX:e.offsetX,offsetY:e.offsetY,event:e},this.handleTooltipTrigger.schedule())},r.prototype.disableTooltip=function(e){var i=(void 0===e?{}:e).updateProcessing;this.changeHighlightDatum(void 0,{updateProcessing:void 0===i||i}),this.tooltip.toggle(!1)},r.prototype.handleTooltip=function(e){var i=this,a=this.lastPick,s=e.offsetX,d=e.offsetY,h=function(){a&&i.disableTooltip()};if(this.seriesRect&&this.seriesRect.containsPoint(s,d)){var v=this.pickSeriesNode({x:s,y:d});v?a&&a.datum===v.datum?(a.event=e.event,this.tooltip.show(this.mergeTooltipDatum(e,v.datum))):this.onSeriesDatumPick(e,v.datum):h()}else h()},r.prototype.onMouseDown=function(e){},r.prototype.onMouseUp=function(e){},r.prototype.onMouseOut=function(e){this.tooltip.toggle(!1)},r.prototype.onClick=function(e){this.checkSeriesNodeClick()?this.update(ChartUpdateType.SERIES_UPDATE):this.checkLegendClick(e)?this.update(ChartUpdateType.PROCESS_DATA,{forceNodeDataRefresh:!0}):this.fireEvent({type:"click",event:e})},r.prototype.checkSeriesNodeClick=function(){var e=this.lastPick;if(e&&e.event){var a=e.datum;return a.series.fireNodeClickEvent(e.event,a),!0}return!1},r.prototype.onSeriesNodeClick=function(e){this.fireEvent(__assign$u(__assign$u({},e),{type:"seriesNodeClick"}))},r.prototype.checkLegendClick=function(e){var i,d=this.legend.listeners.legendItemClick,h=this.legend.getDatumForPoint(e.offsetX,e.offsetY);if(!h)return!1;var v=h.id,_=h.itemId,y=h.enabled,m=find(this.series,function(E){return E.id===v});return!!m&&(m.toggleSeriesItem(_,!y),y&&this.tooltip.toggle(!1),y&&(null===(i=this.highlightedDatum)||void 0===i?void 0:i.series)===m&&(this.highlightedDatum=void 0),y||(this.highlightedDatum={series:m,itemId:_,datum:void 0}),d({enabled:!y,itemId:_,seriesId:m.id}),!0)},r.prototype.handleLegendMouseMove=function(e){if(this.legend.enabled){var i=e.offsetX,a=e.offsetY,s=this.legend.getDatumForPoint(i,a),d=this.legendBBox.containsPoint(i,a),h=d&&void 0!==s;if(!d&&this.pointerInsideLegend)return this.pointerInsideLegend=!1,this.element.style.cursor="default",void this.changeHighlightDatum();h&&!this.pointerOverLegendDatum&&(this.element.style.cursor="pointer",this.element.title=s&&this.legend.truncatedItems.has(s.itemId||s.id)?s.label.text:""),!h&&this.pointerOverLegendDatum&&(this.element.style.cursor="default"),this.pointerInsideLegend=d,this.pointerOverLegendDatum=h;var v=this.highlightedDatum;if(s){var _=s.id,y=s.itemId;if(s.enabled){var E=find(this.series,function(w){return w.id===_});E&&(this.highlightedDatum={series:E,itemId:y,datum:void 0})}else this.highlightedDatum=void 0}(this.highlightedDatum&&!v||!this.highlightedDatum&&v||this.highlightedDatum&&v&&(this.highlightedDatum.series!==v.series||this.highlightedDatum.itemId!==v.itemId))&&this.update(ChartUpdateType.SERIES_UPDATE)}},r.prototype.onSeriesDatumPick=function(e,i){var a=this.lastPick;if(!a||a.datum!==i){this.changeHighlightDatum({datum:i,event:e.event}),i&&(e=this.mergeTooltipDatum(e,i));var s=i.series.tooltip.enabled&&i.series.getTooltipHtml(i);s&&this.tooltip.show(e,s)}},r.prototype.mergeTooltipDatum=function(e,i){if(i.point){var a=i.point,h=this.scene.canvas,v=i.series.group.inverseTransformPoint(a.x,a.y),_=h.element.getBoundingClientRect();return __assign$u(__assign$u({},e),{pageX:Math.round(_.left+window.scrollX+v.x),pageY:Math.round(_.top+window.scrollY+v.y),offsetX:Math.round(_.left+v.y),offsetY:Math.round(_.top+v.y)})}return e},r.prototype.changeHighlightDatum=function(e,i){var a=(i??{}).updateProcessing,s=void 0===a||a,d=new Set,h=e||{},v=h.datum,_=(void 0===v?{}:v).series,y=void 0===_?void 0:_,m=h.datum,E=void 0===m?void 0:m,w=this.lastPick,S=(void 0===w?{}:w).datum,D=(void 0===S?{}:S).series,T=void 0===D?void 0:D;T&&d.add(T),y&&(d.add(y),this.element.style.cursor=y.cursor),this.lastPick=e,this.highlightedDatum=E,s&&(null==y||null==T?this.update(ChartUpdateType.SERIES_UPDATE):this.update(ChartUpdateType.SERIES_UPDATE,{seriesToUpdate:d}))},r.defaultTooltipClass="ag-chart-tooltip",r.tooltipDocuments=[],r}(Observable$1),__extends$2g=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__assign$t=function(){return __assign$t=Object.assign||function(l){for(var r,e=1,i=arguments.length;e<i;e++)for(var a in r=arguments[e])Object.prototype.hasOwnProperty.call(r,a)&&(l[a]=r[a]);return l},__assign$t.apply(this,arguments)},__decorate$19=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},__values$e=function(l){var r="function"==typeof Symbol&&Symbol.iterator,e=r&&l[r],i=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&i>=l.length&&(l=void 0),{value:l&&l[i++],done:!l}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},ClipRect=function(l){function r(){var e=l.call(this)||this;return e.path=new Path2D$1,e.enabled=!0,e._dirtyPath=!0,e.x=0,e.y=0,e.width=10,e.height=10,e.isContainerNode=!0,e}return __extends$2g(r,l),r.prototype.containsPoint=function(e,i){var a=this.transformPoint(e,i);return a.x>=this.x&&a.x<=this.x+this.width&&a.y>=this.y&&a.y<=this.y+this.height},r.prototype.updatePath=function(){var e=this,i=e.x,a=e.y,s=e.width,d=e.height,h=e.path;h.clear(),h.rect(i,a,s,d),this._dirtyPath=!1},r.prototype.computeBBox=function(){var e=this;return new BBox$1(e.x,e.y,e.width,e.height)},r.prototype.render=function(e){var i,a,s=this,d=s.enabled,_=s.children,y=e.ctx,m=e.forceRender,E=e.stats;if(s.dirty!==RedrawType.NONE||m){s._dirtyPath&&this.updatePath(),d&&(y.save(),this.path.draw(y),y.clip());var w=d?this.computeBBox():void 0,S=__assign$t(__assign$t({},e),{clipBBox:w});try{for(var D=__values$e(_),T=D.next();!T.done;T=D.next()){var b=T.value;b.visible&&(m||b.dirty>RedrawType.NONE)&&(y.save(),b.render(S),y.restore())}}catch(M){i={error:M}}finally{try{T&&!T.done&&(a=D.return)&&a.call(D)}finally{if(i)throw i.error}}l.prototype.render.call(this,e),d&&y.restore()}else E&&(E.nodesSkipped+=this.nodeCount.count)},r.className="ClipRect",__decorate$19([SceneChangeDetection({redraw:RedrawType.MAJOR})],r.prototype,"enabled",void 0),__decorate$19([ScenePathChangeDetection()],r.prototype,"x",void 0),__decorate$19([ScenePathChangeDetection()],r.prototype,"y",void 0),__decorate$19([ScenePathChangeDetection()],r.prototype,"width",void 0),__decorate$19([ScenePathChangeDetection()],r.prototype,"height",void 0),r}(Node$1),__extends$2f=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),RangeHandle$1=function(l){function r(){var e=null!==l&&l.apply(this,arguments)||this;return e._fill="#f2f2f2",e._stroke="#999999",e._strokeWidth=1,e._lineCap="square",e._centerX=0,e._centerY=0,e._width=8,e._gripLineGap=2,e._gripLineLength=8,e._height=16,e}return __extends$2f(r,l),Object.defineProperty(r.prototype,"centerX",{get:function(){return this._centerX},set:function(e){this._centerX!==e&&(this._centerX=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"centerY",{get:function(){return this._centerY},set:function(e){this._centerY!==e&&(this._centerY=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"width",{get:function(){return this._width},set:function(e){this._width!==e&&(this._width=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"gripLineGap",{get:function(){return this._gripLineGap},set:function(e){this._gripLineGap!==e&&(this._gripLineGap=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"gripLineLength",{get:function(){return this._gripLineLength},set:function(e){this._gripLineLength!==e&&(this._gripLineLength=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"height",{get:function(){return this._height},set:function(e){this._height!==e&&(this._height=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),r.prototype.computeBBox=function(){var e=this,s=e.width,d=e.height;return new BBox$1(e.centerX-s/2,e.centerY-d/2,s,d)},r.prototype.isPointInPath=function(e,i){var a=this.transformPoint(e,i);return this.computeBBox().containsPoint(a.x,a.y)},r.prototype.updatePath=function(){var e=this,i=e.path,a=e.centerX,s=e.centerY,d=e.width,h=e.height;i.clear();var v=a-d/2,_=s-h/2,y=this.align(v),m=this.align(_),E=y+this.align(v,d),w=m+this.align(_,h);i.moveTo(y,m),i.lineTo(E,m),i.lineTo(E,w),i.lineTo(y,w),i.lineTo(y,m);var S=this.gripLineGap/2,D=this.gripLineLength/2;i.moveTo(this.align(a-S),this.align(s-D)),i.lineTo(this.align(a-S),this.align(s+D)),i.moveTo(this.align(a+S),this.align(s-D)),i.lineTo(this.align(a+S),this.align(s+D))},r.className="RangeHandle",r}(Path$1),__extends$2e=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),RangeMask=function(l){function r(){var e=null!==l&&l.apply(this,arguments)||this;return e._stroke="#999999",e._strokeWidth=1,e._fill="#999999",e._fillOpacity=.2,e._lineCap="square",e._x=0,e._y=0,e._width=200,e._height=30,e.minRange=.05,e._min=0,e._max=1,e}return __extends$2e(r,l),Object.defineProperty(r.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"width",{get:function(){return this._width},set:function(e){this._width!==e&&(this._width=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"height",{get:function(){return this._height},set:function(e){this._height!==e&&(this._height=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"min",{get:function(){return this._min},set:function(e){e=Math.min(Math.max(e,0),this.max-this.minRange),!isNaN(e)&&this._min!==e&&(this._min=e,this.dirtyPath=!0,this.onRangeChange&&this.onRangeChange(e,this.max))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"max",{get:function(){return this._max},set:function(e){e=Math.max(Math.min(e,1),this.min+this.minRange),!isNaN(e)&&this._max!==e&&(this._max=e,this.dirtyPath=!0,this.onRangeChange&&this.onRangeChange(this.min,e))},enumerable:!0,configurable:!0}),r.prototype.computeBBox=function(){var e=this;return new BBox$1(e.x,e.y,e.width,e.height)},r.prototype.computeVisibleRangeBBox=function(){var e=this,i=e.x,s=e.width,_=i+s*e.min;return new BBox$1(_,e.y,i+s*e.max-_,e.height)},r.prototype.updatePath=function(){var e=this,i=e.path,a=e.x,s=e.y,d=e.width,h=e.height,v=e.min,_=e.max;i.clear();var y=this.align(a),m=this.align(s),E=y+this.align(a,d),w=m+this.align(s,h);i.moveTo(y,m),i.lineTo(E,m),i.lineTo(E,w),i.lineTo(y,w),i.lineTo(y,m);var S=this.align(a+d*v),D=this.align(a+d*_);i.moveTo(S,m),i.lineTo(S,w),i.lineTo(D,w),i.lineTo(D,m),i.lineTo(S,m)},r.className="RangeMask",r}(Path$1),__extends$2d=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__assign$s=function(){return __assign$s=Object.assign||function(l){for(var r,e=1,i=arguments.length;e<i;e++)for(var a in r=arguments[e])Object.prototype.hasOwnProperty.call(r,a)&&(l[a]=r[a]);return l},__assign$s.apply(this,arguments)},RangeSelector=function(l){function r(){var e=l.call(this)||this;return e.minHandle=new RangeHandle$1,e.maxHandle=new RangeHandle$1,e.mask=function(){var i=r.defaults,a=i.x,s=i.y,d=i.width,h=i.height,v=i.min,_=i.max,y=new RangeMask;y.x=a,y.y=s,y.width=d,y.height=h,y.min=v,y.max=_;var E=e.minHandle,w=e.maxHandle;return E.centerX=a,w.centerX=a+d,E.centerY=w.centerY=s+h/2,e.append([y,E,w]),y.onRangeChange=function(S,D){e.updateHandles(),e.onRangeChange&&e.onRangeChange(S,D)},y}(),e._x=r.defaults.x,e._y=r.defaults.y,e._width=r.defaults.width,e._height=r.defaults.height,e._min=r.defaults.min,e._max=r.defaults.max,e.isContainerNode=!0,e}return __extends$2d(r,l),Object.defineProperty(r.prototype,"x",{get:function(){return this.mask.x},set:function(e){this.mask.x=e,this.updateHandles()},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"y",{get:function(){return this.mask.y},set:function(e){this.mask.y=e,this.updateHandles()},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"width",{get:function(){return this.mask.width},set:function(e){this.mask.width=e,this.updateHandles()},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"height",{get:function(){return this.mask.height},set:function(e){this.mask.height=e,this.updateHandles()},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"min",{get:function(){return this.mask.min},set:function(e){this.mask.min=e},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"max",{get:function(){return this.mask.max},set:function(e){this.mask.max=e},enumerable:!0,configurable:!0}),r.prototype.updateHandles=function(){var e=this,i=e.minHandle,a=e.maxHandle,s=e.x,d=e.y,h=e.width,v=e.height,_=e.mask;i.centerX=s+h*_.min,a.centerX=s+h*_.max,i.centerY=a.centerY=d+v/2},r.prototype.computeBBox=function(){return this.mask.computeBBox()},r.prototype.computeVisibleRangeBBox=function(){return this.mask.computeVisibleRangeBBox()},r.prototype.render=function(e){var i=e.ctx,a=e.forceRender,s=e.stats;if(this.dirty!==RedrawType.NONE||a){this.computeTransformMatrix(),this.matrix.toContext(i);var d=this;[d.mask,d.minHandle,d.maxHandle].forEach(function(y){y.visible&&(a||y.dirty>RedrawType.NONE)&&(i.save(),y.render(__assign$s(__assign$s({},e),{ctx:i,forceRender:a})),i.restore())}),this.markClean({force:!0}),s&&s.nodesRendered++}else s&&s.nodesSkipped++},r.className="Range",r.defaults={x:0,y:0,width:200,height:30,min:0,max:1},r}(Group$1),NavigatorMask=function(){function l(r){this.rm=r}return Object.defineProperty(l.prototype,"fill",{get:function(){return this.rm.fill},set:function(r){this.rm.fill=r},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"stroke",{get:function(){return this.rm.stroke},set:function(r){this.rm.stroke=r},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"strokeWidth",{get:function(){return this.rm.strokeWidth},set:function(r){this.rm.strokeWidth=r},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"fillOpacity",{get:function(){return this.rm.fillOpacity},set:function(r){this.rm.fillOpacity=r},enumerable:!0,configurable:!0}),l}(),NavigatorHandle=function(){function l(r){this.rh=r}return Object.defineProperty(l.prototype,"fill",{get:function(){return this.rh.fill},set:function(r){this.rh.fill=r},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"stroke",{get:function(){return this.rh.stroke},set:function(r){this.rh.stroke=r},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"strokeWidth",{get:function(){return this.rh.strokeWidth},set:function(r){this.rh.strokeWidth=r},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"width",{get:function(){return this.rh.width},set:function(r){this.rh.width=r},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"height",{get:function(){return this.rh.height},set:function(r){this.rh.height=r},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"gripLineGap",{get:function(){return this.rh.gripLineGap},set:function(r){this.rh.gripLineGap=r},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"gripLineLength",{get:function(){return this.rh.gripLineLength},set:function(r){this.rh.gripLineLength=r},enumerable:!0,configurable:!0}),l}(),Navigator=function(){function l(r){var e=this;this.rs=new RangeSelector,this.mask=new NavigatorMask(this.rs.mask),this.minHandle=new NavigatorHandle(this.rs.minHandle),this.maxHandle=new NavigatorHandle(this.rs.maxHandle),this.minHandleDragging=!1,this.maxHandleDragging=!1,this.panHandleOffset=NaN,this.changedCursor=!1,this._margin=10,this.chart=r,r.scene.root.append(this.rs),this.rs.onRangeChange=function(i,a){return e.updateAxes(i,a)}}return Object.defineProperty(l.prototype,"enabled",{get:function(){return this.rs.visible},set:function(r){this.rs.visible=r},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"x",{get:function(){return this.rs.x},set:function(r){this.rs.x=r},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"y",{get:function(){return this.rs.y},set:function(r){this.rs.y=r},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"width",{get:function(){return this.rs.width},set:function(r){this.rs.width=r},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"height",{get:function(){return this.rs.height},set:function(r){this.rs.height=r},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"margin",{get:function(){return this._margin},set:function(r){this._margin=r},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"min",{get:function(){return this.rs.min},set:function(r){this.rs.min=r},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"max",{get:function(){return this.rs.max},set:function(r){this.rs.max=r},enumerable:!0,configurable:!0}),l.prototype.updateAxes=function(r,e){var i=this.chart,a=!1,s=!1;i.axes.forEach(function(h){if(h.direction===ChartAxisDirection.X){!a&&(r>0||e<1)&&(a=!0),h.visibleRange=[r,e];var v=h.labelAutoRotated;h.update(),h.labelAutoRotated!==v&&(s=!0)}}),i.seriesRoot.enabled=a,i.update(s?ChartUpdateType.PERFORM_LAYOUT:ChartUpdateType.SERIES_UPDATE,{forceNodeDataRefresh:!0})},l.prototype.onDragStart=function(r){if(this.enabled){var e=r.offsetX,i=r.offsetY,a=this.rs,s=a.minHandle,d=a.maxHandle,h=a.x,v=a.width,_=a.min,y=a.computeVisibleRangeBBox();this.minHandleDragging||this.maxHandleDragging||(s.containsPoint(e,i)?this.minHandleDragging=!0:d.containsPoint(e,i)?this.maxHandleDragging=!0:y.containsPoint(e,i)&&(this.panHandleOffset=(e-h)/v-_))}},l.prototype.onDrag=function(r){if(this.enabled){var i=this.rs,a=this.panHandleOffset,s=i.x,h=i.width,_=i.minHandle,y=i.maxHandle,m=this.chart.element.style,E=r.offsetX,w=r.offsetY,S=s+h*i.min,T=new BBox$1(S,i.y,s+h*i.max-S,i.height);if(_.containsPoint(E,w)||y.containsPoint(E,w)?(this.changedCursor=!0,m.cursor="ew-resize"):T.containsPoint(E,w)?(this.changedCursor=!0,m.cursor="grab"):this.changedCursor&&(this.changedCursor=!1,m.cursor="default"),this.minHandleDragging)i.min=b();else if(this.maxHandleDragging)i.max=b();else if(!isNaN(a)){var M=i.max-i.min,A=Math.min(b()-a,1-M);A<=i.min?(i.min=A,i.max=i.min+M):(i.max=A+M,i.min=i.max-M)}}function b(){return Math.min(Math.max((E-s)/h,0),1)}},l.prototype.onDragStop=function(){this.stopHandleDragging()},l.prototype.stopHandleDragging=function(){this.minHandleDragging=this.maxHandleDragging=!1,this.panHandleOffset=NaN},l}(),__extends$2c=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__read$u=function(l,r){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var a,d,i=e.call(l),s=[];try{for(;(void 0===r||r-- >0)&&!(a=i.next()).done;)s.push(a.value)}catch(h){d={error:h}}finally{try{a&&!a.done&&(e=i.return)&&e.call(i)}finally{if(d)throw d.error}}return s},CartesianChart=function(l){function r(e){void 0===e&&(e=window.document);var i=l.call(this,e)||this;i.seriesRoot=new ClipRect,i.navigator=new Navigator(i),i.scene.root.visible=!1;var a=i.scene.root;return a.append(i.seriesRoot),a.append(i.legend.group),i.navigator.enabled=!1,i}return __extends$2c(r,l),r.prototype.performLayout=function(){this.scene.root.visible=!0;var e=this,s=e.legend,d=e.navigator,h=new BBox$1(0,0,e.width,e.height),v=this.positionCaptions().captionAutoPadding,_=void 0===v?0:v;if(this.positionLegend(_),s.enabled&&s.data.length){var y=this.legendAutoPadding,m=this.legend.spacing;switch(h.x+=y.left,h.y+=y.top,h.width-=y.left+y.right,h.height-=y.top+y.bottom,this.legend.position){case"right":h.width-=m;break;case"bottom":h.height-=m;break;case"left":h.x+=m,h.width-=m;break;case"top":h.y+=m,h.height-=m}}var E=this.padding;h.x+=E.left,h.width-=E.left+E.right,h.y+=E.top+_,h.height-=E.top+_+E.bottom,d.enabled&&(h.height-=d.height+d.margin,d.x=h.x,d.y=h.y+h.height+d.margin,d.width=h.width);var S=this.updateAxes(h).seriesRect;this.seriesRect=S,this.series.forEach(function(T){T.group.translationX=Math.floor(S.x),T.group.translationY=Math.floor(S.y)});var D=this.seriesRoot;D.x=S.x,D.y=S.y,D.width=S.width,D.height=S.height},r.prototype.setupDomListeners=function(e){l.prototype.setupDomListeners.call(this,e),this._onTouchStart=this.onTouchStart.bind(this),this._onTouchMove=this.onTouchMove.bind(this),this._onTouchEnd=this.onTouchEnd.bind(this),this._onTouchCancel=this.onTouchCancel.bind(this),e.addEventListener("touchstart",this._onTouchStart,{passive:!0}),e.addEventListener("touchmove",this._onTouchMove,{passive:!0}),e.addEventListener("touchend",this._onTouchEnd,{passive:!0}),e.addEventListener("touchcancel",this._onTouchCancel,{passive:!0})},r.prototype.cleanupDomListeners=function(e){l.prototype.cleanupDomListeners.call(this,e),e.removeEventListener("touchstart",this._onTouchStart),e.removeEventListener("touchmove",this._onTouchMove),e.removeEventListener("touchend",this._onTouchEnd),e.removeEventListener("touchcancel",this._onTouchCancel)},r.prototype.getTouchOffset=function(e){var i=this.scene.canvas.element.getBoundingClientRect(),a=e.touches[0];return a?{offsetX:a.clientX-i.left,offsetY:a.clientY-i.top}:void 0},r.prototype.onTouchStart=function(e){var i=this.getTouchOffset(e);i&&this.navigator.onDragStart(i)},r.prototype.onTouchMove=function(e){var i=this.getTouchOffset(e);i&&this.navigator.onDrag(i)},r.prototype.onTouchEnd=function(e){this.navigator.onDragStop()},r.prototype.onTouchCancel=function(e){this.navigator.onDragStop()},r.prototype.onMouseDown=function(e){l.prototype.onMouseDown.call(this,e),this.navigator.onDragStart(e)},r.prototype.onMouseMove=function(e){l.prototype.onMouseMove.call(this,e),this.navigator.onDrag(e)},r.prototype.onMouseUp=function(e){l.prototype.onMouseUp.call(this,e),this.navigator.onDragStop()},r.prototype.onMouseOut=function(e){l.prototype.onMouseOut.call(this,e),this.navigator.onDragStop()},r.prototype.updateAxes=function(e){var i,a=((i={})[ChartAxisPosition.Top]=0,i[ChartAxisPosition.Bottom]=0,i[ChartAxisPosition.Left]=0,i[ChartAxisPosition.Right]=0,i),s=function(E){return Object.entries(a).every(function(w){var S=__read$u(w,2),T=S[1],b=E[S[0]];return!T&&!b||T===b})},h={},v=!1,_=void 0,y=0;do{Object.assign(a,h);var m=this.updateAxesPass(a,e.clone(),_);if(h=Object.entries(m.axisWidths).reduce(function(w,S){var D=__read$u(S,2),T=D[0],b=D[1];return b&&Math.abs(b)===1/0&&(b=0),w[T]=null!=b?Math.ceil(b):b,w},{}),v=m.clipSeries,_=m.seriesRect,y++>10)throw new Error("AG Charts - unable to find stable axis layout.")}while(!s(h));return this.seriesRoot.enabled=v,{seriesRect:_}},r.prototype.updateAxesPass=function(e,i,a){var d=this.navigator,h=this.axes,v={},_={},y=!1,m={},E={};a&&this.axes.forEach(function(M){M.crossLines&&M.crossLines.forEach(function(A){A.calculatePadding(E,a)})});var M,A,L,N,G,k,K,$,j,S=(M=i.clone(),L=void 0===(A=E.top)?0:A,G=void 0===(N=E.right)?0:N,K=void 0===(k=E.bottom)?0:k,M.x+=j=void 0===($=E.left)?0:$,M.y+=L,M.width-=j+G,M.height-=L+K,M),T=function(){var M=S.clone(),A=e.top,L=e.bottom,N=e.left,G=e.right;return M.x+=N??0,M.y+=A??0,M.width-=(N??0)+(G??0),M.height-=(A??0)+(L??0),M.width=Math.max(0,M.width),M.height=Math.max(0,M.height),M}(),b=function(M,A,L){var N=T.x,G=T.y;return(1===L?Math.min:Math.max)(M,[N,G,N+T.width,G+T.height][("x"===A?0:1)+(1===L?0:2)])};return h.forEach(function(M){var Y=M.position,ie=M.direction;v[Y]=(v[Y]??0)+1,M.label.mirrored=["top","right"].includes(Y);var X,J=_[Y]??0;switch(Y){case ChartAxisPosition.Top:case ChartAxisPosition.Bottom:M.range=[0,T.width],M.gridLength=T.height;break;case ChartAxisPosition.Right:case ChartAxisPosition.Left:M.range=(X=M)instanceof CategoryAxis||X instanceof GroupedCategoryAxis?[0,T.height]:[T.height,0],M.gridLength=T.width}M.calculateTickCount(),M.direction===ChartAxisDirection.X&&(M.visibleRange=d.enabled?[d.min,d.max]:[0,1]),!y&&(M.visibleRange[0]>0||M.visibleRange[1]<1)&&(y=!0);var ge=m[M.direction];ge=M.calculateDomain({primaryTickCount:ge}).primaryTickCount,m[M.direction]=ge,M.update();var ce=0;if(M.thickness)ce=M.thickness;else{var pe=M.computeBBox();ce=ie===ChartAxisDirection.X?pe.height:pe.width}switch((v[Y]??0)>1&&(ce+=15),ce=Math.ceil(ce),Y){case ChartAxisPosition.Top:M.translation.x=S.x+(e.left??0),M.translation.y=b(S.y+1+J+ce,"y",1);break;case ChartAxisPosition.Bottom:M.translation.x=S.x+(e.left??0),M.translation.y=b(S.y+S.height+1-ce-J,"y",-1);break;case ChartAxisPosition.Left:M.translation.y=S.y+(e.top??0),M.translation.x=b(S.x+J+ce,"x",1);break;case ChartAxisPosition.Right:M.translation.y=S.y+(e.top??0),M.translation.x=b(S.x+S.width-ce-J,"x",-1)}M.update(),_[Y]=(_[Y]??0)+ce}),{clipSeries:y,seriesRect:T,axisWidths:_}},r.className="CartesianChart",r.type="cartesian",r}(Chart),__extends$2b=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),HierarchyChart=function(l){function r(e){void 0===e&&(e=window.document);var i=l.call(this,e)||this;i._data={},i._seriesRoot=new ClipRect,i.scene.root.visible=!1;var a=i.scene.root;return a.append(i.seriesRoot),a.append(i.legend.group),i}return __extends$2b(r,l),Object.defineProperty(r.prototype,"seriesRoot",{get:function(){return this._seriesRoot},enumerable:!0,configurable:!0}),r.prototype.performLayout=function(){this.scene.root.visible=!0;var e=this,s=e.legend,d=new BBox$1(0,0,e.width,e.height),h=this.positionCaptions().captionAutoPadding,v=void 0===h?0:h;if(this.positionLegend(v),s.enabled&&s.data.length){var _=this.legendAutoPadding,y=this.legend.spacing;switch(d.x+=_.left,d.y+=_.top,d.width-=_.left+_.right,d.height-=_.top+_.bottom,this.legend.position){case"right":d.width-=y;break;case"bottom":d.height-=y;break;case"left":d.x+=y,d.width-=y;break;case"top":d.y+=y,d.height-=y}}var m=this.padding;d.x+=m.left,d.width-=m.left+m.right,d.y+=m.top+v,d.height-=m.top+v+m.bottom,this.seriesRect=d,this.series.forEach(function(w){w.group.translationX=Math.floor(d.x),w.group.translationY=Math.floor(d.y),w.update()});var E=this.seriesRoot;E.x=d.x,E.y=d.y,E.width=d.width,E.height=d.height},r.className="HierarchyChart",r.type="hierarchy",r}(Chart),__extends$2a=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),GroupedCategoryChart=function(l){function r(){return null!==l&&l.apply(this,arguments)||this}return __extends$2a(r,l),r.className="GroupedCategoryChart",r.type="groupedCategory",r}(CartesianChart),__extends$29=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__decorate$18=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},PolarSeries=function(l){function r(){var e,i=l.call(this,{pickModes:[SeriesNodePickMode.EXACT_SHAPE_MATCH]})||this;return i.directionKeys=((e={})[ChartAxisDirection.X]=["angleKey"],e[ChartAxisDirection.Y]=["radiusKey"],e),i.centerX=0,i.centerY=0,i.radius=0,i}return __extends$29(r,l),r.prototype.getLabelData=function(){return[]},r}(Series);!function(l){function r(){return null!==l&&l.apply(this,arguments)||this}__extends$29(r,l),__decorate$18([SceneChangeDetection({redraw:RedrawType.MAJOR})],r.prototype,"formatter",void 0)}(SeriesMarker);var __extends$28=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),PolarChart=function(l){function r(e){void 0===e&&(e=window.document);var i=l.call(this,e)||this;return i.padding=new Padding$1(40),i.scene.root.append(i.legend.group),i}return __extends$28(r,l),Object.defineProperty(r.prototype,"seriesRoot",{get:function(){return this.scene.root},enumerable:!0,configurable:!0}),r.prototype.performLayout=function(){var e=new BBox$1(0,0,this.width,this.height),i=this.positionCaptions().captionAutoPadding,a=void 0===i?0:i;if(this.positionLegend(a),e.y+=a,e.height-=a,this.legend.enabled&&this.legend.data.length){var s=this.legendAutoPadding;e.x+=s.left,e.y+=s.top,e.width-=s.left+s.right,e.height-=s.top+s.bottom;var d=this.legend.spacing;switch(this.legend.position){case"right":e.width-=d;break;case"bottom":e.height-=d;break;case"left":e.x+=d,e.width-=d;break;case"top":e.y+=d,e.height-=d}}var h=this.padding;e.x+=h.left,e.y+=h.top,e.width-=h.left+h.right,e.height-=h.top+h.bottom,this.seriesRect=e;var v=e.x+e.width/2,_=e.y+e.height/2,y=Math.max(0,Math.min(e.width,e.height)/2);this.series.forEach(function(m){m instanceof PolarSeries&&(m.centerX=v,m.centerY=_,m.radius=y)})},r.className="PolarChart",r.type="polar",r}(Chart);function equal(l,r){if(l===r)return!0;if(l&&r&&"object"==typeof l&&"object"==typeof r){if(l.constructor!==r.constructor)return!1;var e,i=void 0;if(Array.isArray(l)){if((e=l.length)!=r.length)return!1;for(i=e;0!=i--;)if(!equal(l[i],r[i]))return!1;return!0}if(l.constructor===RegExp)return l.source===r.source&&l.flags===r.flags;if(l.valueOf!==Object.prototype.valueOf)return l.valueOf()===r.valueOf();if(l.toString!==Object.prototype.toString)return l.toString()===r.toString();var a=Object.keys(l);if((e=a.length)!==Object.keys(r).length)return!1;for(i=e;0!=i--;)if(!Object.prototype.hasOwnProperty.call(r,a[i]))return!1;for(i=e;0!=i--;){var s=a[i];if(!equal(l[s],r[s]))return!1}return!0}return l!=l&&r!=r}var __read$t=function(l,r){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var a,d,i=e.call(l),s=[];try{for(;(void 0===r||r-- >0)&&!(a=i.next()).done;)s.push(a.value)}catch(h){d={error:h}}finally{try{a&&!a.done&&(e=i.return)&&e.call(i)}finally{if(d)throw d.error}}return s},interpolatePattern=/(#\{(.*?)\})/g;function interpolate(l,r,e){return l.replace(interpolatePattern,function(){var i=arguments[2],a=__read$t(i.split(":"),2),s=a[0],d=a[1],h=r[s];if("number"==typeof h){if(v=d&&e&&e[d]){var _=v,y=_.locales,m=_.options;return h.toLocaleString(y,m)}return String(h)}if(h instanceof Date){var v;if("string"==typeof(v=d&&e&&e[d])){var E=locale$1.format(v);return E(h)}return h.toDateString()}return"string"==typeof h||h&&h.toString?String(h):""})}var element=null;function sanitizeHtml(l){return element=element||document.createElement("div"),l?(element.innerText=l,element.innerHTML):""}var __extends$27=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__values$d=function(l){var r="function"==typeof Symbol&&Symbol.iterator,e=r&&l[r],i=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&i>=l.length&&(l=void 0),{value:l&&l[i++],done:!l}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},__read$s=function(l,r){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var a,d,i=e.call(l),s=[];try{for(;(void 0===r||r-- >0)&&!(a=i.next()).done;)s.push(a.value)}catch(h){d={error:h}}finally{try{a&&!a.done&&(e=i.return)&&e.call(i)}finally{if(d)throw d.error}}return s},AreaSeriesLabel=function(l){function r(){var e=null!==l&&l.apply(this,arguments)||this;return e.formatter=void 0,e}return __extends$27(r,l),r}(Label$1),AreaSeriesTooltip=function(l){function r(){var e=null!==l&&l.apply(this,arguments)||this;return e.renderer=void 0,e.format=void 0,e}return __extends$27(r,l),r}(SeriesTooltip),AreaSeriesTag=(()=>(function(l){l[l.Fill=0]="Fill",l[l.Stroke=1]="Stroke",l[l.Marker=2]="Marker",l[l.Label=3]="Label"}(AreaSeriesTag||(AreaSeriesTag={})),AreaSeriesTag))(),AreaSeries=function(l){function r(){var e=l.call(this,{pathsPerSeries:2,pathsZIndexSubOrderOffset:[0,1e3],pickGroupIncludes:["markers"],features:["markers"]})||this;e.tooltip=new AreaSeriesTooltip,e.xData=[],e.yData=[],e.yDomain=[],e.xDomain=[],e.directionKeys={x:["xKey"],y:["yKeys"]},e.marker=new CartesianSeriesMarker,e.label=new AreaSeriesLabel,e.fills=["#c16068","#a2bf8a","#ebcc87","#80a0c3","#b58dae","#85c0d1"],e.strokes=["#874349","#718661","#a48f5f","#5a7088","#7f637a","#5d8692"],e.fillOpacity=1,e.strokeOpacity=1,e.lineDash=[0],e.lineDashOffset=0,e._xKey="",e.xName="",e._yKeys=[],e.yNames=[],e.strokeWidth=2,e.shadow=void 0;var s=e.label;return e.marker.enabled=!1,s.enabled=!1,e}return __extends$27(r,l),Object.defineProperty(r.prototype,"xKey",{get:function(){return this._xKey},set:function(e){this._xKey=e,this.xData=[]},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"yKeys",{get:function(){return this._yKeys},set:function(e){equal(this._yKeys,e)||(this._yKeys=e,this.yData=[],this.processSeriesItemEnabled())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"visibles",{get:function(){return this._visibles},set:function(e){this._visibles=e,this.processSeriesItemEnabled()},enumerable:!0,configurable:!0}),r.prototype.processSeriesItemEnabled=function(){var i=this.seriesItemEnabled,a=this._visibles,s=void 0===a?[]:a;i.clear(),this._yKeys.forEach(function(d,h){return i.set(d,s[h]??!0)})},r.prototype.setColors=function(e,i){this.fills=e,this.strokes=i},Object.defineProperty(r.prototype,"normalizedTo",{get:function(){return this._normalizedTo},set:function(e){var i=e?Math.abs(e):void 0;this._normalizedTo!==i&&(this._normalizedTo=i)},enumerable:!0,configurable:!0}),r.prototype.processData=function(){var e,i,a,s,d,h,v=this,_=v.xKey,y=v.yKeys,m=v.seriesItemEnabled,E=v.xAxis,w=v.yAxis,S=v.normalizedTo,D=_&&y.length&&this.data?this.data:[];if(!E||!w)return!1;var T=E.scale instanceof ContinuousScale$1,b=w.scale instanceof ContinuousScale$1,M=S&&isFinite(S),A=[],L=[],N=[],G=function(X){if(!(_ in X))return doOnce$1(function(){return console.warn("The key '"+_+"' was not found in the data: ",X)},_+" not found in data"),"continue";var ne=checkDatum(X[_],T);if(T&&void 0===ne)return"continue";N.push(ne),L.push({xDatum:ne,seriesDatum:X}),y.forEach(function(we,he){if(we in X){var be=X[we],ve=A[he]||(A[he]=[]);if(m.get(we)){var De=checkDatum(be,b);ve.push(De)}else ve.push(NaN)}else doOnce$1(function(){return console.warn("The key '"+we+"' was not found in the data: ",X)},we+" not found in data")})};try{for(var k=__values$d(D),K=k.next();!K.done;K=k.next())G(K.value)}catch(X){e={error:X}}finally{try{K&&!K.done&&(i=k.return)&&i.call(k)}finally{if(e)throw e.error}}this.yData=A,this.xData=L,this.xDomain=T?this.fixNumericExtent(extent$1(N,isContinuous$1),E):N;for(var j=void 0,Y=void 0,ie=0;ie<L.length;ie++){var re={sum:0,absSum:0};try{for(var J=(a=void 0,__values$d(A)),Q=J.next();!Q.done;Q=J.next())if(void 0!==(oe=Q.value)[ie]&&!isNaN(oe[ie])){var fe=+oe[ie];re.absSum+=Math.abs(fe),re.sum+=fe,re.sum>=(Y??0)?Y=re.sum:re.sum<=(j??0)&&(j=re.sum)}}catch(X){a={error:X}}finally{try{Q&&!Q.done&&(s=J.return)&&s.call(J)}finally{if(a)throw a.error}}if(M&&S){var ge=void 0;try{for(var ce=(d=void 0,__values$d(A)),pe=ce.next();!pe.done;pe=ce.next()){var oe,z=+(oe=pe.value)[ie]/re.absSum*S;oe[ie]=z,isNaN(z)||((ge=(ge??0)+z)>=(Y??0)?Y=ge:ge<=(j??0)&&(j=ge))}}catch(X){d={error:X}}finally{try{pe&&!pe.done&&(h=ce.return)&&h.call(ce)}finally{if(d)throw d.error}}}}return M&&S&&(j=(j??0)<.5*-S?-S:j,Y=(Y??0)>.5*S?S:Y),this.yDomain=this.fixNumericExtent(void 0===j&&void 0===Y?void 0:[j??0,Y??0],w),!0},r.prototype.getDomain=function(e){return e===ChartAxisDirection.X?this.xDomain:this.yDomain},r.prototype.createNodeData=function(){var e=this,i=this,s=i.xAxis,d=i.yAxis,h=i.xData,v=i.yData;if(!(i.data&&s&&d&&h.length&&v.length))return[];var _=[],y=this,m=y.yKeys,E=y.marker,w=y.label,S=y.fills,D=y.strokes,T=s.scale,b=d.scale,M=b instanceof ContinuousScale$1,A=(T.bandwidth||0)/2,L=new Array(h.length).fill(null).map(function(){return{left:0,right:0}}),N=new Array(h.length).fill(0),G=function(K,$,j,Y){var ie=T.convert(K)+A,J=L[j][Y]+$,Q=b.convert(L[j][Y],M?clamper$2:void 0),oe=b.convert(J,M?clamper$2:void 0);return L[j][Y]=J,[{x:ie,y:oe,size:E.size},{x:ie,y:Q,size:E.size}]};return v.forEach(function(K,$){var j=m[$],Y=[],ie=[],re={itemId:j,points:[],yValues:[]},J={itemId:j,points:[]};if(_[$]={itemId:j,fillSelectionData:J,labelData:Y,nodeData:ie,strokeSelectionData:re},e.seriesItemEnabled.get(j)){var Q=J.points,oe=[],fe=re.points,ge=re.yValues;K.forEach(function(pe,z){var le,Te,X=isNaN(pe)?void 0:pe,ne=h[z],we=ne.xDatum,he=ne.seriesDatum,be=null===(le=h[z+1])||void 0===le?void 0:le.xDatum,ve=K[z+1],De=isNaN(ve)?void 0:ve,Le=function(K,$,j,Y){var ie,re=e.normalizedTo&&isFinite(e.normalizedTo),J=re&&M&&isContinuous$1(Y);return(!re&&!isNaN(Y)||J)&&(ie=N[j]+=$),{x:T.convert(K)+A,y:b.convert(ie,M?clamper$2:void 0),size:E.size}}(we,+X,z,he[j]);E&&ie.push({index:z,series:e,itemId:j,datum:he,yValue:X,yKey:j,point:Le,fill:S[$%S.length],stroke:D[$%D.length]}),Te=w.formatter?w.formatter({value:X}):isNumber$1(X)?Number(X).toFixed(2):String(X),w&&Y.push({index:z,itemId:j,point:Le,label:e.seriesItemEnabled.get(j)&&Te?{text:Te,fontStyle:w.fontStyle,fontWeight:w.fontWeight,fontSize:w.fontSize,fontFamily:w.fontFamily,textAlign:"center",textBaseline:"bottom",fill:w.color}:void 0});var Ue=[we,be],We=[X,De];if(!Ue.some(function(Xe){return null==Xe})){We.some(function(Xe){return null==Xe})&&(We[0]=0,We[1]=0);var et=G(Ue[0],+We[0],z,"right");Q.push(et[0]),oe.push(et[1]);var it=G(Ue[1],+We[1],z,"left");Q.push(it[0]),oe.push(it[1]),fe.push({x:NaN,y:NaN}),ge.push(void 0),fe.push(et[0]),ge.push(X),void 0!==De&&(fe.push(it[0]),ge.push(X))}});for(var ce=oe.length-1;ce>=0;ce--)Q.push(oe[ce])}}),_},r.prototype.isPathOrSelectionDirty=function(){return this.marker.isDirty()},r.prototype.updatePaths=function(e){var i=e.contextData,a=i.fillSelectionData,s=i.strokeSelectionData,d=__read$s(e.paths,2),h=d[0],v=d[1];h.datum=a,h.tag=AreaSeriesTag.Fill,h.lineJoin="round",h.stroke=void 0,h.pointerEvents=PointerEvents$1.None,v.datum=s,v.tag=AreaSeriesTag.Stroke,v.fill=void 0,v.lineJoin=v.lineCap="round",v.pointerEvents=PointerEvents$1.None},r.prototype.updatePathNodes=function(e){var i,a,s,d,h=__read$s(e.paths,2),v=h[0],_=h[1],y=e.seriesIdx,m=e.itemId,E=this,w=E.strokes,S=E.fills,D=E.fillOpacity,T=E.strokeOpacity,b=E.strokeWidth,M=E.shadow,A=v.datum.points;v.fill=S[y%S.length],v.fillOpacity=D,v.strokeOpacity=T,v.strokeWidth=b,v.lineDash=this.lineDash,v.lineDashOffset=this.lineDashOffset,v.fillShadow=M,(L=v.path).clear({trackChanges:!0});var N=0;try{for(var G=__values$d(A),k=G.next();!k.done;k=G.next()){var K=k.value;N++>0?L.lineTo(K.x,K.y):L.moveTo(K.x,K.y)}}catch(J){i={error:J}}finally{try{k&&!k.done&&(a=G.return)&&a.call(G)}finally{if(i)throw i.error}}L.closePath(),v.checkPathDirty();var L,$=_.datum,j=(A=$.points,$.yValues),Y=!0;_.stroke=w[y%w.length],_.strokeWidth=this.getStrokeWidth(this.strokeWidth,{itemId:m}),_.strokeOpacity=T,_.lineDash=this.lineDash,_.lineDashOffset=this.lineDashOffset,(L=_.path).clear({trackChanges:!0}),N=0;try{for(var ie=__values$d(A),re=ie.next();!re.done;re=ie.next())K=re.value,void 0===j[N++]?Y=!0:Y?(L.moveTo(K.x,K.y),Y=!1):L.lineTo(K.x,K.y)}catch(fe){s={error:fe}}finally{try{re&&!re.done&&(d=ie.return)&&d.call(ie)}finally{if(s)throw s.error}}_.checkPathDirty()},r.prototype.updateMarkerSelection=function(e){var i=e.nodeData,a=e.markerSelection,s=this.marker,v=s.enabled&&i?i:[],_=getMarker$1(s.shape);this.marker.isDirty()&&(a=a.setData([])).exit.remove();var y=a.setData(v);y.exit.remove();var m=y.enter.append(_).each(function(E){E.tag=AreaSeriesTag.Marker});return y.merge(m)},r.prototype.updateMarkerNodes=function(e){var a=e.isHighlight,s=this,d=s.xKey,h=s.marker,v=s.seriesItemEnabled,_=s.yKeys,y=s.fills,m=s.strokes,w=s.marker.fillOpacity,S=void 0===w?s.fillOpacity:w,D=s.strokeOpacity,T=s.highlightStyle,L=T.item,N=L.fill,G=void 0===N?T.fill:N,k=L.fillOpacity,K=void 0===k?S:k,$=L.stroke,j=void 0===$?T.stroke:$,Y=L.strokeWidth,ie=void 0===Y?T.strokeWidth:Y,re=h.size,J=h.formatter,Q=void 0!==h.strokeWidth?h.strokeWidth:this.strokeWidth;e.markerSelection.each(function(oe,fe){var pe,le,ne,we,he=_.indexOf(fe.yKey),be=a&&void 0!==G?G:h.fill||y[he%y.length],ve=a?K:S,De=a&&void 0!==j?j:h.stroke||m[he%y.length],Le=a&&void 0!==ie?ie:Q,Te=void 0;J&&(Te=J({datum:fe.datum,xKey:d,yKey:fe.yKey,fill:be,stroke:De,strokeWidth:Le,size:re,highlighted:a})),oe.fill=Te&&Te.fill||be,oe.stroke=Te&&Te.stroke||De,oe.strokeWidth=Te&&void 0!==Te.strokeWidth?Te.strokeWidth:Le,oe.fillOpacity=ve??1,oe.strokeOpacity=h.strokeOpacity??D??1,oe.size=Te&&void 0!==Te.size?Te.size:re,oe.translationX=(null===(pe=fe.point)||void 0===pe?void 0:pe.x)??0,oe.translationY=(null===(le=fe.point)||void 0===le?void 0:le.y)??0,oe.visible=oe.size>0&&!!v.get(fe.yKey)&&!isNaN((null===(ne=fe.point)||void 0===ne?void 0:ne.x)||0)&&!isNaN((null===(we=fe.point)||void 0===we?void 0:we.y)||0)}),a||this.marker.markClean()},r.prototype.updateLabelSelection=function(e){var s=e.labelSelection.setData(e.labelData);s.exit.remove();var d=s.enter.append(Text$1).each(function(h){h.tag=AreaSeriesTag.Label});return s.merge(d)},r.prototype.updateLabelNodes=function(e){var a=this.label,s=a.enabled,d=a.fontStyle,h=a.fontWeight,v=a.fontSize,_=a.fontFamily,y=a.color;e.labelSelection.each(function(m,E){var w=E.point,S=E.label;S&&s?(m.fontStyle=d,m.fontWeight=h,m.fontSize=v,m.fontFamily=_,m.textAlign=S.textAlign,m.textBaseline=S.textBaseline,m.text=S.text,m.x=w.x,m.y=w.y-10,m.fill=y,m.visible=!0):m.visible=!1})},r.prototype.fireNodeClickEvent=function(e,i){this.fireEvent({type:"nodeClick",event:e,series:this,datum:i.datum,xKey:this.xKey,yKey:i.yKey})},r.prototype.getTooltipHtml=function(e){var i=this.xKey,a=e.yKey;if(!i||!a||!this.seriesItemEnabled.get(a))return"";var s=e.datum,d=s[i],h=s[a],_=this.xAxis,y=this.yAxis;if(!(_&&y&&isNumber$1(h)))return"";var m=this,E=m.xName,w=m.yKeys,S=m.yNames,D=m.yData,T=m.fills,b=m.strokes,M=m.tooltip,A=m.marker,L=A.size,N=A.formatter,G=A.strokeWidth,k=A.fill,K=A.stroke,$=_.formatDatum(d),j=y.formatDatum(h),Y=w.indexOf(a),re=D[Y][e.index],J=S[Y],Q=sanitizeHtml(J),oe=sanitizeHtml($+": "+j),ge=k||T[Y%T.length],pe=void 0;N&&(pe=N({datum:s,xKey:i,yKey:a,fill:ge,stroke:K||b[Y%T.length],strokeWidth:void 0!==G?G:this.strokeWidth,size:L,highlighted:!1}));var z=pe&&pe.fill||ge,le={title:Q,backgroundColor:z,content:oe},X=M.renderer,ne=M.format;if(ne||X){var we={datum:s,xKey:i,xName:E,xValue:d,yKey:a,yValue:h,processedYValue:re,yName:J,color:z,title:Q};if(ne)return toTooltipHtml$1({content:interpolate(ne,we)},le);if(X)return toTooltipHtml$1(X(we),le)}return toTooltipHtml$1(le)},r.prototype.listSeriesItems=function(e){var i,a,s=this,d=s.data,h=s.id,_=s.yKeys,y=s.yNames,m=s.seriesItemEnabled,E=s.marker,w=s.fills,S=s.strokes,D=s.fillOpacity,T=s.strokeOpacity;if(d&&d.length&&s.xKey&&_.length)for(var b=_.length-1;b>=0;b--){var M=_[b];e.push({id:h,itemId:M,enabled:m.get(M)||!1,label:{text:y[b]||_[b]},marker:{shape:E.shape,fill:E.fill||w[b%w.length],stroke:E.stroke||S[b%S.length],fillOpacity:(i=E.fillOpacity,i??D),strokeOpacity:(a=E.strokeOpacity,a??T)}})}},r.className="AreaSeries",r.type="area",r}(CartesianSeries),__extends$26=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__read$r=function(l,r){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var a,d,i=e.call(l),s=[];try{for(;(void 0===r||r-- >0)&&!(a=i.next()).done;)s.push(a.value)}catch(h){d={error:h}}finally{try{a&&!a.done&&(e=i.return)&&e.call(i)}finally{if(d)throw d.error}}return s},__spread$c=function(){for(var l=[],r=0;r<arguments.length;r++)l=l.concat(__read$r(arguments[r]));return l},__values$c=function(l){var r="function"==typeof Symbol&&Symbol.iterator,e=r&&l[r],i=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&i>=l.length&&(l=void 0),{value:l&&l[i++],done:!l}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},BarSeriesNodeTag=(()=>(function(l){l[l.Bar=0]="Bar",l[l.Label=1]="Label"}(BarSeriesNodeTag||(BarSeriesNodeTag={})),BarSeriesNodeTag))(),BarLabelPlacement=(()=>(function(l){l.Inside="inside",l.Outside="outside"}(BarLabelPlacement||(BarLabelPlacement={})),BarLabelPlacement))(),BarSeriesLabel=function(l){function r(){var e=null!==l&&l.apply(this,arguments)||this;return e.formatter=void 0,e.placement=BarLabelPlacement.Inside,e}return __extends$26(r,l),r}(Label$1),BarSeriesTooltip=function(l){function r(){var e=null!==l&&l.apply(this,arguments)||this;return e.renderer=void 0,e}return __extends$26(r,l),r}(SeriesTooltip);function flat(l,r){return void 0===r&&(r=[]),l.forEach(function(e){Array.isArray(e)?flat(e,r):r.push(e)}),r}function is2dArray$1(l){return l.length>0&&Array.isArray(l[0])}var BarSeries=function(l){function r(){var e,i=l.call(this,{pickGroupIncludes:["datumNodes"],pickModes:[SeriesNodePickMode.EXACT_SHAPE_MATCH],pathsPerSeries:0})||this;return i.xData=[],i.yData=[],i.yDomain=[],i.label=new BarSeriesLabel,i.tooltip=new BarSeriesTooltip,i.flipXY=!1,i.fills=["#c16068","#a2bf8a","#ebcc87","#80a0c3","#b58dae","#85c0d1"],i.strokes=["#874349","#718661","#a48f5f","#5a7088","#7f637a","#5d8692"],i.fillOpacity=1,i.strokeOpacity=1,i.lineDash=[0],i.lineDashOffset=0,i.formatter=void 0,i.groupScale=new BandScale$1,i.directionKeys=((e={})[ChartAxisDirection.X]=["xKey"],e[ChartAxisDirection.Y]=["yKeys"],e),i._xKey="",i.xName="",i.cumYKeyCount=[],i.flatYKeys=void 0,i.hideInLegend=[],i._yKeys=[],i._grouped=!1,i._yNames={},i.strokeWidth=1,i.shadow=void 0,i.smallestDataInterval=void 0,i.label.enabled=!1,i}return __extends$26(r,l),r.prototype.getKeys=function(e){var i=this,a=this.directionKeys,s=a&&a[this.flipXY?flipChartAxisDirection(e):e],d=[];return s&&s.forEach(function(h){var v=i[h];v&&(Array.isArray(v)?d=d.concat(flat(v)):d.push(v))}),d},Object.defineProperty(r.prototype,"xKey",{get:function(){return this._xKey},set:function(e){this._xKey=e,this.xData=[]},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"yKeys",{get:function(){return this._yKeys},set:function(e){var i=this,a=void 0;if(is2dArray$1(e)||(a=e,e=this.grouped?a.map(function(v){return[v]}):[a]),!equal(this._yKeys,e)){this.flatYKeys=a||void 0,this._yKeys=e;var s=0;this.cumYKeyCount=[];var d=[];e.forEach(function(v,_){v.length>0&&d.push(String(_)),i.cumYKeyCount.push(s),s+=v.length}),this.yData=[],this.processSeriesItemEnabled();var h=this.groupScale;h.domain=d,h.padding=.1,h.round=!0}},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"visibles",{get:function(){return this._visibles},set:function(e){this._visibles=e.reduce(function(a,s){return a.concat.apply(a,__spread$c(Array.isArray(s)?s:[s]))},[]),this.processSeriesItemEnabled()},enumerable:!0,configurable:!0}),r.prototype.processSeriesItemEnabled=function(){var i=this.seriesItemEnabled,a=this._visibles,s=void 0===a?[]:a;i.clear();var d=0;this._yKeys.forEach(function(h){h.forEach(function(v){var _;return i.set(v,(null===(_=s)||void 0===_?void 0:_[d++])??!0)})})},Object.defineProperty(r.prototype,"grouped",{get:function(){return this._grouped},set:function(e){this._grouped!==e&&(this._grouped=e,this.flatYKeys&&(this.yKeys=this.flatYKeys))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"yNames",{get:function(){return this._yNames},set:function(e){if(Array.isArray(e)&&this.flatYKeys){var i={};this.flatYKeys.forEach(function(a,s){i[a]=e[s]}),e=i}this._yNames=e},enumerable:!0,configurable:!0}),r.prototype.setColors=function(e,i){this.fills=e,this.strokes=i},Object.defineProperty(r.prototype,"normalizedTo",{get:function(){return this._normalizedTo},set:function(e){var i=e?Math.abs(e):void 0;this._normalizedTo=i},enumerable:!0,configurable:!0}),r.prototype.processData=function(){var e=this,i=this,a=i.xKey,s=i.yKeys,d=i.seriesItemEnabled,h=a&&s.length&&this.data?this.data:[],v=this.getCategoryAxis(),_=this.getValueAxis();if(!v||!_)return!1;var m=v.scale instanceof ContinuousScale$1,E=_.scale instanceof ContinuousScale$1,w=!0,S=1/0;this.xData=h.map(function(k){w&&!(a in k)&&(w=!1,console.warn("The key '"+a+"' was not found in the data: ",k));var K=checkDatum(k[a],m);return m&&function(k,K){void 0===e.smallestDataInterval&&(e.smallestDataInterval={x:1/0,y:1/0});var $=e.smallestDataInterval.x,j=Math.abs(k-K);j>0&&j<$&&(e.smallestDataInterval.x=j)}(K,S),S=K,K}),this.yData=h.map(function(k){return s.map(function(K){return K.map(function($){w&&!($ in k)&&(w=!1,console.warn("The key '"+$+"' was not found in the data: ",k));var j=checkDatum(k[$],E);return d.get($)&&void 0!==j?j:NaN})})});var D=this.yData.map(function(k){return k.map(function(K){return findMinMax(K)})}),b=this.yData,M=this.normalizedTo,A=this.yData.map(function(k){return k.map(function(K){return K.reduce(function($,j){return $+(isNaN(j)?0:Math.abs(j))},0)})}),L=this.findLargestMinMax(D),N=L.min,G=L.max;return N===1/0&&G===-1/0?(this.yDomain=[],!0):(M&&isFinite(M)&&(N=N<0?-M:0,G=G>0?M:0,b.forEach(function(k,K){k.forEach(function($,j){$.forEach(function(Y,ie){$[ie]=Y/A[K][j]*M})})})),this.yDomain=this.fixNumericExtent([N,G],this.yAxis),!0)},r.prototype.findLargestMinMax=function(e){var i,a,s,d,h=1/0,v=-1/0;try{for(var _=__values$c(e),y=_.next();!y.done;y=_.next()){var m=y.value;try{for(var E=(s=void 0,__values$c(m)),w=E.next();!w.done;w=E.next()){var S=w.value,D=S.min,T=void 0===D?1/0:D,b=S.max,M=void 0===b?-1/0:b;T<h&&(h=T),M>v&&(v=M)}}catch(A){s={error:A}}finally{try{w&&!w.done&&(d=E.return)&&d.call(E)}finally{if(s)throw s.error}}}}catch(A){i={error:A}}finally{try{y&&!y.done&&(a=_.return)&&a.call(_)}finally{if(i)throw i.error}}return{min:h,max:v}},r.prototype.getDomain=function(e){return this.flipXY&&(e=flipChartAxisDirection(e)),e===ChartAxisDirection.X?this.xData:this.yDomain},r.prototype.fireNodeClickEvent=function(e,i){this.fireEvent({type:"nodeClick",event:e,series:this,datum:i.datum,xKey:this.xKey,yKey:i.yKey})},r.prototype.getCategoryAxis=function(){return this.flipXY?this.yAxis:this.xAxis},r.prototype.getValueAxis=function(){return this.flipXY?this.xAxis:this.yAxis},r.prototype.calculateStep=function(e){var i,s=this.smallestDataInterval,d=this.getCategoryAxis();if(d){var v=(d.domain[1]-d.domain[0])/((null===(i=s)||void 0===i?void 0:i.x)??1)+1,_=Math.floor(e),y=Math.min(v,_);return e/Math.max(1,y)}},r.prototype.createNodeData=function(){var e=this,i=this,a=i.chart,s=i.data,d=i.visible,h=this.getCategoryAxis(),v=this.getValueAxis();if(!(a&&s&&d&&h&&v))return[];var _=h.scale,y=v.scale,m=this,E=m.groupScale,w=m.yKeys,S=m.cumYKeyCount,D=m.fills,T=m.strokes,b=m.strokeWidth,M=m.seriesItemEnabled,A=m.xData,L=m.yData,N=m.label,G=m.flipXY,k=N.fontStyle,K=N.fontWeight,$=N.fontSize,j=N.fontFamily,Y=N.color,ie=N.formatter,re=N.placement,J=_.bandwidth;if(_ instanceof ContinuousScale$1){var Q=Math.max(h.range[0],h.range[1]),oe=this.calculateStep(Q);J=oe,_.range=this.flipXY?[Q-(oe??0),0]:[0,Q-(oe??0)]}E.range=[0,J];var fe=E.bandwidth>=1?E.bandwidth:E.rawBandwidth,ge=[];return A.forEach(function(ce,pe){for(var X=s[pe],ne=_.convert(ce),we=L[pe],he=0;he<we.length;he++){var be=we[he];ge[he]=ge[he]??[];for(var ve=0,De=0,Le=0;Le<be.length;Le++){var Te=+be[Le],Ue=w[he][Le],We=ne+E.convert(String(he));if(ge[he][Le]=ge[he][Le]??{itemId:Ue,nodeData:[],labelData:[]},h.inRange(We,fe)&&!isNaN(Te)){var Ee,et=Te<0?ve:De,it=y instanceof ContinuousScale$1,Xe=y.convert(et+Te,it?clamper$2:void 0),nt=y.convert(et,it?clamper$2:void 0),qe=X[Ue];Ee=ie?ie({value:isNumber$1(qe)?qe:void 0}):isNumber$1(qe)?qe.toFixed(2):"";var Pe=void 0,me=void 0;G?(me=We+fe/2,Pe=re===BarLabelPlacement.Inside?Xe+(qe>=0?-1:1)*Math.abs(nt-Xe)/2:Xe+4*(qe>=0?1:-1)):(Pe=We+fe/2,me=re===BarLabelPlacement.Inside?Xe+(qe>=0?1:-1)*Math.abs(nt-Xe)/2:Xe+(qe>=0?-3:4));var I=void 0,xe=void 0;re===BarLabelPlacement.Inside?(I="center",xe="middle"):(I=G?qe>=0?"start":"end":"center",xe=G?"middle":qe>=0?"bottom":"top");var ct=S[he]+Le,tt={index:pe,series:e,itemId:Ue,datum:X,yValue:qe,yKey:Ue,x:G?Math.min(Xe,nt):We,y:G?We:Math.min(Xe,nt),width:G?Math.abs(nt-Xe):fe,height:G?fe:Math.abs(nt-Xe),colorIndex:ct,fill:D[ct%D.length],stroke:T[ct%T.length],strokeWidth:b,label:M.get(Ue)&&Ee?{text:Ee,fontStyle:k,fontWeight:K,fontSize:$,fontFamily:j,textAlign:I,textBaseline:xe,fill:Y,x:Pe,y:me}:void 0};ge[he][Le].nodeData.push(tt),ge[he][Le].labelData.push(tt),Te<0?ve+=Te:De+=Te}}}}),ge.reduce(function(ce,pe){return ce.concat.apply(ce,__spread$c(pe))},[])},r.prototype.updateDatumSelection=function(e){var s=e.datumSelection.setData(e.nodeData);s.exit.remove();var d=s.enter.append(Rect).each(function(h){h.tag=BarSeriesNodeTag.Bar});return s.merge(d)},r.prototype.updateDatumNodes=function(e){var a,i=this,d=e.datumSelection,h=e.isHighlight,v=this,_=v.fills,y=v.strokes,m=v.fillOpacity,E=v.strokeOpacity,w=v.shadow,S=v.formatter,D=v.xKey,T=v.flipXY,b=v.highlightStyle,N=b.item,G=N.fill,k=void 0===G?b.fill:G,K=N.fillOpacity,$=void 0===K?m:K,j=N.stroke,Y=void 0===j?b.stroke:j,ie=N.strokeWidth,re=void 0===ie?b.strokeWidth:ie,J=__read$r((null===(a=this.xAxis)||void 0===a?void 0:a.visibleRange)??[],2),ge=!(0!==J[0]||1!==J[1]||d.data.some(function(ce){return ce.width<=.5||ce.height<=.5}));d.each(function(ce,pe){var z=pe.colorIndex,le=h&&void 0!==k?k:_[z%_.length],X=h&&void 0!==Y?Y:y[z%_.length],ne=h&&void 0!==re?re:i.getStrokeWidth(i.strokeWidth,pe),we=h?$:m,he=void 0;S&&(he=S({datum:pe.datum,fill:le,stroke:X,strokeWidth:ne,highlighted:h,xKey:D,yKey:pe.yKey})),ce.crisp=ge,ce.x=pe.x,ce.y=pe.y,ce.width=pe.width,ce.height=pe.height,ce.fill=he&&he.fill||le,ce.stroke=he&&he.stroke||X,ce.strokeWidth=he&&void 0!==he.strokeWidth?he.strokeWidth:ne,ce.fillOpacity=we,ce.strokeOpacity=E,ce.lineDash=i.lineDash,ce.lineDashOffset=i.lineDashOffset,ce.fillShadow=w,ce.visible=T?pe.width>0:pe.height>0})},r.prototype.updateLabelSelection=function(e){var h=e.labelSelection.setData(this.label.enabled?e.labelData:[]);h.exit.remove();var v=h.enter.append(Text$1).each(function(_){_.tag=BarSeriesNodeTag.Label,_.pointerEvents=PointerEvents$1.None});return h.merge(v)},r.prototype.updateLabelNodes=function(e){var a=this.label,s=a.enabled,d=a.fontStyle,h=a.fontWeight,v=a.fontSize,_=a.fontFamily,y=a.color;e.labelSelection.each(function(m,E){var w=E.label;w&&s?(m.fontStyle=d,m.fontWeight=h,m.fontSize=v,m.fontFamily=_,m.textAlign=w.textAlign,m.textBaseline=w.textBaseline,m.text=w.text,m.x=w.x,m.y=w.y,m.fill=y,m.visible=!0):m.visible=!1})},r.prototype.getTooltipHtml=function(e){var i=this,a=i.xKey,s=i.yKeys,d=i.yData,h=this.getCategoryAxis(),v=this.getValueAxis(),_=e.yKey;if(!(d.length&&a&&_&&h&&v))return"";for(var y=d[e.index],m=0,E=0,w=0;w<s.length;w++){var S=s[w];if((E=S.indexOf(_))>=0){m+=E;break}m+=S.length}var D=this,T=D.xName,M=D.fills,N=D.formatter,G=D.tooltip.renderer,k=e.datum,K=D.yNames[_],$=M[m%M.length],j=D.strokes[m%M.length],Y=this.getStrokeWidth(this.strokeWidth),ie=k[a],re=k[_],J=y[w][E],Q=sanitizeHtml(h.formatDatum(ie)),oe=sanitizeHtml(v.formatDatum(re)),fe=sanitizeHtml(K),ge=Q+": "+oe,ce=void 0;N&&(ce=N({datum:k,fill:$,stroke:j,strokeWidth:Y,highlighted:!1,xKey:a,yKey:_}));var pe=ce&&ce.fill||$,z={title:fe,backgroundColor:pe,content:ge};return G?toTooltipHtml$1(G({datum:k,xKey:a,xValue:ie,xName:T,yKey:_,yValue:re,processedYValue:J,yName:K,color:pe,title:fe}),z):toTooltipHtml$1(z)},r.prototype.listSeriesItems=function(e){var i=this,a=i.id,s=i.data,v=i.yNames,_=i.cumYKeyCount,y=i.seriesItemEnabled,m=i.hideInLegend,E=i.fills,w=i.strokes,S=i.fillOpacity,D=i.strokeOpacity,T=i.flipXY;!s||!s.length||!i.xKey||!i.yKeys.length||this.yKeys.forEach(function(b,M){for(var L=T?b.length:-1,N=T?1:-1,G=T?0:b.length-1;G!==L;G+=N){var k=b[G];if(m.indexOf(k)>=0)return;var K=_[M]+G;e.push({id:a,itemId:k,enabled:y.get(k)||!1,label:{text:v[k]||k},marker:{fill:E[K%E.length],stroke:w[K%w.length],fillOpacity:S,strokeOpacity:D}})}})},r.prototype.toggleSeriesItem=function(e,i){l.prototype.toggleSeriesItem.call(this,e,i);var a=this.yKeys.map(function(d){return d.slice()});this.seriesItemEnabled.forEach(function(d,h){d||a.forEach(function(v){var _=v.indexOf(h);_>=0&&v.splice(_,1)})});var s=[];a.forEach(function(d,h){d.length>0&&s.push(String(h))}),this.groupScale.domain=s,this.nodeDataRefresh=!0},r.className="BarSeries",r.type="bar",r}(CartesianSeries),__extends$25=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__values$b=function(l){var r="function"==typeof Symbol&&Symbol.iterator,e=r&&l[r],i=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&i>=l.length&&(l=void 0),{value:l&&l[i++],done:!l}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},__read$q=function(l,r){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var a,d,i=e.call(l),s=[];try{for(;(void 0===r||r-- >0)&&!(a=i.next()).done;)s.push(a.value)}catch(h){d={error:h}}finally{try{a&&!a.done&&(e=i.return)&&e.call(i)}finally{if(d)throw d.error}}return s},LineSeriesLabel=function(l){function r(){var e=null!==l&&l.apply(this,arguments)||this;return e.formatter=void 0,e}return __extends$25(r,l),r}(Label$1),LineSeriesTooltip=function(l){function r(){var e=null!==l&&l.apply(this,arguments)||this;return e.renderer=void 0,e.format=void 0,e}return __extends$25(r,l),r}(SeriesTooltip),LineSeries=function(l){function r(){var e=l.call(this,{pickGroupIncludes:["markers"],features:["markers"],pickModes:[SeriesNodePickMode.NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST,SeriesNodePickMode.NEAREST_NODE,SeriesNodePickMode.EXACT_SHAPE_MATCH]})||this;e.xDomain=[],e.yDomain=[],e.xData=[],e.yData=[],e.marker=new CartesianSeriesMarker,e.label=new LineSeriesLabel,e.title=void 0,e.stroke="#874349",e.lineDash=[0],e.lineDashOffset=0,e.strokeWidth=2,e.strokeOpacity=1,e.tooltip=new LineSeriesTooltip,e._xKey="",e.xName="",e._yKey="",e.yName="";var a=e.marker,s=e.label;return a.fill="#c16068",a.stroke="#874349",s.enabled=!1,e}return __extends$25(r,l),r.prototype.setColors=function(e,i){this.stroke=e[0],this.marker.stroke=i[0],this.marker.fill=e[0]},Object.defineProperty(r.prototype,"xKey",{get:function(){return this._xKey},set:function(e){this._xKey=e,this.xData=[]},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"yKey",{get:function(){return this._yKey},set:function(e){this._yKey=e,this.yData=[]},enumerable:!0,configurable:!0}),r.prototype.getDomain=function(e){return e===ChartAxisDirection.X?this.xDomain:this.yDomain},r.prototype.processData=function(){var e,i,a=this,s=a.xAxis,d=a.yAxis,h=a.xKey,v=a.yKey,_=a.xData,y=a.yData,m=h&&v&&this.data?this.data:[];if(!s||!d)return!1;var E=s.scale instanceof ContinuousScale$1,w=d.scale instanceof ContinuousScale$1;_.length=0,y.length=0;try{for(var S=__values$b(m),D=S.next();!D.done;D=S.next()){var T=D.value,M=T[v],A=checkDatum(T[h],E);if(!E||void 0!==A){_.push(A);var L=checkDatum(M,w);y.push(L)}}}catch(N){e={error:N}}finally{try{D&&!D.done&&(i=S.return)&&i.call(S)}finally{if(e)throw e.error}}return this.xDomain=E?this.fixNumericExtent(extent$1(_,isContinuous$1),s):_,this.yDomain=w?this.fixNumericExtent(extent$1(y,isContinuous$1),d):y,!0},r.prototype.createNodeData=function(){var e,i=this,a=i.data,s=i.xAxis,d=i.yAxis,h=i.marker,v=h.enabled,_=h.size,y=h.strokeWidth;if(!a||!s||!d)return[];for(var m=this,E=m.xData,w=m.yData,S=m.label,D=m.xKey,T=m.yKey,b=s.scale,M=d.scale,A=(b.bandwidth||0)/2,L=(M.bandwidth||0)/2,N=new Array(a.length),G=v?_:0,k=!0,K=void 0,$=void 0,j=0,Y=0;Y<E.length;Y++){var ie=$||[E[Y],w[Y]];if(void 0===ie[1])K=void 0,k=!0;else{var re=__read$q(ie,2),J=re[0],Q=re[1],oe=b.convert(J)+A;if(isNaN(oe)){K=void 0,k=!0;continue}var fe=(b.bandwidth||.5*_+(y||0))+1;$=void 0===w[Y+1]?void 0:[E[Y+1],w[Y+1]];var ge=s.inRangeEx(oe,0,fe),ce=$&&s.inRangeEx(b.convert($[0])+A,0,fe);if(-1===ge&&-1===ce){k=!0;continue}if(1===ge&&1===K){k=!0;continue}K=ge;var z,pe=M.convert(Q)+L;z=S.formatter?S.formatter({value:Q}):"number"==typeof Q&&isFinite(Q)?Q.toFixed(2):Q?String(Q):"";var le=((e={})[D]=J,e[T]=Q,e);N[j++]={series:this,datum:le,point:{x:oe,y:pe,moveTo:k,size:G},label:z?{text:z,fontStyle:S.fontStyle,fontWeight:S.fontWeight,fontSize:S.fontSize,fontFamily:S.fontFamily,textAlign:"center",textBaseline:"bottom",fill:S.color}:void 0},k=!1}}return N.length=j,[{itemId:T,nodeData:N,labelData:N}]},r.prototype.isPathOrSelectionDirty=function(){return this.marker.isDirty()},r.prototype.updatePaths=function(e){var i,a,s=e.contextData.nodeData,h=__read$q(e.paths,1)[0],v=h.path;h.fill=void 0,h.lineJoin="round",h.pointerEvents=PointerEvents$1.None,v.clear({trackChanges:!0});try{for(var _=__values$b(s),y=_.next();!y.done;y=_.next()){var m=y.value;m.point.moveTo?v.moveTo(m.point.x,m.point.y):v.lineTo(m.point.x,m.point.y)}}catch(E){i={error:E}}finally{try{y&&!y.done&&(a=_.return)&&a.call(_)}finally{if(i)throw i.error}}h.checkPathDirty()},r.prototype.updatePathNodes=function(e){var a=__read$q(e.paths,1)[0];a.stroke=this.stroke,a.strokeWidth=this.getStrokeWidth(this.strokeWidth),a.strokeOpacity=this.strokeOpacity,a.lineDash=this.lineDash,a.lineDashOffset=this.lineDashOffset},r.prototype.updateMarkerSelection=function(e){var i=e.nodeData,a=e.markerSelection,s=this.marker,d=s.shape;i=d&&s.enabled?i:[];var v=getMarker$1(d);this.marker.isDirty()&&(a=a.setData([])).exit.remove();var _=a.setData(i);_.exit.remove();var y=_.enter.append(v);return _.merge(y)},r.prototype.updateMarkerNodes=function(e){var a=e.isHighlight,s=this,d=s.marker,h=s.marker.fillOpacity,v=s.xKey,_=s.yKey,y=s.stroke,m=s.strokeOpacity,E=s.highlightStyle,T=E.item,b=T.fill,M=void 0===b?E.fill:b,A=T.fillOpacity,L=void 0===A?h:A,N=T.stroke,G=void 0===N?E.stroke:N,k=T.strokeWidth,K=void 0===k?E.strokeWidth:k,$=d.size,j=d.formatter,Y=void 0!==d.strokeWidth?d.strokeWidth:this.strokeWidth;e.markerSelection.each(function(ie,re){var oe=a&&void 0!==M?M:d.fill,fe=a?L:h,ge=a&&void 0!==G?G:d.stroke||y,ce=a&&void 0!==K?K:Y,pe=void 0;j&&(pe=j({datum:re.datum,xKey:v,yKey:_,fill:oe,stroke:ge,strokeWidth:ce,size:$,highlighted:a})),ie.fill=pe&&pe.fill||oe,ie.stroke=pe&&pe.stroke||ge,ie.strokeWidth=pe&&void 0!==pe.strokeWidth?pe.strokeWidth:ce,ie.fillOpacity=fe??1,ie.strokeOpacity=d.strokeOpacity??m??1,ie.size=pe&&void 0!==pe.size?pe.size:$,ie.translationX=re.point.x,ie.translationY=re.point.y,ie.visible=ie.size>0}),a||this.marker.markClean()},r.prototype.updateLabelSelection=function(e){var i=e.labelData,s=this.marker,v=e.labelSelection.setData(i=s.shape&&s.enabled?i:[]);v.exit.remove();var _=v.enter.append(Text$1);return v.merge(_)},r.prototype.updateLabelNodes=function(e){var a=this.label,s=a.enabled,d=a.fontStyle,h=a.fontWeight,v=a.fontSize,_=a.fontFamily,y=a.color;e.labelSelection.each(function(m,E){var w=E.point,S=E.label;E&&S&&s?(m.fontStyle=d,m.fontWeight=h,m.fontSize=v,m.fontFamily=_,m.textAlign=S.textAlign,m.textBaseline=S.textBaseline,m.text=S.text,m.x=w.x,m.y=w.y-10,m.fill=y,m.visible=!0):m.visible=!1})},r.prototype.fireNodeClickEvent=function(e,i){this.fireEvent({type:"nodeClick",event:e,series:this,datum:i.datum,xKey:this.xKey,yKey:this.yKey})},r.prototype.getTooltipHtml=function(e){var i=this,a=i.xKey,s=i.yKey,d=i.xAxis,h=i.yAxis;if(!(a&&s&&d&&h))return"";var v=this,_=v.xName,y=v.yName,m=v.tooltip,E=v.marker,w=m.renderer,S=m.format,D=e.datum,T=D[a],b=D[s],M=d.formatDatum(T),A=h.formatDatum(b),L=sanitizeHtml(this.title||y),N=sanitizeHtml(M+": "+A),G=E.formatter,k=E.fill,$=E.strokeWidth,ie=void 0;G&&(ie=G({datum:D,xKey:a,yKey:s,fill:k,stroke:E.stroke,strokeWidth:void 0!==$?$:this.strokeWidth,size:E.size,highlighted:!1}));var re=ie&&ie.fill||k,J={title:L,backgroundColor:re,content:N};if(S||w){var Q={datum:D,xKey:a,xValue:T,xName:_,yKey:s,yValue:b,yName:y,title:L,color:re};if(S)return toTooltipHtml$1({content:interpolate(S,Q)},J);if(w)return toTooltipHtml$1(w(Q),J)}return toTooltipHtml$1(J)},r.prototype.listSeriesItems=function(e){var i,a,s,d=this,v=d.data,y=d.yKey,S=d.marker;v&&v.length&&d.xKey&&y&&e.push({id:d.id,itemId:y,enabled:d.visible,label:{text:d.title||d.yName||y},marker:{shape:S.shape,fill:S.fill||"rgba(0, 0, 0, 0)",stroke:S.stroke||d.stroke||"rgba(0, 0, 0, 0)",fillOpacity:(i=S.fillOpacity,i??1),strokeOpacity:(a=S.strokeOpacity,s=a??d.strokeOpacity,s??1)}})},r.className="LineSeries",r.type="line",r}(CartesianSeries),__extends$24=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__assign$r=function(){return __assign$r=Object.assign||function(l){for(var r,e=1,i=arguments.length;e<i;e++)for(var a in r=arguments[e])Object.prototype.hasOwnProperty.call(r,a)&&(l[a]=r[a]);return l},__assign$r.apply(this,arguments)},__decorate$17=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},ScatterSeriesTooltip=function(l){function r(){var e=null!==l&&l.apply(this,arguments)||this;return e.renderer=void 0,e}return __extends$24(r,l),r}(SeriesTooltip),ScatterSeries=function(l){function r(){var e=l.call(this,{pickGroupIncludes:["markers"],pickModes:[SeriesNodePickMode.NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST,SeriesNodePickMode.NEAREST_NODE,SeriesNodePickMode.EXACT_SHAPE_MATCH],pathsPerSeries:0,features:["markers"]})||this;return e.xDomain=[],e.yDomain=[],e.xData=[],e.yData=[],e.validData=[],e.sizeData=[],e.sizeScale=new LinearScale$1,e.marker=new CartesianSeriesMarker,e.label=new Label$1,e.fill="#c16068",e.stroke="#874349",e.strokeWidth=2,e.fillOpacity=1,e.strokeOpacity=1,e.title=void 0,e.labelKey=void 0,e.xName="",e.yName="",e.sizeName="Size",e.labelName="Label",e._xKey="",e._yKey="",e._sizeKey=void 0,e.tooltip=new ScatterSeriesTooltip,e.label.enabled=!1,e}return __extends$24(r,l),Object.defineProperty(r.prototype,"xKey",{get:function(){return this._xKey},set:function(e){this._xKey=e,this.xData=[]},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"yKey",{get:function(){return this._yKey},set:function(e){this._yKey=e,this.yData=[]},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"sizeKey",{get:function(){return this._sizeKey},set:function(e){this._sizeKey=e,this.sizeData=[]},enumerable:!0,configurable:!0}),r.prototype.setColors=function(e,i){this.marker.fill=e[0],this.marker.stroke=i[0]},r.prototype.processData=function(){var e=this,i=e.xKey,a=e.yKey,s=e.sizeKey,d=e.xAxis,h=e.yAxis,v=e.marker;if(!d||!h)return!1;var E=d.scale instanceof ContinuousScale$1,w=h.scale instanceof ContinuousScale$1;return this.validData=(i&&a&&this.data?this.data:[]).filter(function(S){return void 0!==checkDatum(S[i],E)&&void 0!==checkDatum(S[a],w)}),this.xData=this.validData.map(function(S){return S[i]}),this.yData=this.validData.map(function(S){return S[a]}),this.sizeData=s?this.validData.map(function(S){return S[s]}):[],this.sizeScale.domain=v.domain?v.domain:extent$1(this.sizeData,isContinuous$1)||[1,1],this.xDomain=d.scale instanceof ContinuousScale$1?this.fixNumericExtent(extent$1(this.xData,isContinuous$1),d):this.xData,this.yDomain=h.scale instanceof ContinuousScale$1?this.fixNumericExtent(extent$1(this.yData,isContinuous$1),h):this.yData,!0},r.prototype.getDomain=function(e){return e===ChartAxisDirection.X?this.xDomain:this.yDomain},r.prototype.fireNodeClickEvent=function(e,i){this.fireEvent({type:"nodeClick",event:e,series:this,datum:i.datum,xKey:this.xKey,yKey:this.yKey,sizeKey:this.sizeKey})},r.prototype.createNodeData=function(){var e=this,d=e.xAxis,h=e.yAxis,v=e.yKey,_=e.label,y=e.labelKey;if(!(e.chart&&e.data&&e.visible&&d&&h))return[];var m=d.scale,E=h.scale,w=m instanceof ContinuousScale$1,S=E instanceof ContinuousScale$1,D=(m.bandwidth||0)/2,T=(E.bandwidth||0)/2,b=this,M=b.xData,A=b.yData,L=b.validData,N=b.sizeData,G=b.sizeScale,k=b.marker,K=new Array(M.length);G.range=[k.size,k.maxSize];for(var $=_.getFont(),j=0,Y=0;Y<M.length;Y++){var ie=this.checkDomainXY(M[Y],A[Y],w,S);if(ie){var re=m.convert(ie[0])+D,J=E.convert(ie[1])+T;if(this.checkRangeXY(re,J,d,h)){var Q=y?String(L[Y][y]):"",oe=HdpiCanvas$1.getTextSize(Q,$),fe=N.length?G.convert(N[Y]):k.size;K[j++]={series:this,itemId:v,datum:L[Y],point:{x:re,y:J,size:fe},label:__assign$r({text:Q},oe)}}}}return K.length=j,[{itemId:this.yKey,nodeData:K,labelData:K}]},r.prototype.isPathOrSelectionDirty=function(){return this.marker.isDirty()},r.prototype.getLabelData=function(){var e;return null===(e=this.contextNodeData)||void 0===e?void 0:e.reduce(function(i,a){return i.concat(a.labelData)},[])},r.prototype.updateMarkerSelection=function(e){var i=e.nodeData,a=e.markerSelection,s=this.marker,d=s.enabled,v=getMarker$1(s.shape);this.marker.isDirty()&&(a=a.setData([])).exit.remove();var y=a.setData(d?i:[]);y.exit.remove();var m=y.enter.append(v);return y.merge(m)},r.prototype.updateMarkerNodes=function(e){var i=e.markerSelection,a=e.isHighlight,s=this,d=s.marker,h=s.xKey,v=s.yKey,E=s.fill,w=s.stroke,D=s.marker,T=D.fillOpacity,b=void 0===T?s.fillOpacity:T,M=D.strokeOpacity,A=void 0===M?s.strokeOpacity:M,L=s.highlightStyle,K=L.item,$=K.fill,j=void 0===$?L.fill:$,Y=K.fillOpacity,ie=void 0===Y?b:Y,re=K.stroke,J=void 0===re?L.stroke:re,Q=K.strokeWidth,oe=void 0===Q?L.strokeWidth:Q,fe=void 0!==d.strokeWidth?d.strokeWidth:s.strokeWidth,ge=d.formatter;s.sizeScale.range=[d.size,d.maxSize],i.each(function(ce,pe){var z,X,we,be=a&&void 0!==j?j:d.fill||E,ve=a?ie:b,De=a&&void 0!==J?J:d.stroke||w,Le=A,Te=a&&void 0!==oe?oe:fe,Ue=(null===(z=pe.point)||void 0===z?void 0:z.size)??0,We=void 0;ge&&(We=ge({datum:pe.datum,xKey:h,yKey:v,fill:be,stroke:De,strokeWidth:Te,size:Ue,highlighted:a})),ce.fill=We&&We.fill||be,ce.stroke=We&&We.stroke||De,ce.strokeWidth=We&&void 0!==We.strokeWidth?We.strokeWidth:Te,ce.size=We&&void 0!==We.size?We.size:Ue,ce.fillOpacity=ve??1,ce.strokeOpacity=Le??1,ce.translationX=(null===(X=pe.point)||void 0===X?void 0:X.x)??0,ce.translationY=(null===(we=pe.point)||void 0===we?void 0:we.y)??0,ce.visible=ce.size>0}),a||this.marker.markClean()},r.prototype.updateLabelSelection=function(e){var i,s=e.labelSelection,h=((null===(i=this.chart)||void 0===i?void 0:i.placeLabels().get(this))??[]).map(function(y){return __assign$r(__assign$r({},y.datum),{point:{x:y.x,y:y.y,size:y.datum.point.size}})}),v=s.setData(h);v.exit.remove();var _=v.enter.append(Text$1);return v.merge(_)},r.prototype.updateLabelNodes=function(e){var a=this.label;e.labelSelection.each(function(s,d){var h,_;s.text=d.label.text,s.fill=a.color,s.x=(null===(h=d.point)||void 0===h?void 0:h.x)??0,s.y=(null===(_=d.point)||void 0===_?void 0:_.y)??0,s.fontStyle=a.fontStyle,s.fontWeight=a.fontWeight,s.fontSize=a.fontSize,s.fontFamily=a.fontFamily,s.textAlign="left",s.textBaseline="top"})},r.prototype.getTooltipHtml=function(e){var s,d,h=this,v=h.xKey,_=h.yKey,y=h.xAxis,m=h.yAxis;if(!(v&&_&&y&&m))return"";var E=this,D=E.marker,T=E.tooltip,b=E.xName,M=E.yName,A=E.sizeKey,L=E.sizeName,N=E.labelKey,G=E.labelName,k=D.fill??E.fill,K=D.stroke??E.stroke,$=this.getStrokeWidth(D.strokeWidth||this.strokeWidth),j=this.marker.formatter,Y=void 0;j&&(Y=j({datum:e,xKey:v,yKey:_,fill:k,stroke:K,strokeWidth:$,size:(d=null===(s=e.point)||void 0===s?void 0:s.size,d??0),highlighted:!1}));var ie=Y&&Y.fill||k||"gray",re=this.title||M,J=e.datum,Q=J[v],oe=J[_],fe=sanitizeHtml(y.formatDatum(Q)),ge=sanitizeHtml(m.formatDatum(oe)),ce="<b>"+sanitizeHtml(b||v)+"</b>: "+fe+"<br><b>"+sanitizeHtml(M||_)+"</b>: "+ge;A&&(ce+="<br><b>"+sanitizeHtml(L||A)+"</b>: "+sanitizeHtml(J[A])),N&&(ce="<b>"+sanitizeHtml(G||N)+"</b>: "+sanitizeHtml(J[N])+"<br>"+ce);var pe={title:re,backgroundColor:ie,content:ce},z=T.renderer;return z?toTooltipHtml$1(z({datum:J,xKey:v,xValue:Q,xName:b,yKey:_,yValue:oe,yName:M,sizeKey:A,sizeName:L,labelKey:N,labelName:G,title:re,color:ie}),pe):toTooltipHtml$1(pe)},r.prototype.listSeriesItems=function(e){var i=this,s=i.data,h=i.yKey,m=i.marker;s&&s.length&&i.xKey&&h&&e.push({id:i.id,itemId:h,enabled:i.visible,label:{text:i.title||i.yName||h},marker:{shape:m.shape,fill:m.fill||i.fill||"rgba(0, 0, 0, 0)",stroke:m.stroke||i.stroke||"rgba(0, 0, 0, 0)",fillOpacity:void 0!==m.fillOpacity?m.fillOpacity:i.fillOpacity,strokeOpacity:void 0!==m.strokeOpacity?m.strokeOpacity:i.strokeOpacity}})},r.className="ScatterSeries",r.type="scatter",__decorate$17([Deprecated("Use marker.fill instead.",{default:"#c16068"})],r.prototype,"fill",void 0),__decorate$17([Deprecated("Use marker.stroke instead.",{default:"#874349"})],r.prototype,"stroke",void 0),__decorate$17([Deprecated("Use marker.strokeWidth instead.",{default:2})],r.prototype,"strokeWidth",void 0),__decorate$17([Deprecated("Use marker.fillOpacity instead.",{default:1})],r.prototype,"fillOpacity",void 0),__decorate$17([Deprecated("Use marker.strokeOpacity instead.",{default:1})],r.prototype,"strokeOpacity",void 0),r}(CartesianSeries),__extends$23=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__read$p=function(l,r){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var a,d,i=e.call(l),s=[];try{for(;(void 0===r||r-- >0)&&!(a=i.next()).done;)s.push(a.value)}catch(h){d={error:h}}finally{try{a&&!a.done&&(e=i.return)&&e.call(i)}finally{if(d)throw d.error}}return s},__spread$b=function(){for(var l=[],r=0;r<arguments.length;r++)l=l.concat(__read$p(arguments[r]));return l},HistogramSeriesNodeTag=(()=>(function(l){l[l.Bin=0]="Bin",l[l.Label=1]="Label"}(HistogramSeriesNodeTag||(HistogramSeriesNodeTag={})),HistogramSeriesNodeTag))(),HistogramSeriesLabel=function(l){function r(){var e=null!==l&&l.apply(this,arguments)||this;return e.formatter=void 0,e}return __extends$23(r,l),r}(Label$1),defaultBinCount=10,aggregationFunctions={count:function(l){return l.data.length},sum:function(l,r){return l.data.reduce(function(e,i){return e+i[r]},0)},mean:function(l,r){return aggregationFunctions.sum(l,r)/aggregationFunctions.count(l,r)}},HistogramBin=function(){function l(r){var e=__read$p(r,2),i=e[0],a=e[1];this.data=[],this.aggregatedValue=0,this.frequency=0,this.domain=[i,a]}return l.prototype.addDatum=function(r){this.data.push(r),this.frequency++},Object.defineProperty(l.prototype,"domainWidth",{get:function(){var r=__read$p(this.domain,2);return r[1]-r[0]},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"relativeHeight",{get:function(){return this.aggregatedValue/this.domainWidth},enumerable:!0,configurable:!0}),l.prototype.calculateAggregatedValue=function(r,e){e||(r="count"),this.aggregatedValue=(0,aggregationFunctions[r])(this,e)},l.prototype.getY=function(r){return r?this.relativeHeight:this.aggregatedValue},l}(),HistogramSeriesTooltip=function(l){function r(){var e=null!==l&&l.apply(this,arguments)||this;return e.renderer=void 0,e}return __extends$23(r,l),r}(SeriesTooltip),HistogramSeries=function(l){function r(){var e,i=l.call(this,{pickModes:[SeriesNodePickMode.EXACT_SHAPE_MATCH]})||this;return i.binnedData=[],i.xDomain=[],i.yDomain=[],i.label=new HistogramSeriesLabel,i.tooltip=new HistogramSeriesTooltip,i.fill=void 0,i.stroke=void 0,i.fillOpacity=1,i.strokeOpacity=1,i.lineDash=[0],i.lineDashOffset=0,i.directionKeys=((e={})[ChartAxisDirection.X]=["xKey"],e[ChartAxisDirection.Y]=["yKey"],e),i.xKey="",i.areaPlot=!1,i.bins=void 0,i.aggregation="count",i.binCount=void 0,i.xName="",i.yKey="",i.yName="",i.strokeWidth=1,i.shadow=void 0,i.label.enabled=!1,i}return __extends$23(r,l),r.prototype.getKeys=function(e){var i=this,a=this.directionKeys,s=a&&a[e],d=[];return s&&s.forEach(function(h){var v=i[h];v&&(Array.isArray(v)?d.push.apply(d,__spread$b(v)):d.push(v))}),d},r.prototype.setColors=function(e,i){this.fill=e[0],this.stroke=i[0]},r.prototype.deriveBins=function(){var e=this,i=this.bins;if(!this.data)return[];if(i)return i;var a=this.data.map(function(y){return y[e.xKey]}),s=this.fixNumericExtent(extent$1(a,isContinuous$1));if(void 0===this.binCount){var d=ticks$1(s[0],s[1],this.binCount||defaultBinCount),h=tickStep$1(s[0],s[1],this.binCount||defaultBinCount),v=d[0];return __spread$b([[v-h,v]],d.map(function(y){return[y,y+h]}))}return this.calculateNiceBins(s,this.binCount)},r.prototype.calculateNiceBins=function(e,i){var a,s=Math.floor(e[0]),d=e[1],v=i||1;return a=this.calculateNiceStart(s,d,v),this.getBins(s=a.start,d,a.binSize,v)},r.prototype.getBins=function(e,i,a,s){for(var d=[],h=0;h<s;h++){var v=Math.round(10*(e+h*a))/10,_=Math.round(10*(e+(h+1)*a))/10;h===s-1&&(_=Math.max(_,i)),d[h]=[v,_]}return d},r.prototype.calculateNiceStart=function(e,i,a){var s=Math.abs(i-e)/a,d=Math.floor(Math.log10(s)),h=Math.pow(10,d);return{start:Math.floor(e/h)*h,binSize:s}},r.prototype.placeDataInBins=function(e){for(var i=this,a=this.xKey,s=this.deriveBins(),d=e.slice().sort(function(m,E){return m[a]<E[a]?-1:m[a]>E[a]?1:0}),h=[new HistogramBin(s[0])],v=0,_=0;_<d.length&&v<s.length;_++){for(var y=d[_];y[a]>s[v][1]&&v<s.length;)v++,h.push(new HistogramBin(s[v]));v<s.length&&h[v].addDatum(y)}return h.forEach(function(m){return m.calculateAggregatedValue(i.aggregation,i.yKey)}),h},Object.defineProperty(r.prototype,"xMax",{get:function(){var e=this;return this.data&&this.data.reduce(function(i,a){return Math.max(i,a[e.xKey])},Number.NEGATIVE_INFINITY)},enumerable:!0,configurable:!0}),r.prototype.processData=function(){var e=this,s=this.data;this.binnedData=this.placeDataInBins(this.xKey&&s?s:[]);var h=extent$1(this.binnedData.map(function(E){return E.getY(e.areaPlot)}),isContinuous$1);return this.yDomain=this.fixNumericExtent([0,h?h[1]:1]),this.xDomain=[this.binnedData[0].domain[0],this.binnedData[this.binnedData.length-1].domain[1]],!0},r.prototype.getDomain=function(e){return e===ChartAxisDirection.X?this.xDomain:this.yDomain},r.prototype.fireNodeClickEvent=function(e,i){this.fireEvent({type:"nodeClick",event:e,series:this,datum:i.datum,xKey:this.xKey})},r.prototype.createNodeData=function(){var e=this,a=this.xAxis,s=this.yAxis;if(!this.seriesItemEnabled||!a||!s)return[];var d=a.scale,h=s.scale,v=this,_=v.fill,y=v.stroke,m=v.strokeWidth,E=[],S=this.label,D=S.formatter,T=void 0===D?function(G){return String(G.value)}:D,b=S.fontStyle,M=S.fontWeight,A=S.fontSize,L=S.fontFamily,N=S.color;return this.binnedData.forEach(function(G){var k=G.aggregatedValue,K=G.frequency,$=__read$p(G.domain,2),Y=$[1],ie=G.relativeHeight,re=d.convert($[0]),J=d.convert(Y),Q=e.areaPlot?ie:e.yKey?k:K,oe=h.convert(0),fe=h.convert(Q),ge=J-re,ce=Math.abs(fe-oe),pe=0!==Q?{text:T({value:G.aggregatedValue}),fontStyle:b,fontWeight:M,fontSize:A,fontFamily:L,fill:N,x:re+ge/2,y:fe+ce/2}:void 0;E.push({series:e,datum:G,x:re,y:fe,width:ge,height:ce,fill:_,stroke:y,strokeWidth:m,label:pe})}),[{itemId:this.yKey,nodeData:E,labelData:E}]},r.prototype.updateDatumSelection=function(e){var s=e.datumSelection.setData(e.nodeData);s.exit.remove();var d=s.enter.append(Rect).each(function(h){h.tag=HistogramSeriesNodeTag.Bin,h.crisp=!0});return s.merge(d)},r.prototype.updateDatumNodes=function(e){var i=this,s=e.isHighlight,d=this,h=d.fillOpacity,v=d.strokeOpacity,_=d.shadow,y=d.highlightStyle,S=y.item,D=S.fill,T=void 0===D?y.fill:D,b=S.fillOpacity,M=void 0===b?h:b,A=S.stroke,L=void 0===A?y.stroke:A,N=S.strokeWidth,G=void 0===N?y.strokeWidth:N;e.datumSelection.each(function(k,K,$){var j=s&&void 0!==G?G:K.strokeWidth,Y=s?M:h;k.x=K.x,k.y=K.y,k.width=K.width,k.height=K.height,k.fill=s&&void 0!==T?T:K.fill,k.stroke=s&&void 0!==L?L:K.stroke,k.fillOpacity=Y,k.strokeOpacity=v,k.strokeWidth=j,k.lineDash=i.lineDash,k.lineDashOffset=i.lineDashOffset,k.fillShadow=_,k.zIndex=s?Series.highlightedZIndex:$,k.visible=K.height>0})},r.prototype.updateLabelSelection=function(e){var s=e.labelSelection.setData(e.labelData);s.exit.remove();var d=s.enter.append(Text$1).each(function(h){h.tag=HistogramSeriesNodeTag.Label,h.pointerEvents=PointerEvents$1.None,h.textAlign="center",h.textBaseline="middle"});return s.merge(d)},r.prototype.updateLabelNodes=function(e){var a=this.label.enabled;e.labelSelection.each(function(s,d){var h=d.label;h&&a?(s.text=h.text,s.x=h.x,s.y=h.y,s.fontStyle=h.fontStyle,s.fontWeight=h.fontWeight,s.fontSize=h.fontSize,s.fontFamily=h.fontFamily,s.fill=h.fill,s.visible=!0):s.visible=!1})},r.prototype.getTooltipHtml=function(e){var i=this,a=i.xKey,s=i.yKey,d=i.xAxis,h=i.yAxis;if(!a||!d||!h)return"";var v=this,_=v.xName,y=v.yName,m=v.fill,w=v.aggregation,S=v.tooltip.renderer,D=e.datum,T=D.aggregatedValue,b=D.frequency,M=__read$p(D.domain,2),A=M[0],L=M[1],N=sanitizeHtml(_||a)+": "+d.formatDatum(A)+" - "+d.formatDatum(L),G=s?"<b>"+sanitizeHtml(y||s)+" ("+w+")</b>: "+h.formatDatum(T)+"<br>":"",k={title:N,backgroundColor:m,content:G+="<b>Frequency</b>: "+b};return S?toTooltipHtml$1(S({datum:D,xKey:a,xValue:D.domain,xName:_,yKey:s,yValue:D.aggregatedValue,yName:y,color:m,title:N}),k):toTooltipHtml$1(k)},r.prototype.listSeriesItems=function(e){var i=this,s=i.data,d=i.xKey;s&&s.length&&e.push({id:i.id,itemId:d,enabled:i.visible,label:{text:i.yName||d||"Frequency"},marker:{fill:i.fill||"rgba(0, 0, 0, 0)",stroke:i.stroke||"rgba(0, 0, 0, 0)",fillOpacity:i.fillOpacity,strokeOpacity:i.strokeOpacity}})},r.className="HistogramSeries",r.type="histogram",r}(CartesianSeries),__extends$22=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),HierarchySeries=function(l){function r(){return l.call(this,{pickModes:[SeriesNodePickMode.EXACT_SHAPE_MATCH]})||this}return __extends$22(r,l),r.prototype.getLabelData=function(){return[]},r}(Series),__extends$21=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__decorate$16=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},DropShadow=function(l){function r(){var e=null!==l&&l.apply(this,arguments)||this;return e.enabled=!0,e.color="rgba(0, 0, 0, 0.5)",e.xOffset=0,e.yOffset=0,e.blur=5,e}return __extends$21(r,l),__decorate$16([SceneChangeDetection({redraw:RedrawType.MAJOR})],r.prototype,"enabled",void 0),__decorate$16([SceneChangeDetection({redraw:RedrawType.MAJOR})],r.prototype,"color",void 0),__decorate$16([SceneChangeDetection({redraw:RedrawType.MAJOR})],r.prototype,"xOffset",void 0),__decorate$16([SceneChangeDetection({redraw:RedrawType.MAJOR})],r.prototype,"yOffset",void 0),__decorate$16([SceneChangeDetection({redraw:RedrawType.MAJOR})],r.prototype,"blur",void 0),r}(ChangeDetectable);function slice(l,r,e,i,a){var d=l.value&&(a-e)/l.value;l.children.forEach(function(h){h.x0=r,h.x1=i,h.y0=e,h.y1=e+=h.value*d})}function dice(l,r,e,i,a){var d=l.value&&(i-r)/l.value;l.children.forEach(function(h){h.x0=r,h.x1=r+=h.value*d,h.y0=e,h.y1=a})}function roundNode(l){l.x0=Math.round(l.x0),l.y0=Math.round(l.y0),l.x1=Math.round(l.x1),l.y1=Math.round(l.y1)}function squarifyRatio(l,r,e,i,a,s){for(var E,w,S,D,T,b,M,A,L,N,d=[],h=r.children,v=h.length,_=r.value,y=0,m=0;y<v;){E=a-e,w=s-i;do{D=h[m++].value}while(!D&&m<v);for(T=b=D,N=D*D*(L=Math.max(w/E,E/w)/(_*l)),A=Math.max(b/N,N/T);m<v;++m){if((S=h[m].value)<T&&(T=S),S>b&&(b=S),N=(D+=S)*D*L,(M=Math.max(b/N,N/T))>A){D-=S;break}A=M}var G={value:D,dice:E<w,children:h.slice(y,m)};if(d.push(G),G.dice){var k=i,K=s;_&&(K=i+=w*D/_),dice(G,e,k,a,K)}else{var $=e,j=a;_&&(j=e+=E*D/_),slice(G,$,i,j,s)}_-=D,y=m}return d}var phi=(1+Math.sqrt(5))/2,squarify=function l(r){function e(i,a,s,d,h){squarifyRatio(r,i,a,s,d,h)}return e.ratio=function(i){return l((i=+i)>1?i:1)},e}(phi),Treemap=function(){function l(){this.paddingStack=[0],this.dx=1,this.dy=1,this.round=!0,this.tile=squarify,this.paddingInner=function(r){return 0},this.paddingTop=function(r){return 0},this.paddingRight=function(r){return 0},this.paddingBottom=function(r){return 0},this.paddingLeft=function(r){return 0}}return Object.defineProperty(l.prototype,"size",{get:function(){return[this.dx,this.dy]},set:function(r){this.dx=r[0],this.dy=r[1]},enumerable:!0,configurable:!0}),l.prototype.processData=function(r){return r.x0=0,r.y0=0,r.x1=this.dx,r.y1=this.dy,r.eachBefore(this.positionNode.bind(this)),this.paddingStack=[0],this.round&&r.eachBefore(roundNode),r},l.prototype.positionNode=function(r){var e=this.paddingStack[r.depth],i=r.x0+e,a=r.y0+e,s=r.x1-e,d=r.y1-e;s<i&&(i=s=(i+s)/2),d<a&&(a=d=(a+d)/2),r.x0=i,r.y0=a,r.x1=s,r.y1=d,r.children&&(e=this.paddingStack[r.depth+1]=this.paddingInner(r)/2,i+=this.paddingLeft(r)-e,a+=this.paddingTop(r)-e,(s-=this.paddingRight(r)-e)<i&&(i=s=(i+s)/2),(d-=this.paddingBottom(r)-e)<a&&(a=d=(a+d)/2),this.tile(r,i,a,s,d))},l}(),__values$a=function(l){var r="function"==typeof Symbol&&Symbol.iterator,e=r&&l[r],i=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&i>=l.length&&(l=void 0),{value:l&&l[i++],done:!l}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},__read$o=function(l,r){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var a,d,i=e.call(l),s=[];try{for(;(void 0===r||r-- >0)&&!(a=i.next()).done;)s.push(a.value)}catch(h){d={error:h}}finally{try{a&&!a.done&&(e=i.return)&&e.call(i)}finally{if(d)throw d.error}}return s},__spread$a=function(){for(var l=[],r=0;r<arguments.length;r++)l=l.concat(__read$o(arguments[r]));return l},HierarchyNode=function(){function l(r){this.value=0,this.depth=0,this.height=0,this.parent=void 0,this.children=void 0,this.datum=r}return l.prototype.countFn=function(r){var e=0,i=r.children;if(i&&i.length)for(var a=i.length;--a>=0;)e+=i[a].value;else e=1;r.value=e},l.prototype.count=function(){return this.eachAfter(this.countFn)},l.prototype.each=function(r,e){var i=this,a=-1;return this.iterator(function(s){r.call(e,s,++a,i)}),this},l.prototype.eachAfter=function(r,e){for(var i=this,a=[i],s=[];i=a.pop();){s.push(i);var d=i.children;if(d)for(var h=0,v=d.length;h<v;++h)a.push(d[h])}for(var _=-1;i=s.pop();)r.call(e,i,++_,this);return this},l.prototype.eachBefore=function(r,e){for(var i=this,a=[i],s=-1;i=a.pop();){r.call(e,i,++s,this);var d=i.children;if(d)for(var h=d.length-1;h>=0;--h)a.push(d[h])}return this},l.prototype.find=function(r,e){var s,i=this,a=-1;return this.iterator(function(d){if(r.call(e,d,++a,i))return s=d,!1}),s},l.prototype.sum=function(r){return this.eachAfter(function(e){var i=+r(e.datum)||0,a=e.children;if(a)for(var s=a.length;--s>=0;)i+=a[s].value;e.value=i})},l.prototype.sort=function(r){return this.eachBefore(function(e){e.children&&e.children.sort(r)})},l.prototype.path=function(r){for(var e=this,i=leastCommonAncestor(e,r),a=[e];e!==i;)a.push(e=e.parent);for(var s=a.length;r!==i;)a.splice(s,0,r),r=r.parent;return a},l.prototype.ancestors=function(){for(var r=this,e=[r];r=r.parent;)e.push(r);return e},l.prototype.descendants=function(){var r=[];return this.iterator(function(e){return r.push(e)}),r},l.prototype.leaves=function(){var r=[];return this.eachBefore(function(e){e.children||r.push(e)}),r},l.prototype.links=function(){var r=this,e=[];return r.each(function(i){i!==r&&e.push({source:i.parent,target:i})}),e},l.prototype.iterator=function(r){var e,i,a=this.children,s=void 0===a?[]:a;if(!1===r(this))return!1;try{for(var d=__values$a(s),h=d.next();!h.done;h=d.next())if(!1===h.value.iterator(r))return!1}catch(_){e={error:_}}finally{try{h&&!h.done&&(i=d.return)&&i.call(d)}finally{if(e)throw e.error}}return!0},l}();function hierarchy(l,r){l instanceof Map?(l=[void 0,l],void 0===r&&(r=mapChildren)):void 0===r&&(r=objectChildren);for(var e=new HierarchyNode(l),i=[e],a=function(){var s=i.pop(),d=r(s.datum);if(!d)return"continue";var h=Array.from(d).map(function(v){return new HierarchyNode(v)});h.forEach(function(v){v.parent=s,v.depth=s.depth+1}),s.children=h,i.push.apply(i,__spread$a(h))};i.length>0;)a();return e.eachBefore(computeHeight)}function computeHeight(l){var r=0;do{l.height=r,l=l.parent}while(l&&l.height<++r)}function mapChildren(l){return Array.isArray(l)?l[1]:void 0}function objectChildren(l){return l.children}function leastCommonAncestor(l,r){if(l&&r){if(l===r)return l;var e=l.ancestors(),i=r.ancestors(),a=void 0;for(l=e.pop(),r=i.pop();l===r;)a=l,l=e.pop(),r=i.pop();return a}}var __extends$20=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__values$9=function(l){var r="function"==typeof Symbol&&Symbol.iterator,e=r&&l[r],i=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&i>=l.length&&(l=void 0),{value:l&&l[i++],done:!l}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},TreemapSeriesTooltip=function(l){function r(){var e=null!==l&&l.apply(this,arguments)||this;return e.renderer=void 0,e}return __extends$20(r,l),r}(SeriesTooltip),TreemapSeriesLabel=function(l){function r(){var e=null!==l&&l.apply(this,arguments)||this;return e.padding=10,e}return __extends$20(r,l),r}(Label$1),TextNodeTag=(()=>(function(l){l[l.Name=0]="Name",l[l.Value=1]="Value"}(TextNodeTag||(TextNodeTag={})),TextNodeTag))(),TreemapSeries=function(l){function r(){var i,e=null!==l&&l.apply(this,arguments)||this;return e.groupSelection=Selection$1.select(e.pickGroup).selectAll(),e.highlightSelection=Selection$1.select(e.highlightGroup).selectAll(),e.layout=new Treemap,e.title=((i=new TreemapSeriesLabel).color="white",i.fontWeight="bold",i.fontSize=12,i.fontFamily="Verdana, sans-serif",i.padding=15,i),e.subtitle=function(){var i=new TreemapSeriesLabel;return i.color="white",i.fontSize=9,i.fontFamily="Verdana, sans-serif",i.padding=13,i}(),e.labels={large:function(){var i=new Label$1;return i.color="white",i.fontWeight="bold",i.fontSize=18,i}(),medium:function(){var i=new Label$1;return i.color="white",i.fontWeight="bold",i.fontSize=14,i}(),small:function(){var i=new Label$1;return i.color="white",i.fontWeight="bold",i.fontSize=10,i}(),color:function(){var i=new Label$1;return i.color="white",i}()},e._nodePadding=2,e.labelKey="label",e.sizeKey="size",e.colorKey="color",e.colorDomain=[-5,5],e.colorRange=["#cb4b3f","#6acb64"],e.colorParents=!1,e.gradient=!0,e.colorName="Change",e.rootName="Root",e.shadow=function(){var i=new DropShadow;return i.color="rgba(0, 0, 0, 0.4)",i.xOffset=1.5,i.yOffset=1.5,i}(),e.tooltip=new TreemapSeriesTooltip,e}return __extends$20(r,l),Object.defineProperty(r.prototype,"nodePadding",{get:function(){return this._nodePadding},set:function(e){this._nodePadding!==e&&(this._nodePadding=e,this.updateLayoutPadding())},enumerable:!0,configurable:!0}),r.prototype.updateLayoutPadding=function(){var e=this,i=e.title,a=e.subtitle,s=e.nodePadding,d=e.labelKey;this.layout.paddingRight=function(h){return s},this.layout.paddingBottom=function(h){return s},this.layout.paddingLeft=function(h){return s},this.layout.paddingTop=function(h){var v=h.datum[d]||"";h.children&&(v=v.toUpperCase());var _=h.depth>1?a:i,y=HdpiCanvas$1.getTextSize(v,[_.fontWeight,_.fontSize+"px",_.fontFamily].join(" ").trim()),E=h.depth>0&&h.children&&y.width<=h.x1-h.x0-2*s;return h.hasTitle=!!E,E?y.height+2*s:s}},r.prototype.processData=function(){if(!this.data)return!1;var y,e=this,i=e.data,a=e.sizeKey,s=e.labelKey,d=e.colorKey,h=e.colorDomain,v=e.colorRange,_=e.colorParents;y=a?hierarchy(i).sum(function(S){return S.children?1:S[a]}):hierarchy(i).sum(function(S){return S.children?0:1}),this.dataRoot=y;var m=new LinearScale$1;m.domain=h,m.range=v;var E=this;return function w(S,D){void 0===D&&(D=0);var T=S.children,b=S.datum,M=b[s],A=d?b[d]:D;Object.assign(S,{series:E}),S.fill=!T||_?m.convert(A):"#272931",S.colorValue=A,S.label=M?T?M.toUpperCase():M:"",T&&T.forEach(function(L){return w(L,D+1)})}(this.dataRoot),!0},r.prototype.getLabelCenterX=function(e){return(e.x0+e.x1)/2},r.prototype.getLabelCenterY=function(e){return(e.y0+e.y1)/2+2},r.prototype.createNodeData=function(){return[]},r.prototype.update=function(){this.updateSelections(),this.updateNodes()},r.prototype.updateSelections=function(){if(this.nodeDataRefresh){this.nodeDataRefresh=!1;var i=this.chart,a=this.dataRoot;if(i&&a){var s=i.getSeriesRect();if(s){this.layout.size=[s.width,s.height],this.updateLayoutPadding();var d=this.layout.processData(a).descendants(),_=this.highlightSelection,y=function(m){var E=m.setData(d);E.exit.remove();var w=E.enter.append(Group$1);return w.append(Rect),w.append(Text$1).each(function(S){return S.tag=TextNodeTag.Name}),w.append(Text$1).each(function(S){return S.tag=TextNodeTag.Value}),E.merge(w)};this.groupSelection=y(this.groupSelection),this.highlightSelection=y(_)}}}},r.prototype.updateNodes=function(){var e=this;if(this.chart){var i=this,a=i.nodePadding,s=i.labels,d=i.shadow,h=i.gradient,v=i.chart.highlightedDatum,_=i.highlightStyle,w=_.item,S=w.fill,D=void 0===S?_.fill:S,T=w.fillOpacity,b=w.stroke,M=void 0===b?_.stroke:b,A=w.strokeWidth,L=void 0===A?_.strokeWidth:A,N=this.buildLabelMeta(this.groupSelection.data),G=function($,j,Y){var J=(Y?T:1)??1,Q=Y&&void 0!==M?M:j.depth<2?void 0:"black",oe=Y&&void 0!==L?L:1;if($.fill=Y&&void 0!==D?D:j.fill,$.fillOpacity=J,$.stroke=Q,$.strokeWidth=oe,$.crisp=!0,$.gradient=h,$.x=j.x0,$.y=j.y0,$.width=j.x1-j.x0,$.height=j.y1-j.y0,Y&&j.children){var fe=j.x0,ge=j.x1,ce=j.y0,pe=j.y1,z=e.layout.paddingLeft(j),le=e.layout.paddingRight(j),X=e.layout.paddingTop(j),ne=e.layout.paddingBottom(j);$.clipPath?$.clipPath.clear():$.clipPath=new Path2D$1,$.clipMode="punch-out",$.clipPath.moveTo(fe+z,ce+X),$.clipPath.lineTo(ge-le,ce+X),$.clipPath.lineTo(ge-le,pe-ne),$.clipPath.lineTo(fe+z,pe-ne),$.clipPath.lineTo(fe+z,ce+X),$.clipPath.closePath()}};this.groupSelection.selectByClass(Rect).each(function($,j){return G($,j,!1)}),this.highlightSelection.selectByClass(Rect).each(function($,j){var Y=j===v;$.visible=Y,$.visible&&G($,j,Y)});var k=function($,j,Y,ie){var J=j.hasTitle,Q=N[Y]??{},oe=Q.label,fe=Q.nodeBaseline;null!=oe&&null!=fe?($.textBaseline=fe,$.fontWeight=oe.fontWeight,$.fontSize=oe.fontSize,$.fontFamily=oe.fontFamily,$.textAlign=J?"left":"center",$.text=j.label,$.fill=ie?"black":oe.color,$.fillShadow=ie?void 0:d,$.visible=!0):$.visible=!1,J?($.x=j.x0+a,$.y=j.y0+a):($.x=e.getLabelCenterX(j),$.y=e.getLabelCenterY(j))};this.groupSelection.selectByTag(TextNodeTag.Name).each(function($,j,Y){return k($,j,Y,!1)}),this.highlightSelection.selectByTag(TextNodeTag.Name).each(function($,j,Y){var ie=j===v;$.visible=ie,$.visible&&k($,j,Y,ie)});var K=function($,j,Y,ie){var J=N[Y]??{},Q=J.valueBaseline,oe=J.valueText,fe=s.color;fe.enabled&&null!=Q&&oe?($.fontSize=fe.fontSize,$.fontFamily=fe.fontFamily,$.fontStyle=fe.fontStyle,$.fontWeight=fe.fontWeight,$.textBaseline=Q,$.textAlign="center",$.text=oe,$.fill=ie?"black":fe.color,$.fillShadow=ie?void 0:d,$.visible=!0,$.x=e.getLabelCenterX(j),$.y=e.getLabelCenterY(j)):$.visible=!1};this.groupSelection.selectByTag(TextNodeTag.Value).each(function($,j,Y){return K($,j,Y,!1)}),this.highlightSelection.selectByTag(TextNodeTag.Value).each(function($,j,Y){var ie=j===v;$.visible=ie,$.visible&&K($,j,Y,ie)})}},r.prototype.buildLabelMeta=function(e){var i,a,s=this,d=s.labels,h=s.title,v=s.subtitle,_=s.nodePadding,y=s.colorKey,m=[];m.length=this.groupSelection.data.length;var E=new Text$1,w=0;try{for(var S=__values$9(e),D=S.next();!D.done;D=S.next()){var G,T=D.value,b=T.value,M=!T.children,A=T.x1-T.x0-2*_,L=T.y1-T.y0-2*_,N=T.hasTitle;if((G=M?A>40&&L>40?d.large:A>20&&L>20?d.medium:d.small:T.depth>1?v:h).enabled){E.fontWeight=G.fontWeight,E.fontSize=G.fontSize,E.fontFamily=G.fontFamily,E.textAlign=N?"left":"center",E.text=T.label;var k=E.computeBBox(),K=M&&!!k&&k.width<=A&&2*k.height+8<=L,$="number"==typeof b&&isFinite(b)?String(toFixed(T.colorValue))+"%":"";E.fontSize=d.color.fontSize,E.fontFamily=d.color.fontFamily,E.fontStyle=d.color.fontStyle,E.fontWeight=d.color.fontWeight,E.text=$;var j=E.computeBBox(),Y=M&&!!y&&K&&!!j&&j.width<A;m[w++]={label:G,nodeBaseline:N||K?Y?"bottom":M?"middle":N?"top":"middle":void 0,valueBaseline:Y?"top":void 0,valueText:$}}else m[w++]=void 0}}catch(re){i={error:re}}finally{try{D&&!D.done&&(a=S.return)&&a.call(S)}finally{if(i)throw i.error}}return m},r.prototype.getDomain=function(e){return[0,1]},r.prototype.fireNodeClickEvent=function(e,i){this.fireEvent({type:"nodeClick",event:e,series:this,datum:i.datum,labelKey:this.labelKey,sizeKey:this.sizeKey,colorKey:this.colorKey})},r.prototype.getTooltipHtml=function(e){var i=this,s=i.sizeKey,d=i.labelKey,h=i.colorKey,v=i.colorName,y=e.datum,m=i.tooltip.renderer,E=e.depth?y[d]:i.rootName||y[d],w=void 0,S=e.fill||"gray";if(h&&v){var D=y[h];"number"==typeof D&&isFinite(D)&&(w="<b>"+v+"</b>: "+toFixed(y[h]))}var T={title:E,backgroundColor:S,content:w};return m?toTooltipHtml$1(m({datum:e,sizeKey:s,labelKey:d,colorKey:h,title:E,color:S}),T):toTooltipHtml$1(T)},r.prototype.listSeriesItems=function(e){},r.className="TreemapSeries",r.type="treemap",r}(HierarchySeries),__extends$1$=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__decorate$15=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},Sector=function(l){function r(){var e=null!==l&&l.apply(this,arguments)||this;return e.centerX=0,e.centerY=0,e.centerOffset=0,e.innerRadius=10,e.outerRadius=20,e.startAngle=0,e.endAngle=2*Math.PI,e.angleOffset=0,e}return __extends$1$(r,l),r.prototype.computeBBox=function(){var e=this.outerRadius;return new BBox$1(this.centerX-e,this.centerY-e,2*e,2*e)},r.prototype.isFullPie=function(){return isEqual(normalizeAngle360(this.startAngle),normalizeAngle360(this.endAngle))},r.prototype.updatePath=function(){var e=this.path,i=this.angleOffset,a=Math.min(this.startAngle,this.endAngle)+i,s=Math.max(this.startAngle,this.endAngle)+i,d=.5*(a+s),h=Math.min(this.innerRadius,this.outerRadius),v=Math.max(this.innerRadius,this.outerRadius),_=this.centerOffset,y=this.isFullPie(),m=this.centerX,E=this.centerY;if(e.clear(),_&&(m+=_*Math.cos(d),E+=_*Math.sin(d)),y||(e.moveTo(m+h*Math.cos(a),E+h*Math.sin(a)),e.lineTo(m+v*Math.cos(a),E+v*Math.sin(a))),e.cubicArc(m,E,v,v,0,a,s,0),y)e.moveTo(m+h*Math.cos(s),E+h*Math.sin(s));else{var w=m+h*Math.cos(s);e.lineTo(Math.abs(w)<1e-8?0:w,E+h*Math.sin(s))}e.cubicArc(m,E,h,h,0,s,a,1),e.closePath(),this.dirtyPath=!1},r.className="Sector",__decorate$15([ScenePathChangeDetection()],r.prototype,"centerX",void 0),__decorate$15([ScenePathChangeDetection()],r.prototype,"centerY",void 0),__decorate$15([ScenePathChangeDetection()],r.prototype,"centerOffset",void 0),__decorate$15([ScenePathChangeDetection()],r.prototype,"innerRadius",void 0),__decorate$15([ScenePathChangeDetection()],r.prototype,"outerRadius",void 0),__decorate$15([ScenePathChangeDetection()],r.prototype,"startAngle",void 0),__decorate$15([ScenePathChangeDetection()],r.prototype,"endAngle",void 0),__decorate$15([ScenePathChangeDetection()],r.prototype,"angleOffset",void 0),r}(Path$1),__extends$1_=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__read$n=function(l,r){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var a,d,i=e.call(l),s=[];try{for(;(void 0===r||r-- >0)&&!(a=i.next()).done;)s.push(a.value)}catch(h){d={error:h}}finally{try{a&&!a.done&&(e=i.return)&&e.call(i)}finally{if(d)throw d.error}}return s},__spread$9=function(){for(var l=[],r=0;r<arguments.length;r++)l=l.concat(__read$n(arguments[r]));return l},PieHighlightStyle=function(l){function r(){return null!==l&&l.apply(this,arguments)||this}return __extends$1_(r,l),r}(HighlightStyle),PieNodeTag=(()=>(function(l){l[l.Sector=0]="Sector",l[l.Callout=1]="Callout",l[l.Label=2]="Label"}(PieNodeTag||(PieNodeTag={})),PieNodeTag))(),PieSeriesLabel=function(l){function r(){var e=null!==l&&l.apply(this,arguments)||this;return e.offset=3,e.minAngle=20,e.formatter=void 0,e}return __extends$1_(r,l),r}(Label$1),PieSeriesCallout=function(l){function r(){var e=null!==l&&l.apply(this,arguments)||this;return e.colors=["#874349","#718661","#a48f5f","#5a7088","#7f637a","#5d8692"],e.length=10,e.strokeWidth=1,e}return __extends$1_(r,l),r}(Observable$1),PieSeriesTooltip=function(l){function r(){var e=null!==l&&l.apply(this,arguments)||this;return e.renderer=void 0,e}return __extends$1_(r,l),r}(SeriesTooltip),PieTitle=function(l){function r(){var e=null!==l&&l.apply(this,arguments)||this;return e.showInLegend=!1,e}return __extends$1_(r,l),r}(Caption),PieSeries=function(l){function r(){var i,e=null!==l&&l.apply(this,arguments)||this;return e.radiusScale=new LinearScale$1,e.groupSelection=Selection$1.select(e.pickGroup).selectAll(),e.highlightSelection=Selection$1.select(e.highlightGroup).selectAll(),e.groupSelectionData=[],e.angleScale=((i=new LinearScale$1).domain=[0,1],i.range=[-Math.PI,Math.PI].map(function(a){return a+Math.PI/2}),i),e.seriesItemEnabled=[],e.label=new PieSeriesLabel,e.callout=new PieSeriesCallout,e.tooltip=new PieSeriesTooltip,e.angleKey="",e.angleName="",e.radiusKey=void 0,e.radiusName=void 0,e.radiusMin=void 0,e.radiusMax=void 0,e.labelKey=void 0,e.labelName=void 0,e.fills=["#c16068","#a2bf8a","#ebcc87","#80a0c3","#b58dae","#85c0d1"],e.strokes=["#874349","#718661","#a48f5f","#5a7088","#7f637a","#5d8692"],e.fillOpacity=1,e.strokeOpacity=1,e.lineDash=[0],e.lineDashOffset=0,e.formatter=void 0,e.rotation=0,e.outerRadiusOffset=0,e.innerRadiusOffset=0,e.strokeWidth=1,e.shadow=void 0,e.highlightStyle=new PieHighlightStyle,e}return __extends$1_(r,l),Object.defineProperty(r.prototype,"title",{get:function(){return this._title},set:function(e){var i=this._title;i!==e&&(i&&this.seriesGroup.removeChild(i.node),e&&(e.node.textBaseline="bottom",this.seriesGroup.appendChild(e.node)),this._title=e)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"data",{get:function(){return this._data},set:function(e){this._data=e,this.processSeriesItemEnabled()},enumerable:!0,configurable:!0}),r.prototype.visibleChanged=function(){this.processSeriesItemEnabled()},r.prototype.processSeriesItemEnabled=function(){var e,s=this.visible;this.seriesItemEnabled=(null===(e=this.data)||void 0===e?void 0:e.map(function(){return s}))||[]},r.prototype.setColors=function(e,i){this.fills=e,this.strokes=i,this.callout.colors=i},r.prototype.getDomain=function(e){return e===ChartAxisDirection.X?this.angleScale.domain:this.radiusScale.domain},r.prototype.processData=function(){var J,e=this,i=this,a=i.angleKey,s=i.radiusKey,d=i.seriesItemEnabled,h=i.angleScale,v=i.groupSelectionData,_=i.label,y=a&&this.data?this.data:[],m=y.map(function(J,Q){return d[Q]&&Math.abs(+J[a])||0}),E=m.reduce(function(J,Q){return J+Q},0),w=(J=0,m.map(function(Q){return J+=Q/E})),S=_.formatter,D=_.enabled&&this.labelKey,T=[],b=[];if(D&&(T=y.map(S?function(J){return S({value:J[D]})}:function(J){return String(J[D])})),s){var A=this.radiusMin,L=this.radiusMax,N=y.map(function(J){return Math.abs(J[s])}),G=A??0,K=(L||Math.max.apply(Math,__spread$9(N)))-G;b=N.map(function(J){return K?(J-G)/K:1})}v.length=0;var $=toRadians(this.rotation),j=Math.PI/2,Y=0,ie=[{textAlign:"center",textBaseline:"bottom"},{textAlign:"left",textBaseline:"middle"},{textAlign:"center",textBaseline:"hanging"},{textAlign:"right",textBaseline:"middle"}],re=0;return w.forEach(function(J){if(!isNaN(J)){var Q=s?b[Y]:1,oe=h.convert(J)+$,fe=h.convert(re)+$,ge=(oe+fe)/2,ce=Math.abs(fe-oe),pe=Math.cos(ge),z=Math.sin(ge),le=toRadians(_.minAngle),X=D&&ce>le,ne=normalizeAngle180(ge),we=-3*Math.PI/4,ve=mod(Math.floor((ne-we)/j),ie.length),De=ie[ve];v.push({series:e,datum:y[Y],itemId:Y,index:Y,radius:Q,startAngle:oe,endAngle:fe,midAngle:ge,midCos:pe,midSin:z,label:X?{text:T[Y],textAlign:De.textAlign,textBaseline:De.textBaseline}:void 0}),Y++,re=J}}),!0},r.prototype.createNodeData=function(){return[]},r.prototype.update=function(){var e=this,i=e.radius,a=e.innerRadiusOffset,s=e.outerRadiusOffset,d=e.title;this.radiusScale.range=[a?i+a:0,i+(s||0)],this.group.translationX=this.centerX,this.group.translationY=this.centerY,d&&(0===Math.max(0,this.radiusScale.range[1])?d.node.visible=!1:(d.node.translationY=-i-s-2,d.node.visible=d.enabled)),this.updateSelections(),this.updateNodes()},r.prototype.updateSelections=function(){this.updateGroupSelection()},r.prototype.updateGroupSelection=function(){var e=this,s=this.highlightSelection,d=function(h,v){var _=h.setData(e.groupSelectionData);_.exit.remove();var y=_.enter.append(Group$1);return y.append(Sector).each(function(m){return m.tag=PieNodeTag.Sector}),v&&(y.append(Line$1).each(function(m){m.tag=PieNodeTag.Callout,m.pointerEvents=PointerEvents$1.None}),y.append(Text$1).each(function(m){m.tag=PieNodeTag.Label,m.pointerEvents=PointerEvents$1.None})),_.merge(y)};this.groupSelection=d(this.groupSelection,!0),this.highlightSelection=d(s,!1)},r.prototype.updateNodes=function(){var i,a,e=this;if(this.chart){var s=this.seriesItemEnabled.indexOf(!0)>=0;this.group.visible=s,this.seriesGroup.visible=s,this.highlightGroup.visible=s&&(null===(a=null===(i=this.chart)||void 0===i?void 0:i.highlightedDatum)||void 0===a?void 0:a.series)===this,this.seriesGroup.opacity=this.getOpacity();var d=this,h=d.fills,v=d.strokes,_=d.fillOpacity,y=d.strokeOpacity,m=d.radiusScale,E=d.callout,w=d.shadow,S=d.chart.highlightedDatum,D=d.highlightStyle,A=D.item,L=A.fill,N=void 0===L?D.fill:L,G=A.fillOpacity,k=void 0===G?_:G,K=A.stroke,$=void 0===K?D.stroke:K,j=A.strokeWidth,Y=void 0===j?D.strokeWidth:j,ie=d.angleKey,re=d.radiusKey,J=d.formatter,Q=[],oe=m.convert(0),fe=function(ve,De,Le,Te){var Ue=m.convert(De.radius,clamper$2),We=Te&&void 0!==N?N:h[Le%h.length],et=Te?k:_,it=Te&&void 0!==$?$:v[Le%v.length],Xe=Te&&void 0!==Y?Y:e.getStrokeWidth(e.strokeWidth),nt=void 0;J&&(nt=J({datum:De.datum,angleKey:ie,radiusKey:re,fill:We,stroke:it,strokeWidth:Xe,highlighted:Te}));var qe=ve.parent&&ve.parent.parent;Te&&qe&&(qe.removeChild(ve.parent),qe.appendChild(ve.parent)),ve.innerRadius=Math.max(0,oe),ve.outerRadius=Math.max(0,Ue),ve.startAngle=De.startAngle,ve.endAngle=De.endAngle,ve.fill=nt&&nt.fill||We,ve.stroke=nt&&nt.stroke||it,ve.strokeWidth=nt&&void 0!==nt.strokeWidth?nt.strokeWidth:Xe,ve.fillOpacity=et,ve.strokeOpacity=y,ve.lineDash=e.lineDash,ve.lineDashOffset=e.lineDashOffset,ve.fillShadow=w,ve.lineJoin="round",Q.push(ve.centerOffset)};this.groupSelection.selectByTag(PieNodeTag.Sector).each(function(ve,De,Le){return fe(ve,De,Le,!1)}),this.highlightSelection.selectByTag(PieNodeTag.Sector).each(function(ve,De,Le){var Te=!!S&&S.series===e&&De.itemId===S.itemId;ve.visible=Te,ve.visible&&fe(ve,De,Le,Te)});var ge=E.colors,ce=E.length,pe=E.strokeWidth;this.groupSelection.selectByTag(PieNodeTag.Callout).each(function(ve,De,Le){var Te=m.convert(De.radius,clamper$2),Ue=Math.max(0,Te);De.label&&0!==Ue?(ve.strokeWidth=pe,ve.stroke=ge[Le%ge.length],ve.x1=De.midCos*Ue,ve.y1=De.midSin*Ue,ve.x2=De.midCos*(Ue+ce),ve.y2=De.midSin*(Ue+ce)):ve.stroke=void 0});var z=this.label,le=z.offset,X=z.fontStyle,ne=z.fontWeight,we=z.fontSize,he=z.fontFamily,be=z.color;this.groupSelection.selectByTag(PieNodeTag.Label).each(function(ve,De,Le){var Te=De.label,Ue=m.convert(De.radius,clamper$2),We=Math.max(0,Ue);if(Te&&0!==We){var et=Q[Le]+We+ce+le;ve.fontStyle=X,ve.fontWeight=ne,ve.fontSize=we,ve.fontFamily=he,ve.text=Te.text,ve.x=De.midCos*et,ve.y=De.midSin*et,ve.fill=be,ve.textAlign=Te.textAlign,ve.textBaseline=Te.textBaseline}else ve.fill=void 0})}},r.prototype.fireNodeClickEvent=function(e,i){this.fireEvent({type:"nodeClick",event:e,series:this,datum:i.datum,angleKey:this.angleKey,labelKey:this.labelKey,radiusKey:this.radiusKey})},r.prototype.getTooltipHtml=function(e){var i=this.angleKey;if(!i)return"";var a=this,s=a.fills,h=a.angleName,v=a.radiusKey,_=a.radiusName,y=a.labelKey,m=a.labelName,E=a.tooltip.renderer,w=s[e.index%s.length],S=e.datum,D=y?S[y]+": ":"",T=S[i],b="number"==typeof T?toFixed(T):T.toString(),M=this.title?this.title.text:void 0,L={title:M,backgroundColor:w,content:D+b};return E?toTooltipHtml$1(E({datum:S,angleKey:i,angleValue:T,angleName:h,radiusKey:v,radiusValue:v?S[v]:void 0,radiusName:_,labelKey:y,labelName:m,title:M,color:w}),L):toTooltipHtml$1(L)},r.prototype.listSeriesItems=function(e){var i=this,s=this.labelKey,d=this.data;if(d&&d.length&&s){var h=this,v=h.fills,_=h.strokes,y=h.id,m=this.title&&this.title.showInLegend&&this.title.text;d.forEach(function(E,w){var S=[];m&&S.push(m),S.push(String(E[s])),e.push({id:y,itemId:w,enabled:i.seriesItemEnabled[w],label:{text:S.join(" - ")},marker:{fill:v[w%v.length],stroke:_[w%_.length],fillOpacity:i.fillOpacity,strokeOpacity:i.strokeOpacity}})})}},r.prototype.toggleSeriesItem=function(e,i){this.seriesItemEnabled[e]=i,this.nodeDataRefresh=!0},r.className="PieSeries",r.type="pie",r}(PolarSeries);function floor$b(l){l.setUTCSeconds(0,0)}function offset$b(l,r){l.setTime(l.getTime()+r*durationMinute$1)}function count$b(l,r){return(r.getTime()-l.getTime())/durationMinute$1}function field$9(l){return l.getUTCMinutes()}var utcMinute=new CountableTimeInterval$1(floor$b,offset$b,count$b,field$9);function floor$a(l){l.setUTCMinutes(0,0,0)}function offset$a(l,r){l.setTime(l.getTime()+r*durationHour$1)}function count$a(l,r){return(r.getTime()-l.getTime())/durationHour$1}function field$8(l){return l.getUTCHours()}var utcHour=new CountableTimeInterval$1(floor$a,offset$a,count$a,field$8);function floor$9(l){l.setUTCDate(1),l.setUTCHours(0,0,0,0)}function offset$9(l,r){l.setUTCMonth(l.getUTCMonth()+r)}function count$9(l,r){return r.getUTCMonth()-l.getUTCMonth()+12*(r.getUTCFullYear()-l.getUTCFullYear())}function field$7(l){return l.getUTCMonth()}var utcMonth=new CountableTimeInterval$1(floor$9,offset$9,count$9,field$7),__assign$q=function(){return __assign$q=Object.assign||function(l){for(var r,e=1,i=arguments.length;e<i;e++)for(var a in r=arguments[e])Object.prototype.hasOwnProperty.call(r,a)&&(l[a]=r[a]);return l},__assign$q.apply(this,arguments)},__read$m=function(l,r){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var a,d,i=e.call(l),s=[];try{for(;(void 0===r||r-- >0)&&!(a=i.next()).done;)s.push(a.value)}catch(h){d={error:h}}finally{try{a&&!a.done&&(e=i.return)&&e.call(i)}finally{if(d)throw d.error}}return s},palette$8={fills:["#f3622d","#fba71b","#57b757","#41a9c9","#4258c9","#9a42c8","#c84164","#888888"],strokes:["#aa4520","#b07513","#3d803d","#2d768d","#2e3e8d","#6c2e8c","#8c2d46","#5f5f5f"]};function arrayMerge(l,r,e){return r}function isMergeableObject(l){return defaultIsMergeableObject$1(l)&&!(l instanceof TimeInterval$1)}var mergeOptions={arrayMerge,isMergeableObject},BOLD="bold",INSIDE="inside",RIGHT="right",ChartTheme=function(){function l(r){var e=(r=deepMerge$1({},r||{},mergeOptions)).overrides,i=void 0===e?null:e,a=r.palette,s=void 0===a?null:a,d=this.createChartConfigPerSeries(this.getDefaults());if(i){var h=i.common,v=i.cartesian,_=i.polar,y=i.hierarchy,m=function(w,S,D){D&&(d[w]=deepMerge$1(d[w],D,mergeOptions),S.forEach(function(T){d[T]=deepMerge$1(d[T],D,mergeOptions)}))};m("common",Object.keys(d),h),m("cartesian",l.cartesianSeriesTypes,v),m("polar",l.polarSeriesTypes,_),m("hierarchy",l.hierarchySeriesTypes,y);var E={};l.seriesTypes.forEach(function(w){var S=i[w];S&&(S.series&&(E[w]=S.series,S.series=E),d[w]=deepMerge$1(d[w],S,mergeOptions))})}this.palette=s??this.getPalette(),this.config=Object.freeze(d)}return l.prototype.getPalette=function(){return palette$8},l.getAxisDefaults=function(){return{top:{},right:{},bottom:{},left:{},thickness:0,title:{enabled:!1,text:"Axis Title",fontStyle:void 0,fontWeight:BOLD,fontSize:12,fontFamily:this.fontFamily,color:"rgb(70, 70, 70)"},label:{fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:this.fontFamily,padding:5,rotation:void 0,color:"rgb(87, 87, 87)",formatter:void 0,autoRotate:!1},line:{width:1,color:"rgb(195, 195, 195)"},tick:{width:1,size:6,color:"rgb(195, 195, 195)"},gridStyle:[{stroke:"rgb(219, 219, 219)",lineDash:[4,2]}],crossLines:{enabled:!1,fill:"rgb(187,221,232)",stroke:"rgb(70,162,192)",label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:this.fontFamily,padding:5,color:"rgb(87, 87, 87)",rotation:void 0}}}},l.getSeriesDefaults=function(){return{tooltip:{enabled:!0,renderer:void 0},visible:!0,showInLegend:!0,cursor:"default",highlightStyle:{item:{fill:"yellow",fillOpacity:1},series:{dimOpacity:1}}}},l.getBarSeriesDefaults=function(){return __assign$q(__assign$q({},this.getSeriesDefaults()),{flipXY:!1,fillOpacity:1,strokeOpacity:1,xKey:"",xName:"",normalizedTo:void 0,strokeWidth:1,lineDash:[0],lineDashOffset:0,label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:this.fontFamily,color:"rgb(70, 70, 70)",formatter:void 0,placement:INSIDE},shadow:{enabled:!1,color:"rgba(0, 0, 0, 0.5)",xOffset:3,yOffset:3,blur:5}})},l.getLineSeriesDefaults=function(){var r=this.getSeriesDefaults();return __assign$q(__assign$q({},r),{tooltip:__assign$q(__assign$q({},r.tooltip),{format:void 0})})},l.getCartesianSeriesMarkerDefaults=function(){return{enabled:!0,shape:"circle",size:6,maxSize:30,strokeWidth:1,formatter:void 0}},l.getChartDefaults=function(){return{background:{visible:!0,fill:"white"},padding:{top:20,right:20,bottom:20,left:20},title:{enabled:!1,text:"Title",fontStyle:void 0,fontWeight:BOLD,fontSize:16,fontFamily:this.fontFamily,color:"rgb(70, 70, 70)"},subtitle:{enabled:!1,text:"Subtitle",fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:this.fontFamily,color:"rgb(140, 140, 140)"},legend:{enabled:!0,position:RIGHT,spacing:20,item:{paddingX:16,paddingY:8,marker:{shape:void 0,size:15,strokeWidth:1,padding:8},label:{color:"black",fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:this.fontFamily,formatter:void 0}},reverseOrder:!1},tooltip:{enabled:!0,tracking:!0,delay:0,class:Chart.defaultTooltipClass}}},l.prototype.createChartConfigPerSeries=function(r){return Object.entries({cartesian:l.cartesianSeriesTypes,polar:l.polarSeriesTypes,hierarchy:l.hierarchySeriesTypes,groupedCategory:[]}).forEach(function(i){var a=__read$m(i,2),s=a[0];a[1].forEach(function(h){r[h]||(r[h]=deepMerge$1({},r[s],mergeOptions))})}),r},l.prototype.getConfig=function(r,e){var i=getValue(this.config,r,e);return Array.isArray(i)?deepMerge$1([],i,mergeOptions):isObject(i)?deepMerge$1({},i,mergeOptions):i},l.prototype.getDefaults=function(){return deepMerge$1({},l.defaults,mergeOptions)},l.prototype.mergeWithParentDefaults=function(r,e){return deepMerge$1(r,e,mergeOptions)},l.fontFamily="Verdana, sans-serif",l.cartesianDefaults=__assign$q(__assign$q({},l.getChartDefaults()),{axes:{number:__assign$q({},l.getAxisDefaults()),log:__assign$q(__assign$q({},l.getAxisDefaults()),{base:10}),category:__assign$q(__assign$q({},l.getAxisDefaults()),{label:__assign$q(__assign$q({},l.getAxisDefaults().label),{autoRotate:!0})}),groupedCategory:__assign$q({},l.getAxisDefaults()),time:__assign$q({},l.getAxisDefaults())},series:{column:__assign$q(__assign$q({},l.getBarSeriesDefaults()),{flipXY:!1}),bar:__assign$q(__assign$q({},l.getBarSeriesDefaults()),{flipXY:!0}),line:__assign$q(__assign$q({},l.getLineSeriesDefaults()),{title:void 0,xKey:"",xName:"",yKey:"",yName:"",strokeWidth:2,strokeOpacity:1,lineDash:[0],lineDashOffset:0,marker:__assign$q(__assign$q({},l.getCartesianSeriesMarkerDefaults()),{fillOpacity:1,strokeOpacity:1}),label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:l.fontFamily,color:"rgb(70, 70, 70)",formatter:void 0}}),scatter:__assign$q(__assign$q({},l.getSeriesDefaults()),{title:void 0,xKey:"",yKey:"",sizeKey:void 0,labelKey:void 0,xName:"",yName:"",sizeName:"Size",labelName:"Label",strokeWidth:2,fillOpacity:1,strokeOpacity:1,marker:__assign$q({},l.getCartesianSeriesMarkerDefaults()),label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:l.fontFamily,color:"rgb(70, 70, 70)"}}),area:__assign$q(__assign$q({},l.getSeriesDefaults()),{xKey:"",xName:"",normalizedTo:void 0,fillOpacity:.8,strokeOpacity:1,strokeWidth:2,lineDash:[0],lineDashOffset:0,shadow:{enabled:!1,color:"rgba(0, 0, 0, 0.5)",xOffset:3,yOffset:3,blur:5},marker:__assign$q(__assign$q({},l.getCartesianSeriesMarkerDefaults()),{fillOpacity:1,strokeOpacity:1,enabled:!1}),label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:l.fontFamily,color:"rgb(70, 70, 70)",formatter:void 0}}),histogram:__assign$q(__assign$q({},l.getSeriesDefaults()),{xKey:"",yKey:"",xName:"",yName:"",strokeWidth:1,fillOpacity:1,strokeOpacity:1,lineDash:[0],lineDashOffset:0,areaPlot:!1,bins:void 0,aggregation:"sum",label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:l.fontFamily,color:"rgb(70, 70, 70)",formatter:void 0},shadow:{enabled:!0,color:"rgba(0, 0, 0, 0.5)",xOffset:0,yOffset:0,blur:5}})},navigator:{enabled:!1,height:30,mask:{fill:"#999999",stroke:"#999999",strokeWidth:1,fillOpacity:.2},minHandle:{fill:"#f2f2f2",stroke:"#999999",strokeWidth:1,width:8,height:16,gripLineGap:2,gripLineLength:8},maxHandle:{fill:"#f2f2f2",stroke:"#999999",strokeWidth:1,width:8,height:16,gripLineGap:2,gripLineLength:8}}}),l.polarDefaults=__assign$q(__assign$q({},l.getChartDefaults()),{series:{pie:__assign$q(__assign$q({},l.getSeriesDefaults()),{title:{enabled:!0,text:"",fontStyle:void 0,fontWeight:"bold",fontSize:14,fontFamily:l.fontFamily,color:"rgb(70, 70, 70)"},angleKey:"",angleName:"",radiusKey:void 0,radiusName:void 0,labelKey:void 0,labelName:void 0,label:{enabled:!0,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:l.fontFamily,color:"rgb(70, 70, 70)",offset:3,minAngle:20},callout:{length:10,strokeWidth:2},fillOpacity:1,strokeOpacity:1,strokeWidth:1,lineDash:[0],lineDashOffset:0,rotation:0,outerRadiusOffset:0,innerRadiusOffset:0,shadow:{enabled:!1,color:"rgba(0, 0, 0, 0.5)",xOffset:3,yOffset:3,blur:5}})}}),l.hierarchyDefaults=__assign$q(__assign$q({},l.getChartDefaults()),{series:{treemap:__assign$q(__assign$q({},l.getSeriesDefaults()),{showInLegend:!1,labelKey:"label",sizeKey:"size",colorKey:"color",colorDomain:[-5,5],colorRange:["#cb4b3f","#6acb64"],colorParents:!1,gradient:!0,nodePadding:2,title:{enabled:!0,color:"white",fontStyle:void 0,fontWeight:"bold",fontSize:12,fontFamily:"Verdana, sans-serif",padding:15},subtitle:{enabled:!0,color:"white",fontStyle:void 0,fontWeight:void 0,fontSize:9,fontFamily:"Verdana, sans-serif",padding:13},labels:{large:{enabled:!0,fontStyle:void 0,fontWeight:"bold",fontSize:18,fontFamily:"Verdana, sans-serif",color:"white"},medium:{enabled:!0,fontStyle:void 0,fontWeight:"bold",fontSize:14,fontFamily:"Verdana, sans-serif",color:"white"},small:{enabled:!0,fontStyle:void 0,fontWeight:"bold",fontSize:10,fontFamily:"Verdana, sans-serif",color:"white"},color:{enabled:!0,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:"Verdana, sans-serif",color:"white"}}})}}),l.defaults={cartesian:l.cartesianDefaults,groupedCategory:l.cartesianDefaults,polar:l.polarDefaults,hierarchy:l.hierarchyDefaults},l.cartesianSeriesTypes=["line","area","bar","column","scatter","histogram"],l.polarSeriesTypes=["pie"],l.hierarchySeriesTypes=["treemap"],l.seriesTypes=l.cartesianSeriesTypes.concat(l.polarSeriesTypes).concat(l.hierarchySeriesTypes),l}(),__extends$1Z=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__assign$p=function(){return __assign$p=Object.assign||function(l){for(var r,e=1,i=arguments.length;e<i;e++)for(var a in r=arguments[e])Object.prototype.hasOwnProperty.call(r,a)&&(l[a]=r[a]);return l},__assign$p.apply(this,arguments)},DarkTheme=function(l){function r(e){return l.call(this,e)||this}return __extends$1Z(r,l),r.prototype.getDefaults=function(){var e="rgb(200, 200, 200)",i="rgb(150, 150, 150)",a={title:{color:e},label:{color:e},gridStyle:[{stroke:"rgb(88, 88, 88)",lineDash:[4,2]}]},s={label:{color:e}},d={axes:{number:__assign$p({},a),category:__assign$p({},a),time:__assign$p({},a)}},h={background:{fill:"rgb(34, 38, 41)"},title:{color:e},subtitle:{color:i},legend:{item:{label:{color:e}}}};return this.mergeWithParentDefaults(l.prototype.getDefaults.call(this),{cartesian:__assign$p(__assign$p(__assign$p({},h),d),{series:{bar:__assign$p({},s),column:__assign$p({},s),histogram:__assign$p({},s)}}),groupedCategory:__assign$p(__assign$p(__assign$p({},h),d),{series:{bar:__assign$p({},s),column:__assign$p({},s),histogram:__assign$p({},s)}}),polar:__assign$p(__assign$p({},h),{series:{pie:__assign$p(__assign$p({},s),{title:{color:e}})}}),hierarchy:__assign$p(__assign$p({},h),{series:{treemap:{title:{color:e},subtitle:{color:i},labels:{large:{color:e},medium:{color:e},small:{color:e},color:{color:e}}}}})})},r}(ChartTheme),__extends$1Y=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),palette$7={fills:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4caf50","#8bc34a","#cddc39","#ffeb3b","#ffc107","#ff9800","#ff5722"],strokes:["#ab2f26","#a31545","#6d1b7b","#482980","#2c397f","#1769aa","#0276ab","#008494","#00695f","#357a38","#618834","#909a28","#b3a429","#b38705","#b36a00","#b33d18"]},MaterialLight=function(l){function r(){return null!==l&&l.apply(this,arguments)||this}return __extends$1Y(r,l),r.prototype.getPalette=function(){return palette$7},r}(ChartTheme),__extends$1X=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),palette$6={fills:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4caf50","#8bc34a","#cddc39","#ffeb3b","#ffc107","#ff9800","#ff5722"],strokes:["#ab2f26","#a31545","#6d1b7b","#482980","#2c397f","#1769aa","#0276ab","#008494","#00695f","#357a38","#618834","#909a28","#b3a429","#b38705","#b36a00","#b33d18"]},MaterialDark=function(l){function r(){return null!==l&&l.apply(this,arguments)||this}return __extends$1X(r,l),r.prototype.getPalette=function(){return palette$6},r}(DarkTheme),__extends$1W=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),palette$5={fills:["#c16068","#a2bf8a","#ebcc87","#80a0c3","#b58dae","#85c0d1"],strokes:["#874349","#718661","#a48f5f","#5a7088","#7f637a","#5d8692"]},PastelLight=function(l){function r(){return null!==l&&l.apply(this,arguments)||this}return __extends$1W(r,l),r.prototype.getPalette=function(){return palette$5},r}(ChartTheme),__extends$1V=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),palette$4={fills:["#c16068","#a2bf8a","#ebcc87","#80a0c3","#b58dae","#85c0d1"],strokes:["#874349","#718661","#a48f5f","#5a7088","#7f637a","#5d8692"]},PastelDark=function(l){function r(){return null!==l&&l.apply(this,arguments)||this}return __extends$1V(r,l),r.prototype.getPalette=function(){return palette$4},r}(DarkTheme),__extends$1U=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),palette$3={fills:["#febe76","#ff7979","#badc58","#f9ca23","#f0932b","#eb4c4b","#6ab04c","#7ed6df","#e056fd","#686de0"],strokes:["#b28553","#b35555","#829a3e","#ae8d19","#a8671e","#a43535","#4a7b35","#58969c","#9d3cb1","#494c9d"]},SolarLight=function(l){function r(){return null!==l&&l.apply(this,arguments)||this}return __extends$1U(r,l),r.prototype.getPalette=function(){return palette$3},r}(ChartTheme),__extends$1T=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),palette$2={fills:["#febe76","#ff7979","#badc58","#f9ca23","#f0932b","#eb4c4b","#6ab04c","#7ed6df","#e056fd","#686de0"],strokes:["#b28553","#b35555","#829a3e","#ae8d19","#a8671e","#a43535","#4a7b35","#58969c","#9d3cb1","#494c9d"]},SolarDark=function(l){function r(){return null!==l&&l.apply(this,arguments)||this}return __extends$1T(r,l),r.prototype.getPalette=function(){return palette$2},r}(DarkTheme),__extends$1S=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),palette$1={fills:["#5BC0EB","#FDE74C","#9BC53D","#E55934","#FA7921","#fa3081"],strokes:["#4086a4","#b1a235","#6c8a2b","#a03e24","#af5517","#af225a"]},VividLight=function(l){function r(){return null!==l&&l.apply(this,arguments)||this}return __extends$1S(r,l),r.prototype.getPalette=function(){return palette$1},r}(ChartTheme),__extends$1R=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),palette={fills:["#5BC0EB","#FDE74C","#9BC53D","#E55934","#FA7921","#fa3081"],strokes:["#4086a4","#b1a235","#6c8a2b","#a03e24","#af5517","#af225a"]},VividDark=function(l){function r(){return null!==l&&l.apply(this,arguments)||this}return __extends$1R(r,l),r.prototype.getPalette=function(){return palette},r}(DarkTheme),__assign$o=function(){return __assign$o=Object.assign||function(l){for(var r,e=1,i=arguments.length;e<i;e++)for(var a in r=arguments[e])Object.prototype.hasOwnProperty.call(r,a)&&(l[a]=r[a]);return l},__assign$o.apply(this,arguments)},lightTheme=new ChartTheme,darkTheme=new DarkTheme,lightThemes={undefined:lightTheme,null:lightTheme,"ag-default":lightTheme,"ag-material":new MaterialLight,"ag-pastel":new PastelLight,"ag-solar":new SolarLight,"ag-vivid":new VividLight},darkThemes={undefined:darkTheme,null:darkTheme,"ag-default-dark":darkTheme,"ag-material-dark":new MaterialDark,"ag-pastel-dark":new PastelDark,"ag-solar-dark":new SolarDark,"ag-vivid-dark":new VividDark},themes=__assign$o(__assign$o({},darkThemes),lightThemes);function getChartTheme(l){return l instanceof ChartTheme?l:themes[l]||(l.baseTheme||l.overrides||l.palette?new(getChartTheme(l.baseTheme).constructor)(l):lightTheme)}function getIntegratedChartTheme(l){var r=getChartTheme(l),e=r.config;for(var i in e){var a=e[i].axes;for(var s in a)delete a[s].crossLines}return r}var __extends$1Q=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__read$l=function(l,r){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var a,d,i=e.call(l),s=[];try{for(;(void 0===r||r-- >0)&&!(a=i.next()).done;)s.push(a.value)}catch(h){d={error:h}}finally{try{a&&!a.done&&(e=i.return)&&e.call(i)}finally{if(d)throw d.error}}return s},identity$3=function(l){return l},LogScale=function(l){function r(){var e=null!==l&&l.apply(this,arguments)||this;return e.type="log",e._domain=[1,10],e.baseLog=identity$3,e.basePow=identity$3,e._base=10,e}return __extends$1Q(r,l),r.prototype.setDomain=function(e){var i=e[0],a=e[e.length-1];(0===i||0===a||i<0&&a>0||i>0&&a<0)&&(console.warn("Log scale domain should not start at, end at or cross zero."),0===i&&a>0?i=Number.EPSILON:0===a&&i<0?a=-Number.EPSILON:i<0&&a>0?Math.abs(a)>=Math.abs(i)?i=Number.EPSILON:a=-Number.EPSILON:i>0&&a<0&&(Math.abs(a)>=Math.abs(i)?i=-Number.EPSILON:a=Number.EPSILON),(e=e.slice())[0]=i,e[e.length-1]=a),l.prototype.setDomain.call(this,e)},r.prototype.getDomain=function(){return l.prototype.getDomain.call(this)},Object.defineProperty(r.prototype,"base",{get:function(){return this._base},set:function(e){this._base!==e&&(this._base=e,this.rescale())},enumerable:!0,configurable:!0}),r.prototype.rescale=function(){var e=this.base,i=r.makeLogFn(e),a=r.makePowFn(e);this.domain[0]<0?(i=this.reflect(i),a=this.reflect(a),this.transform=function(s){return-Math.log(-s)},this.untransform=function(s){return-Math.exp(-s)}):(this.transform=function(s){return Math.log(s)},this.untransform=function(s){return Math.exp(s)}),this.baseLog=i,this.basePow=a,l.prototype.rescale.call(this)},r.prototype.reflect=function(e){return function(i){return-e(-i)}},r.prototype.nice=function(){var e,i,a=this.domain,s=0,d=a.length-1,h=a[s],v=a[d];v<h&&(s=(e=__read$l([d,s],2))[0],d=e[1],h=(i=__read$l([v,h],2))[0],v=i[1]),a[s]=this.basePow(Math.floor(this.baseLog(h))),a[d]=this.basePow(Math.ceil(this.baseLog(v))),this.domain=a},r.pow10=function(e){return isFinite(e)?+("1e"+e):e<0?0:e},r.makePowFn=function(e){return 10===e?r.pow10:e===Math.E?Math.exp:function(i){return Math.pow(e,i)}},r.makeLogFn=function(e){if(e===Math.E)return Math.log;if(10===e)return Math.log10;if(2===e)return Math.log2;var i=Math.log(e);return function(a){return Math.log(a)/i}},r.prototype.ticks=function(e){var i;void 0===e&&(e=10);var a=null==e?10:+e,s=this.base,d=this.domain,h=d[0],v=d[d.length-1],_=v<h;_&&(h=(i=__read$l([v,h],2))[0],v=i[1]);var y=this.baseLog(h),m=this.baseLog(v),E=[];if(!(s%1)&&m-y<a){if(y=Math.round(y)-1,m=Math.round(m)+1,h>0){for(;y<m;++y)for(var w=1,S=this.basePow(y);w<s;++w)if(!((D=S*w)<h)){if(D>v)break;E.push(D)}}else for(;y<m;++y)for(w=s-1,S=this.basePow(y);w>=1;--w){var D;if(!((D=S*w)<h)){if(D>v)break;E.push(D)}}2*E.length<a&&(E=ticks$1(h,v,a))}else E=ticks$1(y,m,Math.min(m-y,a)).map(this.basePow);return _?E.reverse():E},r.prototype.tickFormat=function(e){var i=this,a=e.count,s=e.specifier,d=this.base;if(null==s&&(s=10===d?".0e":","),"function"!=typeof s&&(s=format$1(s)),a===1/0)return s;null==a&&(a=10);var h=Math.max(1,d*a/this.ticks().length);return function(v){var _=v/i.basePow(Math.round(i.baseLog(v)));return _*d<d-.5&&(_*=d),_<=h?s(v):""}},r}(ContinuousScale$1),__extends$1P=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),LogAxis=function(l){function r(){var e=l.call(this)||this;return e.scale=new LogScale,e.scale.clamper=clamper$1,e}return __extends$1P(r,l),Object.defineProperty(r.prototype,"base",{get:function(){return this.scale.base},set:function(e){this.scale.base=e},enumerable:!0,configurable:!0}),r.className="LogAxis",r.type="log",r}(NumberAxis),__assign$n=function(){return __assign$n=Object.assign||function(l){for(var r,e=1,i=arguments.length;e<i;e++)for(var a in r=arguments[e])Object.prototype.hasOwnProperty.call(r,a)&&(l[a]=r[a]);return l},__assign$n.apply(this,arguments)},__read$k=function(l,r){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var a,d,i=e.call(l),s=[];try{for(;(void 0===r||r-- >0)&&!(a=i.next()).done;)s.push(a.value)}catch(h){d={error:h}}finally{try{a&&!a.done&&(e=i.return)&&e.call(i)}finally{if(d)throw d.error}}return s},__spread$8=function(){for(var l=[],r=0;r<arguments.length;r++)l=l.concat(__read$k(arguments[r]));return l},__values$8=function(l){var r="function"==typeof Symbol&&Symbol.iterator,e=r&&l[r],i=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&i>=l.length&&(l=void 0),{value:l&&l[i++],done:!l}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")};function jsonDiff(l,r,e){var i,a,s=(e||{}).stringify,d=void 0===s?[]:s,h=classify(l),v=classify(r);if("array"===v)return"array"!==h||l.length!==r.length||r.some(function(M,A){var L;return null!=jsonDiff(null===(L=l)||void 0===L?void 0:L[A],M)})?__spread$8(r):null;if("primitive"===v)return"primitive"!==h?__assign$n({},r):l!==r?r:null;var _=l||{},y=r||{},m=new Set(__spread$8(Object.keys(_),Object.keys(y))),E=0,w={},S=function(M){if(_[M]===y[M])return"continue";var A=function(k){w[M]=k,E++};if(d.includes(M))return JSON.stringify(_[M]!==JSON.stringify(y[M]))&&A(y[M]),"continue";var L=classify(_[M]),N=classify(y[M]);if(L!==N||"primitive"===N||null===N||"array"===N&&_[M].length!==y[M].length||"class-instance"===N||"function"===N&&_[M]!==y[M])return A(y[M]),"continue";var G=jsonDiff(_[M],y[M],{stringify:d});null!==G&&A(G)};try{for(var D=__values$8(m),T=D.next();!T.done;T=D.next())S(T.value)}catch(M){i={error:M}}finally{try{T&&!T.done&&(a=D.return)&&a.call(D)}finally{if(i)throw i.error}}return 0===E?null:w}var DELETE=Symbol("<delete-property>"),NOT_SPECIFIED=Symbol("<unspecified-property>");function jsonMerge(){for(var l,r,e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var a=e.map(function(E){return classify(E)});if(a.some(function(E){return"array"===E})){var s=e[e.length-1];return s instanceof Array?s.map(function(E){var w=classify(E);return"array"===w?jsonMerge([],E):"object"===w?jsonMerge({},E):E}):s}var d={},h=new Set(e.map(function(E){return null!=E?Object.keys(E):[]}).reduce(function(E,w){return E.concat(w)},[])),v=function(E){var w=e.map(function(b){return null!=b&&E in b?b[E]:NOT_SPECIFIED}).filter(function(b){return b!==NOT_SPECIFIED});if(0===w.length)return"continue";var S=w[w.length-1];if(S===DELETE)return"continue";var D=w.map(function(b){return classify(b)}),T=D[0];if(D.some(function(b){return b!==T&&null!==b}))return d[E]=S,"continue";d[E]="array"===T||"object"===T?jsonMerge.apply(void 0,__spread$8(w)):S};try{for(var _=__values$8(h),y=_.next();!y.done;y=_.next()){var m=y.value;v(m)}}catch(E){l={error:E}}finally{try{y&&!y.done&&(r=_.return)&&r.call(_)}finally{if(l)throw l.error}}return d}function jsonApply(l,r,e){void 0===e&&(e={});var a,s,d,h=e.path,v=void 0===h?void 0:h,_=e.matcherPath,y=void 0===_?v?v.replace(/(\[[0-9+]{1,}\])/i,"[]"):void 0:_,m=e.skip,E=void 0===m?[]:m,w=e.constructors,S=void 0===w?{}:w,D=e.allowedTypes,T=void 0===D?{}:D;if(null==l)throw new Error("AG Charts - target is uninitialised: "+(v||"<root>"));if(null==r)return l;var b=classify(l),M=function(L){var N=(y?y+".":"")+L;if(E.indexOf(N)>=0)return"continue";var G=r[L],k=(v?v+".":"")+L,K=l,$=K.constructor,j=K[L],Y=S[L]??S[N];try{var ie=classify(j),re=classify(G);if("class-instance"===b&&!(L in l)&&!K.hasOwnProperty(L))return console.warn("AG Charts - unable to set ["+k+"] in "+(null===(a=$)||void 0===a?void 0:a.name)+" - property is unknown"),"continue";var J=T[N]||[ie];if(("class-instance"!==ie||"object"!==re)&&null!=ie&&null!=re&&!J.includes(re))return console.warn("AG Charts - unable to set ["+k+"] in "+(null===(s=$)||void 0===s?void 0:s.name)+" - can't apply type of ["+re+"], allowed types are: ["+J+"]"),"continue";"array"===re?K[L]=null!=(Y=Y??S[N+"[]"])?G.map(function(oe){return jsonApply(new Y,oe,__assign$n(__assign$n({},e),{path:k,matcherPath:N+"[]"}))}):G:"class-instance"===re?K[L]=G:"object"===re?null!=j?jsonApply(j,G,__assign$n(__assign$n({},e),{path:k,matcherPath:N})):K[L]=null!=Y?jsonApply(new Y,G,__assign$n(__assign$n({},e),{path:k,matcherPath:N})):G:K[L]=G}catch(oe){return console.warn("AG Charts - unable to set ["+k+"] in ["+(null===(d=$)||void 0===d?void 0:d.name)+"]; nested error is: "+oe.message),"continue"}};for(var A in r)M(A);return l}function jsonWalk(l,r,e){for(var i=[],a=3;a<arguments.length;a++)i[a-3]=arguments[a];var s,d=classify(l),h=e.skip||[];if("array"!==d){if("object"===d){r.apply(void 0,__spread$8([d,l],i));var v=function(y){if(h.indexOf(y)>=0)return"continue";var m=l[y],E=null===(s=i)||void 0===s?void 0:s.map(function(S){var D;return null===(D=S)||void 0===D?void 0:D[y]}),w=classify(m);("object"===w||"array"===w)&&jsonWalk.apply(void 0,__spread$8([m,r,e],E))};for(var _ in l)v(_)}}else l.forEach(function(y,m){var E;jsonWalk.apply(void 0,__spread$8([y,r,e],null===(E=i)||void 0===E?void 0:E.map(function(w){var S;return null===(S=w)||void 0===S?void 0:S[m]})))})}function classify(l){return null==l?null:l instanceof HTMLElement?"primitive":l instanceof Array?"array":l instanceof Date?"primitive":"object"==typeof l&&l.constructor===Object?"object":"function"==typeof l?"function":"object"==typeof l&&null!=l.constructor?"class-instance":"primitive"}var DEFAULT_CARTESIAN_CHART_OVERRIDES={type:"cartesian",axes:[{type:NumberAxis.type,position:ChartAxisPosition.Left},{type:CategoryAxis.type,position:ChartAxisPosition.Bottom}]},DEFAULT_BAR_CHART_OVERRIDES={axes:[{type:"number",position:ChartAxisPosition.Bottom},{type:"category",position:ChartAxisPosition.Left}]},DEFAULT_SCATTER_HISTOGRAM_CHART_OVERRIDES={axes:[{type:"number",position:ChartAxisPosition.Bottom},{type:"number",position:ChartAxisPosition.Left}]},__assign$m=function(){return __assign$m=Object.assign||function(l){for(var r,e=1,i=arguments.length;e<i;e++)for(var a in r=arguments[e])Object.prototype.hasOwnProperty.call(r,a)&&(l[a]=r[a]);return l},__assign$m.apply(this,arguments)};function transform(l,r){var e={};for(var i in l)e[i]=(r[i]||function(s){return s})(l[i],l);return e}function is2dArray(l){return null!=l&&l instanceof Array&&l[0]instanceof Array}function yNamesMapping(l,r){if(null==l)return{};if(!(l instanceof Array))return l;var e=r.yKeys;if(null==e||is2dArray(e))throw new Error("AG Charts - yNames and yKeys mismatching configuration.");var i={};return e.forEach(function(a,s){i[a]=l[s]}),i}function yKeysMapping(l,r){return null==l?[[]]:is2dArray(l)?l:r.grouped?l.map(function(e){return[e]}):[l]}function labelMapping(l){if(null!=l){var r=l.placement;return __assign$m(__assign$m({},l),{placement:"inside"===r?BarLabelPlacement.Inside:"outside"===r?BarLabelPlacement.Outside:void 0})}}function barSeriesTransform(l){var r=__assign$m(__assign$m({},l),{yKeys:l.yKeys||[l.yKey]});return delete r.yKey,transform(r,{yNames:yNamesMapping,yKeys:yKeysMapping,label:labelMapping})}function identityTransform(l){return l}var SERIES_TRANSFORMS={area:identityTransform,bar:barSeriesTransform,column:barSeriesTransform,histogram:identityTransform,line:identityTransform,pie:identityTransform,scatter:identityTransform,treemap:identityTransform};function applySeriesTransform(l){return(0,SERIES_TRANSFORMS[l.type||"line"])(l)}var __assign$l=function(){return __assign$l=Object.assign||function(l){for(var r,e=1,i=arguments.length;e<i;e++)for(var a in r=arguments[e])Object.prototype.hasOwnProperty.call(r,a)&&(l[a]=r[a]);return l},__assign$l.apply(this,arguments)},__values$7=function(l){var r="function"==typeof Symbol&&Symbol.iterator,e=r&&l[r],i=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&i>=l.length&&(l=void 0),{value:l&&l[i++],done:!l}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},__read$j=function(l,r){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var a,d,i=e.call(l),s=[];try{for(;(void 0===r||r-- >0)&&!(a=i.next()).done;)s.push(a.value)}catch(h){d={error:h}}finally{try{a&&!a.done&&(e=i.return)&&e.call(i)}finally{if(d)throw d.error}}return s},__spread$7=function(){for(var l=[],r=0;r<arguments.length;r++)l=l.concat(__read$j(arguments[r]));return l};function groupSeriesByType(l){var r,e,i={},a=[];try{for(var s=__values$7(l),d=s.next();!d.done;d=s.next()){var h=d.value;if("column"===h.type||"bar"===h.type||"area"===h.type&&!0===h.stacked){var y=(h.type||"line")+"-"+h.xKey+"-"+(h.stacked?"stacked":h.grouped?"grouped":h.yKeys?"stacked":"grouped");null==i[y]&&(i[y]=[],a.push(i[y])),i[y].push(h)}else a.push([h])}}catch(m){r={error:m}}finally{try{d&&!d.done&&(e=s.return)&&e.call(s)}finally{if(r)throw r.error}}return a}var FAIL=Symbol(),SKIP=Symbol(),ARRAY_REDUCER=function(l){return function(r,e){return r.concat.apply(r,__spread$7(e[l]??[]))}},BOOLEAN_OR_REDUCER=function(l,r){return function(e,i){return"boolean"==typeof i[l]?(e??!1)||i[l]:e??r}},DEFAULTING_ARRAY_REDUCER=function(l,r){return function(e,i,a,s){var h=r===SKIP||r===FAIL,v=i[l]??r;if(v===FAIL)throw new Error("AG Charts - missing value for property ["+l+"] on series config.");if(v===SKIP)return e;if(0===e.length&&!h)for(;e.length<s;)e=e.concat(r);return h?e.concat(v):(e[a]=v,e)}},YKEYS_REDUCER=function(l,r){return function(e,i){return i[l]===r?e.concat.apply(e,__spread$7(i.yKey?[i.yKey]:i.yKeys)):e}},REDUCE_CONFIG={yKeys:{outputProp:"yKeys",reducer:ARRAY_REDUCER("yKeys"),start:[]},fills:{outputProp:"fills",reducer:ARRAY_REDUCER("fills"),start:[]},strokes:{outputProp:"strokes",reducer:ARRAY_REDUCER("strokes"),start:[]},yNames:{outputProp:"yNames",reducer:ARRAY_REDUCER("yNames"),start:[]},hideInChart:{outputProp:"hideInChart",reducer:ARRAY_REDUCER("hideInChart"),start:[]},hideInLegend:{outputProp:"hideInLegend",reducer:ARRAY_REDUCER("hideInLegend"),start:[]},yKey:{outputProp:"yKeys",reducer:DEFAULTING_ARRAY_REDUCER("yKey",SKIP),start:[]},fill:{outputProp:"fills",reducer:DEFAULTING_ARRAY_REDUCER("fill",SKIP),start:[]},stroke:{outputProp:"strokes",reducer:DEFAULTING_ARRAY_REDUCER("stroke",SKIP),start:[]},yName:{outputProp:"yNames",reducer:DEFAULTING_ARRAY_REDUCER("yName",SKIP),start:[]},visible:{outputProp:"visibles",reducer:DEFAULTING_ARRAY_REDUCER("visible",!0),start:[]},grouped:{outputProp:"grouped",reducer:BOOLEAN_OR_REDUCER("grouped"),seriesType:["bar","column"],start:void 0},showInLegend:{outputProp:"hideInLegend",reducer:YKEYS_REDUCER("showInLegend",!1),seriesType:["bar","column"],start:[]}};function reduceSeries(l){var r={};return l.forEach(function(e,i){Object.keys(e).forEach(function(a){var d=REDUCE_CONFIG[a],h=function(){r[a]=e[a]??r[a]??void 0};if(d){var v=d.outputProp,_=d.reducer,y=d.start,m=void 0===y?void 0:y,E=d.seriesType;if((void 0===E?[e.type]:E).includes(e.type)){var S=_(r[v]??m,e,i,l.length);void 0!==S&&(r[v]=S)}else h()}else h()})}),r}function processSeriesOptions(l){var r,e,i=[],a=l.map(function(v){return"bar"!==v.type&&"column"!==v.type||null==v.yKey||v.stacked?v:__assign$l(__assign$l({},v),{grouped:null==v.grouped||v.grouped})});try{for(var s=__values$7(groupSeriesByType(a)),d=s.next();!d.done;d=s.next()){var h=d.value;switch(h[0].type){case"column":case"bar":case"area":i.push(reduceSeries(h));break;default:h.length>1&&console.warn("AG Charts - unexpected grouping of series type: "+h[0].type),i.push(h[0])}}}catch(v){r={error:v}}finally{try{d&&!d.done&&(e=s.return)&&e.call(s)}finally{if(r)throw r.error}}return i}var __assign$k=function(){return __assign$k=Object.assign||function(l){for(var r,e=1,i=arguments.length;e<i;e++)for(var a in r=arguments[e])Object.prototype.hasOwnProperty.call(r,a)&&(l[a]=r[a]);return l},__assign$k.apply(this,arguments)},__values$6=function(l){var r="function"==typeof Symbol&&Symbol.iterator,e=r&&l[r],i=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&i>=l.length&&(l=void 0),{value:l&&l[i++],done:!l}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},__read$i=function(l,r){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var a,d,i=e.call(l),s=[];try{for(;(void 0===r||r-- >0)&&!(a=i.next()).done;)s.push(a.value)}catch(h){d={error:h}}finally{try{a&&!a.done&&(e=i.return)&&e.call(i)}finally{if(d)throw d.error}}return s},__spread$6=function(){for(var l=[],r=0;r<arguments.length;r++)l=l.concat(__read$i(arguments[r]));return l};function optionsType(l){var e,i;return l.type??(null===(i=null===(e=l.series)||void 0===e?void 0:e[0])||void 0===i?void 0:i.type)??"line"}function isAgCartesianChartOptions(l){var r=optionsType(l);if(null==r)return!0;switch(r){case"cartesian":case"area":case"bar":case"column":case"groupedCategory":case"histogram":case"line":case"scatter":return!0;default:return!1}}function isAgHierarchyChartOptions(l){if(null==optionsType(l))return!1;switch(l.type){case"hierarchy":case"treemap":return!0;default:return!1}}function isAgPolarChartOptions(l){if(null==optionsType(l))return!1;switch(l.type){case"polar":case"pie":return!0;default:return!1}}function isSeriesOptionType(l){return null!=l&&["line","bar","column","histogram","scatter","area","pie","treemap"].indexOf(l)>=0}function countArrayElements(l){var r,e,i=0;try{for(var a=__values$6(l),s=a.next();!s.done;s=a.next()){var d=s.value;d instanceof Array&&(i+=countArrayElements(d)),null!=d&&i++}}catch(h){r={error:h}}finally{try{s&&!s.done&&(e=a.return)&&e.call(a)}finally{if(r)throw r.error}}return i}function takeColours(l,r,e){for(var i=[],a=0;a<e;a++)i.push(r[(a+l.colourIndex)%r.length]);return i}function prepareOptions(l){for(var r=[],e=1;e<arguments.length;e++)r[e-1]=arguments[e];var i,a=null==r?l:jsonMerge.apply(void 0,__spread$6(r,[l]));sanityCheckOptions(a);var s=a.type,d=optionsType(a),h=isAgCartesianChartOptions(a=__assign$k(__assign$k({},a),{type:d}))?"line":isAgHierarchyChartOptions(a)?"treemap":isAgPolarChartOptions(a)?"pie":"line",v="bar"===d?DEFAULT_BAR_CHART_OVERRIDES:"scatter"===d||"histogram"===d?DEFAULT_SCATTER_HISTOGRAM_CHART_OVERRIDES:isAgCartesianChartOptions(a)?DEFAULT_CARTESIAN_CHART_OVERRIDES:{},_=prepareMainOptions(v,a),y=_.context,m=_.mergedOptions,E=_.axesThemes,w=_.seriesThemes;return m.series=processSeriesOptions((m.series||[]).map(function(S){var D=S.type?S.type:isSeriesOptionType(s)?s:h;return jsonMerge(w[D]||{},__assign$k(__assign$k({},S),{type:D}))})).map(function(S){return prepareSeries(y,S)}),isAgCartesianChartOptions(m)&&(m.axes=null===(i=m.axes)||void 0===i?void 0:i.map(function(S){var D=S.type||"number";return prepareAxis(__assign$k(__assign$k({},S),{type:D}),jsonMerge(E[D],E[D][S.position||"unknown"]||{}))})),prepareEnabledOptions(a,m),m}function sanityCheckOptions(l){var r,e;!(null===(r=l.series)||void 0===r)&&r.some(function(i){return null!=i.yKeys&&null!=i.yKey})&&console.warn("AG Charts - series options yKeys and yKey are mutually exclusive, please only use yKey for future compatibility."),null!==(e=l.series)&&void 0!==e&&e.some(function(i){return null!=i.yNames&&null!=i.yName})&&console.warn("AG Charts - series options yNames and yName are mutually exclusive, please only use yName for future compatibility.")}function prepareMainOptions(l,r){var e=prepareTheme(r),s=e.axesThemes,d=e.seriesThemes;return{context:{colourIndex:0,palette:e.theme.palette},mergedOptions:jsonMerge(l,e.cleanedTheme,r),axesThemes:s,seriesThemes:d}}function prepareTheme(l){var r=getChartTheme(l.theme),e=r.getConfig(optionsType(l)||"cartesian");return{theme:r,axesThemes:e.axes||{},seriesThemes:e.series||{},cleanedTheme:jsonMerge(e,{axes:DELETE,series:DELETE})}}function prepareSeries(l,r){for(var e=[],i=2;i<arguments.length;i++)e[i-2]=arguments[i];var a=calculateSeriesPalette(l,r),s={stacked:DELETE},d=jsonMerge.apply(void 0,__spread$6(e,[a,r,s]));return applySeriesTransform(d)}function calculateSeriesPalette(l,r){var e={},i=l.palette,a=i.fills,s=i.strokes,h=countArrayElements(r.yKeys||[])||1;switch(r.type){case"pie":h=Math.max(a.length,s.length);case"area":case"bar":case"column":e.fills=takeColours(l,a,h),e.strokes=takeColours(l,s,h);break;case"histogram":e.fill=takeColours(l,a,1)[0],e.stroke=takeColours(l,s,1)[0];break;case"scatter":e.marker={stroke:takeColours(l,s,1)[0],fill:takeColours(l,a,1)[0]};break;case"line":e.stroke=takeColours(l,a,1)[0],e.marker={stroke:takeColours(l,s,1)[0],fill:takeColours(l,a,1)[0]};break;case"treemap":break;default:throw new Error("AG Charts - unknown series type: "+r.type)}return l.colourIndex+=h,e}function prepareAxis(l,r){var e={top:DELETE,bottom:DELETE,left:DELETE,right:DELETE};if(l.crossLines){Array.isArray(l.crossLines)||(console.warn("AG Charts - axis[].crossLines should be an array."),l.crossLines=[]);var i=r.crossLines;l.crossLines=l.crossLines.map(function(s){return jsonMerge(i,s)})}return jsonMerge(r,{crossLines:DELETE},l,e)}function prepareEnabledOptions(l,r){jsonWalk(l,function(e,i,a){!a||"enabled"in a&&null==i.enabled&&(a.enabled=!0)},{skip:["data"]},r)}var horizontalCrosslineTranslationDirections={top:{xTranslationDirection:0,yTranslationDirection:-1},bottom:{xTranslationDirection:0,yTranslationDirection:1},left:{xTranslationDirection:-1,yTranslationDirection:0},right:{xTranslationDirection:1,yTranslationDirection:0},topLeft:{xTranslationDirection:1,yTranslationDirection:-1},topRight:{xTranslationDirection:-1,yTranslationDirection:-1},bottomLeft:{xTranslationDirection:1,yTranslationDirection:1},bottomRight:{xTranslationDirection:-1,yTranslationDirection:1},inside:{xTranslationDirection:0,yTranslationDirection:0},insideLeft:{xTranslationDirection:1,yTranslationDirection:0},insideRight:{xTranslationDirection:-1,yTranslationDirection:0},insideTop:{xTranslationDirection:0,yTranslationDirection:1},insideBottom:{xTranslationDirection:0,yTranslationDirection:-1},insideTopLeft:{xTranslationDirection:1,yTranslationDirection:1},insideBottomLeft:{xTranslationDirection:1,yTranslationDirection:-1},insideTopRight:{xTranslationDirection:-1,yTranslationDirection:1},insideBottomRight:{xTranslationDirection:-1,yTranslationDirection:-1}},verticalCrossLineTranslationDirections={top:{xTranslationDirection:1,yTranslationDirection:0},bottom:{xTranslationDirection:-1,yTranslationDirection:0},left:{xTranslationDirection:0,yTranslationDirection:-1},right:{xTranslationDirection:0,yTranslationDirection:1},topLeft:{xTranslationDirection:-1,yTranslationDirection:-1},topRight:{xTranslationDirection:-1,yTranslationDirection:1},bottomLeft:{xTranslationDirection:1,yTranslationDirection:-1},bottomRight:{xTranslationDirection:1,yTranslationDirection:1},inside:{xTranslationDirection:0,yTranslationDirection:0},insideLeft:{xTranslationDirection:0,yTranslationDirection:1},insideRight:{xTranslationDirection:0,yTranslationDirection:-1},insideTop:{xTranslationDirection:-1,yTranslationDirection:0},insideBottom:{xTranslationDirection:1,yTranslationDirection:0},insideTopLeft:{xTranslationDirection:-1,yTranslationDirection:1},insideBottomLeft:{xTranslationDirection:1,yTranslationDirection:1},insideTopRight:{xTranslationDirection:-1,yTranslationDirection:-1},insideBottomRight:{xTranslationDirection:1,yTranslationDirection:-1}},calculateLabelTranslation=function(l){var r=l.yDirection,e=l.padding,i=void 0===e?0:e,s=l.bbox,h=r?horizontalCrosslineTranslationDirections:verticalCrossLineTranslationDirections,v=h[l.position]??h.top;return{xTranslation:v.xTranslationDirection*(i+(r?s.width:s.height)/2),yTranslation:v.yTranslationDirection*(i+(r?s.height:s.width)/2)}},POSITION_TOP_COORDINATES=function(l){var e=l.xEnd,i=l.yStart,a=l.yEnd;return l.yDirection?{x:e/2,y:isNaN(a)?i:a}:{x:e,y:isNaN(a)?i:(i+a)/2}},POSITION_LEFT_COORDINATES=function(l){var i=l.xEnd,a=l.yStart,s=l.yEnd;return l.yDirection?{x:l.xStart,y:isNaN(s)?a:(a+s)/2}:{x:i/2,y:a}},POSITION_RIGHT_COORDINATES=function(l){var e=l.xEnd,i=l.yStart,a=l.yEnd;return l.yDirection?{x:e,y:isNaN(a)?i:(i+a)/2}:{x:e/2,y:isNaN(a)?i:a}},POSITION_BOTTOM_COORDINATES=function(l){var a=l.yStart,s=l.yEnd;return l.yDirection?{x:l.xEnd/2,y:a}:{x:l.xStart,y:isNaN(s)?a:(a+s)/2}},POSITION_INSIDE_COORDINATES=function(l){var e=l.yStart,i=l.yEnd;return{x:l.xEnd/2,y:isNaN(i)?e:(e+i)/2}},POSITION_TOP_LEFT_COORDINATES=function(l){var i=l.xEnd,a=l.yStart,s=l.yEnd;return l.yDirection?{x:l.xStart/2,y:isNaN(s)?a:s}:{x:i,y:a}},POSITION_BOTTOM_LEFT_COORDINATES=function(l){return{x:l.xStart,y:l.yStart}},POSITION_TOP_RIGHT_COORDINATES=function(l){var e=l.yStart,i=l.yEnd;return{x:l.xEnd,y:isNaN(i)?e:i}},POSITION_BOTTOM_RIGHT_COORDINATES=function(l){var a=l.yStart,s=l.yEnd;return l.yDirection?{x:l.xEnd,y:a}:{x:l.xStart,y:isNaN(s)?a:s}},labeldDirectionHandling={top:{c:POSITION_TOP_COORDINATES},bottom:{c:POSITION_BOTTOM_COORDINATES},left:{c:POSITION_LEFT_COORDINATES},right:{c:POSITION_RIGHT_COORDINATES},topLeft:{c:POSITION_TOP_LEFT_COORDINATES},topRight:{c:POSITION_TOP_RIGHT_COORDINATES},bottomLeft:{c:POSITION_BOTTOM_LEFT_COORDINATES},bottomRight:{c:POSITION_BOTTOM_RIGHT_COORDINATES},inside:{c:POSITION_INSIDE_COORDINATES},insideLeft:{c:POSITION_LEFT_COORDINATES},insideRight:{c:POSITION_RIGHT_COORDINATES},insideTop:{c:POSITION_TOP_COORDINATES},insideBottom:{c:POSITION_BOTTOM_COORDINATES},insideTopLeft:{c:POSITION_TOP_LEFT_COORDINATES},insideBottomLeft:{c:POSITION_BOTTOM_LEFT_COORDINATES},insideTopRight:{c:POSITION_TOP_RIGHT_COORDINATES},insideBottomRight:{c:POSITION_BOTTOM_RIGHT_COORDINATES}},__read$h=function(l,r){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var a,d,i=e.call(l),s=[];try{for(;(void 0===r||r-- >0)&&!(a=i.next()).done;)s.push(a.value)}catch(h){d={error:h}}finally{try{a&&!a.done&&(e=i.return)&&e.call(i)}finally{if(d)throw d.error}}return s},CrossLineLabel=function l(){this.enabled=void 0,this.text=void 0,this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=14,this.fontFamily="Verdana, sans-serif",this.padding=5,this.color="rgba(87, 87, 87, 1)",this.position=void 0,this.rotation=void 0,this.parallel=void 0},CrossLine=function(){function l(){this.id=createId$1(this),this.enabled=void 0,this.type=void 0,this.range=void 0,this.value=void 0,this.fill=void 0,this.fillOpacity=void 0,this.stroke=void 0,this.strokeWidth=void 0,this.strokeOpacity=void 0,this.lineDash=void 0,this.label=new CrossLineLabel,this.scale=void 0,this.gridLength=0,this.sideFlag=-1,this.parallelFlipRotation=0,this.regularFlipRotation=0,this.direction=ChartAxisDirection.X,this.group=new Group$1({name:""+this.id,layer:!0,zIndex:l.LINE_LAYER_ZINDEX}),this.crossLineLabel=new Text$1,this.crossLineLine=new Path$1,this.crossLineRange=new Path$1,this.labelPoint=void 0,this.fillData=void 0,this.strokeData=void 0;var r=this,i=r.crossLineLine,a=r.crossLineRange;r.group.append([a,i,r.crossLineLabel]),i.fill=void 0,i.pointerEvents=PointerEvents$1.None,a.pointerEvents=PointerEvents$1.None}return l.prototype.getZIndex=function(r){return void 0===r&&(r="line"),"range"===r?l.RANGE_LAYER_ZINDEX:l.LINE_LAYER_ZINDEX},l.prototype.update=function(r){if(this.enabled&&this.type&&(this.group.visible=r,r)){if(this.group.zIndex=this.getZIndex(this.type),!this.createNodeData())return void(this.group.visible=!1);this.updatePaths()}},l.prototype.updatePaths=function(){this.updateLinePath(),this.updateLineNode(),"range"===this.type&&(this.updateRangePath(),this.updateRangeNode()),this.label.enabled&&(this.updateLabel(),this.positionLabel())},l.prototype.createNodeData=function(){var r,e,i,a,d,h=this,v=h.scale,_=h.gridLength,y=h.sideFlag,m=h.direction,E=h.label.position,w=void 0===E?"top":E;if(!v)return!1;var T,b,M,A,L,N,S=v instanceof ContinuousScale$1,D=v.bandwidth??0;this.fillData={points:[]},this.strokeData={points:[]},T=(r=__read$h([0,y*_],2))[0],b=r[1];var G=!1;if(void 0===(M=(e=__read$h(this.getRange(),2))[0]))return!1;if(void 0===(A=e[1])&&(G=!0),L=(i=__read$h([Number(v.convert(M,S?clamper$2:void 0)),v.convert(A,S?clamper$2:void 0)+D],2))[0],N=i[1],M=(a=__read$h([Number(v.convert(M)),v.convert(A)+D],2))[0],A=a[1],G&&M!==L||!G&&M!==L&&A!==N&&L===N)return!1;if(this.strokeData.points.push({x:T,y:M},{x:b,y:M},{x:b,y:A},{x:T,y:A}),this.fillData.points.push({x:T,y:L},{x:b,y:L},{x:b,y:N},{x:T,y:N}),this.label.enabled){var j=(d=labeldDirectionHandling[w],d??{}).c,ie=(void 0===j?POSITION_TOP_COORDINATES:j)({yDirection:m===ChartAxisDirection.Y,xStart:T,xEnd:b,yStart:L,yEnd:N});this.labelPoint={x:ie.x,y:ie.y}}return!0},l.prototype.updateLinePath=function(){var e=this.crossLineLine,i=this.strokeData,d=(void 0===i?{points:[]}:i).points,h=e.path;h.clear({trackChanges:!0}),["moveTo","lineTo","moveTo","lineTo"].forEach(function(v,_){var y=d[_];h[v](y.x,y.y)}),e.checkPathDirty()},l.prototype.updateLineNode=function(){var e=this,i=e.crossLineLine,s=e.strokeWidth,d=e.lineDash;i.stroke=e.stroke,i.strokeWidth=s??1,i.opacity=this.strokeOpacity??1,i.lineDash=d},l.prototype.updateRangeNode=function(){var r=this,e=r.crossLineRange,a=r.fillOpacity;e.fill=r.fill,e.opacity=a??1},l.prototype.updateRangePath=function(){var e=this.crossLineRange,i=this.fillData,s=(void 0===i?{points:[]}:i).points,d=e.path;d.clear({trackChanges:!0}),s.forEach(function(h,v){d[v>0?"lineTo":"moveTo"](h.x,h.y)}),d.closePath(),e.checkPathDirty()},l.prototype.updateLabel=function(){var e=this.crossLineLabel,i=this.label;!i.text||(e.fontStyle=i.fontStyle,e.fontWeight=i.fontWeight,e.fontSize=i.fontSize,e.fontFamily=i.fontFamily,e.fill=i.color,e.text=i.text)},l.prototype.positionLabel=function(){var r=this,e=r.crossLineLabel,i=r.labelPoint,a=void 0===i?{}:i,s=a.x,d=void 0===s?void 0:s,h=a.y,v=void 0===h?void 0:h,_=r.label,y=_.parallel,m=_.rotation,E=_.position,w=void 0===E?"top":E,S=_.padding,D=void 0===S?0:S,T=r.direction,b=r.parallelFlipRotation,M=r.regularFlipRotation;if(void 0!==d&&void 0!==v){var A=m?normalizeAngle360(toRadians(m)):0,L=!A&&b>=0&&b<=Math.PI?-1:1,N=!A&&M>=0&&M<=Math.PI?-1:1,G=y?L*Math.PI/2:-1===N?Math.PI:0;e.rotation=G+A,e.textBaseline="middle",e.textAlign="center";var k=this.computeLabelBBox();if(k){var $=calculateLabelTranslation({yDirection:T===ChartAxisDirection.Y,padding:D,position:w,bbox:k}),Y=$.yTranslation;e.translationX=d+$.xTranslation,e.translationY=v+Y}}},l.prototype.getRange=function(){var r,e=this,d=e.scale instanceof ContinuousScale$1,h=__read$h(e.range??[e.value,void 0],2),v=h[0],_=h[1];return!d&&void 0===_&&(_=v),v=(r=__read$h([checkDatum(v,d),checkDatum(_,d)],2))[0],_=r[1],d&&v===_&&(_=void 0),void 0===v&&void 0!==_&&(v=_,_=void 0),[v,_]},l.prototype.computeLabelBBox=function(){return this.crossLineLabel.computeTransformedBBox()},l.prototype.calculatePadding=function(r,e){var i,a,s,h,w=this.computeLabelBBox(),S=null===(i=w)||void 0===i?void 0:i.x,D=null===(a=w)||void 0===a?void 0:a.y;if(null!=S&&null!=D){var T=(null===(s=w)||void 0===s?void 0:s.width)??0,b=(null===(h=w)||void 0===h?void 0:h.height)??0;if(S+T>=e.x+e.width){var M=S+T-(e.x+e.width);r.right=(r.right??0)>=M?r.right:M}else if(S<=e.x){var A=e.x-S;r.left=(r.left??0)>=A?r.left:A}if(D+b>=e.y+e.height){var L=D+b-(e.y+e.height);r.bottom=(r.bottom??0)>=L?r.bottom:L}else if(D<=e.y){var N=e.y-D;r.top=(r.top??0)>=N?r.top:N}}},l.LINE_LAYER_ZINDEX=Layers.SERIES_CROSSLINE_LINE_ZINDEX,l.RANGE_LAYER_ZINDEX=Layers.SERIES_CROSSLINE_RANGE_ZINDEX,l.className="CrossLine",l}(),__assign$j=function(){return __assign$j=Object.assign||function(l){for(var r,e=1,i=arguments.length;e<i;e++)for(var a in r=arguments[e])Object.prototype.hasOwnProperty.call(r,a)&&(l[a]=r[a]);return l},__assign$j.apply(this,arguments)},__read$g=function(l,r){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var a,d,i=e.call(l),s=[];try{for(;(void 0===r||r-- >0)&&!(a=i.next()).done;)s.push(a.value)}catch(h){d={error:h}}finally{try{a&&!a.done&&(e=i.return)&&e.call(i)}finally{if(d)throw d.error}}return s},__spread$5=function(){for(var l=[],r=0;r<arguments.length;r++)l=l.concat(__read$g(arguments[r]));return l},__values$5=function(l){var r="function"==typeof Symbol&&Symbol.iterator,e=r&&l[r],i=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&i>=l.length&&(l=void 0),{value:l&&l[i++],done:!l}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")};function chartType(l){if(isAgCartesianChartOptions(l))return"cartesian";if(isAgPolarChartOptions(l))return"polar";if(isAgHierarchyChartOptions(l))return"hierarchy";throw new Error("AG Chart - unknown type of chart for options with type: "+l.type)}var AgChart=function(){function l(){}return l.createComponent=function(r,e){return e.indexOf(".series")>=0?createSeries([__assign$j(__assign$j({},r),{type:r.type||e.split(".")[0]})])[0]:null},l.create=function(r,e,i){return AgChartV2.create(r)},l.update=function(r,e,i,a){return AgChartV2.update(r,e)},l}(),AgChartV2=function(){function l(){}return l.create=function(r){debug("user options",r);var e={};l.DEBUG()&&(e.debug=!0);var i=prepareOptions(r,e),a=isAgCartesianChartOptions(i)?"groupedCategory"===i.type?new GroupedCategoryChart(document):new CartesianChart(document):isAgHierarchyChartOptions(i)?new HierarchyChart(document):isAgPolarChartOptions(i)?new PolarChart(document):void 0;if(!a)throw new Error("AG Charts - couldn't apply configuration, check type of options: "+i.type);return l.updateDelta(a,i,r),a},l.update=function(r,e){debug("user options",e);var i={};l.DEBUG()&&(i.debug=!0);var a=prepareOptions(e,r.userOptions,i);if(chartType(a)!==chartType(r.options))return r.destroy(),void console.warn("AG Charts - options supplied require a different type of chart, please recreate the chart.");var s=jsonDiff(r.options,a,{stringify:["data"]});null!=s&&l.updateDelta(r,s,e)},l.updateDelta=function(r,e,i){null==e.type&&(e=__assign$j(__assign$j({},e),{type:r.options.type||optionsType(e)})),debug("delta update",e),applyChartOptions(r,e,i)},l.DEBUG=function(){return windowValue("agChartsDebug")??!1},l}();function debug(l){for(var r=[],e=1;e<arguments.length;e++)r[e-1]=arguments[e];AgChartV2.DEBUG()&&console.log.apply(console,__spread$5([l],r))}function applyChartOptions(l,r,e){var i,a;if(isAgCartesianChartOptions(r))applyOptionValues(l,r,{skip:["type","data","series","axes","autoSize","listeners","theme"]});else if(isAgPolarChartOptions(r))applyOptionValues(l,r,{skip:["type","data","series","autoSize","listeners","theme"]});else{if(!isAgHierarchyChartOptions(r))throw new Error("AG Charts - couldn't apply configuration, check type of options and chart: "+r.type);applyOptionValues(l,r,{skip:["type","data","series","autoSize","listeners","theme"]})}var s=ChartUpdateType.PERFORM_LAYOUT;r.series&&r.series.length>0&&applySeries(l,r),isAgCartesianChartOptions(r)&&r.axes&&applyAxes(l,r)&&(s=ChartUpdateType.PROCESS_DATA);var h=r.series;r.data?(l.data=r.data,s=ChartUpdateType.PROCESS_DATA):!(null===(i=h)||void 0===i)&&i.some(function(v){return null!=v.data})&&(s=ChartUpdateType.PROCESS_DATA),null!=r.autoSize&&(l.autoSize=r.autoSize),r.listeners&&registerListeners(l,r.listeners),!(null===(a=r.legend)||void 0===a)&&a.listeners&&Object.assign(l.legend.listeners,r.legend.listeners),l.options=jsonMerge(l.options||{},r),l.userOptions=jsonMerge(l.userOptions||{},e),l.update(s)}function applySeries(l,r){var e=r.series;if(e){if(l.series.length===e.length&&l.series.every(function(a,s){var d;return a.type===(null===(d=e[s])||void 0===d?void 0:d.type)}))return void l.series.forEach(function(a,s){var d,h,_=jsonDiff((null===(h=null===(d=l.options)||void 0===d?void 0:d.series)||void 0===h?void 0:h[s])||{},e[s]||{});!_||(debug("applying series diff idx "+s,_),applySeriesValues(a,_,{path:"series["+s+"]"}),a.markNodeDataDirty())});l.series=createSeries(e)}}function applyAxes(l,r){var e=r.axes;if(!e)return!1;if(l.axes.length===e.length&&l.axes.every(function(s,d){return s.type===e[d].type})){var a=l.options;if(isAgCartesianChartOptions(a))return l.axes.forEach(function(s,d){var h,_=jsonDiff((null===(h=a.axes)||void 0===h?void 0:h[d])||{},e[d]);debug("applying axis diff idx "+d,_),applyOptionValues(s,_,{path:"axes["+d+"]",skip:["axes[].type"]})}),!0}return l.axes=createAxis(e),!0}function createSeries(l){var r,e,i=[],a=0;try{for(var s=__values$5(l||[]),d=s.next();!d.done;d=s.next()){var h=d.value,v="series["+a+++"]";switch(h.type){case"area":i.push(applySeriesValues(new AreaSeries,h,{path:v}));break;case"bar":case"column":i.push(applySeriesValues(new BarSeries,h,{path:v}));break;case"histogram":i.push(applySeriesValues(new HistogramSeries,h,{path:v}));break;case"line":i.push(applySeriesValues(new LineSeries,h,{path:v}));break;case"scatter":i.push(applySeriesValues(new ScatterSeries,h,{path:v}));break;case"pie":i.push(applySeriesValues(new PieSeries,h,{path:v}));break;case"treemap":i.push(applySeriesValues(new TreemapSeries,h,{path:v}));break;default:throw new Error("AG Charts - unknown series type: "+h.type)}}}catch(_){r={error:_}}finally{try{d&&!d.done&&(e=s.return)&&e.call(s)}finally{if(r)throw r.error}}return i}function createAxis(l){var r,e,i=[],a=0;try{for(var s=__values$5(l||[]),d=s.next();!d.done;d=s.next()){var h=d.value,v="axes["+a+++"]",_=["axes[].type"];switch(h.type){case"number":i.push(applyOptionValues(new NumberAxis,h,{path:v,skip:_}));break;case LogAxis.type:i.push(applyOptionValues(new LogAxis,h,{path:v,skip:_}));break;case CategoryAxis.type:i.push(applyOptionValues(new CategoryAxis,h,{path:v,skip:_}));break;case GroupedCategoryAxis.type:i.push(applyOptionValues(new GroupedCategoryAxis,h,{path:v,skip:_}));break;case TimeAxis.type:i.push(applyOptionValues(new TimeAxis,h,{path:v,skip:_}));break;default:throw new Error("AG Charts - unknown axis type: "+h.type)}}}catch(y){r={error:y}}finally{try{d&&!d.done&&(e=s.return)&&e.call(s)}finally{if(r)throw r.error}}return i}function registerListeners(l,r){for(var e in l.clearEventListeners(),r)l.addEventListener(e,r[e])}var JSON_APPLY_OPTIONS={constructors:{title:Caption,subtitle:Caption,shadow:DropShadow,"axes[].crossLines[]":CrossLine},allowedTypes:{"series[].marker.shape":["primitive","function"],"axis[].tick.count":["primitive","class-instance"]}};function applyOptionValues(l,r,e){var i=void 0===e?{}:e,a=i.skip,s=i.path;return jsonApply(l,r,__assign$j(__assign$j(__assign$j({},JSON_APPLY_OPTIONS),{skip:a}),s?{path:s}:{}))}function applySeriesValues(l,r,e){var a,s,i=(void 0===e?{}:e).path,h=(null===(a=JSON_APPLY_OPTIONS)||void 0===a?void 0:a.constructors)||{},v={constructors:__assign$j(__assign$j({},h),{title:"pie"===l.type?PieTitle:h.title})},y=jsonApply(l,r,__assign$j(__assign$j(__assign$j(__assign$j({},JSON_APPLY_OPTIONS),v),{skip:__spread$5(["series[].type"],["series[].listeners"]||[])}),i?{path:i}:{})),m=null===(s=r)||void 0===s?void 0:s.listeners;return null!=m&&registerListeners(l,m),y}var time={millisecond:millisecond$1,second:second$1,minute:minute$1,hour:hour$1,day:day$1,sunday:sunday$1,monday:monday$1,tuesday,wednesday,thursday:thursday$1,friday,saturday,month:month$1,year:year$1,utcMinute,utcHour,utcDay:utcDay$1,utcMonth,utcYear:utcYear$1};function getSeriesType(l){switch(l){case"bar":case"groupedBar":case"stackedBar":case"normalizedBar":return"bar";case"column":case"groupedColumn":case"stackedColumn":case"normalizedColumn":return"column";case"line":return"line";case"area":case"stackedArea":case"normalizedArea":return"area";case"scatter":case"bubble":return"scatter";case"histogram":return"histogram";case"pie":case"doughnut":return"pie";default:return"cartesian"}}var __extends$1O=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__decorate$14=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},ChartController=function(l){function r(e){var i=l.call(this)||this;return i.model=e,i}return __extends$1O(r,l),r.prototype.init=function(){var e=this;this.setChartRange(),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_RANGE_SELECTION_CHANGED,function(i){i.id&&i.id===e.model.chartId&&e.updateForRangeChange()}),this.model.unlinked&&this.rangeService&&this.rangeService.setCellRanges([]),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_MOVED,this.updateForGridChange.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PINNED,this.updateForGridChange.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_VISIBLE,this.updateForGridChange.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_ROW_GROUP_CHANGED,this.updateForGridChange.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_MODEL_UPDATED,this.updateForGridChange.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_CELL_VALUE_CHANGED,this.updateForDataChange.bind(this))},r.prototype.updateForGridChange=function(){this.model.unlinked||(this.model.updateCellRanges(),this.setChartRange())},r.prototype.updateForDataChange=function(){this.model.unlinked||(this.model.updateData(),this.raiseChartUpdatedEvent())},r.prototype.updateForRangeChange=function(){this.updateForGridChange(),this.raiseChartRangeSelectionChangedEvent()},r.prototype.updateForPanelChange=function(e){this.model.updateCellRanges(e),this.setChartRange(),this.raiseChartRangeSelectionChangedEvent()},r.prototype.getChartUpdateParams=function(){var i=this.getSelectedValueColState().map(function(d){return{colId:d.colId,displayName:d.displayName}}),a=this.getChartData(),s=this.getSelectedDimension();return{data:a,grouping:this.isGrouping(),category:{id:s.colId,name:s.displayName,chartDataType:this.model.getChartDataType(s.colId)},fields:i,chartId:this.getChartId(),getCrossFilteringContext:function(){return{lastSelectedChartId:"xxx"}},seriesChartTypes:this.getSeriesChartTypes()}},r.prototype.getChartModel=function(){var e=this.model.pivotChart?"pivot":"range",i=this.isComboChart()?this.model.seriesChartTypes:void 0;return{modelType:e,chartId:this.model.chartId,chartType:this.model.chartType,chartThemeName:this.model.chartThemeName,chartOptions:this.chartProxy.getChartOptions(),chartPalette:this.chartProxy.getChartPalette(),cellRange:this.getCellRangeParams(),suppressChartRanges:this.model.suppressChartRanges,aggFunc:this.model.aggFunc,unlinkChart:this.model.unlinked,seriesChartTypes:i}},r.prototype.getChartId=function(){return this.model.chartId},r.prototype.getChartData=function(){return this.model.chartData},r.prototype.getChartType=function(){return this.model.chartType},r.prototype.setChartType=function(e){this.model.chartType=e,this.model.updateSeriesChartTypes(),this.raiseChartUpdatedEvent(),this.raiseChartOptionsChangedEvent()},r.prototype.setChartThemeName=function(e){this.model.chartThemeName=e,this.raiseChartUpdatedEvent(),this.raiseChartOptionsChangedEvent()},r.prototype.getChartThemeName=function(){return this.model.chartThemeName},r.prototype.isPivotChart=function(){return this.model.pivotChart},r.prototype.isPivotMode=function(){return this.model.isPivotMode()},r.prototype.isGrouping=function(){return this.model.isGrouping()},r.prototype.getThemes=function(){return this.gridOptionsWrapper.getChartThemes()},r.prototype.getPalettes=function(){var e=this;return this.gridOptionsWrapper.getChartThemes().map(function(a){return getChartTheme(e.chartProxy.isStockTheme(a)?a:e.chartProxy.lookupCustomChartTheme(a)).palette})},r.prototype.getValueColState=function(){return this.model.valueColState.map(this.displayNameMapper.bind(this))},r.prototype.getSelectedValueColState=function(){return this.getValueColState().filter(function(e){return e.selected})},r.prototype.getDimensionColState=function(){return this.model.dimensionColState},r.prototype.getSelectedDimension=function(){return this.model.getSelectedDimension()},r.prototype.displayNameMapper=function(e){var i=this.model.columnNames[e.colId];return e.displayName=i?i.join(" - "):this.model.getColDisplayName(e.column),e},r.prototype.getColStateForMenu=function(){return{dimensionCols:this.model.dimensionColState,valueCols:this.getValueColState()}},r.prototype.isDefaultCategorySelected=function(){return this.model.getSelectedDimension().colId===ChartDataModel.DEFAULT_CATEGORY},r.prototype.setChartRange=function(e){void 0===e&&(e=!1),this.rangeService&&!this.model.suppressChartRanges&&!this.model.unlinked&&this.rangeService.setCellRanges(this.getCellRanges()),e||this.raiseChartUpdatedEvent()},r.prototype.detachChartRange=function(){this.model.unlinked=!this.model.unlinked,this.model.unlinked?this.rangeService&&this.rangeService.setCellRanges([]):this.updateForGridChange()},r.prototype.setChartProxy=function(e){this.chartProxy=e},r.prototype.getChartProxy=function(){return this.chartProxy},r.prototype.isActiveXYChart=function(){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(["scatter","bubble"],this.getChartType())},r.prototype.isChartLinked=function(){return!this.model.unlinked},r.prototype.customComboExists=function(){return this.model.savedCustomSeriesChartTypes&&this.model.savedCustomSeriesChartTypes.length>0},r.prototype.getSeriesChartTypes=function(){return this.model.seriesChartTypes},r.prototype.isComboChart=function(){return this.model.isComboChart()},r.prototype.updateSeriesChartType=function(e,i,a){var s=this.model.seriesChartTypes.find(function(v){return v.colId===e});if(s){var d="customCombo"!==this.model.chartType;d&&(this.model.chartType="customCombo");var h=s.chartType;null!=i&&(s.chartType=i),null!=a&&(s.secondaryAxis=a),this.model.savedCustomSeriesChartTypes=this.model.seriesChartTypes,this.model.updateSeriesChartTypes(),this.updateForDataChange(),d&&this.dispatchEvent(Object.freeze({type:r.EVENT_CHART_TYPE_CHANGED})),h!==i&&this.dispatchEvent(Object.freeze({type:r.EVENT_CHART_SERIES_CHART_TYPE_CHANGED}))}},r.prototype.getActiveSeriesChartTypes=function(){var e=this.getSelectedValueColState().map(function(i){return i.colId});return this.getSeriesChartTypes().filter(function(i){return e.includes(i.colId)})},r.prototype.getChartSeriesTypes=function(){return this.isComboChart()?["line","column","area"]:[getSeriesType(this.getChartType())]},r.prototype.getCellRanges=function(){return[this.model.dimensionCellRange,this.model.valueCellRange].filter(function(e){return e})},r.prototype.getCellRangeParams=function(){var e=this.getCellRanges(),i=e[0],a=i&&i.startRow||null,s=i&&i.endRow||null;return{rowStartIndex:a&&a.rowIndex,rowStartPinned:a&&a.rowPinned,rowEndIndex:s&&s.rowIndex,rowEndPinned:s&&s.rowPinned,columns:e.reduce(function(d,h){return d.concat(h.columns.map(function(v){return v.getId()}))},[])}},r.prototype.raiseChartUpdatedEvent=function(){var e=Object.freeze({type:r.EVENT_CHART_UPDATED});this.dispatchEvent(e)},r.prototype.raiseChartOptionsChangedEvent=function(){var e=this.getChartModel(),s=Object.freeze({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_CHART_OPTIONS_CHANGED,chartId:e.chartId,chartType:e.chartType,chartThemeName:this.model.chartThemeName,chartOptions:this.chartProxy.getChartOptions()});this.eventService.dispatchEvent(s)},r.prototype.raiseChartRangeSelectionChangedEvent=function(){var e=Object.freeze({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_CHART_RANGE_SELECTION_CHANGED,id:this.model.chartId,chartId:this.model.chartId,cellRange:this.getCellRangeParams()});this.eventService.dispatchEvent(e)},r.prototype.destroy=function(){l.prototype.destroy.call(this),this.rangeService&&this.rangeService.setCellRanges([])},r.EVENT_CHART_UPDATED="chartUpdated",r.EVENT_CHART_TYPE_CHANGED="chartTypeChanged",r.EVENT_CHART_SERIES_CHART_TYPE_CHANGED="chartSeriesChartTypeChanged",__decorate$14([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rangeService")],r.prototype,"rangeService",void 0),__decorate$14([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],r.prototype,"init",null),r}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$1N=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__decorate$13=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},__read$f=function(l,r){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var a,d,i=e.call(l),s=[];try{for(;(void 0===r||r-- >0)&&!(a=i.next()).done;)s.push(a.value)}catch(h){d={error:h}}finally{try{a&&!a.done&&(e=i.return)&&e.call(i)}finally{if(d)throw d.error}}return s},__spread$4=function(){for(var l=[],r=0;r<arguments.length;r++)l=l.concat(__read$f(arguments[r]));return l},__values$4=function(l){var r="function"==typeof Symbol&&Symbol.iterator,e=r&&l[r],i=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&i>=l.length&&(l=void 0),{value:l&&l[i++],done:!l}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},ChartDataPanel=function(l){function r(e,i){var a=l.call(this,r.TEMPLATE)||this;return a.chartController=e,a.chartOptionsService=i,a.columnComps=new Map,a}return __extends$1N(r,l),r.prototype.init=function(){this.updatePanels(),this.addManagedListener(this.chartController,ChartController.EVENT_CHART_UPDATED,this.updatePanels.bind(this)),this.createAutoScrollService()},r.prototype.destroy=function(){this.clearComponents(),l.prototype.destroy.call(this)},r.prototype.updatePanels=function(){var e=this,i=this.chartType,a=this.chartController.getColStateForMenu(),s=a.dimensionCols,d=a.valueCols,h=s.map(function(y){return y.colId}).concat(d.map(function(y){return y.colId}));this.chartType=this.chartController.getChartType();var v=this.getGroupExpandedState();if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.areEqual(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.keys(this.columnComps),h)&&this.chartType===i){if(__spread$4(s,d).forEach(function(y){e.columnComps.get(y.colId).setValue(y.selected,!0)}),this.chartController.isActiveXYChart()){var _=this.generateGetSeriesLabel();d.forEach(function(y){e.columnComps.get(y.colId).setLabel(_(y))})}ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeFromParent(this.getGui().querySelector("#seriesChartTypeGroup")),this.seriesChartTypeGroupComp=this.destroyBean(this.seriesChartTypeGroupComp),this.createSeriesChartTypeGroup(d)}else this.clearComponents(),this.createCategoriesGroup(s),this.createSeriesGroup(d),this.createSeriesChartTypeGroup(d);this.restoreGroupExpandedState(v)},r.prototype.getGroupExpandedState=function(){return[this.categoriesGroupComp,this.seriesGroupComp,this.seriesChartTypeGroupComp].map(function(e){return!e||e.isExpanded()})},r.prototype.restoreGroupExpandedState=function(e){[this.categoriesGroupComp,this.seriesGroupComp,this.seriesChartTypeGroupComp].forEach(function(i,a){!i||i.toggleGroupExpand(e[a])})},r.prototype.createAutoScrollService=function(){var e=this.getGui();this.autoScrollService=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Cvn({scrollContainer:e,scrollAxis:"y",getVerticalPosition:function(){return e.scrollTop},setVerticalPosition:function(i){return e.scrollTop=i}})},r.prototype.addComponent=function(e,i,a){var s=document.createElement("div");s.id=a,s.className="ag-chart-data-section",s.appendChild(i.getGui()),e.appendChild(s)},r.prototype.addChangeListener=function(e,i){var a=this;this.addManagedListener(e,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.J8Z.EVENT_CHANGED,function(){i.selected=e.getValue(),a.chartController.updateForPanelChange(i)})},r.prototype.createCategoriesGroup=function(e){var i=this;this.categoriesGroupComp=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.H1u({title:this.getCategoryGroupTitle(),enabled:!0,suppressEnabledCheckbox:!0,suppressOpenCloseIcons:!1,cssIdentifier:"charts-data"}));var a="chartDimension"+this.getCompId();e.forEach(function(s){var d=i.categoriesGroupComp.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.LQq);d.setLabel(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.escapeString(s.displayName)),d.setValue(s.selected),d.setInputName(a),i.addChangeListener(d,s),i.categoriesGroupComp.addItem(d),i.columnComps.set(s.colId,d)}),this.addComponent(this.getGui(),this.categoriesGroupComp,"categoriesGroup")},r.prototype.createSeriesGroup=function(e){var i=this;if(this.seriesGroupComp=this.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.H1u({title:this.getSeriesGroupTitle(),enabled:!0,suppressEnabledCheckbox:!0,suppressOpenCloseIcons:!1,cssIdentifier:"charts-data"})),this.chartController.isActiveXYChart()){var a=this.seriesGroupComp.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.nN0);a.setLabel(this.chartTranslationService.translate("paired")).setLabelAlignment("left").setLabelWidth("flex").setInputWidth(45).setValue(this.chartOptionsService.getPairedMode()).onValueChange(function(h){i.chartOptionsService.setPairedMode(!!h),i.chartController.updateForGridChange()}),this.seriesGroupComp.addItem(a)}var s=this.generateGetSeriesLabel();e.forEach(function(h){var v=i.seriesGroupComp.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jkc);v.addCssClass("ag-data-select-checkbox");var _=s(h);v.setLabel(_),v.setValue(h.selected),i.addChangeListener(v,h),i.seriesGroupComp.addItem(v),i.columnComps.set(h.colId,v),i.addDragHandle(v,h)}),this.addComponent(this.getGui(),this.seriesGroupComp,"seriesGroup");var d={getIconName:function(){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jUB.ICON_MOVE},getContainer:function(){return i.seriesGroupComp.getGui()},onDragging:function(h){return i.onDragging(h)},onDragLeave:function(){return i.onDragLeave()},isInterestedIn:this.isInterestedIn.bind(this),targetContainsSource:!0};this.dragAndDropService.addDropTarget(d)},r.prototype.createSeriesChartTypeGroup=function(e){var i=this;if(this.chartController.isComboChart()){this.seriesChartTypeGroupComp=this.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.H1u({title:this.chartTranslationService.translate("seriesChartType"),enabled:!0,suppressEnabledCheckbox:!0,suppressOpenCloseIcons:!1,cssIdentifier:"charts-data"}));var a=this.chartController.getSeriesChartTypes();e.forEach(function(s){if(s.selected){var d=a.filter(function(E){return E.colId===s.colId})[0];if(d){var h=i.seriesChartTypeGroupComp.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.H1u({title:s.displayName,enabled:!0,suppressEnabledCheckbox:!0,suppressOpenCloseIcons:!0,cssIdentifier:"charts-format-sub-level"})),v=i.seriesChartTypeGroupComp.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jkc).setLabel(i.chartTranslationService.translate("secondaryAxis")).setLabelWidth("flex").setDisabled(["groupedColumn","stackedColumn","stackedArea"].includes(d.chartType)).setValue(!!d.secondaryAxis).onValueChange(function(E){return i.chartController.updateSeriesChartType(s.colId,void 0,E)});h.addItem(v);var _=function(E,w){return i.chartTranslationService.translate(E,w)},y=[{value:"line",text:_("line","Line")},{value:"area",text:_("area","Area")},{value:"stackedArea",text:_("stackedArea","StackedArea")},{value:"groupedColumn",text:_("groupedColumn","Grouped Column")},{value:"stackedColumn",text:_("stackedColumn","Stacked Column")}],m=h.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wGv);m.setLabelAlignment("left").setLabelWidth("flex").addOptions(y).setValue(d.chartType).onValueChange(function(E){return i.chartController.updateSeriesChartType(s.colId,E)}),h.addItem(m),i.seriesChartTypeGroupComp.addItem(h)}}}),this.addComponent(this.getGui(),this.seriesChartTypeGroupComp,"seriesChartTypeGroup")}},r.prototype.addDragHandle=function(e,i){var a=this,s=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("columnDrag",this.gridOptionsWrapper);s.classList.add("ag-drag-handle","ag-chart-data-column-drag-handle"),e.getGui().insertAdjacentElement("beforeend",s);var d={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.rvo.ChartPanel,eElement:s,dragItemName:i.displayName,getDragItem:function(){return{columns:[i.column]}},onDragStopped:function(){return a.onDragStop()}};this.dragAndDropService.addDragSource(d,!0),this.addDestroyFunc(function(){return a.dragAndDropService.removeDragSource(d)})},r.prototype.generateGetSeriesLabel=function(){if(!this.chartController.isActiveXYChart())return function(d){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.escapeString(d.displayName)};var e="bubble"===this.chartType,i=this.isInPairedMode(),a=0,s=new Map;return s.set(0,"X"),s.set(1,"Y"),s.set(2,"size"),function(d){var v,h=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.escapeString(d.displayName);return d.selected?(v=i?s.get(a%(e?3:2)):0===a?"X":e&&a%2==0?"size":"Y",a++,h+" ("+v+")"):h}},r.prototype.getCategoryGroupTitle=function(){return this.chartTranslationService.translate(this.chartController.isActiveXYChart()?"labels":"categories")},r.prototype.getSeriesGroupTitle=function(){return this.chartTranslationService.translate(this.chartController.isActiveXYChart()?"xyValues":"series")},r.prototype.isInPairedMode=function(){return this.chartController.isActiveXYChart()&&this.chartOptionsService.getSeriesOption("paired","scatter")},r.prototype.clearComponents=function(){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.clearElement(this.getGui()),this.categoriesGroupComp=this.destroyBean(this.categoriesGroupComp),this.seriesGroupComp=this.destroyBean(this.seriesGroupComp),this.seriesChartTypeGroupComp=this.destroyBean(this.seriesChartTypeGroupComp),this.columnComps.clear()},r.prototype.onDragging=function(e){var i=this.checkHoveredItem(e);if(i){this.lastDraggedColumn=e.dragItem.columns[0];var a=i.comp,s=i.position,d=this.lastHoveredItem||{};a===d.comp&&s===d.position||(this.autoScrollService.check(e.event),this.clearHoveredItems(),this.lastHoveredItem={comp:a,position:s},a.getGui().classList.add("ag-list-item-hovered","ag-item-highlight-"+s))}},r.prototype.checkHoveredItem=function(e){var i,a;if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missing(e.vDirection))return null;var s=e.event;try{for(var d=__values$4(this.columnComps.values()),h=d.next();!h.done;h=d.next()){var v=h.value,_=v.getGui();if(_.querySelector(".ag-chart-data-column-drag-handle")){var y=_.getBoundingClientRect();if(s.clientY>=y.top&&s.clientY<=y.bottom)return{comp:v,position:s.clientY>y.top+_.clientHeight/2?"bottom":"top"}}}}catch(S){i={error:S}}finally{try{h&&!h.done&&(a=d.return)&&a.call(d)}finally{if(i)throw i.error}}return null},r.prototype.onDragLeave=function(){this.clearHoveredItems()},r.prototype.onDragStop=function(){var e=this;if(this.lastHoveredItem){var i=this.chartController.getColStateForMenu(),d=__spread$4(i.dimensionCols,i.valueCols).find(function(v){return v.column===e.lastDraggedColumn});if(d){var h=Array.from(this.columnComps.values()).indexOf(this.lastHoveredItem.comp);"bottom"===this.lastHoveredItem.position&&h++,d.order=h,this.chartController.updateForPanelChange(d)}}this.clearHoveredItems(),this.lastDraggedColumn=void 0,this.autoScrollService.ensureCleared()},r.prototype.clearHoveredItems=function(){this.columnComps.forEach(function(e){e.getGui().classList.remove("ag-list-item-hovered","ag-item-highlight-top","ag-item-highlight-bottom")}),this.lastHoveredItem=void 0},r.prototype.isInterestedIn=function(e){return e===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.rvo.ChartPanel},r.TEMPLATE='<div class="ag-chart-data-wrapper ag-scrollable-container"></div>',__decorate$13([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("dragAndDropService")],r.prototype,"dragAndDropService",void 0),__decorate$13([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],r.prototype,"chartTranslationService",void 0),__decorate$13([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],r.prototype,"init",null),r}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$1M=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__decorate$12=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},FontPanel=function(l){function r(e){var i=l.call(this)||this;return i.activeComps=[],i.params=e,i}return __extends$1M(r,l),r.prototype.init=function(){this.setTemplate(r.TEMPLATE,{fontGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0}}),this.initGroup(),this.initFontFamilySelect(),this.initFontWeightStyleSelect(),this.initFontSizeSelect(),this.initFontColorPicker()},r.prototype.addCompToPanel=function(e){this.fontGroup.addItem(e),this.activeComps.push(e)},r.prototype.setEnabled=function(e){this.fontGroup.setEnabled(e)},r.prototype.initGroup=function(){var e=this;this.fontGroup.setTitle(this.params.name||this.chartTranslationService.translate("font")).setEnabled(this.params.enabled).hideEnabledCheckbox(!!this.params.suppressEnabledCheckbox).hideOpenCloseIcons(!0).onEnableChange(function(i){e.params.setEnabled&&e.params.setEnabled(i)})},r.prototype.initFontFamilySelect=function(){var e=this,i=["Arial, sans-serif","Aria Black, sans-serif","Book Antiqua,  serif","Charcoal, sans-serif","Comic Sans MS, cursive","Courier, monospace","Courier New, monospace","Gadget, sans-serif","Geneva, sans-serif","Helvetica, sans-serif","Impact, sans-serif","Lucida Console, monospace","Lucida Grande, sans-serif","Lucida Sans Unicode,  sans-serif","Monaco, monospace","Palatino Linotype, serif","Palatino, serif","Times New Roman, serif","Times, serif","Verdana, sans-serif"],a=this.params.initialFont.family,s=i[0];if(a){var h=i.map(function(y){return y.toLowerCase()}).indexOf(a.toLowerCase());if(h>=0)s=i[h];else{var v=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.capitalise(a);i.push(v),s=v}}var _=i.sort().map(function(y){return{value:y,text:y}});this.familySelect.addOptions(_).setInputWidth("flex").setValue(""+s).onValueChange(function(y){return e.params.setFont({family:y})})},r.prototype.initFontSizeSelect=function(){var e=this,i=[8,10,12,14,16,18,20,22,24,26,28,30,32,34,36],a=this.params.initialFont.size;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(i,a)||i.push(a);var s=i.sort(function(d,h){return d-h}).map(function(d){return{value:""+d,text:""+d}});this.sizeSelect.addOptions(s).setInputWidth("flex").setValue(""+a).onValueChange(function(d){return e.params.setFont({size:parseInt(d,10)})}),this.sizeSelect.setLabel(this.chartTranslationService.translate("size"))},r.prototype.initFontWeightStyleSelect=function(){var e=this,i=this.params.initialFont,a=i.weight,s=void 0===a?"normal":a,d=i.style,h=void 0===d?"normal":d,v=[{name:"normal",weight:"normal",style:"normal"},{name:"bold",weight:"bold",style:"normal"},{name:"italic",weight:"normal",style:"italic"},{name:"boldItalic",weight:"bold",style:"italic"}],_=v.find(function(m){return m.weight===s&&m.style===h});_||v.unshift(_={name:"predefined",weight:s,style:h});var y=v.map(function(m){return{value:m.name,text:e.chartTranslationService.translate(m.name)}});this.weightStyleSelect.addOptions(y).setInputWidth("flex").setValue(_.name).onValueChange(function(m){var E=v.find(function(w){return w.name===m});e.params.setFont({weight:E.weight,style:E.style})})},r.prototype.initFontColorPicker=function(){var e=this;this.colorPicker.setLabel(this.chartTranslationService.translate("color")).setInputWidth(45).setValue(""+this.params.initialFont.color).onValueChange(function(i){return e.params.setFont({color:i})})},r.prototype.destroyActiveComps=function(){var e=this;this.activeComps.forEach(function(i){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeFromParent(i.getGui()),e.destroyBean(i)})},r.prototype.destroy=function(){this.destroyActiveComps(),l.prototype.destroy.call(this)},r.TEMPLATE='<div class="ag-font-panel">\n            <ag-group-component ref="fontGroup">\n                <ag-select ref="familySelect"></ag-select>\n                <ag-select ref="weightStyleSelect"></ag-select>\n                <div class="ag-charts-font-size-color">\n                    <ag-select ref="sizeSelect"></ag-select>\n                    <ag-color-picker ref="colorPicker"></ag-color-picker>\n                </div>\n            </ag-group-component>\n        </div>',__decorate$12([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("fontGroup")],r.prototype,"fontGroup",void 0),__decorate$12([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("familySelect")],r.prototype,"familySelect",void 0),__decorate$12([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("weightStyleSelect")],r.prototype,"weightStyleSelect",void 0),__decorate$12([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("sizeSelect")],r.prototype,"sizeSelect",void 0),__decorate$12([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("colorPicker")],r.prototype,"colorPicker",void 0),__decorate$12([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],r.prototype,"chartTranslationService",void 0),__decorate$12([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],r.prototype,"init",null),r}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$1L=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__decorate$11=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},LegendPanel=function(l){function r(e){var i=l.call(this)||this;return i.chartOptionsService=e,i.activePanels=[],i}return __extends$1L(r,l),r.prototype.init=function(){this.setTemplate(r.TEMPLATE,{legendGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.initLegendGroup(),this.initLegendPosition(),this.initLegendPadding(),this.initLegendItems(),this.initLabelPanel()},r.prototype.initLegendGroup=function(){var e=this;this.legendGroup.setTitle(this.chartTranslationService.translate("legend")).hideEnabledCheckbox(!1).setEnabled(this.chartOptionsService.getChartOption("legend.enabled")||!1).toggleGroupExpand(!1).onEnableChange(function(i){e.chartOptionsService.setChartOption("legend.enabled",i),e.legendGroup.toggleGroupExpand(!0)})},r.prototype.initLegendPosition=function(){var e=this,i=[LegendPosition.Top,LegendPosition.Right,LegendPosition.Bottom,LegendPosition.Left];this.legendPositionSelect.setLabel(this.chartTranslationService.translate("position")).setLabelWidth("flex").setInputWidth(80).addOptions(i.map(function(a){return{value:a,text:e.chartTranslationService.translate(a)}})).setValue(this.chartOptionsService.getChartOption("legend.position")).onValueChange(function(a){return e.chartOptionsService.setChartOption("legend.position",a)})},r.prototype.initLegendPadding=function(){var e=this,i=this.chartOptionsService.getChartOption("legend.spacing");this.legendPaddingSlider.setLabel(this.chartTranslationService.translate("spacing")).setMaxValue(getMaxValue(i,200)).setValue(""+i).setTextFieldWidth(45).onValueChange(function(a){return e.chartOptionsService.setChartOption("legend.spacing",a)})},r.prototype.initLegendItems=function(){var e=this,i=function(a,s,d,h){var v=e.chartOptionsService.getChartOption("legend."+a);d.setLabel(e.chartTranslationService.translate(s)).setMaxValue(getMaxValue(v,h)).setValue(""+v).setTextFieldWidth(45).onValueChange(function(_){e.chartOptionsService.setChartOption("legend."+a,_)})};i("item.marker.size","markerSize",this.markerSizeSlider,40),i("item.marker.strokeWidth","markerStroke",this.markerStrokeSlider,10),i("item.marker.padding","itemSpacing",this.markerPaddingSlider,20),i("item.paddingX","layoutHorizontalSpacing",this.itemPaddingXSlider,50),i("item.paddingY","layoutVerticalSpacing",this.itemPaddingYSlider,50)},r.prototype.initLabelPanel=function(){var e=this,i=this.chartOptionsService,a={family:i.getChartOption("legend.item.label.fontFamily"),style:i.getChartOption("legend.item.label.fontStyle"),weight:i.getChartOption("legend.item.label.fontWeight"),size:i.getChartOption("legend.item.label.fontSize"),color:i.getChartOption("legend.item.label.color")},h=this.createBean(new FontPanel({enabled:!0,suppressEnabledCheckbox:!0,initialFont:a,setFont:function(v){var _=e.chartOptionsService;v.family&&_.setChartOption("legend.item.label.fontFamily",v.family),v.weight&&_.setChartOption("legend.item.label.fontWeight",v.weight),v.style&&_.setChartOption("legend.item.label.fontStyle",v.style),v.size&&_.setChartOption("legend.item.label.fontSize",v.size),v.color&&_.setChartOption("legend.item.label.color",v.color)}}));this.legendGroup.addItem(h),this.activePanels.push(h)},r.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach(function(i){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeFromParent(i.getGui()),e.destroyBean(i)})},r.prototype.destroy=function(){this.destroyActivePanels(),l.prototype.destroy.call(this)},r.TEMPLATE='<div>\n            <ag-group-component ref="legendGroup">\n                <ag-select ref="legendPositionSelect"></ag-select>\n                <ag-slider ref="legendPaddingSlider"></ag-slider>\n                <ag-slider ref="markerSizeSlider"></ag-slider>\n                <ag-slider ref="markerStrokeSlider"></ag-slider>\n                <ag-slider ref="markerPaddingSlider"></ag-slider>\n                <ag-slider ref="itemPaddingXSlider"></ag-slider>\n                <ag-slider ref="itemPaddingYSlider"></ag-slider>\n            </ag-group-component>\n        </div>',__decorate$11([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("legendGroup")],r.prototype,"legendGroup",void 0),__decorate$11([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("legendPositionSelect")],r.prototype,"legendPositionSelect",void 0),__decorate$11([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("legendPaddingSlider")],r.prototype,"legendPaddingSlider",void 0),__decorate$11([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("markerSizeSlider")],r.prototype,"markerSizeSlider",void 0),__decorate$11([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("markerStrokeSlider")],r.prototype,"markerStrokeSlider",void 0),__decorate$11([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("markerPaddingSlider")],r.prototype,"markerPaddingSlider",void 0),__decorate$11([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("itemPaddingXSlider")],r.prototype,"itemPaddingXSlider",void 0),__decorate$11([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("itemPaddingYSlider")],r.prototype,"itemPaddingYSlider",void 0),__decorate$11([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],r.prototype,"chartTranslationService",void 0),__decorate$11([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],r.prototype,"init",null),r}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$1K=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__decorate$10=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},AxisTicksPanel=function(l){function r(e){var i=l.call(this)||this;return i.chartOptionsService=e,i}return __extends$1K(r,l),r.prototype.init=function(){this.setTemplate(r.TEMPLATE,{axisTicksGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0}}),this.initAxisTicks()},r.prototype.initAxisTicks=function(){var e=this;this.axisTicksGroup.setTitle(this.chartTranslationService.translate("ticks")).hideOpenCloseIcons(!0).hideEnabledCheckbox(!0),this.axisTicksColorPicker.setLabel(this.chartTranslationService.translate("color")).setLabelWidth("flex").setInputWidth(45).setValue(this.chartOptionsService.getAxisProperty("tick.color")).onValueChange(function(a){return e.chartOptionsService.setAxisProperty("tick.color",a)});var i=function(a,s,d,h){var v=e.chartOptionsService.getAxisProperty(a);s.setLabel(d).setMaxValue(getMaxValue(v,h)).setValue(""+v).setTextFieldWidth(45).onValueChange(function(_){return e.chartOptionsService.setAxisProperty(a,_)})};i("tick.width",this.axisTicksWidthSlider,this.chartTranslationService.translate("width"),10),i("tick.size",this.axisTicksSizeSlider,this.chartTranslationService.translate("length"),30)},r.TEMPLATE='<div>\n            <ag-group-component ref="axisTicksGroup">\n                <ag-color-picker ref="axisTicksColorPicker"></ag-color-picker>\n                <ag-slider ref="axisTicksWidthSlider"></ag-slider>\n                <ag-slider ref="axisTicksSizeSlider"></ag-slider>\n            </ag-group-component>\n        </div>',__decorate$10([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("axisTicksGroup")],r.prototype,"axisTicksGroup",void 0),__decorate$10([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("axisTicksColorPicker")],r.prototype,"axisTicksColorPicker",void 0),__decorate$10([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("axisTicksWidthSlider")],r.prototype,"axisTicksWidthSlider",void 0),__decorate$10([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("axisTicksSizeSlider")],r.prototype,"axisTicksSizeSlider",void 0),__decorate$10([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],r.prototype,"chartTranslationService",void 0),__decorate$10([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],r.prototype,"init",null),r}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$1J=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__decorate$$=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},AxisPanel=function(l){function r(e,i){var a=l.call(this)||this;return a.chartController=e,a.chartOptionsService=i,a.activePanels=[],a.axisLabelUpdateFuncs=[],a.prevXRotation=0,a.prevYRotation=0,a}return __extends$1J(r,l),r.prototype.init=function(){var e=this;this.setTemplate(r.TEMPLATE,{axisGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.initAxis(),this.initAxisTicks(),this.initAxisLabels(),this.addManagedListener(this.chartController,ChartController.EVENT_CHART_UPDATED,function(){return e.axisLabelUpdateFuncs.forEach(function(s){return s()})})},r.prototype.initAxis=function(){var e=this;this.axisGroup.setTitle(this.translate("axis")).toggleGroupExpand(!1).hideEnabledCheckbox(!0),this.axisColorInput.setLabel(this.translate("color")).setLabelWidth("flex").setInputWidth(45).setValue(this.chartOptionsService.getAxisProperty("line.color")).onValueChange(function(s){return e.chartOptionsService.setAxisProperty("line.color",s)});var i=this.chartOptionsService.getAxisProperty("line.width");if(this.axisLineWidthSlider.setMaxValue(getMaxValue(i,10)).setLabel(this.translate("thickness")).setTextFieldWidth(45).setValue(""+i).onValueChange(function(s){return e.chartOptionsService.setAxisProperty("line.width",s)}),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(["line","scatter","bubble"],this.chartController.getChartType())&&!this.chartController.isGrouping()){var a=[{value:"",text:this.translate("automatic")}];["category","time","number"].forEach(function(s){a.push({value:s,text:e.translate(s)})}),this.xAxisTypeSelect.setLabel(this.translate("xType")).setLabelWidth("flex").addOptions(a).setValue(this.chartOptionsService.getChartOption("xAxis.type")||"").onValueChange(function(s){e.chartOptionsService.setChartOption("xAxis.type","string"==typeof s&&s.length&&s),e.chartController.updateForDataChange()})}else this.xAxisTypeSelect.setDisplayed(!1)},r.prototype.initAxisTicks=function(){var e=this.createBean(new AxisTicksPanel(this.chartOptionsService));this.axisGroup.addItem(e),this.activePanels.push(e)},r.prototype.initAxisLabels=function(){var e=this,i={family:this.chartOptionsService.getAxisProperty("label.fontFamily"),style:this.chartOptionsService.getAxisProperty("label.fontStyle"),weight:this.chartOptionsService.getAxisProperty("label.fontWeight"),size:this.chartOptionsService.getAxisProperty("label.fontSize"),color:this.chartOptionsService.getAxisProperty("label.color")},s={name:this.translate("labels"),enabled:!0,suppressEnabledCheckbox:!0,initialFont:i,setFont:function(h){h.family&&e.chartOptionsService.setAxisProperty("label.fontFamily",h.family),h.weight&&e.chartOptionsService.setAxisProperty("label.fontWeight",h.weight),h.style&&e.chartOptionsService.setAxisProperty("label.fontStyle",h.style),h.size&&e.chartOptionsService.setAxisProperty("label.fontSize",h.size),h.color&&e.chartOptionsService.setAxisProperty("label.color",h.color)}},d=this.createBean(new FontPanel(s));this.axisGroup.addItem(d),this.activePanels.push(d),this.addAdditionalLabelComps(d)},r.prototype.addAdditionalLabelComps=function(e){this.addLabelPadding(e);var i=this.createRotationWidgets(),a=i.xRotationComp,s=i.yRotationComp,d=this.initLabelRotations(a,s);e.addCompToPanel(d),e.addCompToPanel(a),e.addCompToPanel(s)},r.prototype.initLabelRotations=function(e,i){var m,E,a=this,s=function(m){return a.chartOptionsService.getLabelRotation(m)},d=function(m,E){a.chartOptionsService.setLabelRotation(m,E)},_=(m=s("xAxis"),E=s("yAxis"),null==m&&null==E&&a.chartOptionsService.getAxisProperty("label.autoRotate")),y=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jkc).setLabel(this.translate("autoRotate")).setValue(_).onValueChange(function(m){a.chartOptionsService.setAxisProperty("label.autoRotate",m),m?(a.prevXRotation=s("xAxis"),a.prevYRotation=s("yAxis"),d("xAxis",void 0),d("yAxis",void 0)):(d("xAxis",a.prevXRotation),d("yAxis",a.prevYRotation)),e.setDisabled(m),i.setDisabled(m)});return e.setDisabled(_),i.setDisabled(_),y},r.prototype.createRotationWidgets=function(){var e=this,i=String.fromCharCode(176),a=function(s,d){var h=e.chartTranslationService.translate(s)+" "+i,v=e.chartOptionsService.getLabelRotation(d),_=(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.nv3).setLabel(h).setLabelWidth("flex").setValue(v||0).onValueChange(function(y){return e.chartOptionsService.setLabelRotation(d,y)});return e.axisLabelUpdateFuncs.push(function(){var y=e.chartOptionsService.getLabelRotation(d);_.setValue(y||0)}),e.createBean(_)};return{xRotationComp:a("xRotation","xAxis"),yRotationComp:a("yRotation","yAxis")}},r.prototype.addLabelPadding=function(e){var i=this,a=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.h7_),s=this.chartOptionsService.getAxisProperty("label.padding");a.setLabel(this.chartTranslationService.translate("padding")).setMaxValue(getMaxValue(s,30)).setValue(""+s).setTextFieldWidth(45).onValueChange(function(d){return i.chartOptionsService.setAxisProperty("label.padding",d)}),e.addCompToPanel(a)},r.prototype.translate=function(e,i){return this.chartTranslationService.translate(e,i)},r.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach(function(i){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeFromParent(i.getGui()),e.destroyBean(i)})},r.prototype.destroy=function(){this.destroyActivePanels(),l.prototype.destroy.call(this)},r.TEMPLATE='<div>\n            <ag-group-component ref="axisGroup">\n                <ag-color-picker ref="axisColorInput"></ag-color-picker>\n                <ag-slider ref="axisLineWidthSlider"></ag-slider>\n                <ag-select ref="xAxisTypeSelect"></ag-select>\n            </ag-group-component>\n        </div>',__decorate$$([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("axisGroup")],r.prototype,"axisGroup",void 0),__decorate$$([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("axisColorInput")],r.prototype,"axisColorInput",void 0),__decorate$$([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("axisLineWidthSlider")],r.prototype,"axisLineWidthSlider",void 0),__decorate$$([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("xAxisTypeSelect")],r.prototype,"xAxisTypeSelect",void 0),__decorate$$([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],r.prototype,"chartTranslationService",void 0),__decorate$$([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],r.prototype,"init",null),r}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$1I=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__decorate$_=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},NavigatorPanel=function(l){function r(e){var i=l.call(this)||this;return i.chartOptionsService=e,i}return __extends$1I(r,l),r.prototype.init=function(){this.setTemplate(r.TEMPLATE,{navigatorGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.initNavigator()},r.prototype.initNavigator=function(){var e=this,i=this.chartTranslationService;this.navigatorGroup.setTitle(i.translate("navigator")).toggleGroupExpand(!1).hideEnabledCheckbox(!1).setEnabled(this.chartOptionsService.getChartOption("navigator.enabled")||!1).onEnableChange(function(s){e.chartOptionsService.setChartOption("navigator.enabled",s),e.navigatorGroup.toggleGroupExpand(!0)});var a=this.chartOptionsService.getChartOption("navigator.height");this.navigatorHeightSlider.setLabel(i.translate("height")).setMinValue(10).setMaxValue(getMaxValue(a,60)).setTextFieldWidth(45).setValue(""+(a||30)).onValueChange(function(s){return e.chartOptionsService.setChartOption("navigator.height",s)})},r.prototype.destroy=function(){l.prototype.destroy.call(this)},r.TEMPLATE='<div>\n            <ag-group-component ref="navigatorGroup">\n                <ag-slider ref="navigatorHeightSlider"></ag-slider>\n            </ag-group-component>\n        </div>',__decorate$_([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("navigatorGroup")],r.prototype,"navigatorGroup",void 0),__decorate$_([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("navigatorHeightSlider")],r.prototype,"navigatorHeightSlider",void 0),__decorate$_([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],r.prototype,"chartTranslationService",void 0),__decorate$_([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],r.prototype,"init",null),r}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$1H=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__decorate$Z=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},PaddingPanel=function(l){function r(e){var i=l.call(this)||this;return i.chartOptionsService=e,i}return __extends$1H(r,l),r.prototype.init=function(){this.setTemplate(r.TEMPLATE,{chartPaddingGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0}}),this.initGroup(),this.initChartPaddingItems()},r.prototype.initGroup=function(){this.chartPaddingGroup.setTitle(this.chartTranslationService.translate("padding")).hideOpenCloseIcons(!0).hideEnabledCheckbox(!0)},r.prototype.initChartPaddingItems=function(){var e=this,i=function(a,s){var d=e.chartOptionsService.getChartOption("padding."+a);s.setLabel(e.chartTranslationService.translate(a)).setMaxValue(getMaxValue(d,200)).setValue(""+d).setTextFieldWidth(45).onValueChange(function(h){return e.chartOptionsService.setChartOption("padding."+a,h)})};i("top",this.paddingTopSlider),i("right",this.paddingRightSlider),i("bottom",this.paddingBottomSlider),i("left",this.paddingLeftSlider)},r.TEMPLATE='<div>\n            <ag-group-component ref="chartPaddingGroup">\n                <ag-slider ref="paddingTopSlider"></ag-slider>\n                <ag-slider ref="paddingRightSlider"></ag-slider>\n                <ag-slider ref="paddingBottomSlider"></ag-slider>\n                <ag-slider ref="paddingLeftSlider"></ag-slider>\n            </ag-group-component>\n        <div>',__decorate$Z([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("chartPaddingGroup")],r.prototype,"chartPaddingGroup",void 0),__decorate$Z([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("paddingTopSlider")],r.prototype,"paddingTopSlider",void 0),__decorate$Z([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("paddingRightSlider")],r.prototype,"paddingRightSlider",void 0),__decorate$Z([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("paddingBottomSlider")],r.prototype,"paddingBottomSlider",void 0),__decorate$Z([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("paddingLeftSlider")],r.prototype,"paddingLeftSlider",void 0),__decorate$Z([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],r.prototype,"chartTranslationService",void 0),__decorate$Z([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],r.prototype,"init",null),r}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$1G=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__decorate$Y=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},BackgroundPanel=function(l){function r(e){var i=l.call(this)||this;return i.chartOptionsService=e,i}return __extends$1G(r,l),r.prototype.init=function(){this.setTemplate(r.TEMPLATE,{chartBackgroundGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0}}),this.initGroup(),this.initColorPicker()},r.prototype.initGroup=function(){var e=this;this.group.setTitle(this.chartTranslationService.translate("background")).setEnabled(this.chartOptionsService.getChartOption("background.visible")).hideOpenCloseIcons(!0).hideEnabledCheckbox(!1).onEnableChange(function(i){return e.chartOptionsService.setChartOption("background.visible",i)})},r.prototype.initColorPicker=function(){var e=this;this.colorPicker.setLabel(this.chartTranslationService.translate("color")).setLabelWidth("flex").setInputWidth(45).setValue(this.chartOptionsService.getChartOption("background.fill")).onValueChange(function(i){return e.chartOptionsService.setChartOption("background.fill",i)})},r.TEMPLATE='<div>\n            <ag-group-component ref="chartBackgroundGroup">\n                <ag-color-picker ref="colorPicker"></ag-color-picker>\n            </ag-group-component>\n        <div>',__decorate$Y([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("chartBackgroundGroup")],r.prototype,"group",void 0),__decorate$Y([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("colorPicker")],r.prototype,"colorPicker",void 0),__decorate$Y([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],r.prototype,"chartTranslationService",void 0),__decorate$Y([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],r.prototype,"init",null),r}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$1F=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__decorate$X=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},TitlePanel=function(l){function r(e){var i=l.call(this,r.TEMPLATE)||this;return i.chartOptionsService=e,i.activePanels=[],i}return __extends$1F(r,l),r.prototype.init=function(){this.initFontPanel(),this.titlePlaceholder=this.chartTranslationService.translate("titlePlaceholder")},r.prototype.hasTitle=function(){var e=this.getOption("title");return e&&e.enabled&&e.text&&e.text.length>0},r.prototype.initFontPanel=function(){var e=this,i=this.hasTitle,a=function(v){v.family&&e.setOption("title.fontFamily",v.family),v.weight&&e.setOption("title.fontWeight",v.weight),v.style&&e.setOption("title.fontStyle",v.style),v.size&&e.setOption("title.fontSize",v.size),v.color&&e.setOption("title.color",v.color)},s={family:this.getOption("title.fontFamily"),style:this.getOption("title.fontStyle"),weight:this.getOption("title.fontWeight"),size:this.getOption("title.fontSize"),color:this.getOption("title.color")};i||a(s);var d={name:this.chartTranslationService.translate("title"),enabled:this.hasTitle(),suppressEnabledCheckbox:!1,initialFont:s,setFont:a,setEnabled:function(v){e.setOption("title.enabled",v);var _=e.getOption("title.text");v&&"Title"===_&&e.setOption("title.text",e.titlePlaceholder)}},h=this.createBean(new FontPanel(d));this.getGui().appendChild(h.getGui()),this.activePanels.push(h),this.addManagedListener(this.eventService,"chartTitleEdit",function(){h.setEnabled(e.hasTitle())})},r.prototype.getOption=function(e){return this.chartOptionsService.getChartOption(e)},r.prototype.setOption=function(e,i){this.chartOptionsService.setChartOption(e,i)},r.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach(function(i){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeFromParent(i.getGui()),e.destroyBean(i)})},r.prototype.destroy=function(){this.destroyActivePanels(),l.prototype.destroy.call(this)},r.TEMPLATE="<div></div>",__decorate$X([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],r.prototype,"chartTranslationService",void 0),__decorate$X([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],r.prototype,"init",null),r}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$1E=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__decorate$W=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},ChartPanel=function(l){function r(e){var i=l.call(this)||this;return i.chartOptionsService=e,i.activePanels=[],i}return __extends$1E(r,l),r.prototype.init=function(){this.setTemplate(r.TEMPLATE,{chartGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.initGroup(),this.initTitles(),this.initPaddingPanel(),this.initBackgroundPanel()},r.prototype.initGroup=function(){this.chartGroup.setTitle(this.chartTranslationService.translate("chart")).toggleGroupExpand(!1).hideEnabledCheckbox(!0)},r.prototype.initTitles=function(){var e=this.createBean(new TitlePanel(this.chartOptionsService));this.chartGroup.addItem(e),this.activePanels.push(e)},r.prototype.initPaddingPanel=function(){var e=this.createBean(new PaddingPanel(this.chartOptionsService));this.chartGroup.addItem(e),this.activePanels.push(e)},r.prototype.initBackgroundPanel=function(){var e=this.createBean(new BackgroundPanel(this.chartOptionsService));this.chartGroup.addItem(e),this.activePanels.push(e)},r.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach(function(i){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeFromParent(i.getGui()),e.destroyBean(i)})},r.prototype.destroy=function(){this.destroyActivePanels(),l.prototype.destroy.call(this)},r.TEMPLATE='<div>\n            <ag-group-component ref="chartGroup"></ag-group-component>\n        </div>',__decorate$W([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("chartGroup")],r.prototype,"chartGroup",void 0),__decorate$W([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],r.prototype,"chartTranslationService",void 0),__decorate$W([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],r.prototype,"init",null),r}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$1D=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__decorate$V=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},ShadowPanel=function(l){function r(e,i){var a=l.call(this)||this;return a.chartOptionsService=e,a.getSelectedSeries=i,a}return __extends$1D(r,l),r.prototype.init=function(){this.setTemplate(r.TEMPLATE,{shadowGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0}}),this.shadowBlurSlider.setTextFieldWidth(45),this.shadowXOffsetSlider.setTextFieldWidth(45),this.shadowYOffsetSlider.setTextFieldWidth(45),this.initSeriesShadow()},r.prototype.initSeriesShadow=function(){var e=this;this.shadowGroup.setTitle(this.chartTranslationService.translate("shadow")).setEnabled(this.chartOptionsService.getSeriesOption("shadow.enabled",this.getSelectedSeries())).hideOpenCloseIcons(!0).hideEnabledCheckbox(!1).onEnableChange(function(a){return e.chartOptionsService.setSeriesOption("shadow.enabled",a,e.getSelectedSeries())}),this.shadowColorPicker.setLabel(this.chartTranslationService.translate("color")).setLabelWidth("flex").setInputWidth(45).setValue(this.chartOptionsService.getSeriesOption("shadow.color",this.getSelectedSeries())).onValueChange(function(a){return e.chartOptionsService.setSeriesOption("shadow.color",a,e.getSelectedSeries())});var i=function(a,s,d,h){var v=e.chartOptionsService.getSeriesOption("shadow."+s,e.getSelectedSeries());a.setLabel(e.chartTranslationService.translate(s)).setMinValue(d).setMaxValue(getMaxValue(v,h)).setValue(""+v).onValueChange(function(_){return e.chartOptionsService.setSeriesOption("shadow."+s,_,e.getSelectedSeries())})};i(this.shadowBlurSlider,"blur",0,20),i(this.shadowXOffsetSlider,"xOffset",-10,10),i(this.shadowYOffsetSlider,"yOffset",-10,10)},r.TEMPLATE='<div>\n            <ag-group-component ref="shadowGroup">\n                <ag-color-picker ref="shadowColorPicker"></ag-color-picker>\n                <ag-slider ref="shadowBlurSlider"></ag-slider>\n                <ag-slider ref="shadowXOffsetSlider"></ag-slider>\n                <ag-slider ref="shadowYOffsetSlider"></ag-slider>\n            </ag-group-component>\n        </div>',__decorate$V([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("shadowGroup")],r.prototype,"shadowGroup",void 0),__decorate$V([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("shadowColorPicker")],r.prototype,"shadowColorPicker",void 0),__decorate$V([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("shadowBlurSlider")],r.prototype,"shadowBlurSlider",void 0),__decorate$V([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("shadowXOffsetSlider")],r.prototype,"shadowXOffsetSlider",void 0),__decorate$V([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("shadowYOffsetSlider")],r.prototype,"shadowYOffsetSlider",void 0),__decorate$V([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],r.prototype,"chartTranslationService",void 0),__decorate$V([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],r.prototype,"init",null),r}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2);function initFontPanelParams(l,r,e){var i={family:r.getSeriesOption("label.fontFamily",e()),style:r.getSeriesOption("label.fontStyle",e()),weight:r.getSeriesOption("label.fontWeight",e()),size:r.getSeriesOption("label.fontSize",e()),color:r.getSeriesOption("label.color",e())};return{name:l.translate("labels"),enabled:r.getSeriesOption("label.enabled",e())||!1,setEnabled:function(d){return r.setSeriesOption("label.enabled",d,e())},suppressEnabledCheckbox:!1,initialFont:i,setFont:function(d){d.family&&r.setSeriesOption("label.fontFamily",d.family,e()),d.weight&&r.setSeriesOption("label.fontWeight",d.weight,e()),d.style&&r.setSeriesOption("label.fontStyle",d.style,e()),d.size&&r.setSeriesOption("label.fontSize",d.size,e()),d.color&&r.setSeriesOption("label.color",d.color,e())}}}var __extends$1C=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__decorate$U=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},MarkersPanel=function(l){function r(e,i){var a=l.call(this)||this;return a.chartOptionsService=e,a.getSelectedSeries=i,a}return __extends$1C(r,l),r.prototype.init=function(){this.setTemplate(r.TEMPLATE,{seriesMarkersGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical"}}),this.initMarkers()},r.prototype.initMarkers=function(){var e=this;this.seriesMarkerShapeSelect.addOptions([{value:"square",text:"Square"},{value:"circle",text:"Circle"},{value:"cross",text:"Cross"},{value:"diamond",text:"Diamond"},{value:"plus",text:"Plus"},{value:"triangle",text:"Triangle"},{value:"heart",text:"Heart"}]).setLabel(this.chartTranslationService.translate("shape")).setValue(this.getSeriesOption("marker.shape")).onValueChange(function(h){return e.setSeriesOption("marker.shape",h)});var a=this.chartOptionsService.getChartType(),s=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(["scatter","bubble"],a);this.seriesMarkersGroup.setTitle(this.chartTranslationService.translate("markers")).hideEnabledCheckbox(s).setEnabled(this.getSeriesOption("marker.enabled")||!1).hideOpenCloseIcons(!0).onEnableChange(function(h){return e.setSeriesOption("marker.enabled",h)});var d=function(h,v,_,y){var m=e.getSeriesOption(h);v.setLabel(e.chartTranslationService.translate(_)).setMaxValue(getMaxValue(m,y)).setValue(""+m).setTextFieldWidth(45).onValueChange(function(E){return e.setSeriesOption(h,E)})};"bubble"===a?(d("marker.maxSize",this.seriesMarkerMinSizeSlider,"maxSize",60),d("marker.size",this.seriesMarkerSizeSlider,"minSize",60)):(this.seriesMarkerMinSizeSlider.setDisplayed(!1),d("marker.size",this.seriesMarkerSizeSlider,"size",60)),d("marker.strokeWidth",this.seriesMarkerStrokeWidthSlider,"strokeWidth",10)},r.prototype.getSeriesOption=function(e){return this.chartOptionsService.getSeriesOption(e,this.getSelectedSeries())},r.prototype.setSeriesOption=function(e,i){this.chartOptionsService.setSeriesOption(e,i,this.getSelectedSeries())},r.TEMPLATE='<div>\n            <ag-group-component ref="seriesMarkersGroup">\n                <ag-select ref="seriesMarkerShapeSelect"></ag-select>\n                <ag-slider ref="seriesMarkerMinSizeSlider"></ag-slider>\n                <ag-slider ref="seriesMarkerSizeSlider"></ag-slider>\n                <ag-slider ref="seriesMarkerStrokeWidthSlider"></ag-slider>\n            </ag-group-component>\n        </div>',__decorate$U([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("seriesMarkersGroup")],r.prototype,"seriesMarkersGroup",void 0),__decorate$U([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("seriesMarkerShapeSelect")],r.prototype,"seriesMarkerShapeSelect",void 0),__decorate$U([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("seriesMarkerSizeSlider")],r.prototype,"seriesMarkerSizeSlider",void 0),__decorate$U([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("seriesMarkerMinSizeSlider")],r.prototype,"seriesMarkerMinSizeSlider",void 0),__decorate$U([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("seriesMarkerStrokeWidthSlider")],r.prototype,"seriesMarkerStrokeWidthSlider",void 0),__decorate$U([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],r.prototype,"chartTranslationService",void 0),__decorate$U([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],r.prototype,"init",null),r}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$1B=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__decorate$T=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},CalloutPanel=function(l){function r(e,i){var a=l.call(this)||this;return a.chartOptionsService=e,a.getSelectedSeries=i,a}return __extends$1B(r,l),r.prototype.init=function(){this.setTemplate(r.TEMPLATE,{calloutGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical"}}),this.initCalloutOptions()},r.prototype.initCalloutOptions=function(){var e=this;this.calloutGroup.setTitle(this.chartTranslationService.translate("callout")).setEnabled(!0).hideOpenCloseIcons(!0).hideEnabledCheckbox(!0);var i=function(a,s,d,h){var v=e.chartOptionsService.getSeriesOption(a,e.getSelectedSeries());s.setLabel(e.chartTranslationService.translate(d)).setMaxValue(getMaxValue(v,h)).setValue(""+v).setTextFieldWidth(45).onValueChange(function(_){return e.chartOptionsService.setSeriesOption(a,_,e.getSelectedSeries())})};i("callout.length",this.calloutLengthSlider,"length",40),i("callout.strokeWidth",this.calloutStrokeWidthSlider,"strokeWidth",10),i("label.offset",this.labelOffsetSlider,"offset",30)},r.TEMPLATE='<div>\n            <ag-group-component ref="calloutGroup">\n                <ag-slider ref="calloutLengthSlider"></ag-slider>\n                <ag-slider ref="calloutStrokeWidthSlider"></ag-slider>\n                <ag-slider ref="labelOffsetSlider"></ag-slider>\n            </ag-group-component>\n        </div>',__decorate$T([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("calloutGroup")],r.prototype,"calloutGroup",void 0),__decorate$T([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("calloutLengthSlider")],r.prototype,"calloutLengthSlider",void 0),__decorate$T([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("calloutStrokeWidthSlider")],r.prototype,"calloutStrokeWidthSlider",void 0),__decorate$T([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("labelOffsetSlider")],r.prototype,"labelOffsetSlider",void 0),__decorate$T([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],r.prototype,"chartTranslationService",void 0),__decorate$T([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],r.prototype,"init",null),r}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$1A=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__decorate$S=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},SeriesPanel=function(l){function r(e,i,a){var s=l.call(this)||this;return s.chartController=e,s.chartOptionsService=i,s.activePanels=[],s.widgetFuncs={lineWidth:function(){return s.initLineWidth()},strokeWidth:function(){return s.initStrokeWidth()},lineDash:function(){return s.initLineDash()},lineOpacity:function(){return s.initLineOpacity()},fillOpacity:function(){return s.initFillOpacity()},markers:function(){return s.initMarkers()},labels:function(){return s.initLabels()},shadow:function(){return s.initShadow()},tooltips:function(){return s.initTooltips()},bins:function(){return s.initBins()}},s.seriesWidgetMappings={area:["tooltips","lineWidth","lineDash","lineOpacity","fillOpacity","markers","labels","shadow"],bar:["tooltips","strokeWidth","lineDash","lineOpacity","fillOpacity","labels","shadow"],column:["tooltips","strokeWidth","lineDash","lineOpacity","fillOpacity","labels","shadow"],line:["tooltips","lineWidth","lineDash","lineOpacity","markers","labels"],histogram:["tooltips","bins","strokeWidth","lineDash","lineOpacity","fillOpacity","labels","shadow"],scatter:["tooltips","markers","labels"],pie:["tooltips","strokeWidth","lineOpacity","fillOpacity","labels","shadow"]},s.seriesType=a||s.getChartSeriesType(),s}return __extends$1A(r,l),r.prototype.init=function(){this.setTemplate(r.TEMPLATE,{seriesGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.seriesGroup.setTitle(this.translate("series")).toggleGroupExpand(!1).hideEnabledCheckbox(!0),this.addManagedListener(this.chartController,ChartController.EVENT_CHART_SERIES_CHART_TYPE_CHANGED,this.refreshWidgets.bind(this)),this.refreshWidgets()},r.prototype.refreshWidgets=function(){var e=this;this.destroyActivePanels(),this.chartController.isComboChart()&&(this.updateSeriesType(),this.initSeriesSelect()),this.seriesWidgetMappings[this.seriesType].forEach(function(i){return e.widgetFuncs[i]()})},r.prototype.initSeriesSelect=function(){var e=this,i=this.seriesGroup.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wGv);i.setLabel(this.translate("seriesType")).setLabelAlignment("left").setLabelWidth("flex").setInputWidth(100).addOptions(this.getSeriesSelectOptions()).setValue(""+this.seriesType).onValueChange(function(a){e.seriesType=a,e.refreshWidgets()}),this.seriesGroup.addItem(i),this.activePanels.push(i)},r.prototype.initTooltips=function(){var e=this,i=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.nN0);i.setLabel(this.translate("tooltips")).setLabelAlignment("left").setLabelWidth("flex").setInputWidth(45).setValue(this.getSeriesOption("tooltip.enabled")||!1).onValueChange(function(a){return e.setSeriesOption("tooltip.enabled",a)}),this.addWidget(i)},r.prototype.initStrokeWidth=function(){var e=this,i=this.getSeriesOption("strokeWidth"),a=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.h7_);a.setLabel(this.translate("strokeWidth")).setMaxValue(getMaxValue(i,10)).setTextFieldWidth(45).setValue(""+i).onValueChange(function(s){return e.setSeriesOption("strokeWidth",s)}),this.addWidget(a)},r.prototype.initLineWidth=function(){var e=this,i=this.getSeriesOption("strokeWidth"),a=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.h7_);a.setLabel(this.translate("lineWidth")).setMaxValue(getMaxValue(i,10)).setTextFieldWidth(45).setValue(""+i).onValueChange(function(s){return e.setSeriesOption("strokeWidth",s)}),this.addWidget(a)},r.prototype.initLineDash=function(){var e=this,i=this.getSeriesOption("lineDash"),a=i?i[0]:0,s=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.h7_);s.setLabel(this.translate("lineDash")).setMaxValue(getMaxValue(a,30)).setTextFieldWidth(45).setValue(""+a).onValueChange(function(d){return e.setSeriesOption("lineDash",[d])}),this.addWidget(s)},r.prototype.initLineOpacity=function(){var e=this,i=this.getSeriesOption("strokeOpacity"),a=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.h7_);a.setLabel(this.translate("strokeOpacity")).setStep(.05).setMaxValue(getMaxValue(i,1)).setTextFieldWidth(45).setValue(""+i).onValueChange(function(s){return e.setSeriesOption("strokeOpacity",s)}),this.addWidget(a)},r.prototype.initFillOpacity=function(){var e=this,i=this.getSeriesOption("fillOpacity"),a=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.h7_);a.setLabel(this.translate("fillOpacity")).setStep(.05).setMaxValue(getMaxValue(i,1)).setTextFieldWidth(45).setValue(""+i).onValueChange(function(s){return e.setSeriesOption("fillOpacity",s)}),this.addWidget(a)},r.prototype.initLabels=function(){var e=this,i=initFontPanelParams(this.chartTranslationService,this.chartOptionsService,function(){return e.seriesType}),a=this.createBean(new FontPanel(i));if("pie"===this.seriesType){var s=this.createBean(new CalloutPanel(this.chartOptionsService,function(){return e.seriesType}));a.addCompToPanel(s),this.activePanels.push(s)}this.addWidget(a)},r.prototype.initShadow=function(){var e=this,i=this.createBean(new ShadowPanel(this.chartOptionsService,function(){return e.seriesType}));this.addWidget(i)},r.prototype.initMarkers=function(){var e=this,i=this.createBean(new MarkersPanel(this.chartOptionsService,function(){return e.seriesType}));this.addWidget(i)},r.prototype.initBins=function(){var e=this,i=this.getSeriesOption("binCount"),a=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.h7_);a.setLabel(this.translate("histogramBinCount")).setMinValue(4).setMaxValue(getMaxValue(i,100)).setTextFieldWidth(45).setValue(""+i).onValueChange(function(s){return e.setSeriesOption("binCount",s)}),this.addWidget(a)},r.prototype.addWidget=function(e){this.seriesGroup.addItem(e),this.activePanels.push(e)},r.prototype.getSeriesOption=function(e){return this.chartOptionsService.getSeriesOption(e,this.seriesType)},r.prototype.setSeriesOption=function(e,i){this.chartOptionsService.setSeriesOption(e,i,this.seriesType)},r.prototype.getChartSeriesType=function(){if(0===this.chartController.getSeriesChartTypes().length)return"column";var e=this.chartController.getSeriesChartTypes()[0].chartType;return"columnLineCombo"===e?"column":"areaColumnCombo"===e?"area":getSeriesType(e)},r.prototype.getSeriesSelectOptions=function(){var e=this;this.seriesSelectOptions||(this.seriesSelectOptions=new Map([["area",{value:"area",text:this.translate("area","Area")}],["bar",{value:"bar",text:this.translate("bar","Bar")}],["column",{value:"column",text:this.translate("column","Column")}],["line",{value:"line",text:this.translate("line","Line")}],["scatter",{value:"scatter",text:this.translate("scatter","Scatter")}],["histogram",{value:"histogram",text:this.translate("histogram","Histogram")}],["pie",{value:"pie",text:this.translate("pie","Pie")}]]));var i=new Set;return this.chartController.getActiveSeriesChartTypes().forEach(function(a){var s=getSeriesType(a.chartType);i.add(e.seriesSelectOptions.get(s))}),Array.from(i)},r.prototype.updateSeriesType=function(){var e=this.chartController.getActiveSeriesChartTypes().map(function(a){return getSeriesType(a.chartType)});!e.includes(this.seriesType)&&e.length>0&&(this.seriesType=e[0])},r.prototype.translate=function(e,i){return this.chartTranslationService.translate(e,i)},r.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach(function(i){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeFromParent(i.getGui()),e.destroyBean(i)})},r.prototype.destroy=function(){this.destroyActivePanels(),l.prototype.destroy.call(this)},r.TEMPLATE='<div>\n            <ag-group-component ref="seriesGroup">                \n            </ag-group-component>\n        </div>',__decorate$S([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("seriesGroup")],r.prototype,"seriesGroup",void 0),__decorate$S([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],r.prototype,"chartTranslationService",void 0),__decorate$S([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],r.prototype,"init",null),r}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$1z=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__decorate$R=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s};function getMaxValue(l,r){return Math.max(l,r)}var FormatPanel=function(l){function r(e,i){var a=l.call(this,r.TEMPLATE)||this;return a.chartController=e,a.chartOptionsService=i,a.panels=[],a}return __extends$1z(r,l),r.prototype.init=function(){this.createPanels(),this.addManagedListener(this.chartController,ChartController.EVENT_CHART_UPDATED,this.createPanels.bind(this))},r.prototype.createPanels=function(){var e=this.chartController.getChartType(),i=this.chartController.isGrouping();if(e!==this.chartType||i!==this.isGrouping){switch(this.destroyPanels(),this.addComponent(new ChartPanel(this.chartOptionsService)),this.addComponent(new LegendPanel(this.chartOptionsService)),e){case"groupedColumn":case"stackedColumn":case"normalizedColumn":this.addComponent(new AxisPanel(this.chartController,this.chartOptionsService)),this.addComponent(new SeriesPanel(this.chartController,this.chartOptionsService,"column")),this.addComponent(new NavigatorPanel(this.chartOptionsService));break;case"groupedBar":case"stackedBar":case"normalizedBar":this.addComponent(new AxisPanel(this.chartController,this.chartOptionsService)),this.addComponent(new SeriesPanel(this.chartController,this.chartOptionsService,"bar")),this.addComponent(new NavigatorPanel(this.chartOptionsService));break;case"pie":case"doughnut":this.addComponent(new SeriesPanel(this.chartController,this.chartOptionsService,"pie"));break;case"line":this.addComponent(new AxisPanel(this.chartController,this.chartOptionsService)),this.addComponent(new SeriesPanel(this.chartController,this.chartOptionsService,"line")),this.addComponent(new NavigatorPanel(this.chartOptionsService));break;case"scatter":case"bubble":this.addComponent(new AxisPanel(this.chartController,this.chartOptionsService)),this.addComponent(new SeriesPanel(this.chartController,this.chartOptionsService,"scatter")),this.addComponent(new NavigatorPanel(this.chartOptionsService));break;case"area":case"stackedArea":case"normalizedArea":this.addComponent(new AxisPanel(this.chartController,this.chartOptionsService)),this.addComponent(new SeriesPanel(this.chartController,this.chartOptionsService,"area")),this.addComponent(new NavigatorPanel(this.chartOptionsService));break;case"histogram":this.addComponent(new AxisPanel(this.chartController,this.chartOptionsService)),this.addComponent(new SeriesPanel(this.chartController,this.chartOptionsService,"histogram")),this.addComponent(new NavigatorPanel(this.chartOptionsService));break;case"columnLineCombo":case"areaColumnCombo":case"customCombo":this.addComponent(new AxisPanel(this.chartController,this.chartOptionsService)),this.addComponent(new SeriesPanel(this.chartController,this.chartOptionsService)),this.addComponent(new NavigatorPanel(this.chartOptionsService));break;default:console.warn("AG Grid: ChartFormattingPanel - unexpected chart type index: "+e+" supplied")}this.chartType=e,this.isGrouping=i}},r.prototype.addComponent=function(e){this.createBean(e),this.panels.push(e),e.addCssClass("ag-chart-format-section"),this.getGui().appendChild(e.getGui())},r.prototype.destroyPanels=function(){var e=this;this.panels.forEach(function(i){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeFromParent(i.getGui()),e.destroyBean(i)})},r.prototype.destroy=function(){this.destroyPanels(),l.prototype.destroy.call(this)},r.TEMPLATE='<div class="ag-chart-format-wrapper"></div>',__decorate$R([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],r.prototype,"init",null),r}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$1y=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__decorate$Q=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},MiniChart=function(l){function r(e,i){var a=l.call(this)||this;a.size=58,a.padding=5,a.root=new Group$1;var s=new Scene$1({document:window.document,width:a.size,height:a.size});return s.canvas.element.classList.add("ag-chart-mini-thumbnail-canvas"),s.root=a.root,s.container=e,a.scene=s,a.tooltipName=i,a}return __extends$1y(r,l),r.prototype.init=function(){this.scene.canvas.element.title=this.chartTranslationService.translate(this.tooltipName),this.scene.render()},__decorate$Q([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],r.prototype,"chartTranslationService",void 0),__decorate$Q([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],r.prototype,"init",null),r}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$1x=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__decorate$P=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},MiniChartWithAxes=function(l){function r(e,i){var a=l.call(this,e,i)||this;return a.stroke="gray",a.axisOvershoot=3,a}return __extends$1x(r,l),r.prototype.addAxes=function(){var e=this.size,i=this.padding,a=new Line$1;a.x1=i,a.y1=i,a.x2=i,a.y2=e-i+this.axisOvershoot,a.stroke=this.stroke;var s=new Line$1;s.x1=i-this.axisOvershoot+1,s.y1=e-i,s.x2=e-i+1,s.y2=e-i,s.stroke=this.stroke;var d=this.root;d.append(a),d.append(s)},__decorate$P([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],r.prototype,"addAxes",null),r}(MiniChart);function createColumnRects(l){var r=l.stacked,e=l.size,i=l.padding,a=l.xScalePadding,s=l.xScaleDomain,d=l.yScaleDomain,h=new BandScale$1;h.domain=s,h.range=[i,e-i],h.paddingInner=a,h.paddingOuter=a;var v=new LinearScale$1;v.domain=d,v.range=[e-i,i];var _=function(y,m,E){return y.map(function(w,S){var D=E.convert(w),T=new Rect;return T.x=m.convert(S),T.y=D,T.width=m.bandwidth,T.height=E.convert(0)-D,T.strokeWidth=1,T.crisp=!0,T})};return r?l.data.map(function(y){return _(y,h,v)}):_(l.data,h,v)}function createLinePaths(l,r,e,i){var a=new LinearScale$1;a.domain=[0,4],a.range=[i,e-i];var s=new LinearScale$1;s.domain=[0,10],s.range=[e-i,i];var d=r.map(function(v){var _=new Path$1;return _.strokeWidth=3,_.lineCap="round",_.fill=void 0,v.forEach(function(y,m){_.path[m>0?"lineTo":"moveTo"](a.convert(m),s.convert(y))}),_}),h=new ClipRect;return h.x=h.y=i,h.width=h.height=e-2*i,h.append(d),l.append(h),d}var __extends$1w=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),MiniColumn=function(l){function r(e,i,a){var s=l.call(this,e,"groupedColumnTooltip")||this;s.columnData=[2,3,4];var h=s.root;return s.columns=createColumnRects({stacked:!1,root:h,data:s.columnData,size:s.size,padding:s.padding,xScaleDomain:[0,1,2],yScaleDomain:[0,4],xScalePadding:.3}),h.append(s.columns),s.updateColors(i,a),s}return __extends$1w(r,l),r.prototype.updateColors=function(e,i){this.columns.forEach(function(a,s){a.fill=e[s],a.stroke=i[s]})},r.chartType="groupedColumn",r}(MiniChartWithAxes),__extends$1v=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),MiniStackedColumn=function(l){function r(e,i,a,s,d,h){void 0===s&&(s=r.data),void 0===d&&(d=[0,16]),void 0===h&&(h="stackedColumnTooltip");var v=l.call(this,e,h)||this,y=v.root;return v.stackedColumns=createColumnRects({stacked:!0,root:y,data:s,size:v.size,padding:v.padding,xScaleDomain:[0,1,2],yScaleDomain:d,xScalePadding:.3}),y.append([].concat.apply([],v.stackedColumns)),v.updateColors(i,a),v}return __extends$1v(r,l),r.prototype.updateColors=function(e,i){this.stackedColumns.forEach(function(a,s){return a.forEach(function(d){d.fill=e[s],d.stroke=i[s]})})},r.chartType="stackedColumn",r.data=[[8,12,16],[6,9,12],[2,3,4]],r}(MiniChartWithAxes),__extends$1u=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),MiniNormalizedColumn=function(l){function r(e,i,a){return l.call(this,e,i,a,r.data,[0,10],"normalizedColumnTooltip")||this}return __extends$1u(r,l),r.chartType="normalizedColumn",r.data=[[10,10,10],[6,7,8],[2,4,6]],r}(MiniStackedColumn),__extends$1t=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),MiniBar=function(l){function r(e,i,a){var s=l.call(this,e,"groupedBarTooltip")||this,d=s.padding,h=s.size,_=new BandScale$1;_.domain=[0,1,2],_.range=[d,h-d],_.paddingInner=.3,_.paddingOuter=.3;var y=new LinearScale$1;y.domain=[0,4],y.range=[h-d,d];var m=y.convert(0),E=_.bandwidth;return s.bars=[2,3,4].map(function(w,S){var D=new Rect;return D.x=d,D.y=_.convert(S),D.width=m-y.convert(w),D.height=E,D.strokeWidth=1,D.crisp=!0,D}),s.updateColors(i,a),s.root.append(s.bars),s}return __extends$1t(r,l),r.prototype.updateColors=function(e,i){this.bars.forEach(function(a,s){a.fill=e[s],a.stroke=i[s]})},r.chartType="groupedBar",r}(MiniChartWithAxes),__extends$1s=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),MiniStackedBar=function(l){function r(e,i,a,s,d,h){void 0===s&&(s=r.data),void 0===d&&(d=[0,16]),void 0===h&&(h="stackedBarTooltip");var v=l.call(this,e,h)||this,_=v.size,y=v.padding,m=new BandScale$1;m.domain=[0,1,2],m.range=[y,_-y],m.paddingInner=.3,m.paddingOuter=.3;var E=new LinearScale$1;E.domain=d,E.range=[_-y,y];var w=E.convert(0),S=m.bandwidth;return v.bars=s.map(function(D){return D.map(function(T,b){var M=new Rect;return M.x=y,M.y=m.convert(b),M.width=w-E.convert(T),M.height=S,M.strokeWidth=1,M.crisp=!0,M})}),v.updateColors(i,a),v.root.append([].concat.apply([],v.bars)),v}return __extends$1s(r,l),r.prototype.updateColors=function(e,i){this.bars.forEach(function(a,s){return a.forEach(function(d){d.fill=e[s],d.stroke=i[s]})})},r.chartType="stackedBar",r.data=[[8,12,16],[6,9,12],[2,3,4]],r}(MiniChartWithAxes),__extends$1r=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),MiniNormalizedBar=function(l){function r(e,i,a){return l.call(this,e,i,a,r.data,[0,10],"normalizedBarTooltip")||this}return __extends$1r(r,l),r.chartType="normalizedBar",r.data=[[10,10,10],[6,7,8],[2,4,6]],r}(MiniStackedBar),__extends$1q=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__read$e=function(l,r){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var a,d,i=e.call(l),s=[];try{for(;(void 0===r||r-- >0)&&!(a=i.next()).done;)s.push(a.value)}catch(h){d={error:h}}finally{try{a&&!a.done&&(e=i.return)&&e.call(i)}finally{if(d)throw d.error}}return s},MiniDoughnut=function(l){function r(e,i,a,s,d){void 0===s&&(s=.6),void 0===d&&(d="doughnutTooltip");var h=l.call(this,e,d)||this,v=(h.size-2*h.padding)/2,_=v+h.padding,y=[[toRadians(-90),toRadians(30)],[toRadians(30),toRadians(120)],[toRadians(120),toRadians(180)],[toRadians(180),toRadians(210)],[toRadians(210),toRadians(240)],[toRadians(240),toRadians(270)]];return h.sectors=y.map(function(m){var E=__read$e(m,2),w=E[0],S=E[1],D=new Sector;return D.centerX=_,D.centerY=_,D.innerRadius=v*s,D.outerRadius=v,D.startAngle=w,D.endAngle=S,D.stroke=void 0,D.strokeWidth=1,D}),h.updateColors(i,a),h.root.append(h.sectors),h}return __extends$1q(r,l),r.prototype.updateColors=function(e,i){this.sectors.forEach(function(a,s){a.fill=e[s%e.length],a.stroke=i[s%i.length]})},r.chartType="doughnut",r}(MiniChart),__extends$1p=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),MiniPie=function(l){function r(e,i,a){return l.call(this,e,i,a,0,"pieTooltip")||this}return __extends$1p(r,l),r.chartType="pie",r}(MiniDoughnut),__extends$1o=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),MiniLine=function(l){function r(e,i,a){var s=l.call(this,e,"lineTooltip")||this;return s.data=[[9,7,8,5,6],[5,6,3,4,1],[1,3,4,8,7]],s.lines=createLinePaths(s.root,s.data,s.size,s.padding),s.updateColors(i,a),s}return __extends$1o(r,l),r.prototype.updateColors=function(e,i){this.lines.forEach(function(a,s){a.stroke=e[s]})},r.chartType="line",r}(MiniChartWithAxes),__extends$1n=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__read$d=function(l,r){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var a,d,i=e.call(l),s=[];try{for(;(void 0===r||r-- >0)&&!(a=i.next()).done;)s.push(a.value)}catch(h){d={error:h}}finally{try{a&&!a.done&&(e=i.return)&&e.call(i)}finally{if(d)throw d.error}}return s},MiniScatter=function(l){function r(e,i,a){var s=l.call(this,e,"scatterTooltip")||this,d=s.size,h=s.padding,_=new LinearScale$1;_.domain=[-.5,4],_.range=[2*h,d-h];var y=new LinearScale$1;y.domain=[-.5,3.5],y.range=[d-h,h];var m=[];[[[.3,3],[1.1,.9],[2,.4],[3.4,2.4]],[[0,.3],[1,2],[2.4,1.4],[3,0]]].forEach(function(w){w.forEach(function(S){var D=__read$d(S,2),T=D[0],b=D[1],M=new Arc;M.strokeWidth=1,M.centerX=_.convert(T),M.centerY=y.convert(b),M.radiusX=M.radiusY=2.5,m.push(M)})}),s.points=m,s.updateColors(i,a);var E=new ClipRect;return E.x=E.y=h,E.width=E.height=d-2*h,E.append(s.points),s.root.append(E),s}return __extends$1n(r,l),r.prototype.updateColors=function(e,i){this.points.forEach(function(a,s){a.stroke=i[s%i.length],a.fill=e[s%e.length]})},r.chartType="scatter",r}(MiniChartWithAxes),__extends$1m=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__read$c=function(l,r){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var a,d,i=e.call(l),s=[];try{for(;(void 0===r||r-- >0)&&!(a=i.next()).done;)s.push(a.value)}catch(h){d={error:h}}finally{try{a&&!a.done&&(e=i.return)&&e.call(i)}finally{if(d)throw d.error}}return s},MiniBubble=function(l){function r(e,i,a){var s=l.call(this,e,"bubbleTooltip")||this,d=s.size,h=s.padding,_=new LinearScale$1;_.domain=[0,1],_.range=[2*h,d-h];var y=new LinearScale$1;y.domain=[0,1],y.range=[d-h,h];var m=[];[[[.1,.3,5],[.5,.4,7],[.2,.8,7]],[[.8,.7,5],[.7,.3,9]]].forEach(function(w){w.forEach(function(S){var D=__read$c(S,3),T=D[0],b=D[1],M=D[2],A=new Arc;A.strokeWidth=1,A.centerX=_.convert(T),A.centerY=y.convert(b),A.radiusX=A.radiusY=M,A.fillOpacity=.7,m.push(A)})}),s.points=m,s.updateColors(i,a);var E=new ClipRect;return E.x=h,E.y=h,E.width=d-2*h,E.height=d-2*h,E.append(s.points),s.root.append(E),s}return __extends$1m(r,l),r.prototype.updateColors=function(e,i){this.points.forEach(function(a,s){a.stroke=i[s%i.length],a.fill=e[s%e.length]})},r.chartType="bubble",r}(MiniChartWithAxes),__extends$1l=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),MiniArea=function(l){function r(e,i,a,s){void 0===s&&(s=r.data);var d=l.call(this,e,"groupedAreaTooltip")||this,h=d.size,v=d.padding,_=new BandScale$1;_.domain=[0,1,2],_.paddingInner=1,_.paddingOuter=0,_.range=[v+.5,h-v-.5];var y=new LinearScale$1;y.domain=[0,6],y.range=[h-v+.5,v];var E=2*s.length-1,w=[],S=y.convert(0);return s.forEach(function(D,T){var b=_.convert(T);D.forEach(function(M,A){var L=y.convert(M),N=w[A]||(w[A]=[]);N[T]={x:b,y:L},N[E-T]={x:b,y:S}})}),d.areas=w.reverse().map(function(D){var T=new Path$1;T.strokeWidth=1,T.fillOpacity=.7;var b=T.path;return b.clear(),D.forEach(function(M,A){return b[A>0?"lineTo":"moveTo"](M.x,M.y)}),b.closePath(),T}),d.updateColors(i,a),d.root.append(d.areas),d}return __extends$1l(r,l),r.prototype.updateColors=function(e,i){this.areas.forEach(function(a,s){a.fill=e[s],a.stroke=i[s]})},r.chartType="area",r.data=[[1,3,5],[2,6,4],[5,3,1]],r}(MiniChartWithAxes),__extends$1k=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),MiniStackedArea=function(l){function r(e,i,a,s,d){void 0===s&&(s=r.data),void 0===d&&(d="stackedAreaTooltip");var h=l.call(this,e,d)||this,v=h.size,_=h.padding,y=new BandScale$1;y.domain=[0,1,2],y.paddingInner=1,y.paddingOuter=0,y.range=[_+.5,v-_-.5];var m=new LinearScale$1;m.domain=[0,16],m.range=[v-_+.5,_+.5];var w=2*s.length-1,S=[];return s.forEach(function(D,T){var b=y.convert(T),M=0;D.forEach(function(A,L){var N=m.convert(M+A),G=S[L]||(S[L]=[]);G[T]={x:b,y:N},G[w-T]={x:b,y:m.convert(M)},M+=A})}),h.areas=S.map(function(D){var T=new Path$1;T.strokeWidth=1;var b=T.path;return b.clear(),D.forEach(function(M,A){return b[A>0?"lineTo":"moveTo"](M.x,M.y)}),b.closePath(),T}),h.updateColors(i,a),h.root.append(h.areas),h}return __extends$1k(r,l),r.prototype.updateColors=function(e,i){this.areas.forEach(function(a,s){a.fill=e[s],a.stroke=i[s]})},r.chartType="stackedArea",r.data=[[2,3,2],[3,6,5],[6,2,2]],r}(MiniChartWithAxes),__extends$1j=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),MiniNormalizedArea=function(l){function r(e,i,a,s){return void 0===s&&(s=r.data),l.call(this,e,i,a,s,"normalizedAreaTooltip")||this}return __extends$1j(r,l),r.chartType="normalizedArea",r.data=MiniStackedArea.data.map(function(e){var i=e.reduce(function(a,s){return a+s},0);return e.map(function(a){return a/i*16})}),r}(MiniStackedArea),__extends$1i=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__read$b=function(l,r){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var a,d,i=e.call(l),s=[];try{for(;(void 0===r||r-- >0)&&!(a=i.next()).done;)s.push(a.value)}catch(h){d={error:h}}finally{try{a&&!a.done&&(e=i.return)&&e.call(i)}finally{if(d)throw d.error}}return s},MiniHistogram=function(l){function r(e,i,a){var s=l.call(this,e,"histogramTooltip")||this,d=s.padding,h=s.size,v=[2,5,11,13,10,6,1],_=new LinearScale$1;_.domain=[0,v.length],_.range=[d,h-d];var y=new LinearScale$1;y.domain=[0,v.reduce(function(E,w){return Math.max(E,w)},0)],y.range=[h-d,d];var m=y.convert(0);return s.bars=v.map(function(E,w){var S=y.convert(E),D=_.convert(w),T=_.convert(w+1),b=new Rect;return b.x=D,b.y=S,b.width=T-D,b.height=m-S,b.strokeWidth=1,b.crisp=!0,b}),s.updateColors(i,a),s.root.append(s.bars),s}return __extends$1i(r,l),r.prototype.updateColors=function(e,i){var s=__read$b(e,1)[0],h=__read$b(i,1)[0];this.bars.forEach(function(v){v.fill=s,v.stroke=h})},r.chartType="histogram",r}(MiniChartWithAxes),__extends$1h=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),MiniColumnLineCombo=function(l){function r(e,i,a){var s=l.call(this,e,"columnLineComboTooltip")||this;s.columnData=[3,4],s.lineData=[[5,4,6,5,4]];var h=s.root,_=s.lineData,y=s.size,m=s.padding;return s.columns=createColumnRects({stacked:!1,root:h,data:s.columnData,size:y,padding:m,xScaleDomain:[0,1],yScaleDomain:[0,4],xScalePadding:.5}),h.append(s.columns),s.lines=createLinePaths(h,_,y,m),s.updateColors(i,a),s}return __extends$1h(r,l),r.prototype.updateColors=function(e,i){this.columns.forEach(function(a,s){a.fill=e[s],a.stroke=i[s]}),this.lines.forEach(function(a,s){a.stroke=e[s+2]})},r.chartType="columnLineCombo",r}(MiniChartWithAxes),__extends$1g=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),MiniAreaColumnCombo=function(l){function r(e,i,a){var s=l.call(this,e,"areaColumnComboTooltip")||this;s.columnData=[3,4.5],s.areaData=[[5,4,6,5,4]];var h=s.root,_=s.areaData,y=s.size,m=s.padding;s.columns=createColumnRects({stacked:!1,root:h,data:s.columnData,size:y,padding:m,xScaleDomain:[0,1],yScaleDomain:[0,6],xScalePadding:.5});var E=new BandScale$1;E.range=[m,y-m],E.domain=[0,1,2,3,4],E.paddingInner=1,E.paddingOuter=0;var w=new LinearScale$1;w.range=[y-m,m],w.domain=[0,6];var S=[],D=w.convert(0),T=E.convert(0);return _.forEach(function(b,M){var A=S[M]||(S[M]=[]);b.forEach(function(N,G){var k=N,$=E.convert(G),j=w.convert(k);A[G]={x:$,y:j}});var L=E.convert(b.length-1);S[M].push({x:L,y:D},{x:T,y:D})}),s.areas=S.map(function(b){var M=new Path$1;M.strokeWidth=1,M.fillOpacity=.8;var A=M.path;return b.forEach(function(L,N){return A[N>0?"lineTo":"moveTo"](L.x,L.y)}),M}),h.append(s.areas),h.append([].concat.apply([],s.columns)),s.updateColors(i,a),s}return __extends$1g(r,l),r.prototype.updateColors=function(e,i){this.areas.forEach(function(a,s){a.fill=e[s],a.stroke=i[s]}),this.columns.forEach(function(a,s){a.fill=e[s+1],a.stroke=i[s+1]})},r.chartType="areaColumnCombo",r}(MiniChartWithAxes),__extends$1f=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),MiniCustomCombo=function(l){function r(e,i,a){var s=l.call(this,e,"customComboTooltip")||this;s.columnData=[3,4],s.lineData=[[5,4,6,5,4]];var h=s.root,_=s.lineData,y=s.size,m=s.padding;s.columns=createColumnRects({stacked:!1,root:h,data:s.columnData,size:y,padding:m,xScaleDomain:[0,1],yScaleDomain:[0,4],xScalePadding:.5}),h.append(s.columns),s.lines=createLinePaths(h,_,y,m);var E="grey",S=new Line$1;S.x1=m,S.y1=m,S.x2=m,S.y2=y-m+3,S.stroke=E;var D=new Line$1;D.x1=m-3+1,D.y1=y-m,D.x2=y-m+1,D.y2=y-m,D.stroke=E;var T=new Path$1;return s.buildPenIconPath(T),T.fill="whitesmoke",T.stroke="darkslategrey",T.strokeWidth=1,h.append([D,S,T]),s.updateColors(i,a),s}return __extends$1f(r,l),r.prototype.updateColors=function(e,i){this.columns.forEach(function(a,s){a.fill=e[s],a.stroke=i[s]}),this.lines.forEach(function(a,s){a.stroke=e[s+2]})},r.prototype.buildPenIconPath=function(e){var i=e.path;i.moveTo(25.76,43.46),i.lineTo(31.27,48.53),i.moveTo(49.86,22),i.lineTo(49.86,22),i.cubicCurveTo(49.01994659053345,21.317514933510974,47.89593834348529,21.09645997825817,46.86,21.41),i.lineTo(46.86,21.41),i.cubicCurveTo(45.55460035985361,21.77260167850787,44.38777081121966,22.517979360321792,43.51,23.55),i.lineTo(25.51,43.8),i.lineTo(25.43,43.89),i.lineTo(23.01,51.89),i.lineTo(22.83,52.46),i.lineTo(31.02,48.86),i.lineTo(49.02,28.52),i.lineTo(49.02,28.52),i.cubicCurveTo(49.940716461596224,27.521914221246085,50.54302631059587,26.2720342455763,50.75,24.93),i.lineTo(50.75,24.93),i.cubicCurveTo(50.95363374988308,23.866379846512814,50.62080640232334,22.77066734274871,49.86,22),i.closePath(),i.moveTo(41.76,25.5),i.lineTo(47.34,30.5),i.moveTo(40.74,26.65),i.lineTo(46.25,31.71)},r.chartType="customCombo",r}(MiniChart),__extends$1e=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__decorate$O=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},MiniChartsContainer=function(l){function r(e,i,a){var s=l.call(this,r.TEMPLATE)||this;return s.wrappers={},s.chartGroups={columnGroup:[MiniColumn,MiniStackedColumn,MiniNormalizedColumn],barGroup:[MiniBar,MiniStackedBar,MiniNormalizedBar],pieGroup:[MiniPie,MiniDoughnut],lineGroup:[MiniLine],scatterGroup:[MiniScatter,MiniBubble],areaGroup:[MiniArea,MiniStackedArea,MiniNormalizedArea],histogramGroup:[MiniHistogram],combinationGroup:[MiniColumnLineCombo,MiniAreaColumnCombo,MiniCustomCombo]},s.chartController=e,s.fills=i,s.strokes=a,s}return __extends$1e(r,l),r.prototype.init=function(){var e=this;this.chartController.customComboExists()||(this.chartGroups.combinationGroup=this.chartGroups.combinationGroup.filter(function(a){return a!==MiniCustomCombo}));var i=this.getGui();Object.keys(this.chartGroups).forEach(function(a){var s=e.chartGroups[a],d=e.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.H1u({title:e.chartTranslationService.translate(a),suppressEnabledCheckbox:!0,enabled:!0,suppressOpenCloseIcons:!0,cssIdentifier:"charts-settings",direction:"horizontal"}));s.forEach(function(h){var v=document.createElement("div");v.classList.add("ag-chart-mini-thumbnail"),e.addManagedListener(v,"click",function(){e.chartController.setChartType(h.chartType),e.updateSelectedMiniChart()}),e.wrappers[h.chartType]=v,e.createBean(new h(v,e.fills,e.strokes)),d.addItem(v)}),i.appendChild(d.getGui())}),this.updateSelectedMiniChart()},r.prototype.updateSelectedMiniChart=function(){var e=this.chartController.getChartType();for(var i in this.wrappers)this.wrappers[i].classList.toggle("ag-selected",i===e)},r.TEMPLATE='<div class="ag-chart-settings-mini-wrapper"></div>',__decorate$O([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],r.prototype,"chartTranslationService",void 0),__decorate$O([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],r.prototype,"init",null),r}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$1d=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__decorate$N=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},ChartSettingsPanel=function(l){function r(e){var i=l.call(this,r.TEMPLATE)||this;return i.miniCharts=[],i.cardItems=[],i.activePaletteIndex=0,i.palettes=[],i.themes=[],i.chartController=e,i}return __extends$1d(r,l),r.prototype.postConstruct=function(){var e=this;this.resetPalettes(),this.ePrevBtn.insertAdjacentElement("afterbegin",ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("previous",this.gridOptionsWrapper)),this.eNextBtn.insertAdjacentElement("afterbegin",ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("next",this.gridOptionsWrapper)),this.addManagedListener(this.ePrevBtn,"click",function(){return e.setActivePalette(e.getPrev(),"left")}),this.addManagedListener(this.eNextBtn,"click",function(){return e.setActivePalette(e.getNext(),"right")}),this.addManagedListener(this.chartController,ChartController.EVENT_CHART_TYPE_CHANGED,function(){return e.resetPalettes(!0)}),this.scrollSelectedIntoView()},r.prototype.scrollSelectedIntoView=function(){var e=this;setTimeout(function(){var a=e.miniCharts.find(function(s){return!s.getGui().classList.contains("ag-hidden")}).getGui().querySelector(".ag-selected");a&&a.scrollIntoView({block:"nearest"})},250)},r.prototype.resetPalettes=function(e){var i=this,a=this.chartController.getPalettes();ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.shallowCompare(a,this.palettes)&&!e||this.isAnimating||(this.palettes=a,this.themes=this.chartController.getThemes(),this.activePaletteIndex=this.themes.findIndex(function(s){return s===i.chartController.getChartThemeName()}),this.cardItems=[],ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.clearElement(this.eCardSelector),this.destroyMiniCharts(),this.palettes.forEach(function(s,d){var h=i.activePaletteIndex===d,y=i.createBean(new MiniChartsContainer(i.chartController,s.fills,s.strokes));i.miniCharts.push(y),i.eMiniChartsContainer.appendChild(y.getGui()),i.addCardLink(d),h?y.updateSelectedMiniChart():y.addCssClass("ag-hidden")}),this.eNavBar.classList.toggle("ag-hidden",this.palettes.length<=1),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.radioCssClass(this.cardItems[this.activePaletteIndex],"ag-selected","ag-not-selected"))},r.prototype.addCardLink=function(e){var i=this,a=document.createElement("div");a.classList.add("ag-chart-settings-card-item"),this.addManagedListener(a,"click",function(){i.setActivePalette(e,e<i.activePaletteIndex?"left":"right")}),this.eCardSelector.appendChild(a),this.cardItems.push(a)},r.prototype.getPrev=function(){var e=this.activePaletteIndex-1;return e<0&&(e=this.palettes.length-1),e},r.prototype.getNext=function(){var e=this.activePaletteIndex+1;return e>=this.palettes.length&&(e=0),e},r.prototype.setActivePalette=function(e,i){var a=this;if(!this.isAnimating&&this.activePaletteIndex!==e){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.radioCssClass(this.cardItems[e],"ag-selected","ag-not-selected");var s=this.miniCharts[this.activePaletteIndex],d=s.getGui(),h=this.miniCharts[e],v=h.getGui();s.updateSelectedMiniChart(),h.updateSelectedMiniChart();var _="left"===i?-1:1,y=v.style.left=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.getAbsoluteWidth(this.getGui())*_+"px";this.activePaletteIndex=e,this.isAnimating=!0;var m="ag-animating";h.removeCssClass("ag-hidden"),s.addCssClass(m),h.addCssClass(m),this.chartController.setChartThemeName(this.themes[e]),window.setTimeout(function(){d.style.left=-parseFloat(y)+"px",v.style.left="0px"},0),window.setTimeout(function(){a.isAnimating=!1,s.removeCssClass(m),h.removeCssClass(m),s.addCssClass("ag-hidden")},300)}},r.prototype.destroyMiniCharts=function(){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.clearElement(this.eMiniChartsContainer),this.miniCharts=this.destroyBeans(this.miniCharts)},r.prototype.destroy=function(){this.destroyMiniCharts(),l.prototype.destroy.call(this)},r.TEMPLATE='<div class="ag-chart-settings-wrapper">\n            <div ref="eMiniChartsContainer" class="ag-chart-settings-mini-charts-container ag-scrollable-container"></div>\n            <div ref="eNavBar" class="ag-chart-settings-nav-bar">\n                <div ref="ePrevBtn" class="ag-chart-settings-prev">\n                    <button type="button" class="ag-chart-settings-prev-button"></button>\n                </div>\n                <div ref="eCardSelector" class="ag-chart-settings-card-selector"></div>\n                <div ref="eNextBtn" class="ag-chart-settings-next">\n                    <button type="button" class="ag-chart-settings-next-button"></button>\n                </div>\n            </div>\n        </div>',__decorate$N([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("resizeObserverService")],r.prototype,"resizeObserverService",void 0),__decorate$N([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eMiniChartsContainer")],r.prototype,"eMiniChartsContainer",void 0),__decorate$N([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eNavBar")],r.prototype,"eNavBar",void 0),__decorate$N([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eCardSelector")],r.prototype,"eCardSelector",void 0),__decorate$N([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("ePrevBtn")],r.prototype,"ePrevBtn",void 0),__decorate$N([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eNextBtn")],r.prototype,"eNextBtn",void 0),__decorate$N([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],r.prototype,"postConstruct",null),r}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$1c=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__decorate$M=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},TabbedChartMenu=function(l){function r(e){var i=l.call(this)||this;i.tabs=[];var s=e.panels,d=e.chartOptionsService;return i.chartController=e.controller,i.chartOptionsService=d,i.panels=s,i}return __extends$1c(r,l),r.prototype.init=function(){var e=this;this.panels.forEach(function(i){var a=i.replace("chart","").toLowerCase(),s=e.createTab(i,a,e.getPanelClass(a)),d=s.comp;e.tabs.push(s.tab),e.addDestroyFunc(function(){return e.destroyBean(d)})}),this.tabbedLayout=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.WD6({items:this.tabs,cssClass:"ag-chart-tabbed-menu",keepScrollPosition:!0}),this.getContext().createBean(this.tabbedLayout)},r.prototype.createTab=function(e,i,a){var s=document.createElement("div");s.classList.add("ag-chart-tab","ag-chart-"+i);var d=new a(this.chartController,this.chartOptionsService);this.getContext().createBean(d),s.appendChild(d.getGui());var h=document.createElement("div"),v=this.chartTranslationService.translate(i);return h.innerText=v,{comp:d,tab:{title:h,titleLabel:v,bodyPromise:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S.resolve(s),getScrollableContainer:function(){return s.querySelector(".ag-scrollable-container")||s},name:e}}},r.prototype.showTab=function(e){this.tabbedLayout.showItem(this.tabs[e])},r.prototype.getGui=function(){return this.tabbedLayout&&this.tabbedLayout.getGui()},r.prototype.destroy=function(){this.parentComponent&&this.parentComponent.isAlive()&&this.destroyBean(this.parentComponent),l.prototype.destroy.call(this)},r.prototype.getPanelClass=function(e){switch(e){case r.TAB_DATA:return ChartDataPanel;case r.TAB_FORMAT:return FormatPanel;default:return ChartSettingsPanel}},r.TAB_DATA="data",r.TAB_FORMAT="format",__decorate$M([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],r.prototype,"chartTranslationService",void 0),__decorate$M([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],r.prototype,"init",null),r}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$1b=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__decorate$L=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},__read$a=function(l,r){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var a,d,i=e.call(l),s=[];try{for(;(void 0===r||r-- >0)&&!(a=i.next()).done;)s.push(a.value)}catch(h){d={error:h}}finally{try{a&&!a.done&&(e=i.return)&&e.call(i)}finally{if(d)throw d.error}}return s},ChartMenu=function(l){function r(e,i,a,s){var d=l.call(this,r.TEMPLATE)||this;return d.eChartContainer=e,d.eMenuPanelContainer=i,d.chartController=a,d.chartOptionsService=s,d.buttons={chartSettings:["menu",function(){return d.showMenu("chartSettings")}],chartData:["menu",function(){return d.showMenu("chartData")}],chartFormat:["menu",function(){return d.showMenu("chartFormat")}],chartLink:["linked",function(h){return d.toggleDetached(h)}],chartUnlink:["unlinked",function(h){return d.toggleDetached(h)}],chartDownload:["save",function(){return d.saveChart()}]},d.tabs=[],d.menuVisible=!1,d}return __extends$1b(r,l),r.prototype.postConstruct=function(){this.createButtons(),this.refreshMenuClasses()},r.prototype.isVisible=function(){return this.menuVisible},r.prototype.getToolbarOptions=function(){var e=this,i=["chartSettings","chartData","chartFormat",this.chartController.isChartLinked()?"chartLink":"chartUnlink","chartDownload"],a=this.gridOptionsWrapper.getChartToolbarItemsFunc();a&&(i=a({defaultItems:i}).filter(function(h){return!!e.buttons[h]||(console.warn("AG Grid: '"+h+" is not a valid Chart Toolbar Option"),!1)})),this.chartController.isPivotChart()&&(i=i.filter(function(h){return"chartData"!==h}));var d=["chartUnlink","chartLink","chartDownload"];return this.tabs=i.filter(function(h){return-1===d.indexOf(h)}),i.filter(function(h){return-1!==d.indexOf(h)||e.tabs.length&&h===e.tabs[0]})},r.prototype.toggleDetached=function(e){var i=e.target,a=i.classList.contains("ag-icon-linked");i.classList.toggle("ag-icon-linked",!a),i.classList.toggle("ag-icon-unlinked",a);var d=this.chartTranslationService.translate(a?"chartUnlinkToolbarTooltip":"chartLinkToolbarTooltip");d&&(i.title=d),this.chartController.detachChartRange()},r.prototype.createButtons=function(){var e=this,i=this.getToolbarOptions(),a=this.getGui();i.forEach(function(s){var h=__read$a(e.buttons[s],2),_=h[1],y=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan(h[0],e.gridOptionsWrapper,void 0,!0);y.classList.add("ag-chart-menu-icon");var m=e.chartTranslationService.translate(s+"ToolbarTooltip");m&&(y.title=m),e.addManagedListener(y,"click",_),a.appendChild(y)})},r.prototype.saveChart=function(){this.dispatchEvent({type:r.EVENT_DOWNLOAD_CHART})},r.prototype.createMenuPanel=function(e){var i=this,a=this.gridOptionsWrapper.chartMenuPanelWidth(),s=this.menuPanel=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wSp({minWidth:a,width:a,height:"100%",closable:!0,hideTitleBar:!0,cssIdentifier:"chart-menu"}));return s.setParentComponent(this),this.eMenuPanelContainer.appendChild(s.getGui()),this.tabbedMenu=this.createBean(new TabbedChartMenu({controller:this.chartController,type:this.chartController.getChartType(),panels:this.tabs,chartOptionsService:this.chartOptionsService})),this.addManagedListener(s,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2.EVENT_DESTROYED,function(){return i.destroyBean(i.tabbedMenu)}),new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S(function(d){window.setTimeout(function(){s.setBodyComponent(i.tabbedMenu),i.tabbedMenu.showTab(e),i.addManagedListener(i.eChartContainer,"click",function(h){i.getGui().contains(h.target)||i.menuVisible&&i.hideMenu()}),d(s)},100)})},r.prototype.showContainer=function(){!this.menuPanel||(this.menuVisible=!0,this.showParent(this.menuPanel.getWidth()),this.refreshMenuClasses())},r.prototype.showMenu=function(e){var i=this.tabs.indexOf(e);this.menuPanel?this.showContainer():this.createMenuPanel(i).then(this.showContainer.bind(this))},r.prototype.hideMenu=function(){var e=this;this.hideParent(),window.setTimeout(function(){e.menuVisible=!1,e.refreshMenuClasses()},500)},r.prototype.refreshMenuClasses=function(){this.eChartContainer.classList.toggle("ag-chart-menu-visible",this.menuVisible),this.eChartContainer.classList.toggle("ag-chart-menu-hidden",!this.menuVisible)},r.prototype.showParent=function(e){this.eMenuPanelContainer.style.minWidth=e+"px"},r.prototype.hideParent=function(){this.eMenuPanelContainer.style.minWidth="0"},r.prototype.destroy=function(){l.prototype.destroy.call(this),this.menuPanel&&this.menuPanel.isAlive()&&this.destroyBean(this.menuPanel)},r.EVENT_DOWNLOAD_CHART="downloadChart",r.TEMPLATE='<div class="ag-chart-menu"></div>',__decorate$L([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],r.prototype,"chartTranslationService",void 0),__decorate$L([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],r.prototype,"postConstruct",null),r}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$1a=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__assign$i=function(){return __assign$i=Object.assign||function(l){for(var r,e=1,i=arguments.length;e<i;e++)for(var a in r=arguments[e])Object.prototype.hasOwnProperty.call(r,a)&&(l[a]=r[a]);return l},__assign$i.apply(this,arguments)},__decorate$K=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},TitleEdit=function(l){function r(e){var i=l.call(this,r.TEMPLATE)||this;return i.chartMenu=e,i}return __extends$1a(r,l),r.prototype.init=function(){var e=this;this.addManagedListener(this.getGui(),"keypress",function(i){"Enter"===i.key&&e.endEditing()}),this.addManagedListener(this.getGui(),"blur",this.endEditing.bind(this))},r.prototype.refreshTitle=function(e,i){var a=this;this.chartController=e,this.chartOptionsService=i;var s=this.chartController.getChartProxy();if(s){for(var d=0;d++;d<this.destroyableChartListeners.length)this.destroyableChartListeners[d]();this.destroyableChartListeners=[]}var h=s.getChart(),v=h.scene.canvas.element,_=this.addManagedListener(v,"dblclick",function(E){var w=h.title;if(w&&w.node.containsPoint(E.offsetX,E.offsetY)){var S=w.node.computeBBox(),D=w.node.inverseTransformPoint(S.x,S.y);a.startEditing(__assign$i(__assign$i({},S),D))}}),y=!1,m=this.addManagedListener(v,"mousemove",function(E){var w=h.title,S=!!(w&&w.enabled&&w.node.containsPoint(E.offsetX,E.offsetY));y!==S&&(v.style.cursor=S?"pointer":""),y=S});this.destroyableChartListeners=[_,m]},r.prototype.startEditing=function(e){if(!this.chartMenu||!this.chartMenu.isVisible()){var a=this.chartController.getChartProxy().getChart().width,s=Math.max(Math.min(e.width+20,a),300),d=this.getGui();d.classList.add("currently-editing");var h=d.style;h.fontFamily=this.chartOptionsService.getChartOption("title.fontFamily"),h.fontWeight=this.chartOptionsService.getChartOption("title.fontWeight"),h.fontStyle=this.chartOptionsService.getChartOption("title.fontStyle"),h.fontSize=this.chartOptionsService.getChartOption("title.fontSize")+"px",h.color=this.chartOptionsService.getChartOption("title.color");var v=this.chartOptionsService.getChartOption("title.text"),_=v===this.chartTranslationService.translate("titlePlaceholder");d.value=_?"":v;var y=d.getBoundingClientRect();h.left=Math.round(e.x+e.width/2-s/2)+"px",h.top=Math.round(e.y+e.height/2-y.height/2)+"px",h.width=Math.round(s)+"px",d.focus()}},r.prototype.endEditing=function(){var e=this.getGui().value;this.chartOptionsService.setChartOption("title.text",e),this.eventService.dispatchEvent({type:"chartTitleEdit"}),this.getGui().classList.remove("currently-editing")},r.TEMPLATE='<input\n            class="ag-chart-title-edit"\n            style="padding:0; border:none; border-radius: 0; min-height: 0; text-align: center;" />\n        ',__decorate$K([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],r.prototype,"chartTranslationService",void 0),__decorate$K([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],r.prototype,"init",null),r}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2);function emptyTarget(l){return Array.isArray(l)?[]:{}}function cloneUnlessOtherwiseSpecified(l,r){return!1!==r.clone&&r.isMergeableObject(l)?deepMerge(emptyTarget(l),l,r):l}function defaultArrayMerge(l,r,e){return l.concat(r).map(function(i){return cloneUnlessOtherwiseSpecified(i,e)})}function getMergeFunction(l,r){if(!r.customMerge)return deepMerge;var e=r.customMerge(l);return"function"==typeof e?e:deepMerge}function getEnumerableOwnPropertySymbols(l){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(l).filter(function(r){return l.propertyIsEnumerable(r)}):[]}function getKeys(l){return Object.keys(l).concat(getEnumerableOwnPropertySymbols(l))}function propertyIsOnObject(l,r){try{return r in l}catch{return!1}}function propertyIsUnsafe(l,r){return propertyIsOnObject(l,r)&&!(Object.hasOwnProperty.call(l,r)&&Object.propertyIsEnumerable.call(l,r))}function mergeObject(l,r,e){var i={};return e.isMergeableObject(l)&&getKeys(l).forEach(function(a){i[a]=cloneUnlessOtherwiseSpecified(l[a],e)}),getKeys(r).forEach(function(a){propertyIsUnsafe(l,a)||(i[a]=propertyIsOnObject(l,a)&&e.isMergeableObject(r[a])?getMergeFunction(a,e)(l[a],r[a],e):cloneUnlessOtherwiseSpecified(r[a],e))}),i}function defaultIsMergeableObject(l){return isNonNullObject(l)&&!isSpecial(l)}function isNonNullObject(l){return!!l&&"object"==typeof l}function isSpecial(l){var r=Object.prototype.toString.call(l);return"[object RegExp]"===r||"[object Date]"===r}function deepMerge(l,r,e){(e=e||{}).arrayMerge=e.arrayMerge||defaultArrayMerge,e.isMergeableObject=e.isMergeableObject||defaultIsMergeableObject,e.cloneUnlessOtherwiseSpecified=cloneUnlessOtherwiseSpecified;var i=Array.isArray(r);return i===Array.isArray(l)?i?e.arrayMerge(l,r,e):mergeObject(l,r,e):cloneUnlessOtherwiseSpecified(r,e)}var __assign$h=function(){return __assign$h=Object.assign||function(l){for(var r,e=1,i=arguments.length;e<i;e++)for(var a in r=arguments[e])Object.prototype.hasOwnProperty.call(r,a)&&(l[a]=r[a]);return l},__assign$h.apply(this,arguments)},ChartProxy=function(){function l(r){if(this.chartProxyParams=r,this.chartType=r.chartType,this.crossFiltering=r.crossFiltering,this.crossFilterCallback=r.crossFilterCallback,this.standaloneChartType=getSeriesType(this.chartType),this.chartProxyParams.chartOptionsToRestore){this.chartOptions=this.chartProxyParams.chartOptionsToRestore,this.chartPalette=this.chartProxyParams.chartPaletteToRestore;var e={overrides:this.chartOptions,palette:this.chartPalette};this.chartTheme=getIntegratedChartTheme(__assign$h({baseTheme:this.getSelectedTheme()},e))}else this.chartTheme=this.createChartTheme(),this.chartOptions=this.convertConfigToOverrides(this.chartTheme.config),this.chartPalette=this.chartTheme.palette}return l.prototype.recreateChart=function(){var r=this;this.chart&&this.destroyChart(),this.chart=this.createChart(),this.crossFiltering&&this.chart.addEventListener("click",function(i){return r.crossFilterCallback(i,!0)})},l.prototype.getChart=function(){return this.chart},l.prototype.createChartTheme=function(){var e=this.getSelectedTheme(),i=this.isStockTheme(e),a=this.chartProxyParams.getGridOptionsChartThemeOverrides(),s=this.chartProxyParams.apiChartThemeOverrides;if(a||s){var d={overrides:l.mergeThemeOverrides(a,s)};return getIntegratedChartTheme(i?__assign$h({baseTheme:e},d):deepMerge(this.lookupCustomChartTheme(e),d))}return getIntegratedChartTheme(i?e:this.lookupCustomChartTheme(e))},l.prototype.isStockTheme=function(r){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(Object.keys(themes),r)},l.prototype.getSelectedTheme=function(){var r=this.chartProxyParams.getChartThemeName(),e=this.chartProxyParams.getChartThemes();return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(e,r)||(r=e[0]),r},l.prototype.lookupCustomChartTheme=function(r){var e=this.chartProxyParams.customChartThemes,i=e&&e[r];return i||console.warn("AG Grid: no stock theme exists with the name '"+r+"' and no custom chart theme with that name was supplied to 'customChartThemes'"),i},l.mergeThemeOverrides=function(r,e){return r?e?deepMerge(r,e):r:e},l.prototype.downloadChart=function(){var r=this.chart;r.scene.download(r.title?r.title.text:"chart")},l.prototype.getChartImageDataURL=function(r){return this.chart.scene.getDataURL(r)},l.prototype.getChartOptions=function(){return this.chartOptions},l.prototype.getChartPalette=function(){return this.chartPalette},l.prototype.transformData=function(r,e,i){return i?r.map(function(a,s){var d=a[e],h=d&&d.toString?d.toString():"",v=__assign$h({},a);return v[e]={id:s,value:d,toString:function(){return h}},v}):r},l.prototype.getCommonChartOptions=function(){var r=this,e=function(i){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.get(r.chartOptions,r.standaloneChartType+"."+i,void 0)};return{padding:e("padding"),background:e("background"),title:e("title"),subtitle:e("subtitle"),tooltip:e("tooltip"),legend:e("legend"),navigator:e("navigator")}},l.prototype.convertConfigToOverrides=function(r){var e=["columnLineCombo","areaColumnCombo","customCombo"].includes(this.chartType),a={};return(e?["line","area","column","cartesian"]:[this.standaloneChartType]).forEach(function(s){var d=deepMerge({},r[s]);d.series=d.series[s],"scatter"===s&&(d.paired=!0),a[s]=d}),a},l.prototype.destroy=function(){this.destroyChart()},l.prototype.destroyChart=function(){this.chart&&(this.chart.destroy(),this.chart=void 0)},l}(),__extends$19=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__assign$g=function(){return __assign$g=Object.assign||function(l){for(var r,e=1,i=arguments.length;e<i;e++)for(var a in r=arguments[e])Object.prototype.hasOwnProperty.call(r,a)&&(l[a]=r[a]);return l},__assign$g.apply(this,arguments)},CartesianChartProxy=function(l){function r(e){var i=l.call(this,e)||this;return i.supportsAxesUpdates=!0,i.axisTypeToClassMap={number:NumberAxis,category:CategoryAxis,groupedCategory:GroupedCategoryAxis,time:TimeAxis},i.crossFilteringAllPoints=new Set,i.crossFilteringSelectedPoints=[],i}return __extends$19(r,l),r.prototype.createChart=function(){return AgChart.create({container:this.chartProxyParams.parentElement,theme:this.chartTheme})},r.prototype.update=function(e){this.supportsAxesUpdates&&this.updateAxes(e);var i=__assign$g(__assign$g({},this.getCommonChartOptions()),{data:this.getData(e),axes:this.getAxes(e),series:this.getSeries(e)});this.crossFiltering&&(i=this.addCrossFilterOptions(i)),AgChart.update(this.chart,i)},r.prototype.getDataTransformedData=function(e){return this.transformData(e.data,e.category.id,"category"===this.xAxisType)},r.prototype.addCrossFilterOptions=function(e){var i=this,a=this.extractSeriesOverrides();return e.tooltip=__assign$g(__assign$g({},e.tooltip),{delay:500}),e.legend=__assign$g(__assign$g(__assign$g({},e.legend),a.legend),{listeners:{legendItemClick:function(s){i.chart.series.forEach(function(d){d.toggleSeriesItem(s.itemId,s.enabled),d.toggleSeriesItem(s.itemId+"-filtered-out",s.enabled)})}}}),e},r.prototype.extractSeriesOverrides=function(e){var i=this.chartOptions[e||this.standaloneChartType].series;return delete i.yKeys,delete i.yNames,i},r.prototype.updateAxes=function(e){if(e.grouping)this.axisTypeToClassMap[this.xAxisType]!==GroupedCategoryAxis&&(this.xAxisType="groupedCategory",this.recreateChart());else{var i=r.isTimeAxis(e)?"time":"category";i!==this.xAxisType&&(this.xAxisType=i,this.recreateChart())}},r.prototype.getAxesOptions=function(e){return void 0===e&&(e=this.standaloneChartType),this.chartOptions[e].axes},r.isTimeAxis=function(e){if(e.category&&e.category.chartDataType)return"time"===e.category.chartDataType;var i=e.data[0];return(i&&i[e.category.id])instanceof Date},r.prototype.crossFilteringReset=function(){this.crossFilteringSelectedPoints=[],this.crossFilteringAllPoints.clear()},r.prototype.crossFilteringPointSelected=function(e){return 0==this.crossFilteringSelectedPoints.length||this.crossFilteringSelectedPoints.includes(e)},r.prototype.crossFilteringDeselectedPoints=function(){return this.crossFilteringSelectedPoints.length>0&&this.crossFilteringAllPoints.size!==this.crossFilteringSelectedPoints.length},r.prototype.extractLineAreaCrossFilterSeries=function(e,i){var a=this;return e.map(function(d){var h=a.extractSeriesOverrides();return d.yKey=function(d){return"area"===a.standaloneChartType?i.getCrossFilteringContext().lastSelectedChartId===i.chartId?d+"-total":d:d+"-total"}(d.yKey),d.listeners=__assign$g(__assign$g({},h.listeners),{nodeClick:function(v){a.crossFilteringAddSelectedPoint(v.event.metaKey||v.event.ctrlKey,v.datum[d.xKey]),a.crossFilterCallback(v)}}),d.marker={formatter:function(v){return{fill:v.highlighted?"yellow":v.fill,size:v.highlighted?14:a.crossFilteringPointSelected(v.datum[i.category.id])?8:0}}},"area"===a.standaloneChartType&&(d.fillOpacity=a.crossFilteringDeselectedPoints()?.3:1),"line"===a.standaloneChartType&&(d.strokeOpacity=a.crossFilteringDeselectedPoints()?.3:1),d})},r.prototype.getLineAreaCrossFilterData=function(e){var i=this;this.crossFilteringAllPoints.clear();var a=e.fields[0].colId,s=a+"-filtered-out",d=e.getCrossFilteringContext().lastSelectedChartId;return e.data.map(function(h){var v=h[e.category.id];i.crossFilteringAllPoints.add(v);var _=i.crossFilteringPointSelected(v);return"area"===i.standaloneChartType&&d===e.chartId&&(h[a+"-total"]=_?h[a]:h[a]+h[s]),"line"===i.standaloneChartType&&(h[a+"-total"]=_?h[a]:h[a]+h[s]),h})},r.prototype.crossFilteringAddSelectedPoint=function(e,i){e?this.crossFilteringSelectedPoints.push(i):this.crossFilteringSelectedPoints=[i]},r}(ChartProxy);function hexToRGBA(l,r){var e=parseInt(l.slice(1,3),16),i=parseInt(l.slice(3,5),16),a=parseInt(l.slice(5,7),16);return r?"rgba("+e+", "+i+", "+a+", "+r+")":"rgba("+e+", "+i+", "+a+")"}function changeOpacity(l,r){return l.map(function(e){var i=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Ilk.fromString(e);return new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Ilk(i.r,i.g,i.b,r).toHexString()})}var __extends$18=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__assign$f=function(){return __assign$f=Object.assign||function(l){for(var r,e=1,i=arguments.length;e<i;e++)for(var a in r=arguments[e])Object.prototype.hasOwnProperty.call(r,a)&&(l[a]=r[a]);return l},__assign$f.apply(this,arguments)},BarChartProxy=function(l){function r(e){var i=l.call(this,e)||this;return i.xAxisType=e.grouping?"groupedCategory":"category",i.yAxisType="number",i.recreateChart(),i}return __extends$18(r,l),r.prototype.getData=function(e){return this.getDataTransformedData(e)},r.prototype.getAxes=function(){var e="bar"===this.standaloneChartType,i=this.getAxesOptions(),a=[__assign$f(__assign$f({},deepMerge(i[this.xAxisType],i[this.xAxisType].bottom)),{type:this.xAxisType,position:e?ChartAxisPosition.Left:ChartAxisPosition.Bottom}),__assign$f(__assign$f({},deepMerge(i[this.yAxisType],i[this.yAxisType].left)),{type:this.yAxisType,position:e?ChartAxisPosition.Bottom:ChartAxisPosition.Left})];if(this.isNormalised()){var s=a[1];s.label=__assign$f(__assign$f({},s.label),{formatter:function(d){return Math.round(d.value)+"%"}})}return a},r.prototype.getSeries=function(e){var i=this,s=!this.crossFiltering&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(["groupedColumn","groupedBar"],this.chartType),d=e.fields.map(function(h){return __assign$f(__assign$f({},i.extractSeriesOverrides()),{type:i.standaloneChartType,grouped:s,normalizedTo:i.isNormalised()?100:void 0,xKey:e.category.id,xName:e.category.name,yKey:h.colId,yName:h.displayName})});return this.crossFiltering?this.extractCrossFilterSeries(d):d},r.prototype.extractCrossFilterSeries=function(e){for(var a=this.chartTheme.palette,d=function(y){var m=y.yKey+"-filtered-out";return __assign$f(__assign$f({},deepMerge({},y)),{yKey:m,fill:hexToRGBA(y.fill,"0.3"),stroke:hexToRGBA(y.stroke,"0.3"),hideInLegend:[m]})},h=[],v=0;v<e.length;v++){var _=(m=v,__assign$f(__assign$f({},e[v]),{highlightStyle:{item:{fill:void 0}},fill:a.fills[m],stroke:a.strokes[m],listeners:__assign$f(__assign$f({},this.extractSeriesOverrides().listeners),{nodeClick:this.crossFilterCallback})}));h.push(_),h.push(d(_))}var m;return h},r.prototype.isNormalised=function(){return!this.crossFiltering&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(["normalizedColumn","normalizedBar"],this.chartType)},r}(CartesianChartProxy),__extends$17=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__assign$e=function(){return __assign$e=Object.assign||function(l){for(var r,e=1,i=arguments.length;e<i;e++)for(var a in r=arguments[e])Object.prototype.hasOwnProperty.call(r,a)&&(l[a]=r[a]);return l},__assign$e.apply(this,arguments)},AreaChartProxy=function(l){function r(e){var i=l.call(this,e)||this;return i.xAxisType=e.grouping?"groupedCategory":"category",i.yAxisType="number",i.recreateChart(),i}return __extends$17(r,l),r.prototype.getData=function(e){return this.crossFiltering?this.getLineAreaCrossFilterData(e):this.getDataTransformedData(e)},r.prototype.getAxes=function(){var e=this.getAxesOptions();return[__assign$e(__assign$e({},deepMerge(e[this.xAxisType],e[this.xAxisType].bottom)),{type:this.xAxisType,position:ChartAxisPosition.Bottom}),__assign$e(__assign$e({},deepMerge(e[this.yAxisType],e[this.yAxisType].left)),{type:this.yAxisType,position:ChartAxisPosition.Left})]},r.prototype.getSeries=function(e){var i=this,a=e.fields.map(function(s){return __assign$e(__assign$e({},i.extractSeriesOverrides()),{type:i.standaloneChartType,xKey:e.category.id,xName:e.category.name,yKey:s.colId,yName:s.displayName,normalizedTo:"normalizedArea"===i.chartType?100:void 0,stacked:["normalizedArea","stackedArea"].includes(i.chartType)})});return this.crossFiltering?this.extractLineAreaCrossFilterSeries(a,e):a},r}(CartesianChartProxy),__extends$16=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__assign$d=function(){return __assign$d=Object.assign||function(l){for(var r,e=1,i=arguments.length;e<i;e++)for(var a in r=arguments[e])Object.prototype.hasOwnProperty.call(r,a)&&(l[a]=r[a]);return l},__assign$d.apply(this,arguments)},LineChartProxy=function(l){function r(e){var i=l.call(this,e)||this;return i.xAxisType=e.grouping?"groupedCategory":"category",i.yAxisType="number",i.recreateChart(),i}return __extends$16(r,l),r.prototype.getData=function(e){return this.crossFiltering?this.getLineAreaCrossFilterData(e):this.getDataTransformedData(e)},r.prototype.getAxes=function(){var e=this.getAxesOptions();return[__assign$d(__assign$d({},deepMerge(e[this.xAxisType],e[this.xAxisType].bottom)),{type:this.xAxisType,position:ChartAxisPosition.Bottom}),__assign$d(__assign$d({},deepMerge(e[this.yAxisType],e[this.yAxisType].left)),{type:this.yAxisType,position:ChartAxisPosition.Left})]},r.prototype.getSeries=function(e){var i=this,a=e.fields.map(function(s){return __assign$d(__assign$d({},i.extractSeriesOverrides()),{type:i.standaloneChartType,xKey:e.category.id,xName:e.category.name,yKey:s.colId,yName:s.displayName})});return this.crossFiltering?this.extractLineAreaCrossFilterSeries(a,e):a},r}(CartesianChartProxy),__extends$15=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__assign$c=function(){return __assign$c=Object.assign||function(l){for(var r,e=1,i=arguments.length;e<i;e++)for(var a in r=arguments[e])Object.prototype.hasOwnProperty.call(r,a)&&(l[a]=r[a]);return l},__assign$c.apply(this,arguments)},PieChartProxy=function(l){function r(e){var i=l.call(this,e)||this;return i.recreateChart(),i}return __extends$15(r,l),r.prototype.createChart=function(){return AgChart.create({type:"pie",container:this.chartProxyParams.parentElement,theme:this.chartTheme})},r.prototype.update=function(e){var i=e.data,a=e.category,s=__assign$c(__assign$c({},this.getCommonChartOptions()),{data:this.crossFiltering?this.getCrossFilterData(e):this.transformData(i,a.id),series:this.getSeries(e)});this.crossFiltering&&(s=this.getCrossFilterChartOptions(s)),AgChart.update(this.chart,s)},r.prototype.getSeries=function(e){var i=this,a=e.fields.length,s={currentOffset:0,offsetAmount:a>1?20:40},d=this.getFields(e).map(function(h){var v=i.extractSeriesOverrides(),_=__assign$c(__assign$c({},v),{type:i.standaloneChartType,angleKey:h.colId,angleName:h.displayName,labelKey:e.category.id,labelName:e.category.name});if("doughnut"===i.chartType){var y=r.calculateOffsets(s),m=y.outerRadiusOffset,E=y.innerRadiusOffset;return __assign$c(__assign$c({},_),{outerRadiusOffset:m,innerRadiusOffset:E,title:__assign$c(__assign$c({},v.title),{text:v.title.text||h.displayName,showInLegend:a>1}),callout:__assign$c(__assign$c({},v.callout),{colors:i.chartTheme.palette.strokes})})}return _});return this.crossFiltering?this.extractCrossFilterSeries(d):d},r.prototype.getCrossFilterChartOptions=function(e){var i=this,a=this.extractSeriesOverrides();return __assign$c(__assign$c({},e),{tooltip:__assign$c(__assign$c({},a.tooltip),{delay:500}),legend:__assign$c(__assign$c({},a.legend),{listeners:{legendItemClick:function(s){i.chart.series.forEach(function(d){return d.toggleSeriesItem(s.itemId,s.enabled)})}}})})},r.prototype.getCrossFilterData=function(e){var i=e.fields[0].colId,a=i+"-filtered-out";return e.data.map(function(s){var d=s[i]+s[a];return s[i+"-total"]=d,s[a]=1,s[i]=s[i]/d,s})},r.prototype.extractCrossFilterSeries=function(e){var m,a=this.chartTheme.palette,s=this.extractSeriesOverrides(),v=e[0],_=v.angleKey,y=__assign$c(__assign$c({},m=v),{label:{enabled:!1},highlightStyle:{item:{fill:void 0}},radiusKey:m.angleKey,angleKey:m.angleKey+"-total",radiusMin:0,radiusMax:1,listeners:__assign$c(__assign$c({},s.listeners),{nodeClick:this.crossFilterCallback}),tooltip:__assign$c(__assign$c({},s.tooltip),{renderer:this.getCrossFilterTooltipRenderer(""+m.angleName)})});return[y,function(m,E){var w,S,D;return __assign$c(__assign$c({},deepMerge({},y)),{radiusKey:E+"-filtered-out",label:s.label,callout:__assign$c(__assign$c({},s.callout),{colors:(w=s.callout.colors,w??a.strokes)}),fills:changeOpacity((S=m.fills,S??a.fills),.3),strokes:changeOpacity((D=m.strokes,D??a.strokes),.3),showInLegend:!1})}(v,_)]},r.calculateOffsets=function(e){var i=e.currentOffset;e.currentOffset-=e.offsetAmount;var a=e.currentOffset;return e.currentOffset-=e.offsetAmount,{outerRadiusOffset:i,innerRadiusOffset:a}},r.prototype.getFields=function(e){return"pie"===this.chartType?e.fields.slice(0,1):e.fields},r.prototype.getCrossFilterTooltipRenderer=function(e){return function(i){return{title:e,content:i.datum[i.labelKey]+": "+i.angleValue*i.datum[i.radiusKey]}}},r.prototype.extractSeriesOverrides=function(){return this.chartOptions[this.standaloneChartType].series},r.prototype.crossFilteringReset=function(){},r}(ChartProxy),__extends$14=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__assign$b=function(){return __assign$b=Object.assign||function(l){for(var r,e=1,i=arguments.length;e<i;e++)for(var a in r=arguments[e])Object.prototype.hasOwnProperty.call(r,a)&&(l[a]=r[a]);return l},__assign$b.apply(this,arguments)},__values$3=function(l){var r="function"==typeof Symbol&&Symbol.iterator,e=r&&l[r],i=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&i>=l.length&&(l=void 0),{value:l&&l[i++],done:!l}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},__read$9=function(l,r){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var a,d,i=e.call(l),s=[];try{for(;(void 0===r||r-- >0)&&!(a=i.next()).done;)s.push(a.value)}catch(h){d={error:h}}finally{try{a&&!a.done&&(e=i.return)&&e.call(i)}finally{if(d)throw d.error}}return s},__spread$3=function(){for(var l=[],r=0;r<arguments.length;r++)l=l.concat(__read$9(arguments[r]));return l},ScatterChartProxy=function(l){function r(e){var i=l.call(this,e)||this;return i.supportsAxesUpdates=!1,i.xAxisType="number",i.yAxisType="number",i.recreateChart(),i}return __extends$14(r,l),r.prototype.getData=function(e){return this.getDataTransformedData(e)},r.prototype.getAxes=function(){var e=this.getAxesOptions();return[__assign$b(__assign$b({},deepMerge(e[this.xAxisType],e[this.xAxisType].bottom)),{type:this.xAxisType,position:ChartAxisPosition.Bottom}),__assign$b(__assign$b({},deepMerge(e[this.yAxisType],e[this.yAxisType].left)),{type:this.yAxisType,position:ChartAxisPosition.Left})]},r.prototype.getSeries=function(e){var i=this,s=this.getSeriesDefinitions(e.fields,this.chartOptions[this.standaloneChartType].paired),d=e.category.id===ChartDataModel.DEFAULT_CATEGORY?void 0:e.category,h=s.map(function(v){return __assign$b(__assign$b({},i.extractSeriesOverrides()),{type:i.standaloneChartType,xKey:v.xField.colId,xName:v.xField.displayName,yKey:v.yField.colId,yName:v.yField.displayName,title:v.yField.displayName+" vs "+v.xField.displayName,sizeKey:v.sizeField?v.sizeField.colId:void 0,sizeName:v.sizeField?v.sizeField.displayName:void 0,labelKey:d?d.id:v.yField.colId,labelName:d?d.name:void 0})});return this.crossFiltering?this.extractCrossFilterSeries(h,e):h},r.prototype.extractCrossFilterSeries=function(e,i){var a=this,s=i.data,d=this.chartTheme.palette,h=function(E){return E+"-filtered-out"},m=e.map(function(E,w){var D=d.fills[w],T=d.strokes[w],b=function(E,w){var S,D,b=[1/0,-1/0];if(null!=w)try{for(var M=__values$3(E),A=M.next();!A.done;A=M.next()){var L=A.value,N=L[w]??L[h(w)];N<b[0]&&(b[0]=N),N>b[1]&&(b[1]=N)}}catch(G){S={error:G}}finally{try{A&&!A.done&&(D=M.return)&&D.call(M)}finally{if(S)throw S.error}}if(b[0]<=b[1])return b}(s,E.sizeKey),M=__assign$b(__assign$b({},E.marker),{fill:D,stroke:T,domain:b});return __assign$b(__assign$b({},E),{marker:M,highlightStyle:{item:{fill:"yellow"}},listeners:__assign$b(__assign$b({},E.listeners),{nodeClick:a.crossFilterCallback})})});return __spread$3(m,m.map(function(E){var w=E.sizeKey,S=E.yKey,D=E.xKey;return null!=w&&(w=h(w)),__assign$b(__assign$b({},E),{yKey:h(S),xKey:h(D),marker:__assign$b(__assign$b({},E.marker),{fillOpacity:.3,strokeOpacity:.3}),sizeKey:w,showInLegend:!1,listeners:__assign$b(__assign$b({},E.listeners),{nodeClick:function(T){var b,M=T.datum[T.series.xKey],A=__assign$b(__assign$b({},T),{xKey:D,datum:__assign$b(__assign$b({},T.datum),(b={},b[D]=M,b))});a.crossFilterCallback(A)}})})}))},r.prototype.getSeriesDefinitions=function(e,i){if(e.length<2)return[];var a="bubble"===this.chartType;if(i)return a?e.map(function(d,h){return h%3==0?{xField:d,yField:e[h+1],sizeField:e[h+2]}:null}).filter(function(d){return d&&d.yField&&d.sizeField}):e.map(function(d,h){return h%2==0?{xField:d,yField:e[h+1]}:null}).filter(function(d){return d&&d.yField});var s=e[0];return a?e.map(function(d,h){return h%2==1?{xField:s,yField:d,sizeField:e[h+1]}:null}).filter(function(d){return d&&d.sizeField}):e.filter(function(d,h){return h>0}).map(function(d){return{xField:s,yField:d}})},r}(CartesianChartProxy),__extends$13=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__assign$a=function(){return __assign$a=Object.assign||function(l){for(var r,e=1,i=arguments.length;e<i;e++)for(var a in r=arguments[e])Object.prototype.hasOwnProperty.call(r,a)&&(l[a]=r[a]);return l},__assign$a.apply(this,arguments)},HistogramChartProxy=function(l){function r(e){var i=l.call(this,e)||this;return i.supportsAxesUpdates=!1,i.xAxisType="number",i.yAxisType="number",i.recreateChart(),i}return __extends$13(r,l),r.prototype.getData=function(e){return this.getDataTransformedData(e)},r.prototype.getSeries=function(e){var i=e.fields[0];return[__assign$a(__assign$a({},this.extractSeriesOverrides()),{type:this.standaloneChartType,xKey:i.colId,xName:i.displayName,areaPlot:!1})]},r.prototype.getAxes=function(){var e=this.getAxesOptions();return[__assign$a(__assign$a({},deepMerge(e[this.xAxisType],e[this.xAxisType].bottom)),{type:this.xAxisType,position:ChartAxisPosition.Bottom}),__assign$a(__assign$a({},deepMerge(e[this.yAxisType],e[this.yAxisType].left)),{type:this.yAxisType,position:ChartAxisPosition.Left})]},r}(CartesianChartProxy),__extends$12=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__decorate$J=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},ChartOptionsService=function(l){function r(e){var i=l.call(this)||this;return i.chartController=e,i}return __extends$12(r,l),r.prototype.getChartOption=function(e){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.get(this.getChart(),e,void 0)},r.prototype.setChartOption=function(e,i){var a=this,s=this.chartController.getChartSeriesTypes();this.chartController.isComboChart()&&s.push("cartesian"),s.forEach(function(d){var h=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.get(a.getChartOptions(),""+d,void 0);ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.set(h,e,i)}),this.updateChart(),this.raiseChartOptionsChangedEvent()},r.prototype.getAxisProperty=function(e){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.get(this.getChart().axes[0],e,void 0)},r.prototype.setAxisProperty=function(e,i){var a=this;this.getChart().axes.forEach(function(d){a.updateAxisOptions(d,e,i)}),this.updateChart(),this.raiseChartOptionsChangedEvent()},r.prototype.getLabelRotation=function(e){var i=this.getAxis(e);return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.get(i,"label.rotation",void 0)},r.prototype.setLabelRotation=function(e,i){var a=this.getAxis(e);a&&(this.updateAxisOptions(a,"label.rotation",i),this.updateChart(),this.raiseChartOptionsChangedEvent())},r.prototype.getSeriesOption=function(e,i){var a=this.getChart().series.find(function(s){return r.isMatchingSeries(i,s)});return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.get(a,e,void 0)},r.prototype.setSeriesOption=function(e,i,a){var s=this.getChartOptions();s[a]||(s[a]={}),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.set(s[a].series,e,i),this.updateChart(),this.raiseChartOptionsChangedEvent()},r.prototype.getPairedMode=function(){var e=getSeriesType(this.getChartType());return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.get(this.getChartOptions(),e+".paired",void 0)},r.prototype.setPairedMode=function(e){var i=getSeriesType(this.getChartType()),a=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.get(this.getChartOptions(),""+i,void 0);ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.set(a,"paired",e)},r.prototype.getAxis=function(e){var i=this.getChart();if(i.axes&&!(i.axes.length<1))return"xAxis"===e?i.axes&&"x"===i.axes[0].direction?i.axes[0]:i.axes[1]:i.axes&&"y"===i.axes[1].direction?i.axes[1]:i.axes[0]},r.prototype.updateAxisOptions=function(e,i,a){var s=getSeriesType(this.getChartType()),d=this.getChartOptions()[s].axes;e instanceof NumberAxis?ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.set(d.number,i,a):e instanceof CategoryAxis?ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.set(d.category,i,a):e instanceof TimeAxis?ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.set(d.time,i,a):e instanceof GroupedCategoryAxis&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.set(d.groupedCategory,i,a)},r.prototype.getChartType=function(){return this.chartController.getChartType()},r.prototype.getChart=function(){return this.chartController.getChartProxy().getChart()},r.prototype.getChartOptions=function(){return this.chartController.getChartProxy().getChartOptions()},r.prototype.updateChart=function(){var e=this.chartController.getChartUpdateParams();this.chartController.getChartProxy().update(e)},r.prototype.raiseChartOptionsChangedEvent=function(){var e=this.chartController.getChartModel(),i=Object.freeze({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_CHART_OPTIONS_CHANGED,chartId:e.chartId,chartType:e.chartType,chartThemeName:e.chartThemeName,chartOptions:e.chartOptions});this.eventService.dispatchEvent(i)},r.isMatchingSeries=function(e,i){return"area"===e&&i instanceof AreaSeries||"bar"===e&&i instanceof BarSeries||"column"===e&&i instanceof BarSeries||"histogram"===e&&i instanceof HistogramSeries||"line"===e&&i instanceof LineSeries||"pie"===e&&i instanceof PieSeries||"scatter"===e&&i instanceof ScatterSeries},r.prototype.destroy=function(){l.prototype.destroy.call(this)},__decorate$J([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],r.prototype,"gridApi",void 0),__decorate$J([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnApi")],r.prototype,"columnApi",void 0),r}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$11=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__assign$9=function(){return __assign$9=Object.assign||function(l){for(var r,e=1,i=arguments.length;e<i;e++)for(var a in r=arguments[e])Object.prototype.hasOwnProperty.call(r,a)&&(l[a]=r[a]);return l},__assign$9.apply(this,arguments)},ComboChartProxy=function(l){function r(e){var i=l.call(this,e)||this;return i.xAxisType=e.grouping?"groupedCategory":"category",i.yAxisType="number",i.recreateChart(),i}return __extends$11(r,l),r.prototype.getData=function(e){return this.getDataTransformedData(e)},r.prototype.getAxes=function(e){var a,i=this;this.xAxisType=e.grouping?"groupedCategory":"category";var s=e?e.fields:[],d=new Map(s.map(function(D){return[D.colId,D]})),h=this.getYKeys(s,e.seriesChartTypes),v=h.primaryYKeys,_=h.secondaryYKeys,y=this.getAxisOptions(),E=y.leftOptions,w=y.rightOptions,S=[__assign$9(__assign$9({},y.bottomOptions),{type:this.xAxisType,position:ChartAxisPosition.Bottom,gridStyle:[{strokeWidth:0}]})];return v.length>0&&S.push(__assign$9(__assign$9({},E),{type:this.yAxisType,keys:v,position:ChartAxisPosition.Left,title:__assign$9({},deepMerge(E.title,{enabled:null===(a=E.title)||void 0===a?void 0:a.enabled,text:v.map(function(D){var T=d.get(D);return T?T.displayName:D}).join(" / ")}))})),_.length>0&&_.forEach(function(D,T){var b,M=d.get(D);if(M&&M.colId===D){var L=__assign$9(__assign$9({},w),{type:i.yAxisType,keys:[D],position:ChartAxisPosition.Right,title:__assign$9({},deepMerge(w.title,{enabled:null===(b=w.title)||void 0===b?void 0:b.enabled,text:M?M.displayName:D}))});!v.some(function(k){return!!d.get(k)})&&T===_.length-1||(L.gridStyle=[{strokeWidth:0}]),S.push(L)}}),S},r.prototype.getSeries=function(e){var i=this,s=e.category,d=e.seriesChartTypes;return e.fields.map(function(h){var v=d.find(function(y){return y.colId===h.colId});if(v){var _=v.chartType;return __assign$9(__assign$9({},i.extractSeriesOverrides(getSeriesType(v.chartType))),{type:getSeriesType(_),xKey:s.id,yKey:h.colId,yName:h.displayName,grouped:["groupedColumn","groupedBar","groupedArea"].includes(_),stacked:["stackedArea","stackedColumn"].includes(_)})}})},r.prototype.getAxisOptions=function(){var e=this.getAxesOptions("cartesian");return{bottomOptions:deepMerge(e[this.xAxisType],e[this.xAxisType].bottom),leftOptions:deepMerge(e[this.yAxisType],e[this.yAxisType].left),rightOptions:deepMerge(e[this.yAxisType],e[this.yAxisType].right)}},r.prototype.getYKeys=function(e,i){var a=[],s=[];return e.forEach(function(d){var h=d.colId,v=i.find(function(_){return _.colId===h});v&&(v.secondaryAxis?s.push(h):a.push(h))}),{primaryYKeys:a,secondaryYKeys:s}},r}(CartesianChartProxy),__extends$10=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__decorate$I=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},GridChartComp=function(l){function r(e){var i=l.call(this,r.TEMPLATE)||this;return i.params=e,i}return __extends$10(r,l),r.prototype.init=function(){var e=this.gridOptionsWrapper.getChartThemes();if(e.length<1)throw new Error("Cannot create chart: no chart themes are available to be used.");var i=this.params.chartThemeName;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(e,i)||(i=e[0]);var a={chartId:this.params.chartId,pivotChart:this.params.pivotChart,chartType:this.params.chartType,chartThemeName:i,aggFunc:this.params.aggFunc,cellRange:this.params.cellRange,suppressChartRanges:this.params.suppressChartRanges,unlinkChart:this.params.unlinkChart,crossFiltering:this.params.crossFiltering,seriesChartTypes:this.params.seriesChartTypes},s=this.gridOptionsWrapper.isEnableRtl();this.addCssClass(s?"ag-rtl":"ag-ltr");var d=this.createBean(new ChartDataModel(a));this.chartController=this.createManagedBean(new ChartController(d)),this.validateCustomThemes(),this.createChart(),this.params.insideDialog&&this.addDialog(),this.addMenu(),this.addTitleEditComp(),this.addManagedListener(this.getGui(),"focusin",this.setActiveChartCellRange.bind(this)),this.addManagedListener(this.chartController,ChartController.EVENT_CHART_UPDATED,this.refresh.bind(this)),this.chartMenu&&this.addManagedListener(this.chartMenu,ChartMenu.EVENT_DOWNLOAD_CHART,this.downloadChart.bind(this)),this.refresh(),this.raiseChartCreatedEvent()},r.prototype.validateCustomThemes=function(){var e=this.gridOptionsWrapper.getChartThemes(),i=this.gridOptionsWrapper.getCustomChartThemes();i&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.getAllKeysInObjects([i]).forEach(function(a){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(e,a)||console.warn("AG Grid: a custom chart theme with the name '"+a+"' has been supplied but not added to the 'chartThemes' list")})},r.prototype.createChart=function(){var e=this;this.chartProxy&&this.chartProxy.destroy();var a=this.chartController.getChartType(),s={chartType:a,getChartThemeName:this.getChartThemeName.bind(this),getChartThemes:this.getChartThemes.bind(this),customChartThemes:this.gridOptionsWrapper.getCustomChartThemes(),getGridOptionsChartThemeOverrides:this.getGridOptionsChartThemeOverrides.bind(this),apiChartThemeOverrides:this.params.chartThemeOverrides,crossFiltering:this.params.crossFiltering,crossFilterCallback:function(h,v){e.params.crossFilteringContext.lastSelectedChartId=v?"":e.chartController.getChartId(),v&&e.params.crossFilteringResetCallback(),e.crossFilterService.filter(h,v)},parentElement:this.eChart,grouping:this.chartController.isGrouping(),chartOptionsToRestore:this.params.chartOptionsToRestore,chartPaletteToRestore:this.params.chartPaletteToRestore,seriesChartTypes:this.chartController.getSeriesChartTypes()};if(this.params.chartOptionsToRestore=void 0,this.chartType=a,this.chartThemeName=this.chartController.getChartThemeName(),this.chartProxy=r.createChartProxy(s),this.chartProxy){var d=this.eChart.querySelector("canvas");d&&d.classList.add("ag-charts-canvas"),this.chartController.setChartProxy(this.chartProxy),this.chartOptionsService=this.createBean(new ChartOptionsService(this.chartController)),this.titleEdit&&this.titleEdit.refreshTitle(this.chartController,this.chartOptionsService)}else console.warn("AG Grid: invalid chart type supplied: ",s.chartType)},r.prototype.getChartThemeName=function(){return this.chartController.getChartThemeName()},r.prototype.getChartThemes=function(){return this.chartController.getThemes()},r.prototype.getGridOptionsChartThemeOverrides=function(){return this.gridOptionsWrapper.getChartThemeOverrides()},r.createChartProxy=function(e){switch(e.chartType){case"column":case"bar":case"groupedColumn":case"stackedColumn":case"normalizedColumn":case"groupedBar":case"stackedBar":case"normalizedBar":return new BarChartProxy(e);case"pie":case"doughnut":return new PieChartProxy(e);case"area":case"stackedArea":case"normalizedArea":return new AreaChartProxy(e);case"line":return new LineChartProxy(e);case"scatter":case"bubble":return new ScatterChartProxy(e);case"histogram":return new HistogramChartProxy(e);case"columnLineCombo":case"areaColumnCombo":case"customCombo":return new ComboChartProxy(e);default:throw"AG Grid: Unable to create chart as an invalid chartType = '"+e.chartType+"' was supplied."}},r.prototype.addDialog=function(){var e=this,i=this.chartTranslationService.translate(this.params.pivotChart?"pivotChartTitle":"rangeChartTitle"),a=this.getBestDialogSize();this.chartDialog=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.$zI({resizable:!0,movable:!0,maximizable:!0,title:i,width:a.width,height:a.height,component:this,centered:!0,closable:!0}),this.getContext().createBean(this.chartDialog),this.chartDialog.addEventListener(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.$zI.EVENT_DESTROYED,function(){return e.destroy()})},r.prototype.getBestDialogSize=function(){var e=this.popupService.getPopupParent(),i=.75*ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.getAbsoluteWidth(e),a=.75*ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.getAbsoluteHeight(e),d=this.chartProxy.getChart(),h=this.params.insideDialog?850:d.width,v=this.params.insideDialog?470:d.height;return(h>i||v>a)&&(h=Math.min(h,i),(v=Math.round(.553*h))>a&&(v=a,h=Math.min(h,Math.round(v/.553)))),{width:h,height:v}},r.prototype.addMenu=function(){this.params.crossFiltering||(this.chartMenu=this.createBean(new ChartMenu(this.eChartContainer,this.eMenuContainer,this.chartController,this.chartOptionsService)),this.eChartContainer.appendChild(this.chartMenu.getGui()))},r.prototype.addTitleEditComp=function(){this.titleEdit=this.createBean(new TitleEdit(this.chartMenu)),this.eTitleEditContainer.appendChild(this.titleEdit.getGui()),this.chartProxy&&this.titleEdit.refreshTitle(this.chartController,this.chartOptionsService)},r.prototype.refresh=function(){this.shouldRecreateChart()&&this.createChart(),this.updateChart()},r.prototype.shouldRecreateChart=function(){return this.chartType!==this.chartController.getChartType()||this.chartThemeName!==this.chartController.getChartThemeName()},r.prototype.getCurrentChartType=function(){return this.chartType},r.prototype.getChartModel=function(){return this.chartController.getChartModel()},r.prototype.getChartImageDataURL=function(e){return this.chartProxy.getChartImageDataURL(e)},r.prototype.updateChart=function(){var e=this.chartProxy,a=this.chartController.getSelectedValueColState().map(function(v){return{colId:v.colId,displayName:v.displayName}}),s=this.chartController.getChartData();if(!this.handleEmptyChart(s,a)){var h=this.chartController.getChartUpdateParams();e.update(h),this.titleEdit.refreshTitle(this.chartController,this.chartOptionsService)}},r.prototype.handleEmptyChart=function(e,i){var a=this.chartProxy.getChart().container,s=this.chartController.isPivotChart()&&!this.chartController.isPivotMode(),d=1;this.chartController.isActiveXYChart()&&(d="bubble"===this.chartController.getChartType()?3:2);var h=i.length<d||0===e.length;if(a){var v=s||h;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eChart,!v),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eEmpty,v)}return s?(this.eEmpty.innerText=this.chartTranslationService.translate("pivotChartRequiresPivotMode"),!0):!!h&&(this.eEmpty.innerText=this.chartTranslationService.translate("noDataToChart"),!0)},r.prototype.downloadChart=function(){this.chartProxy.downloadChart()},r.prototype.getChartId=function(){return this.chartController.getChartId()},r.prototype.getUnderlyingChart=function(){return this.chartProxy.getChart()},r.prototype.crossFilteringReset=function(){this.chartProxy.crossFilteringReset()},r.prototype.setActiveChartCellRange=function(e){this.getGui().contains(e.relatedTarget)||(this.chartController.setChartRange(!0),this.gridApi.focusService.clearFocusedCell())},r.prototype.raiseChartCreatedEvent=function(){var e=Object.freeze({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_CHART_CREATED,chartId:this.chartController.getChartId()});this.eventService.dispatchEvent(e)},r.prototype.raiseChartDestroyedEvent=function(){var e=Object.freeze({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_CHART_DESTROYED,chartId:this.chartController.getChartId()});this.eventService.dispatchEvent(e)},r.prototype.destroy=function(){l.prototype.destroy.call(this),this.chartProxy&&this.chartProxy.destroy(),this.destroyBean(this.chartMenu),this.chartDialog&&this.chartDialog.isAlive()&&this.destroyBean(this.chartDialog);var e=this.getGui();ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.clearElement(e),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeFromParent(e),this.raiseChartDestroyedEvent()},r.TEMPLATE='<div class="ag-chart" tabindex="-1">\n            <div ref="eChartContainer" tabindex="-1" class="ag-chart-components-wrapper">\n                <div ref="eChart" class="ag-chart-canvas-wrapper"></div>\n                <div ref="eEmpty" class="ag-chart-empty-text ag-unselectable"></div>\n            </div>\n            <div ref="eTitleEditContainer"></div>\n            <div ref="eMenuContainer" class="ag-chart-docked-container"></div>\n        </div>',__decorate$I([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eChart")],r.prototype,"eChart",void 0),__decorate$I([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eChartContainer")],r.prototype,"eChartContainer",void 0),__decorate$I([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eMenuContainer")],r.prototype,"eMenuContainer",void 0),__decorate$I([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eEmpty")],r.prototype,"eEmpty",void 0),__decorate$I([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eTitleEditContainer")],r.prototype,"eTitleEditContainer",void 0),__decorate$I([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartCrossFilterService")],r.prototype,"crossFilterService",void 0),__decorate$I([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],r.prototype,"chartTranslationService",void 0),__decorate$I([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],r.prototype,"gridApi",void 0),__decorate$I([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("popupService")],r.prototype,"popupService",void 0),__decorate$I([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],r.prototype,"init",null),r}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),CURRENT_VERSION="28.1.1";function upgradeChartModel(l){return null==l.version&&(l.version="27.1.0"),versionParts(l.version),l}function versionParts(l){var r="string"==typeof l?l.split(".").map(function(e){return Number(e)}):[];if(3!==r.length||r.some(function(e){return isNaN(e)}))throw new Error("AG Grid - Illegal version string: "+l);return{major:r[0],minor:r[1],patch:r[2]}}var __extends$$=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__assign$8=function(){return __assign$8=Object.assign||function(l){for(var r,e=1,i=arguments.length;e<i;e++)for(var a in r=arguments[e])Object.prototype.hasOwnProperty.call(r,a)&&(l[a]=r[a]);return l},__assign$8.apply(this,arguments)},__decorate$H=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},ChartService=function(l){function r(){var e=null!==l&&l.apply(this,arguments)||this;return e.activeCharts=new Set,e.activeChartComps=new Set,e.crossFilteringContext={lastSelectedChartId:""},e}return __extends$$(r,l),r.prototype.getChartModels=function(){var e=[];return this.activeChartComps.forEach(function(a){return e.push(function(a){return __assign$8(__assign$8({},a),{version:CURRENT_VERSION})}(a.getChartModel()))}),e},r.prototype.getChartRef=function(e){var i;return this.activeCharts.forEach(function(a){a.chartId===e&&(i=a)}),i},r.prototype.getChartImageDataURL=function(e){var i;return this.activeChartComps.forEach(function(a){a.getChartId()===e.chartId&&(i=a.getChartImageDataURL(e.fileFormat))}),i},r.prototype.createChartFromCurrentRange=function(e){void 0===e&&(e="groupedColumn");var i=this.getSelectedRange();return this.createChart(i,e)},r.prototype.restoreChart=function(e,i){var a=this;if(e){e.version!==CURRENT_VERSION&&(e=upgradeChartModel(e));var s={cellRange:e.cellRange,chartType:e.chartType,chartThemeName:e.chartThemeName,chartContainer:i,suppressChartRanges:e.suppressChartRanges,aggFunc:e.aggFunc,unlinkChart:e.unlinkChart,seriesChartTypes:e.seriesChartTypes},d=function(m){return a.rangeService?a.rangeService.createCellRangeFromCellRangeParams(m):void 0};if("pivot"===e.modelType){this.columnModel.isPivotMode()||this.columnModel.setPivotMode(!0,"pivotChart");var _=d({rowStartIndex:null,rowStartPinned:void 0,rowEndIndex:null,rowEndPinned:void 0,columns:this.columnModel.getAllDisplayedColumns().map(function(m){return m.getColId()})});return _?this.createChart(_,s.chartType,s.chartThemeName,!0,!0,s.chartContainer,void 0,void 0,s.unlinkChart,!1,e.chartOptions):void console.warn("AG Grid - unable to create chart as there are no columns in the grid.")}var y=d(s.cellRange);if(y)return this.createChart(y,s.chartType,s.chartThemeName,!1,s.suppressChartRanges,s.chartContainer,s.aggFunc,void 0,s.unlinkChart,!1,e.chartOptions,e.chartPalette,s.seriesChartTypes);console.warn("AG Grid - unable to create chart as no range is selected")}else console.warn("AG Grid - unable to restore chart as no chart model is provided")},r.prototype.createRangeChart=function(e){var i=this.rangeService?this.rangeService.createCellRangeFromCellRangeParams(e.cellRange):void 0;if(i)return this.createChart(i,e.chartType,e.chartThemeName,!1,e.suppressChartRanges,e.chartContainer,e.aggFunc,e.chartThemeOverrides,e.unlinkChart,void 0,void 0,void 0,e.seriesChartTypes);console.warn("AG Grid - unable to create chart as no range is selected")},r.prototype.createPivotChart=function(e){this.columnModel.isPivotMode()||this.columnModel.setPivotMode(!0,"pivotChart");var i={rowStartIndex:null,rowStartPinned:void 0,rowEndIndex:null,rowEndPinned:void 0,columns:this.columnModel.getAllDisplayedColumns().map(function(s){return s.getColId()})},a=this.rangeService?this.rangeService.createCellRangeFromCellRangeParams(i):void 0;if(a)return this.createChart(a,e.chartType,e.chartThemeName,!0,!0,e.chartContainer,void 0,e.chartThemeOverrides,e.unlinkChart);console.warn("AG Grid - unable to create chart as there are no columns in the grid.")},r.prototype.createCrossFilterChart=function(e){var i=this.rangeService?this.rangeService.createCellRangeFromCellRangeParams(e.cellRange):void 0;if(i)return this.createChart(i,e.chartType,e.chartThemeName,!1,!(typeof e.suppressChartRanges<"u"&&null!==e.suppressChartRanges)||e.suppressChartRanges,e.chartContainer,e.aggFunc,e.chartThemeOverrides,e.unlinkChart,!0);console.warn("AG Grid - unable to create chart as no range is selected")},r.prototype.createChart=function(e,i,a,s,d,h,v,_,y,m,E,w,S){var D=this;void 0===s&&(s=!1),void 0===d&&(d=!1),void 0===y&&(y=!1),void 0===m&&(m=!1);var T=this.gridOptionsWrapper.getCreateChartContainerFunc(),b={chartId:this.generateId(),pivotChart:s,cellRange:e,chartType:i,chartThemeName:a,insideDialog:!(h||T),suppressChartRanges:d,aggFunc:v,chartThemeOverrides:_,unlinkChart:y,crossFiltering:m,crossFilteringContext:this.crossFilteringContext,chartOptionsToRestore:E,chartPaletteToRestore:w,seriesChartTypes:S,crossFilteringResetCallback:function(){return D.activeChartComps.forEach(function(N){return N.crossFilteringReset()})}},M=new GridChartComp(b);this.context.createBean(M);var A=this.createChartRef(M);if(h){h.appendChild(M.getGui());var L=this.environment.getTheme();L.el&&!L.el.contains(h)&&h.classList.add(L.theme)}else T?T(A):M.addEventListener(GridChartComp.EVENT_DESTROYED,function(){D.activeChartComps.delete(M),D.activeCharts.delete(A)});return A},r.prototype.createChartRef=function(e){var i=this,a={destroyChart:function(){i.activeCharts.has(a)&&(i.context.destroyBean(e),i.activeChartComps.delete(e),i.activeCharts.delete(a))},chartElement:e.getGui(),chart:e.getUnderlyingChart(),chartId:e.getChartModel().chartId};return this.activeCharts.add(a),this.activeChartComps.add(e),a},r.prototype.getSelectedRange=function(){var e=this.rangeService.getCellRanges();return e.length>0?e[0]:{}},r.prototype.generateId=function(){return"id-"+Math.random().toString(36).substr(2,16)},r.prototype.destroyAllActiveCharts=function(){this.activeCharts.forEach(function(e){return e.destroyChart()})},__decorate$H([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FiY)("rangeService")],r.prototype,"rangeService",void 0),__decorate$H([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],r.prototype,"columnModel",void 0),__decorate$H([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("environment")],r.prototype,"environment",void 0),__decorate$H([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FXL],r.prototype,"destroyAllActiveCharts",null),__decorate$H([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("chartService")],r)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$_=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__decorate$G=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},ChartTranslationService=function(l){function r(){return null!==l&&l.apply(this,arguments)||this}var e;return __extends$_(r,l),e=r,r.prototype.translate=function(i,a){return this.gridOptionsWrapper.getLocaleTextFunc()(i,e.DEFAULT_TRANSLATIONS[i]||a)},r.DEFAULT_TRANSLATIONS={pivotChartTitle:"Pivot Chart",rangeChartTitle:"Range Chart",settings:"Settings",data:"Data",format:"Format",categories:"Categories",defaultCategory:"(None)",series:"Series",xyValues:"X Y Values",paired:"Paired Mode",axis:"Axis",navigator:"Navigator",color:"Color",thickness:"Thickness",xType:"X Type",automatic:"Automatic",category:"Category",number:"Number",time:"Time",autoRotate:"Auto Rotate",xRotation:"X Rotation",yRotation:"Y Rotation",ticks:"Ticks",width:"Width",height:"Height",length:"Length",padding:"Padding",spacing:"Spacing",chart:"Chart",title:"Title",titlePlaceholder:"Chart title - double click to edit",background:"Background",font:"Font",top:"Top",right:"Right",bottom:"Bottom",left:"Left",labels:"Labels",size:"Size",shape:"Shape",minSize:"Minimum Size",maxSize:"Maximum Size",legend:"Legend",position:"Position",markerSize:"Marker Size",markerStroke:"Marker Stroke",markerPadding:"Marker Padding",itemSpacing:"Item Spacing",itemPaddingX:"Item Padding X",itemPaddingY:"Item Padding Y",layoutHorizontalSpacing:"Horizontal Spacing",layoutVerticalSpacing:"Vertical Spacing",strokeWidth:"Stroke Width",offset:"Offset",offsets:"Offsets",tooltips:"Tooltips",callout:"Callout",markers:"Markers",shadow:"Shadow",blur:"Blur",xOffset:"X Offset",yOffset:"Y Offset",lineWidth:"Line Width",lineDash:"Line Dash",normal:"Normal",bold:"Bold",italic:"Italic",boldItalic:"Bold Italic",predefined:"Predefined",fillOpacity:"Fill Opacity",strokeOpacity:"Line Opacity",histogramBinCount:"Bin count",columnGroup:"Column",barGroup:"Bar",pieGroup:"Pie",lineGroup:"Line",scatterGroup:"X Y (Scatter)",areaGroup:"Area",histogramGroup:"Histogram",combinationGroup:"Combination",groupedColumnTooltip:"Grouped",stackedColumnTooltip:"Stacked",normalizedColumnTooltip:"100% Stacked",groupedBarTooltip:"Grouped",stackedBarTooltip:"Stacked",normalizedBarTooltip:"100% Stacked",pieTooltip:"Pie",doughnutTooltip:"Doughnut",lineTooltip:"Line",groupedAreaTooltip:"Area",stackedAreaTooltip:"Stacked",normalizedAreaTooltip:"100% Stacked",scatterTooltip:"Scatter",bubbleTooltip:"Bubble",histogramTooltip:"Histogram",columnLineComboTooltip:"Column & Line",areaColumnComboTooltip:"Area & Column",customComboTooltip:"Custom Combination",noDataToChart:"No data available to be charted.",pivotChartRequiresPivotMode:"Pivot Chart requires Pivot Mode enabled.",chartSettingsToolbarTooltip:"Menu",chartLinkToolbarTooltip:"Linked to Grid",chartUnlinkToolbarTooltip:"Unlinked from Grid",chartDownloadToolbarTooltip:"Download Chart",seriesChartType:"Series Chart Type",seriesType:"Series Type",secondaryAxis:"Secondary Axis"},e=__decorate$G([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("chartTranslationService")],r)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$Z=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__decorate$F=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},ChartCrossFilterService=function(l){function r(){return null!==l&&l.apply(this,arguments)||this}var e;return __extends$Z(r,l),e=r,r.prototype.filter=function(i,a){void 0===a&&(a=!1);var s=this.gridApi.getFilterModel();if(a)this.resetFilters(s);else{var d=e.extractFilterColId(i);this.isValidColumnFilter(d)?this.updateFilters(s,i,d):console.warn("AG Grid: cross filtering requires a 'agSetColumnFilter' or 'agMultiColumnFilter' to be defined on the column with id: '"+d+"'")}},r.prototype.resetFilters=function(i){Object.keys(i).length>0&&(this.gridApi.setFilterModel(null),this.gridApi.onFilterChanged())},r.prototype.updateFilters=function(i,a,s){var d,h=e.extractFilterColId(a),v=a.datum[h];if(void 0!==v){var _=v.toString();if(a.event.metaKey||a.event.ctrlKey){var y=this.getCurrentGridValuesForCategory(s),E=void 0;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(y,_)?E=y.filter(function(w){return w!==_}):(E=y).push(_),i[s]=this.getUpdatedFilterModel(s,E)}else(d={})[s]=this.getUpdatedFilterModel(s,E=[_]),i=d;this.gridApi.setFilterModel(i)}},r.prototype.getUpdatedFilterModel=function(i,a){return"agMultiColumnFilter"===this.getColumnFilterType(i)?{filterType:"multi",filterModels:[null,{filterType:"set",values:a}]}:{filterType:"set",values:a}},r.prototype.getCurrentGridValuesForCategory=function(i){var a=this,s=[],d=this.getColumnById(i);return this.gridApi.forEachNodeAfterFilter(function(h){if(d&&!h.group){var v=a.valueService.getValue(d,h)+"";s.includes(v)||s.push(v)}}),s},r.extractFilterColId=function(i){return i.xKey?i.xKey:i.labelKey},r.prototype.isValidColumnFilter=function(i){i.indexOf("-filtered-out")&&(i=i.replace("-filtered-out",""));var a=this.getColumnFilterType(i);return"boolean"==typeof a?a:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(["agSetColumnFilter","agMultiColumnFilter"],a)},r.prototype.getColumnFilterType=function(i){var a=this.getColumnById(i);if(a){var s=a.getColDef();return null!=s.filter?s.filter:s.filterFramework}},r.prototype.getColumnById=function(i){return this.columnModel.getGridColumn(i)},__decorate$F([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],r.prototype,"gridApi",void 0),__decorate$F([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],r.prototype,"columnModel",void 0),__decorate$F([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("valueService")],r.prototype,"valueService",void 0),e=__decorate$F([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("chartCrossFilterService")],r)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$Y=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__assign$7=function(){return __assign$7=Object.assign||function(l){for(var r,e=1,i=arguments.length;e<i;e++)for(var a in r=arguments[e])Object.prototype.hasOwnProperty.call(r,a)&&(l[a]=r[a]);return l},__assign$7.apply(this,arguments)},__decorate$E=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},__read$8=function(l,r){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var a,d,i=e.call(l),s=[];try{for(;(void 0===r||r-- >0)&&!(a=i.next()).done;)s.push(a.value)}catch(h){d={error:h}}finally{try{a&&!a.done&&(e=i.return)&&e.call(i)}finally{if(d)throw d.error}}return s},__spread$2=function(){for(var l=[],r=0;r<arguments.length;r++)l=l.concat(__read$8(arguments[r]));return l},__values$2=function(l){var r="function"==typeof Symbol&&Symbol.iterator,e=r&&l[r],i=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&i>=l.length&&(l=void 0),{value:l&&l[i++],done:!l}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},RangeService=function(l){function r(){var e=null!==l&&l.apply(this,arguments)||this;return e.cellRanges=[],e.bodyScrollListener=e.onBodyScroll.bind(e),e.dragging=!1,e.intersectionRange=!1,e}return __extends$Y(r,l),r.prototype.init=function(){var e=this;this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_NEW_COLUMNS_LOADED,function(){return e.onColumnsChanged()}),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_VISIBLE,this.onColumnsChanged.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_VALUE_CHANGED,this.onColumnsChanged.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PIVOT_MODE_CHANGED,function(){return e.removeAllCellRanges()}),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return e.removeAllCellRanges()}),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PIVOT_CHANGED,function(){return e.removeAllCellRanges()}),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_GROUP_OPENED,this.refreshLastRangeStart.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_MOVED,this.refreshLastRangeStart.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PINNED,this.refreshLastRangeStart.bind(this)),this.ctrlsService.whenReady(function(){var i=e.ctrlsService.getGridBodyCtrl();e.autoScrollService=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Cvn({scrollContainer:i.getBodyViewportElement(),scrollAxis:"xy",getVerticalPosition:function(){return i.getScrollFeature().getVScrollPosition().top},setVerticalPosition:function(a){return i.getScrollFeature().setVerticalScrollPosition(a)},getHorizontalPosition:function(){return i.getScrollFeature().getHScrollPosition().left},setHorizontalPosition:function(a){return i.getScrollFeature().setHorizontalScrollPosition(a)},shouldSkipVerticalScroll:function(){return e.gridOptionsWrapper.getDomLayout()!==ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.gTE.DOM_LAYOUT_NORMAL},shouldSkipHorizontalScroll:function(){return i.getScrollFeature().isHorizontalScrollShowing()}})})},r.prototype.onColumnsChanged=function(){var e=this;this.refreshLastRangeStart();var i=this.columnModel.getAllDisplayedColumns();this.cellRanges.forEach(function(s){var d=s.columns;s.columns=s.columns.filter(function(v){return v.isVisible()&&-1!==i.indexOf(v)}),!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.areEqual(d,s.columns)&&e.dispatchChangedEvent(!1,!0,s.id)});var a=this.cellRanges.length;this.cellRanges=this.cellRanges.filter(function(s){return s.columns.length>0}),a>this.cellRanges.length&&this.dispatchChangedEvent(!1,!0)},r.prototype.refreshLastRangeStart=function(){var e=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(this.cellRanges);!e||this.refreshRangeStart(e)},r.prototype.isContiguousRange=function(e){var i=e.columns;if(!i.length)return!1;var a=this.columnModel.getAllDisplayedColumns(),s=i.map(function(d){return a.indexOf(d)}).sort(function(d,h){return d-h});return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(s)-s[0]+1===i.length},r.prototype.getRangeStartRow=function(e){return e.startRow&&e.endRow?this.rowPositionUtils.before(e.startRow,e.endRow)?e.startRow:e.endRow:{rowIndex:0,rowPinned:this.pinnedRowModel.getPinnedTopRowCount()>0?ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.gTE.PINNED_TOP:null}},r.prototype.getRangeEndRow=function(e){if(e.startRow&&e.endRow)return this.rowPositionUtils.before(e.startRow,e.endRow)?e.endRow:e.startRow;var i=this.pinnedRowModel.getPinnedBottomRowCount();return i>0?{rowIndex:i-1,rowPinned:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.gTE.PINNED_BOTTOM}:{rowIndex:this.rowModel.getRowCount()-1,rowPinned:null}},r.prototype.setRangeToCell=function(e,i){if(void 0===i&&(i=!1),this.gridOptionsWrapper.isEnableRangeSelection()){var a=this.calculateColumnsBetween(e.column,e.column);if(a){(this.gridOptionsWrapper.isSuppressMultiRangeSelection()||!i||ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missing(this.cellRanges))&&this.removeAllCellRanges(!0);var d={rowIndex:e.rowIndex,rowPinned:e.rowPinned};this.cellRanges.push({startRow:d,endRow:d,columns:a,startColumn:e.column}),this.setNewestRangeStartCell(e),this.onDragStop(),this.dispatchChangedEvent(!0,!0)}}},r.prototype.extendLatestRangeToCell=function(e){if(!this.isEmpty()&&this.newestRangeStartCell){var i=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(this.cellRanges);this.updateRangeEnd(i,e)}},r.prototype.updateRangeEnd=function(e,i,a){void 0===a&&(a=!1);var d=this.calculateColumnsBetween(e.startColumn,i.column);!d||this.isLastCellOfRange(e,i)||(e.columns=d,e.endRow={rowIndex:i.rowIndex,rowPinned:i.rowPinned},a||this.dispatchChangedEvent(!0,!0,e.id))},r.prototype.refreshRangeStart=function(e){var i=e.startColumn,a=e.columns,s=function(m,E){var w=e.columns.filter(function(S){return S!==m});m?(e.startColumn=m,e.columns=E?__spread$2([m],w):__spread$2(w,[m])):e.columns=w},d=this.getRangeEdgeColumns(e),h=d.left,v=d.right;i===a[0]&&i!==h?s(h,!0):i===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(a)&&i===v&&s(v,!1)},r.prototype.getRangeEdgeColumns=function(e){var i=this.columnModel.getAllDisplayedColumns(),a=e.columns.map(function(s){return i.indexOf(s)}).filter(function(s){return s>-1}).sort(function(s,d){return s-d});return{left:i[a[0]],right:i[ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(a)]}},r.prototype.extendLatestRangeInDirection=function(e){if(!this.isEmpty()&&this.newestRangeStartCell){var i=e.key,a=e.ctrlKey||e.metaKey,s=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(this.cellRanges),d=this.newestRangeStartCell,h=s.columns[0],v=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(s.columns),w=this.cellNavigationService.getNextCellToFocus(i,{column:d.column===h?v:h,rowIndex:s.endRow.rowIndex,rowPinned:s.endRow.rowPinned},a);if(w)return this.setCellRange({rowStartIndex:d.rowIndex,rowStartPinned:d.rowPinned,rowEndIndex:w.rowIndex,rowEndPinned:w.rowPinned,columnStart:d.column,columnEnd:w.column}),w}},r.prototype.setCellRange=function(e){!this.gridOptionsWrapper.isEnableRangeSelection()||(this.removeAllCellRanges(!0),this.addCellRange(e))},r.prototype.setCellRanges=function(e){var i=this;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.shallowCompare(this.cellRanges,e)||(this.removeAllCellRanges(!0),e.forEach(function(a){a.columns&&a.startRow&&i.setNewestRangeStartCell({rowIndex:a.startRow.rowIndex,rowPinned:a.startRow.rowPinned,column:a.columns[0]}),i.cellRanges.push(a)}),this.dispatchChangedEvent(!1,!0))},r.prototype.setNewestRangeStartCell=function(e){this.newestRangeStartCell=e},r.prototype.createCellRangeFromCellRangeParams=function(e){var a,i=this,s=!1;if(e.columns)a=e.columns.map(function(y){return i.columnModel.getColumnWithValidation(y)}).filter(function(y){return y});else{var d=this.columnModel.getColumnWithValidation(e.columnStart),h=this.columnModel.getColumnWithValidation(e.columnEnd);if(!d||!h)return;(a=this.calculateColumnsBetween(d,h))&&a.length&&(s=a[0]!==d)}if(a)return{startRow:null!=e.rowStartIndex?{rowIndex:e.rowStartIndex,rowPinned:e.rowStartPinned||null}:void 0,endRow:null!=e.rowEndIndex?{rowIndex:e.rowEndIndex,rowPinned:e.rowEndPinned||null}:void 0,columns:a,startColumn:s?ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(a):a[0]}},r.prototype.addCellRange=function(e){if(this.gridOptionsWrapper.isEnableRangeSelection()){var i=this.createCellRangeFromCellRangeParams(e);i&&(i.startRow&&this.setNewestRangeStartCell({rowIndex:i.startRow.rowIndex,rowPinned:i.startRow.rowPinned,column:i.startColumn}),this.cellRanges.push(i),this.dispatchChangedEvent(!1,!0,i.id))}},r.prototype.getCellRanges=function(){return this.cellRanges},r.prototype.isEmpty=function(){return 0===this.cellRanges.length},r.prototype.isMoreThanOneCell=function(){var e=this.cellRanges.length;if(0===e)return!1;if(e>1)return!0;var i=this.cellRanges[0],a=this.getRangeStartRow(i),s=this.getRangeEndRow(i);return a.rowPinned!==s.rowPinned||a.rowIndex!==s.rowIndex||1!==i.columns.length},r.prototype.areAllRangesAbleToMerge=function(){var e,i,h,a=this,s=new Map;if(this.cellRanges.length<=1)return!0;this.cellRanges.forEach(function(E){for(var w=a.getRangeStartRow(E),S=a.getRangeEndRow(E),D=w,T=function(){var M=(D.rowPinned||"normal")+"_"+D.rowIndex,A=s.get(M),L=E.columns.map(function(G){return G.getId()});if(A){var N=L.filter(function(G){return-1===A.indexOf(G)});A.push.apply(A,__spread$2(N))}else s.set(M,L);if(a.rowPositionUtils.sameRow(D,S))return"break";D=a.cellNavigationService.getRowBelow(D)};D&&"break"!==T(););});try{for(var v=__values$2(s.values()),_=v.next();!_.done;_=v.next()){var m=_.value.sort().join();if(void 0!==h){if(h!==m)return!1}else h=m}}catch(E){e={error:E}}finally{try{_&&!_.done&&(i=v.return)&&i.call(v)}finally{if(e)throw e.error}}return!0},r.prototype.removeAllCellRanges=function(e){this.isEmpty()||(this.onDragStop(),this.cellRanges.length=0,e||this.dispatchChangedEvent(!1,!0))},r.prototype.onBodyScroll=function(){this.dragging&&this.lastMouseEvent&&this.onDragging(this.lastMouseEvent)},r.prototype.isCellInAnyRange=function(e){return this.getCellRangeCount(e)>0},r.prototype.isCellInSpecificRange=function(e,i){var a=null!==i.columns&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(i.columns,e.column),s=this.isRowInRange(e.rowIndex,e.rowPinned,i);return a&&s},r.prototype.isLastCellOfRange=function(e,i){var a=e.startRow,s=e.endRow,d=this.rowPositionUtils.before(a,s)?s:a,h=i.rowIndex===d.rowIndex&&i.rowPinned===d.rowPinned,v=e.columns[0],_=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(e.columns);return i.column===(e.startColumn===v?_:v)&&h},r.prototype.isBottomRightCell=function(e,i){var a=this.columnModel.getAllDisplayedColumns(),s=e.columns.map(function(m){return a.indexOf(m)}).sort(function(m,E){return m-E}),d=e.startRow,h=e.endRow,v=this.rowPositionUtils.before(d,h)?h:d,_=a.indexOf(i.column)===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(s),y=i.rowIndex===v.rowIndex&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.makeNull(i.rowPinned)===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.makeNull(v.rowPinned);return _&&y},r.prototype.getCellRangeCount=function(e){var i=this;return this.isEmpty()?0:this.cellRanges.filter(function(a){return i.isCellInSpecificRange(e,a)}).length},r.prototype.isRowInRange=function(e,i,a){var s=this.getRangeStartRow(a),d=this.getRangeEndRow(a),h={rowIndex:e,rowPinned:i||null};if(h.rowIndex===s.rowIndex&&h.rowPinned==s.rowPinned||h.rowIndex===d.rowIndex&&h.rowPinned==d.rowPinned)return!0;var y=!this.rowPositionUtils.before(h,s),m=this.rowPositionUtils.before(h,d);return y&&m},r.prototype.getDraggingRange=function(){return this.draggingRange},r.prototype.onDragStart=function(e){if(this.gridOptionsWrapper.isEnableRangeSelection()){var s=e.shiftKey,d=e.ctrlKey||e.metaKey,v=!this.gridOptionsWrapper.isSuppressMultiRangeSelection()&&d,_=s&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.existsAndNotEmpty(this.cellRanges);if(!v&&(!_||ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(this.cellRanges).type))&&this.removeAllCellRanges(!0),this.cellHoverListener=this.addManagedListener(this.ctrlsService.getGridCtrl().getGui(),"mousemove",this.updateValuesOnMove.bind(this)),this.updateValuesOnMove(e),this.lastCellHovered){if(this.dragging=!0,this.lastMouseEvent=e,this.intersectionRange=v&&this.getCellRangeCount(this.lastCellHovered)>1,_||this.setNewestRangeStartCell(this.lastCellHovered),this.cellRanges.length>0)this.draggingRange=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(this.cellRanges);else{var y={rowIndex:this.lastCellHovered.rowIndex,rowPinned:this.lastCellHovered.rowPinned};this.draggingRange={startRow:y,endRow:y,columns:[this.lastCellHovered.column],startColumn:this.newestRangeStartCell.column},this.cellRanges.push(this.draggingRange)}this.ctrlsService.getGridBodyCtrl().addScrollEventListener(this.bodyScrollListener),this.dispatchChangedEvent(!0,!1,this.draggingRange.id)}}},r.prototype.intersectLastRange=function(e){var i=this;if(!(e&&this.dragging||this.gridOptionsWrapper.isSuppressMultiRangeSelection()||this.isEmpty())){var a=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(this.cellRanges),s=this.getRangeStartRow(a),d=this.getRangeEndRow(a),h=[];this.cellRanges.slice(0,-1).forEach(function(v){var _=i.getRangeStartRow(v),y=i.getRangeEndRow(v),m=v.columns,E=m.filter(function(T){return-1===a.columns.indexOf(T)});if(E.length!==m.length)if(i.rowPositionUtils.before(d,_)||i.rowPositionUtils.before(y,s))h.push(v);else{var w=h.length;if(i.rowPositionUtils.before(_,s)){var S={columns:__spread$2(m),startColumn:a.startColumn,startRow:__assign$7({},_),endRow:i.cellNavigationService.getRowAbove(s)};h.push(S)}if(E.length>0){var D={columns:E,startColumn:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(E,a.startColumn)?a.startColumn:E[0],startRow:i.rowPositionUtils.rowMax([__assign$7({},s),__assign$7({},_)]),endRow:i.rowPositionUtils.rowMin([__assign$7({},d),__assign$7({},y)])};h.push(D)}i.rowPositionUtils.before(d,y)&&h.push({columns:__spread$2(m),startColumn:a.startColumn,startRow:i.cellNavigationService.getRowBelow(d),endRow:__assign$7({},y)}),h.length-w==1&&(h[h.length-1].id=v.id)}else h.push(v)}),this.cellRanges=h,e&&this.dispatchChangedEvent(!1,!0)}},r.prototype.updateValuesOnMove=function(e){var i=this.mouseEventService.getCellPositionForEvent(e);this.cellHasChanged=!1,!(!i||this.lastCellHovered&&this.cellPositionUtils.equals(i,this.lastCellHovered))&&(this.lastCellHovered&&(this.cellHasChanged=!0),this.lastCellHovered=i)},r.prototype.onDragging=function(e){var i=this;if(this.dragging&&e){this.lastMouseEvent=e;var a=this.lastCellHovered,s=function(v){return a&&a.rowPinned===v&&i.newestRangeStartCell.rowPinned===v},d=s("top")||s("bottom");if(this.autoScrollService.check(e,d),this.cellHasChanged){var h=this.calculateColumnsBetween(this.newestRangeStartCell.column,a.column);!h||(this.draggingRange.endRow={rowIndex:a.rowIndex,rowPinned:a.rowPinned},this.draggingRange.columns=h,this.dispatchChangedEvent(!1,!1,this.draggingRange.id))}}},r.prototype.onDragStop=function(){if(this.cellHoverListener&&(this.cellHoverListener(),this.cellHoverListener=void 0),this.dragging){var e=this.draggingRange.id;this.autoScrollService.ensureCleared(),this.ctrlsService.getGridBodyCtrl().removeScrollEventListener(this.bodyScrollListener),this.lastMouseEvent=null,this.dragging=!1,this.draggingRange=void 0,this.lastCellHovered=void 0,this.intersectionRange&&(this.intersectionRange=!1,this.intersectLastRange()),this.dispatchChangedEvent(!1,!0,e)}},r.prototype.dispatchChangedEvent=function(e,i,a){var s=Object.freeze({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_RANGE_SELECTION_CHANGED,started:e,finished:i,id:a});this.eventService.dispatchEvent(s)},r.prototype.calculateColumnsBetween=function(e,i){var a=this.columnModel.getAllDisplayedColumns(),s=e===i,d=a.indexOf(e);if(d<0)console.warn("AG Grid: column "+e.getId()+" is not visible");else{var h=s?d:a.indexOf(i);if(!(h<0)){if(s)return[e];for(var v=Math.min(d,h),_=v===d?h:d,y=[],m=v;m<=_;m++)y.push(a[m]);return y}console.warn("AG Grid: column "+i.getId()+" is not visible")}},__decorate$E([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowModel")],r.prototype,"rowModel",void 0),__decorate$E([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],r.prototype,"columnModel",void 0),__decorate$E([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("mouseEventService")],r.prototype,"mouseEventService",void 0),__decorate$E([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("cellNavigationService")],r.prototype,"cellNavigationService",void 0),__decorate$E([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("pinnedRowModel")],r.prototype,"pinnedRowModel",void 0),__decorate$E([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowPositionUtils")],r.prototype,"rowPositionUtils",void 0),__decorate$E([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("cellPositionUtils")],r.prototype,"cellPositionUtils",void 0),__decorate$E([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ctrlsService")],r.prototype,"ctrlsService",void 0),__decorate$E([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],r.prototype,"init",null),__decorate$E([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("rangeService")],r)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$X=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__decorate$D=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},AbstractSelectionHandle=function(l){function r(){var e=null!==l&&l.apply(this,arguments)||this;return e.changedCalculatedValues=!1,e.dragging=!1,e.shouldDestroyOnEndDragging=!1,e}return __extends$X(r,l),r.prototype.init=function(){var e=this;this.dragService.addDragSource({dragStartPixels:0,eElement:this.getGui(),onDragStart:this.onDragStart.bind(this),onDragging:function(i){e.dragging=!0,e.rangeService.autoScrollService.check(i),e.changedCalculatedValues&&(e.onDrag(i),e.changedCalculatedValues=!1)},onDragStop:function(i){e.dragging=!1,e.onDragEnd(i),e.clearValues(),e.rangeService.autoScrollService.ensureCleared(),document.body.classList.remove(e.getDraggingCssClass()),e.shouldDestroyOnEndDragging&&e.destroy()}}),this.addManagedListener(this.getGui(),"mousedown",this.preventRangeExtension.bind(this))},r.prototype.isDragging=function(){return this.dragging},r.prototype.getCellCtrl=function(){return this.cellCtrl},r.prototype.setCellCtrl=function(e){this.cellCtrl=e},r.prototype.getCellRange=function(){return this.cellRange},r.prototype.setCellRange=function(e){this.cellRange=e},r.prototype.getRangeStartRow=function(){return this.rangeStartRow},r.prototype.setRangeStartRow=function(e){this.rangeStartRow=e},r.prototype.getRangeEndRow=function(){return this.rangeEndRow},r.prototype.setRangeEndRow=function(e){this.rangeEndRow=e},r.prototype.getLastCellHovered=function(){return this.lastCellHovered},r.prototype.preventRangeExtension=function(e){e.preventDefault(),e.stopPropagation()},r.prototype.onDragStart=function(e){this.cellHoverListener=this.addManagedListener(this.ctrlsService.getGridCtrl().getGui(),"mousemove",this.updateValuesOnMove.bind(this)),document.body.classList.add(this.getDraggingCssClass())},r.prototype.getDraggingCssClass=function(){return"ag-dragging-"+(this.type===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Lm6.FILL?"fill":"range")+"-handle"},r.prototype.updateValuesOnMove=function(e){var i=this.mouseEventService.getCellPositionForEvent(e);!i||this.lastCellHovered&&this.cellPositionUtils.equals(i,this.lastCellHovered)||(this.lastCellHovered=i,this.changedCalculatedValues=!0)},r.prototype.getType=function(){return this.type},r.prototype.refresh=function(e){var i=this.getCellCtrl(),a=this.getGui(),s=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(this.rangeService.getCellRanges()),d=s.startRow,h=s.endRow;if(d&&h&&(this.rowPositionUtils.before(h,d)?(this.setRangeStartRow(h),this.setRangeEndRow(d)):(this.setRangeStartRow(d),this.setRangeEndRow(h))),i!==e||!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.isVisible(a)){this.setCellCtrl(e);var _=e.getComp().getParentOfValue();_&&_.appendChild(a)}this.setCellRange(s)},r.prototype.clearValues=function(){this.lastCellHovered=void 0,this.removeListeners()},r.prototype.removeListeners=function(){this.cellHoverListener&&(this.cellHoverListener(),this.cellHoverListener=void 0)},r.prototype.destroy=function(){if(!this.shouldDestroyOnEndDragging&&this.isDragging())return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.getGui(),!1),void(this.shouldDestroyOnEndDragging=!0);this.shouldDestroyOnEndDragging=!1,l.prototype.destroy.call(this),this.removeListeners();var e=this.getGui();e.parentElement&&e.parentElement.removeChild(e)},__decorate$D([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowRenderer")],r.prototype,"rowRenderer",void 0),__decorate$D([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("dragService")],r.prototype,"dragService",void 0),__decorate$D([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rangeService")],r.prototype,"rangeService",void 0),__decorate$D([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("mouseEventService")],r.prototype,"mouseEventService",void 0),__decorate$D([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],r.prototype,"columnModel",void 0),__decorate$D([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("cellNavigationService")],r.prototype,"cellNavigationService",void 0),__decorate$D([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("navigationService")],r.prototype,"navigationService",void 0),__decorate$D([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowPositionUtils")],r.prototype,"rowPositionUtils",void 0),__decorate$D([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("cellPositionUtils")],r.prototype,"cellPositionUtils",void 0),__decorate$D([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ctrlsService")],r.prototype,"ctrlsService",void 0),__decorate$D([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],r.prototype,"init",null),r}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$W=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__assign$6=function(){return __assign$6=Object.assign||function(l){for(var r,e=1,i=arguments.length;e<i;e++)for(var a in r=arguments[e])Object.prototype.hasOwnProperty.call(r,a)&&(l[a]=r[a]);return l},__assign$6.apply(this,arguments)},__decorate$C=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},__read$7=function(l,r){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var a,d,i=e.call(l),s=[];try{for(;(void 0===r||r-- >0)&&!(a=i.next()).done;)s.push(a.value)}catch(h){d={error:h}}finally{try{a&&!a.done&&(e=i.return)&&e.call(i)}finally{if(d)throw d.error}}return s},__spread$1=function(){for(var l=[],r=0;r<arguments.length;r++)l=l.concat(__read$7(arguments[r]));return l},FillHandle=function(l){function r(){var e=l.call(this,r.TEMPLATE)||this;return e.markedCells=[],e.cellValues=[],e.isUp=!1,e.isLeft=!1,e.isReduce=!1,e.type=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Lm6.FILL,e}return __extends$W(r,l),r.prototype.updateValuesOnMove=function(e){l.prototype.updateValuesOnMove.call(this,e),this.initialXY||(this.initialXY=this.mouseEventService.getNormalisedPosition(e));var E,i=this.initialXY,a=i.x,s=i.y,d=this.mouseEventService.getNormalisedPosition(e),v=d.y,_=Math.abs(a-d.x),y=Math.abs(s-v),m=this.gridOptionsWrapper.getFillHandleDirection();(E="xy"===m?_>y?"x":"y":m)!==this.dragAxis&&(this.dragAxis=E,this.changedCalculatedValues=!0)},r.prototype.onDrag=function(e){if(!this.initialPosition){var i=this.getCellCtrl();if(!i)return;this.initialPosition=i.getCellPosition()}var a=this.getLastCellHovered();a&&this.markPathFrom(this.initialPosition,a)},r.prototype.onDragEnd=function(e){if(this.initialXY=null,this.markedCells.length){var v,i="x"===this.dragAxis,a=this.getCellRange(),s=a.columns.length,d=this.getRangeStartRow(),h=this.getRangeEndRow();if(this.isUp||this.isLeft){var _=i?d:this.lastCellMarked;v=this.rangeService.createCellRangeFromCellRangeParams({rowStartIndex:_.rowIndex,rowStartPinned:_.rowPinned,columnStart:i?this.lastCellMarked.column:a.columns[0],rowEndIndex:h.rowIndex,rowEndPinned:h.rowPinned,columnEnd:a.columns[s-1]})}else v=this.rangeService.createCellRangeFromCellRangeParams({rowStartIndex:d.rowIndex,rowStartPinned:d.rowPinned,columnStart:a.columns[0],rowEndIndex:i?h.rowIndex:this.lastCellMarked.rowIndex,rowEndPinned:i?h.rowPinned:this.lastCellMarked.rowPinned,columnEnd:i?this.lastCellMarked.column:a.columns[s-1]});v&&(this.raiseFillStartEvent(),this.handleValueChanged(a,v,e),this.rangeService.setCellRanges([v]),this.raiseFillEndEvent(a,v))}},r.prototype.raiseFillStartEvent=function(){this.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_FILL_START})},r.prototype.raiseFillEndEvent=function(e,i){this.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_FILL_END,initialRange:e,finalRange:i})},r.prototype.handleValueChanged=function(e,i,a){var s=this,d=this.rangeService.getRangeEndRow(e),h=this.rangeService.getRangeStartRow(e),v=this.rangeService.getRangeEndRow(i),_=this.rangeService.getRangeStartRow(i),y="y"===this.dragAxis;if(!this.isReduce||this.gridOptionsWrapper.isSuppressClearOnFillReduction()){var w=!0,S=[],D=[],T=0,b=function(){S.length=0,D.length=0,T=0},M=function(L,N){var G=s.isUp?d:h,k=!1;y&&(w=!0,b());for(var K=function(){var j=s.rowPositionUtils.getRowNode(G);if(!j)return"break";y&&L?A(S,L,j,function(){return!s.rowPositionUtils.sameRow(G,s.isUp?h:d)}):N&&(w=!0,b(),N.forEach(function(Y){return A(S,Y,j,function(){return Y!==(s.isLeft?e.columns[0]:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(e.columns))})})),k=s.rowPositionUtils.sameRow(G,s.isUp?_:v),G=s.isUp?s.cellNavigationService.getRowAbove(G):s.cellNavigationService.getRowBelow(G)};!k&&G&&"break"!==K(););},A=function(L,N,G,k){var K,$=!1;if(w)K=s.valueService.getValue(N,G),D.push(K),w=k();else{var j=s.processValues(a,L,D,N,G,T++),ie=j.fromUserFunction;if(K=j.value,N.isCellEditable(G)){var re=s.valueService.getValue(N,G);ie&&re===K?$=!0:G.setDataValue(N,K)}}$||L.push(K)};y?e.columns.forEach(function(L){M(L)}):(m=this.isLeft?__spread$1(i.columns).reverse():i.columns,M(void 0,m))}else{var m=y?e.columns:e.columns.filter(function(L){return i.columns.indexOf(L)<0}),E=y?this.cellNavigationService.getRowBelow(v):_;E&&this.clearCellsInRange(E,d,m)}},r.prototype.clearCellsInRange=function(e,i,a){for(var s=e,d=!1,h=function(){var y=v.rowPositionUtils.getRowNode(s);if(!y)return"break";a.forEach(function(m){m.isCellEditable(y)&&y.setDataValue(m,null)}),d=v.rowPositionUtils.sameRow(s,i),s=v.cellNavigationService.getRowBelow(s)},v=this;!d&&s&&"break"!==h(););},r.prototype.processValues=function(e,i,a,s,d,h){var y,v=this.gridOptionsWrapper.getFillOperation();if(y="y"===this.dragAxis?this.isUp?"up":"down":this.isLeft?"left":"right",v){var E=v({event:e,values:i,initialValues:a,currentIndex:h,currentCellValue:this.valueService.getValue(s,d),direction:y,column:s,rowNode:d});if(!1!==E)return{value:E,fromUserFunction:!0}}var w=!i.some(function(D){var T=parseFloat(D);return isNaN(T)||T.toString()!==D.toString()});if(e.altKey||!w){if(w&&1===a.length){var S=this.isUp||this.isLeft?-1:1;return{value:parseFloat(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(i))+1*S,fromUserFunction:!1}}return{value:i[h%i.length],fromUserFunction:!1}}return{value:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.findLineByLeastSquares(i.map(Number))),fromUserFunction:!1}},r.prototype.clearValues=function(){this.clearMarkedPath(),this.clearCellValues(),this.lastCellMarked=void 0,l.prototype.clearValues.call(this)},r.prototype.clearMarkedPath=function(){this.markedCells.forEach(function(e){if(e.isAlive()){var i=e.getComp();i.addOrRemoveCssClass("ag-selection-fill-top",!1),i.addOrRemoveCssClass("ag-selection-fill-right",!1),i.addOrRemoveCssClass("ag-selection-fill-bottom",!1),i.addOrRemoveCssClass("ag-selection-fill-left",!1)}}),this.markedCells.length=0,this.isUp=!1,this.isLeft=!1,this.isReduce=!1},r.prototype.clearCellValues=function(){this.cellValues.length=0},r.prototype.markPathFrom=function(e,i){if(this.clearMarkedPath(),this.clearCellValues(),"y"===this.dragAxis){if(this.rowPositionUtils.sameRow(i,e))return;var a=this.rowPositionUtils.before(i,e),s=this.getRangeStartRow(),d=this.getRangeEndRow();a&&(i.rowPinned==s.rowPinned&&i.rowIndex>=s.rowIndex||s.rowPinned!=d.rowPinned&&i.rowPinned==d.rowPinned&&i.rowIndex<=d.rowIndex)?(this.reduceVertical(e,i),this.isReduce=!0):(this.extendVertical(e,i,a),this.isReduce=!1)}else{var h=e.column,v=i.column;if(h===v)return;var _=this.columnModel.getAllDisplayedColumns(),y=_.indexOf(h),m=_.indexOf(v);m<=y&&m>=_.indexOf(this.getCellRange().columns[0])?(this.reduceHorizontal(e,i),this.isReduce=!0):(this.extendHorizontal(e,i,m<y),this.isReduce=!1)}this.lastCellMarked=i},r.prototype.extendVertical=function(e,i,a){var d=this.navigationService,h=this.rangeService,v=e;do{for(var _=this.getCellRange(),y=_.columns.length,m=0;m<y;m++){var E=_.columns[m],S=__assign$6(__assign$6({},{rowIndex:v.rowIndex,rowPinned:v.rowPinned}),{column:E}),D=h.isCellInSpecificRange(S,_),T=this.rowPositionUtils.sameRow(v,e);if(a&&(this.isUp=!0),!T){var b=d.getCellByPosition(S);if(b){this.markedCells.push(b);var M=b.getComp();D||(M.addOrRemoveCssClass("ag-selection-fill-left",0===m),M.addOrRemoveCssClass("ag-selection-fill-right",m===y-1)),M.addOrRemoveCssClass(a?"ag-selection-fill-top":"ag-selection-fill-bottom",this.rowPositionUtils.sameRow(v,i))}}}if(this.rowPositionUtils.sameRow(v,i))break}while(v=a?this.cellNavigationService.getRowAbove(v):this.cellNavigationService.getRowBelow(v))},r.prototype.reduceVertical=function(e,i){var a=e;do{for(var s=this.getCellRange(),d=s.columns.length,h=this.rowPositionUtils.sameRow(a,i),v=0;v<d;v++){var y=__assign$6(__assign$6({},{rowIndex:a.rowIndex,rowPinned:a.rowPinned}),{column:s.columns[v]}),m=this.navigationService.getCellByPosition(y);m&&(this.markedCells.push(m),m.getComp().addOrRemoveCssClass("ag-selection-fill-bottom",this.rowPositionUtils.sameRow(a,i)))}if(h)break}while(a=this.cellNavigationService.getRowAbove(a))},r.prototype.extendHorizontal=function(e,i,a){var s=this,d=this.columnModel.getAllDisplayedColumns(),h=d.indexOf(a?i.column:e.column),v=d.indexOf(a?this.getCellRange().columns[0]:i.column),_=a?0:1,y=d.slice(h+_,v+_),m=this.getRangeStartRow(),E=this.getRangeEndRow();y.forEach(function(w){var S=m,D=!1;do{D=s.rowPositionUtils.sameRow(S,E);var T=s.navigationService.getCellByPosition({rowIndex:S.rowIndex,rowPinned:S.rowPinned,column:w});if(T){s.markedCells.push(T);var b=T.getComp();b.addOrRemoveCssClass("ag-selection-fill-top",s.rowPositionUtils.sameRow(S,m)),b.addOrRemoveCssClass("ag-selection-fill-bottom",s.rowPositionUtils.sameRow(S,E)),a?(s.isLeft=!0,b.addOrRemoveCssClass("ag-selection-fill-left",w===y[0])):b.addOrRemoveCssClass("ag-selection-fill-right",w===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(y))}S=s.cellNavigationService.getRowBelow(S)}while(!D)})},r.prototype.reduceHorizontal=function(e,i){var a=this,s=this.columnModel.getAllDisplayedColumns(),d=s.indexOf(i.column),h=s.indexOf(e.column),v=s.slice(d,h),_=this.getRangeStartRow(),y=this.getRangeEndRow();v.forEach(function(m){var E=_,w=!1;do{w=a.rowPositionUtils.sameRow(E,y);var S=a.navigationService.getCellByPosition({rowIndex:E.rowIndex,rowPinned:E.rowPinned,column:m});S&&(a.markedCells.push(S),S.getComp().addOrRemoveCssClass("ag-selection-fill-right",m===v[0])),E=a.cellNavigationService.getRowBelow(E)}while(!w)})},r.prototype.refresh=function(e){var i=this.rangeService.getCellRanges()[0];i.startRow&&i.endRow?l.prototype.refresh.call(this,e):this.destroy()},r.TEMPLATE='<div class="ag-fill-handle"></div>',__decorate$C([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("valueService")],r.prototype,"valueService",void 0),r}(AbstractSelectionHandle),__extends$V=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__assign$5=function(){return __assign$5=Object.assign||function(l){for(var r,e=1,i=arguments.length;e<i;e++)for(var a in r=arguments[e])Object.prototype.hasOwnProperty.call(r,a)&&(l[a]=r[a]);return l},__assign$5.apply(this,arguments)},RangeHandle=function(l){function r(){var e=l.call(this,r.TEMPLATE)||this;return e.type=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Lm6.RANGE,e.rangeFixed=!1,e}return __extends$V(r,l),r.prototype.onDrag=function(e){var i=this.getLastCellHovered();if(i){var a=this.rangeService.getCellRanges(),s=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(a);this.rangeFixed||(this.fixRangeStartEnd(s),this.rangeFixed=!0),this.endPosition={rowIndex:i.rowIndex,rowPinned:i.rowPinned,column:i.column},2===a.length&&a[0].type===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.StC.DIMENSION&&s.type===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.StC.VALUE&&!this.rowPositionUtils.sameRow(this.endPosition,this.rangeService.getRangeEndRow(s))&&this.rangeService.updateRangeEnd(a[0],__assign$5(__assign$5({},this.endPosition),{column:a[0].columns[0]}),!0),this.rangeService.extendLatestRangeToCell(this.endPosition)}},r.prototype.onDragEnd=function(e){var i=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(this.rangeService.getCellRanges());this.fixRangeStartEnd(i),this.rangeFixed=!1},r.prototype.fixRangeStartEnd=function(e){var i=this.rangeService.getRangeStartRow(e),a=this.rangeService.getRangeEndRow(e),s=e.columns[0];e.startRow=i,e.endRow=a,e.startColumn=s},r.TEMPLATE='<div class="ag-range-handle"></div>',r}(AbstractSelectionHandle),__extends$U=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__decorate$B=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},SelectionHandleFactory=function(l){function r(){return null!==l&&l.apply(this,arguments)||this}return __extends$U(r,l),r.prototype.createSelectionHandle=function(e){return this.createBean(e===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Lm6.RANGE?new RangeHandle:new FillHandle)},__decorate$B([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("selectionHandleFactory")],r)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),RangeSelectionModule={moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.RangeSelectionModule,beans:[RangeService,SelectionHandleFactory],agStackComponents:[{componentName:"AgFillHandle",componentClass:FillHandle},{componentName:"AgRangeHandle",componentClass:RangeHandle}],dependantModules:[EnterpriseCoreModule]},GridChartsModule={moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.GridChartsModule,beans:[ChartService,ChartTranslationService,ChartCrossFilterService],dependantModules:[RangeSelectionModule,EnterpriseCoreModule]},agCharts={time},__extends$T=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__assign$4=function(){return __assign$4=Object.assign||function(l){for(var r,e=1,i=arguments.length;e<i;e++)for(var a in r=arguments[e])Object.prototype.hasOwnProperty.call(r,a)&&(l[a]=r[a]);return l},__assign$4.apply(this,arguments)},__decorate$A=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},DetailCellRendererCtrl=function(l){function r(){var e=null!==l&&l.apply(this,arguments)||this;return e.loadRowDataVersion=0,e.needRefresh=!1,e}return __extends$T(r,l),r.prototype.init=function(e,i){var a=this;this.params=i,this.comp=e,null!=i.pinned||(this.setAutoHeightClasses(),this.setupRefreshStrategy(),this.addThemeToDetailGrid(),this.createDetailGrid(),this.loadRowData(),this.addManagedListener(i.node.parent,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Fxk.EVENT_DATA_CHANGED,function(){a.needRefresh=!0}),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_FULL_WIDTH_ROW_FOCUSED,this.onFullWidthRowFocused.bind(this)))},r.prototype.onFullWidthRowFocused=function(e){var i=this.params;!this.rowPositionUtils.sameRow({rowIndex:i.node.rowIndex,rowPinned:i.node.rowPinned},{rowIndex:e.rowIndex,rowPinned:e.rowPinned})||this.focusService.focusInto(this.comp.getGui(),e.fromBelow)},r.prototype.setAutoHeightClasses=function(){var e=this.gridOptionsWrapper.isDetailRowAutoHeight(),a=e?"ag-details-grid-auto-height":"ag-details-grid-fixed-height";this.comp.addOrRemoveCssClass(e?"ag-details-row-auto-height":"ag-details-row-fixed-height",!0),this.comp.addOrRemoveDetailGridCssClass(a,!0)},r.prototype.setupRefreshStrategy=function(){if(this.params.suppressRefresh)return console.warn("AG Grid: as of v23.2.0, cellRendererParams.suppressRefresh for Detail Cell Renderer is no longer used. Please set cellRendererParams.refreshStrategy = 'nothing' instead."),void(this.refreshStrategy="nothing");var e=this.params.refreshStrategy;"everything"==e||"nothing"==e||"rows"==e?this.refreshStrategy=e:(null!=e&&console.warn("AG Grid: invalid cellRendererParams.refreshStrategy = '"+e+"' supplied, defaulting to refreshStrategy = 'rows'."),this.refreshStrategy="rows")},r.prototype.addThemeToDetailGrid=function(){var e=this.environment.getTheme().theme;e&&this.comp.addOrRemoveDetailGridCssClass(e,!0)},r.prototype.createDetailGrid=function(){if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missing(this.params.detailGridOptions))console.warn("AG Grid: could not find detail grid options for master detail, please set gridOptions.detailCellRendererParams.detailGridOptions");else{var e=this.gridOptionsWrapper.isDetailRowAutoHeight(),i=__assign$4({},this.params.detailGridOptions);e&&(i.domLayout="autoHeight"),this.comp.setDetailGrid(i)}},r.prototype.registerDetailWithMaster=function(e,i){var a=this.params.node.id,s=this.params.api,d={id:a,api:e,columnApi:i},h=this.params.node;s.addDetailGridInfo(a,d),h.detailGridInfo=d,this.addDestroyFunc(function(){h.detailGridInfo===d&&(s.removeDetailGridInfo(a),h.detailGridInfo=null)})},r.prototype.loadRowData=function(){var e=this;this.loadRowDataVersion++;var i=this.loadRowDataVersion,a=this.params.getDetailRowData;a?a({node:this.params.node,data:this.params.node.data,successCallback:function(h){e.loadRowDataVersion===i&&e.comp.setRowData(h)},context:this.gridOptionsWrapper.getContext()}):console.warn("AG Grid: could not find getDetailRowData for master / detail, please set gridOptions.detailCellRendererParams.getDetailRowData")},r.prototype.refresh=function(){return!(this.needRefresh&&"nothing"!==this.refreshStrategy&&(this.needRefresh=!1,"everything"===this.refreshStrategy||(this.loadRowData(),0)))},__decorate$A([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("environment")],r.prototype,"environment",void 0),__decorate$A([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowPositionUtils")],r.prototype,"rowPositionUtils",void 0),__decorate$A([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("focusService")],r.prototype,"focusService",void 0),r}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$S=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__decorate$z=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},DetailCellRenderer=function(l){function r(){return null!==l&&l.apply(this,arguments)||this}return __extends$S(r,l),r.prototype.init=function(e){var i=this;this.params=e,this.selectAndSetTemplate();var a={addOrRemoveCssClass:function(s,d){return i.addOrRemoveCssClass(s,d)},addOrRemoveDetailGridCssClass:function(s,d){return i.eDetailGrid.classList.toggle(s,d)},setDetailGrid:function(s){return i.setDetailGrid(s)},setRowData:function(s){return i.setRowData(s)},getGui:function(){return i.eDetailGrid}};this.ctrl=this.createManagedBean(new DetailCellRendererCtrl),this.ctrl.init(a,e)},r.prototype.refresh=function(){return this.ctrl&&this.ctrl.refresh()},r.prototype.destroy=function(){l.prototype.destroy.call(this)},r.prototype.selectAndSetTemplate=function(){var e=this;if(this.params.pinned)this.setTemplate('<div class="ag-details-row"></div>');else{var i=function(){e.setTemplate(r.TEMPLATE)};if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missing(this.params.template))i();else if("string"==typeof this.params.template)this.setTemplate(this.params.template);else if("function"==typeof this.params.template){var s=(0,this.params.template)(this.params);this.setTemplate(s)}else console.warn("AG Grid: detailCellRendererParams.template should be function or string"),i();null==this.eDetailGrid&&console.warn('AG Grid: reference to eDetailGrid was missing from the details template. Please add ref="eDetailGrid" to the template.')}},r.prototype.setDetailGrid=function(e){if(this.eDetailGrid){var i=this.context.getBean("agGridReact"),a=i?ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.cloneObject(i):void 0,s=this.context.getBean("frameworkComponentWrapper"),d=this.getFrameworkOverrides();new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.rjZ(this.eDetailGrid,e,{frameworkOverrides:d,providedBeanInstances:{agGridReact:a,frameworkComponentWrapper:s}}),this.detailApi=e.api,this.ctrl.registerDetailWithMaster(e.api,e.columnApi),this.addDestroyFunc(function(){e.api&&e.api.destroy()})}},r.prototype.setRowData=function(e){this.detailApi&&this.detailApi.setRowData(e)},r.TEMPLATE='<div class="ag-details-row" role="gridcell">\n            <div ref="eDetailGrid" class="ag-details-grid" role="presentation"></div>\n        </div>',__decorate$z([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eDetailGrid")],r.prototype,"eDetailGrid",void 0),r}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),MasterDetailModule={moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.MasterDetailModule,beans:[],userComponents:[{componentName:"agDetailCellRenderer",componentClass:DetailCellRenderer}],controllers:[{controllerName:"detailCellRenderer",controllerClass:DetailCellRendererCtrl}],dependantModules:[EnterpriseCoreModule]},__extends$R=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__decorate$y=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},EnterpriseMenuFactory=function(l){function r(){return null!==l&&l.apply(this,arguments)||this}return __extends$R(r,l),r.prototype.hideActiveMenu=function(){this.destroyBean(this.activeMenu)},r.prototype.showMenuAfterMouseEvent=function(e,i,a){var s=this;this.showMenu(e,function(d){var h=d.getGui();s.popupService.positionPopupUnderMouseEvent({type:"columnMenu",column:e,mouseEvent:i,ePopup:h}),a&&d.showTab(a)},"columnMenu",a,void 0,i.target)},r.prototype.showMenuAfterButtonClick=function(e,i,a,s,d){var h=this,v=-1,_="left";this.gridOptionsWrapper.isEnableRtl()&&(v=1,_="right"),this.showMenu(e,function(y){var m=y.getGui();h.popupService.positionPopupUnderComponent({type:a,column:e,eventSource:i,ePopup:m,alignSide:_,nudgeX:9*v,nudgeY:-23,keepWithinBounds:!0}),s&&y.showTab(s)},a,s,d,i)},r.prototype.showMenu=function(e,i,a,s,d,h){var v=this,_=this.createBean(new EnterpriseMenu(e,this.lastSelectedTab,d)),y=_.getGui(),m=h||this.ctrlsService.getGridBodyCtrl().getGui(),E=[];E.push(function(T){if(v.destroyBean(_),e.setMenuVisible(!1,"contextMenu"),T instanceof KeyboardEvent&&h&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.isVisible(h)){var M=v.focusService.findTabbableParent(h);M&&M.focus()}});var w=this.gridOptionsWrapper.getLocaleTextFunc(),S=this.popupService.addPopup({modal:!0,eChild:y,closeOnEsc:!0,closedCallback:function(T){E.forEach(function(b){return b(T)})},afterGuiAttached:function(T){return _.afterGuiAttached(Object.assign({},{container:a},T))},positionCallback:function(){return i(_)},anchorToElement:m,ariaLabel:w("ariaLabelColumnMenu","Column Menu")});if(S){var D=S.stopAnchoringPromise;D&&D.then(function(T){e.addEventListener(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sgG.EVENT_LEFT_CHANGED,T),e.addEventListener(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sgG.EVENT_VISIBLE_CHANGED,T),E.push(function(){e.removeEventListener(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sgG.EVENT_LEFT_CHANGED,T),e.removeEventListener(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sgG.EVENT_VISIBLE_CHANGED,T)})})}s||(_.showTabBasedOnPreviousSelection(),i(_)),_.addEventListener(EnterpriseMenu.EVENT_TAB_SELECTED,function(T){v.lastSelectedTab=T.key}),e.setMenuVisible(!0,"contextMenu"),this.activeMenu=_,_.addEventListener(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9.EVENT_DESTROYED,function(){v.activeMenu===_&&(v.activeMenu=null)})},r.prototype.isMenuEnabled=function(e){return e.getMenuTabs(EnterpriseMenu.TABS_DEFAULT).length>0},__decorate$y([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("popupService")],r.prototype,"popupService",void 0),__decorate$y([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("focusService")],r.prototype,"focusService",void 0),__decorate$y([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ctrlsService")],r.prototype,"ctrlsService",void 0),__decorate$y([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("menuFactory")],r)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),EnterpriseMenu=function(l){function r(e,i,a){var s=l.call(this)||this;return s.tabFactories={},s.includeChecks={},s.column=e,s.initialSelection=i,s.tabFactories[r.TAB_GENERAL]=s.createMainPanel.bind(s),s.tabFactories[r.TAB_FILTER]=s.createFilterPanel.bind(s),s.tabFactories[r.TAB_COLUMNS]=s.createColumnsPanel.bind(s),s.includeChecks[r.TAB_GENERAL]=function(){return!0},s.includeChecks[r.TAB_FILTER]=function(){return e.isFilterAllowed()},s.includeChecks[r.TAB_COLUMNS]=function(){return!0},s.restrictTo=a,s}return __extends$R(r,l),r.prototype.init=function(){var e=this,i=this.getTabsToCreate().map(function(a){return e.createTab(a)});this.tabbedLayout=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.WD6({items:i,cssClass:"ag-menu",onActiveItemClicked:this.onHidePopup.bind(this),onItemClicked:this.onTabItemClicked.bind(this)}),this.createBean(this.tabbedLayout),this.mainMenuList&&this.mainMenuList.setParentComponent(this.tabbedLayout)},r.prototype.getTabsToCreate=function(){var e=this;return this.restrictTo?this.restrictTo:this.column.getMenuTabs(r.TABS_DEFAULT).filter(function(i){return e.isValidMenuTabItem(i)}).filter(function(i){return e.isNotSuppressed(i)}).filter(function(i){return e.isModuleLoaded(i)})},r.prototype.isModuleLoaded=function(e){return e!==r.TAB_COLUMNS||ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.isRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.ColumnToolPanelModule)},r.prototype.isValidMenuTabItem=function(e){var i=!0,a=r.TABS_DEFAULT;return null!=this.restrictTo&&(i=this.restrictTo.indexOf(e)>-1,a=this.restrictTo),(i=i&&r.TABS_DEFAULT.indexOf(e)>-1)||console.warn("AG Grid: Trying to render an invalid menu item '"+e+"'. Check that your 'menuTabs' contains one of ["+a+"]"),i},r.prototype.isNotSuppressed=function(e){return this.includeChecks[e]()},r.prototype.createTab=function(e){return this.tabFactories[e]()},r.prototype.showTabBasedOnPreviousSelection=function(){this.showTab(this.initialSelection)},r.prototype.showTab=function(e){this.tabItemColumns&&e===r.TAB_COLUMNS?this.tabbedLayout.showItem(this.tabItemColumns):this.tabItemFilter&&e===r.TAB_FILTER?this.tabbedLayout.showItem(this.tabItemFilter):this.tabItemGeneral&&e===r.TAB_GENERAL?this.tabbedLayout.showItem(this.tabItemGeneral):this.tabbedLayout.showFirstItem()},r.prototype.onTabItemClicked=function(e){var i=null;switch(e.item){case this.tabItemColumns:i=r.TAB_COLUMNS;break;case this.tabItemFilter:i=r.TAB_FILTER;break;case this.tabItemGeneral:i=r.TAB_GENERAL}i&&this.activateTab(i)},r.prototype.activateTab=function(e){this.dispatchEvent({type:r.EVENT_TAB_SELECTED,key:e})},r.prototype.getMenuItems=function(){var i,e=this.getDefaultMenuOptions(),a=this.gridOptionsWrapper.getMainMenuItemsFunc();return i=a?a({column:this.column,defaultItems:e}):e,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeRepeatsFromArray(i,r.MENU_ITEM_SEPARATOR),i},r.prototype.getDefaultMenuOptions=function(){var e=[],i=!this.column.getColDef().lockPinned,a=this.columnModel.getRowGroupColumns().length,s=a>0,d=this.columnModel.getRowGroupColumns().indexOf(this.column)>=0,h=this.column.isAllowValue(),v=this.column.isAllowRowGroup(),_=this.column.isPrimary(),y=this.columnModel.isPivotMode(),m=this.rowModel.getType()===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.gTE.ROW_MODEL_TYPE_CLIENT_SIDE,E=this.gridOptionsWrapper.isTreeData(),w=_&&s&&h||!_;return i&&e.push("pinSubMenu"),w&&e.push("valueAggSubMenu"),(i||w)&&e.push(r.MENU_ITEM_SEPARATOR),e.push("autoSizeThis"),e.push("autoSizeAll"),e.push(r.MENU_ITEM_SEPARATOR),v&&this.column.isPrimary()&&e.push(d?"rowUnGroup":"rowGroup"),e.push(r.MENU_ITEM_SEPARATOR),e.push("resetColumns"),m&&(E||a>(y?1:0))&&(e.push("expandAll"),e.push("contractAll")),e},r.prototype.createMainPanel=function(){this.mainMenuList=this.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O_3);var e=this.getMenuItems(),i=this.menuItemMapper.mapWithStockItems(e,this.column);return this.mainMenuList.addMenuItems(i),this.mainMenuList.addEventListener(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sJC.EVENT_MENU_ITEM_SELECTED,this.onHidePopup.bind(this)),this.tabItemGeneral={title:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("menu",this.gridOptionsWrapper,this.column),titleLabel:r.TAB_GENERAL.replace("MenuTab",""),bodyPromise:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S.resolve(this.mainMenuList.getGui()),name:r.TAB_GENERAL},this.tabItemGeneral},r.prototype.onHidePopup=function(e){var i;e&&e.event&&e.event instanceof KeyboardEvent&&(i=e.event),this.hidePopupFunc(i&&{keyboardEvent:i});var a=this.focusService.getFocusedCell(),s=this.gridOptionsWrapper.getDocument();s.activeElement===s.body&&a&&this.focusService.setFocusedCell({rowIndex:a.rowIndex,column:a.column,rowPinned:a.rowPinned,forceBrowserFocus:!0})},r.prototype.createFilterPanel=function(){var e,i=this.filterManager.getOrCreateFilterWrapper(this.column,"COLUMN_MENU");if(!i)throw new Error("AG Grid - Unable to instantiate filter");return this.tabItemFilter={title:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("filter",this.gridOptionsWrapper,this.column),titleLabel:r.TAB_FILTER.replace("MenuTab",""),bodyPromise:null===(e=i)||void 0===e?void 0:e.guiPromise,afterAttachedCallback:function(s){var d;null===(d=i)||void 0===d||!d.filterPromise||i.filterPromise.then(function(h){h&&h.afterGuiAttached&&h.afterGuiAttached(s)})},name:r.TAB_FILTER},this.tabItemFilter},r.prototype.createColumnsPanel=function(){var e=document.createElement("div");e.classList.add("ag-menu-column-select-wrapper"),this.columnSelectPanel=this.createManagedBean(new PrimaryColsPanel);var i=this.column.getColDef().columnsMenuParams;i||(i={}),this.columnSelectPanel.init(!1,{suppressColumnMove:!1,suppressValues:!1,suppressPivots:!1,suppressRowGroups:!1,suppressPivotMode:!1,contractColumnSelection:!!i.contractColumnSelection,suppressColumnExpandAll:!!i.suppressColumnExpandAll,suppressColumnFilter:!!i.suppressColumnFilter,suppressColumnSelectAll:!!i.suppressColumnSelectAll,suppressSyncLayoutWithGrid:!!i.suppressSyncLayoutWithGrid,api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext()},"columnMenu");var a=this.columnSelectPanel.getGui();return a.classList.add("ag-menu-column-select"),e.appendChild(a),this.tabItemColumns={title:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("columns",this.gridOptionsWrapper,this.column),titleLabel:r.TAB_COLUMNS.replace("MenuTab",""),bodyPromise:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S.resolve(e),name:r.TAB_COLUMNS},this.tabItemColumns},r.prototype.afterGuiAttached=function(e){var a=e.hidePopup;this.tabbedLayout.setAfterAttachedParams({container:e.container,hidePopup:a}),a&&(this.hidePopupFunc=a,this.addDestroyFunc(a))},r.prototype.getGui=function(){return this.tabbedLayout.getGui()},r.EVENT_TAB_SELECTED="tabSelected",r.TAB_FILTER="filterMenuTab",r.TABS_DEFAULT=[r.TAB_GENERAL="generalMenuTab",r.TAB_FILTER,r.TAB_COLUMNS="columnsMenuTab"],r.MENU_ITEM_SEPARATOR="separator",__decorate$y([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],r.prototype,"columnModel",void 0),__decorate$y([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("filterManager")],r.prototype,"filterManager",void 0),__decorate$y([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],r.prototype,"gridApi",void 0),__decorate$y([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnApi")],r.prototype,"columnApi",void 0),__decorate$y([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("menuItemMapper")],r.prototype,"menuItemMapper",void 0),__decorate$y([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowModel")],r.prototype,"rowModel",void 0),__decorate$y([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("focusService")],r.prototype,"focusService",void 0),__decorate$y([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],r.prototype,"init",null),r}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$Q=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__decorate$x=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},CSS_MENU="ag-menu",CSS_CONTEXT_MENU_OPEN="ag-context-menu-open",ContextMenuFactory=function(l){function r(){return null!==l&&l.apply(this,arguments)||this}return __extends$Q(r,l),r.prototype.hideActiveMenu=function(){this.destroyBean(this.activeMenu)},r.prototype.getMenuItems=function(e,i,a){var s=[];if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(e)&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.isRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.ClipboardModule)&&i&&s.push("copy","copyWithHeaders","copyWithGroupHeaders","paste","separator"),this.gridOptionsWrapper.isEnableCharts()&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.isRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.RangeSelectionModule)&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.isRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.GridChartsModule)&&(this.columnModel.isPivotMode()&&s.push("pivotChart"),this.rangeService&&!this.rangeService.isEmpty()&&s.push("chartRange")),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(e)){var d=!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.isRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.CsvExportModule),h=!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.isRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.ExcelExportModule),v=this.gridOptionsWrapper.isSuppressExcelExport()||h,_=this.gridOptionsWrapper.isSuppressCsvExport()||d;!(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.isIOSUserAgent()||v&&_)&&s.push("export")}if(this.gridOptionsWrapper.getContextMenuItemsFunc()){var E=this.gridOptionsWrapper.getContextMenuItemsFunc();return E?E({node:e,column:i,value:a,defaultItems:s.length?s:void 0}):void 0}return s},r.prototype.onContextMenu=function(e,i,a,s,d,h){!this.gridOptionsWrapper.isAllowContextMenuWithControlKey()&&e&&(e.ctrlKey||e.metaKey)||(e&&this.blockMiddleClickScrollsIfNeeded(e),this.gridOptionsWrapper.isSuppressContextMenu())||this.showMenu(a,s,d,e||i.touches[0],h)&&(e||i).preventDefault()},r.prototype.blockMiddleClickScrollsIfNeeded=function(e){var a=e.which;this.gridOptionsWrapper.isSuppressMiddleClickScrolls()&&2===a&&e.preventDefault()},r.prototype.showMenu=function(e,i,a,s,d){var h=this,v=this.getMenuItems(e,i,a),_=this.ctrlsService.getGridBodyCtrl().getGui();if(void 0===v||ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missingOrEmpty(v))return!1;var y=new ContextMenu(v);this.createBean(y);var m=y.getGui(),E={column:i,rowNode:e,type:"contextMenu",mouseEvent:s,ePopup:m,nudgeY:1},w=this.gridOptionsWrapper.getLocaleTextFunc(),S=this.popupService.addPopup({modal:!0,eChild:m,closeOnEsc:!0,closedCallback:function(){_.classList.remove(CSS_CONTEXT_MENU_OPEN),h.destroyBean(y)},click:s,positionCallback:function(){h.popupService.positionPopupUnderMouseEvent(Object.assign({},{nudgeX:h.gridOptionsWrapper.isEnableRtl()?-1*(m.offsetWidth+1):1},E))},anchorToElement:d,ariaLabel:w("ariaLabelContextMenu","Context Menu")});return S&&(_.classList.add(CSS_CONTEXT_MENU_OPEN),y.afterGuiAttached({container:"contextMenu",hidePopup:S.hideFunc})),this.activeMenu&&this.hideActiveMenu(),this.activeMenu=y,y.addEventListener(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9.EVENT_DESTROYED,function(){h.activeMenu===y&&(h.activeMenu=null)}),S&&y.addEventListener(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sJC.EVENT_MENU_ITEM_SELECTED,S.hideFunc),!0},__decorate$x([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("popupService")],r.prototype,"popupService",void 0),__decorate$x([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FiY)("rangeService")],r.prototype,"rangeService",void 0),__decorate$x([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ctrlsService")],r.prototype,"ctrlsService",void 0),__decorate$x([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],r.prototype,"columnModel",void 0),__decorate$x([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("contextMenuFactory")],r)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),ContextMenu=function(l){function r(e){var i=l.call(this,'<div class="'+CSS_MENU+'" role="presentation"></div>')||this;return i.menuList=null,i.focusedCell=null,i.menuItems=e,i}return __extends$Q(r,l),r.prototype.addMenuItems=function(){var e=this,i=this.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O_3),a=this.menuItemMapper.mapWithStockItems(this.menuItems,null);i.addMenuItems(a),this.appendChild(i),this.menuList=i,i.addEventListener(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sJC.EVENT_MENU_ITEM_SELECTED,function(s){return e.dispatchEvent(s)})},r.prototype.afterGuiAttached=function(e){e.hidePopup&&this.addDestroyFunc(e.hidePopup),this.focusedCell=this.focusService.getFocusedCell(),this.menuList&&this.focusService.focusInto(this.menuList.getGui())},r.prototype.restoreFocusedCell=function(){var e=this.focusService.getFocusedCell();if(e&&this.focusedCell&&this.cellPositionUtils.equals(e,this.focusedCell)){var i=this.focusedCell,a=i.rowIndex,s=i.rowPinned,d=i.column,h=this.gridOptionsWrapper.getDocument();h.activeElement===h.body&&this.focusService.setFocusedCell({rowIndex:a,column:d,rowPinned:s,forceBrowserFocus:!0})}},r.prototype.destroy=function(){this.restoreFocusedCell(),l.prototype.destroy.call(this)},__decorate$x([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("menuItemMapper")],r.prototype,"menuItemMapper",void 0),__decorate$x([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("focusService")],r.prototype,"focusService",void 0),__decorate$x([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("cellPositionUtils")],r.prototype,"cellPositionUtils",void 0),__decorate$x([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],r.prototype,"addMenuItems",null),r}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$P=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__decorate$w=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},MenuItemMapper=function(l){function r(){return null!==l&&l.apply(this,arguments)||this}return __extends$P(r,l),r.prototype.mapWithStockItems=function(e,i){var a=this;if(!e)return[];var s=[];return e.forEach(function(d){var h;if(h="string"==typeof d?a.getStockMenuItem(d,i):d){var _=h.subMenu;_&&_ instanceof Array&&(h.subMenu=a.mapWithStockItems(h.subMenu,i)),null!=h&&s.push(h)}}),s},r.prototype.getStockMenuItem=function(e,i){var a=this,s=this.gridOptionsWrapper.getLocaleTextFunc(),d=this.gridOptionsWrapper.isSkipHeaderOnAutoSize();switch(e){case"pinSubMenu":return{name:s("pinColumn","Pin Column"),icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("menuPin",this.gridOptionsWrapper,null),subMenu:["pinLeft","pinRight","clearPinned"]};case"pinLeft":return{name:s("pinLeft","Pin Left"),action:function(){return a.columnModel.setColumnPinned(i,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.gTE.PINNED_LEFT,"contextMenu")},checked:!!i&&i.isPinnedLeft()};case"pinRight":return{name:s("pinRight","Pin Right"),action:function(){return a.columnModel.setColumnPinned(i,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.gTE.PINNED_RIGHT,"contextMenu")},checked:!!i&&i.isPinnedRight()};case"clearPinned":return{name:s("noPin","No Pin"),action:function(){return a.columnModel.setColumnPinned(i,null,"contextMenu")},checked:!!i&&!i.isPinned()};case"valueAggSubMenu":return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.assertRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.RowGroupingModule,"Aggregation from Menu")?{name:s("valueAggregation","Value Aggregation"),icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("menuValue",this.gridOptionsWrapper,null),subMenu:this.createAggregationSubMenu(i)}:null;case"autoSizeThis":return{name:s("autosizeThiscolumn","Autosize This Column"),action:function(){return a.columnModel.autoSizeColumn(i,d,"contextMenu")}};case"autoSizeAll":return{name:s("autosizeAllColumns","Autosize All Columns"),action:function(){return a.columnModel.autoSizeAllColumns(d,"contextMenu")}};case"rowGroup":return{name:s("groupBy","Group by")+" "+ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.escapeString(this.columnModel.getDisplayNameForColumn(i,"header")),action:function(){return a.columnModel.addRowGroupColumn(i,"contextMenu")},icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("menuAddRowGroup",this.gridOptionsWrapper,null)};case"rowUnGroup":return{name:s("ungroupBy","Un-Group by")+" "+ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.escapeString(this.columnModel.getDisplayNameForColumn(i,"header")),action:function(){return a.columnModel.removeRowGroupColumn(i,"contextMenu")},icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("menuRemoveRowGroup",this.gridOptionsWrapper,null)};case"resetColumns":return{name:s("resetColumns","Reset Columns"),action:function(){return a.columnModel.resetColumnState("contextMenu")}};case"expandAll":return{name:s("expandAll","Expand All"),action:function(){return a.gridApi.expandAll()}};case"contractAll":return{name:s("collapseAll","Collapse All"),action:function(){return a.gridApi.collapseAll()}};case"copy":return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.assertRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.ClipboardModule,"Copy from Menu")?{name:s("copy","Copy"),shortcut:s("ctrlC","Ctrl+C"),icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("clipboardCopy",this.gridOptionsWrapper,null),action:function(){return a.clipboardService.copyToClipboard()}}:null;case"copyWithHeaders":return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.assertRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.ClipboardModule,"Copy with Headers from Menu")?{name:s("copyWithHeaders","Copy with Headers"),icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("clipboardCopy",this.gridOptionsWrapper,null),action:function(){return a.clipboardService.copyToClipboard({includeHeaders:!0})}}:null;case"copyWithGroupHeaders":return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.assertRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.ClipboardModule,"Copy with Group Headers from Menu")?{name:s("copyWithGroupHeaders","Copy with Group Headers"),icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("clipboardCopy",this.gridOptionsWrapper,null),action:function(){return a.clipboardService.copyToClipboard({includeHeaders:!0,includeGroupHeaders:!0})}}:null;case"paste":return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.assertRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.ClipboardModule,"Paste from Clipboard")?{name:s("paste","Paste"),shortcut:s("ctrlV","Ctrl+V"),disabled:!0,icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("clipboardPaste",this.gridOptionsWrapper,null),action:function(){return a.clipboardService.pasteFromClipboard()}}:null;case"export":var h=[],v=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.isRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.CsvExportModule),_=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.isRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.ExcelExportModule);return!this.gridOptionsWrapper.isSuppressCsvExport()&&v&&h.push("csvExport"),!this.gridOptionsWrapper.isSuppressExcelExport()&&_&&h.push("excelExport"),{name:s("export","Export"),subMenu:h,icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("save",this.gridOptionsWrapper,null)};case"csvExport":return{name:s("csvExport","CSV Export"),icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("csvExport",this.gridOptionsWrapper,null),action:function(){return a.gridApi.exportDataAsCsv({})}};case"excelExport":return{name:s("excelExport","Excel Export"),icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("excelExport",this.gridOptionsWrapper,null),action:function(){return a.gridApi.exportDataAsExcel()}};case"separator":return"separator";default:return this.getChartItems(e)||(console.warn("AG Grid: unknown menu item type "+e),null)}},r.prototype.getChartItems=function(e){var i=this,a=this.gridOptionsWrapper.getLocaleTextFunc(),s=function(h,v,_){return{name:a(h,v),action:function(){return i.chartService.createPivotChart({chartType:_})}}},d=function(h,v,_){return{name:a(h,v),action:function(){return i.chartService.createChartFromCurrentRange(_)}}};switch(e){case"pivotChart":return{name:a("pivotChart","Pivot Chart"),subMenu:["pivotColumnChart","pivotBarChart","pivotPieChart","pivotLineChart","pivotXYChart","pivotAreaChart"],icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("chart",this.gridOptionsWrapper,null)};case"chartRange":return{name:a("chartRange","Chart Range"),subMenu:["rangeColumnChart","rangeBarChart","rangePieChart","rangeLineChart","rangeXYChart","rangeAreaChart","rangeHistogramChart","rangeCombinationChart"],icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("chart",this.gridOptionsWrapper,null)};case"pivotColumnChart":return{name:a("columnChart","Column"),subMenu:["pivotGroupedColumn","pivotStackedColumn","pivotNormalizedColumn"]};case"pivotGroupedColumn":return s("groupedColumn","Grouped&lrm;","groupedColumn");case"pivotStackedColumn":return s("stackedColumn","Stacked&lrm;","stackedColumn");case"pivotNormalizedColumn":return s("normalizedColumn","100% Stacked&lrm;","normalizedColumn");case"rangeColumnChart":return{name:a("columnChart","Column"),subMenu:["rangeGroupedColumn","rangeStackedColumn","rangeNormalizedColumn"]};case"rangeGroupedColumn":return d("groupedColumn","Grouped&lrm;","groupedColumn");case"rangeStackedColumn":return d("stackedColumn","Stacked&lrm;","stackedColumn");case"rangeNormalizedColumn":return d("normalizedColumn","100% Stacked&lrm;","normalizedColumn");case"pivotBarChart":return{name:a("barChart","Bar"),subMenu:["pivotGroupedBar","pivotStackedBar","pivotNormalizedBar"]};case"pivotGroupedBar":return s("groupedBar","Grouped&lrm;","groupedBar");case"pivotStackedBar":return s("stackedBar","Stacked&lrm;","stackedBar");case"pivotNormalizedBar":return s("normalizedBar","100% Stacked&lrm;","normalizedBar");case"rangeBarChart":return{name:a("barChart","Bar"),subMenu:["rangeGroupedBar","rangeStackedBar","rangeNormalizedBar"]};case"rangeGroupedBar":return d("groupedBar","Grouped&lrm;","groupedBar");case"rangeStackedBar":return d("stackedBar","Stacked&lrm;","stackedBar");case"rangeNormalizedBar":return d("normalizedBar","100% Stacked&lrm;","normalizedBar");case"pivotPieChart":return{name:a("pieChart","Pie"),subMenu:["pivotPie","pivotDoughnut"]};case"pivotPie":return s("pie","Pie&lrm;","pie");case"pivotDoughnut":return s("doughnut","Doughnut&lrm;","doughnut");case"rangePieChart":return{name:a("pieChart","Pie"),subMenu:["rangePie","rangeDoughnut"]};case"rangePie":return d("pie","Pie&lrm;","pie");case"rangeDoughnut":return d("doughnut","Doughnut&lrm;","doughnut");case"pivotLineChart":return s("line","Line&lrm;","line");case"rangeLineChart":return d("line","Line&lrm;","line");case"pivotXYChart":return{name:a("xyChart","X Y (Scatter)"),subMenu:["pivotScatter","pivotBubble"]};case"pivotScatter":return s("scatter","Scatter&lrm;","scatter");case"pivotBubble":return s("bubble","Bubble&lrm;","bubble");case"rangeXYChart":return{name:a("xyChart","X Y (Scatter)"),subMenu:["rangeScatter","rangeBubble"]};case"rangeScatter":return d("scatter","Scatter&lrm;","scatter");case"rangeBubble":return d("bubble","Bubble&lrm;","bubble");case"pivotAreaChart":return{name:a("areaChart","Area"),subMenu:["pivotArea","pivotStackedArea","pivotNormalizedArea"]};case"pivotArea":return s("area","Area&lrm;","area");case"pivotStackedArea":return s("stackedArea","Stacked&lrm;","stackedArea");case"pivotNormalizedArea":return s("normalizedArea","100% Stacked&lrm;","normalizedArea");case"rangeAreaChart":return{name:a("areaChart","Area"),subMenu:["rangeArea","rangeStackedArea","rangeNormalizedArea"]};case"rangeArea":return d("area","Area&lrm;","area");case"rangeStackedArea":return d("stackedArea","Stacked&lrm;","stackedArea");case"rangeNormalizedArea":return d("normalizedArea","100% Stacked&lrm;","normalizedArea");case"rangeHistogramChart":return d("histogramChart","Histogram&lrm;","histogram");case"rangeColumnLineCombo":return d("columnLineCombo","Column & Line&lrm;","columnLineCombo");case"rangeAreaColumnCombo":return d("AreaColumnCombo","Area & Column&lrm;","areaColumnCombo");case"rangeCombinationChart":return{name:a("combinationChart","Combination"),subMenu:["rangeColumnLineCombo","rangeAreaColumnCombo"]};default:return null}},r.prototype.createAggregationSubMenu=function(e){var h,i=this,a=this.gridOptionsWrapper.getLocaleTextFunc(),s=e.isValueActive(),d=this.aggFuncService.getFuncNames(e);if(e.isPrimary())h=e;else{var v=e.getColDef().pivotValueColumn;h=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(v)?v:void 0}var _=[];return d.forEach(function(y){_.push({name:a(y,y),action:function(){i.columnModel.setColumnAggFunc(h,y,"contextMenu"),i.columnModel.addValueColumn(h,"contextMenu")},checked:s&&h.getAggFunc()===y})}),_},__decorate$w([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],r.prototype,"columnModel",void 0),__decorate$w([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],r.prototype,"gridApi",void 0),__decorate$w([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FiY)("clipboardService")],r.prototype,"clipboardService",void 0),__decorate$w([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FiY)("aggFuncService")],r.prototype,"aggFuncService",void 0),__decorate$w([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FiY)("chartService")],r.prototype,"chartService",void 0),__decorate$w([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("menuItemMapper")],r)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),MenuModule={moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.MenuModule,beans:[EnterpriseMenuFactory,ContextMenuFactory,MenuItemMapper],dependantModules:[EnterpriseCoreModule]},__extends$O=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__assign$3=function(){return __assign$3=Object.assign||function(l){for(var r,e=1,i=arguments.length;e<i;e++)for(var a in r=arguments[e])Object.prototype.hasOwnProperty.call(r,a)&&(l[a]=r[a]);return l},__assign$3.apply(this,arguments)},__decorate$v=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},MultiFilter=function(l){function r(){var e=l.call(this,'<div class="ag-multi-filter ag-menu-list-compact"></div>')||this;return e.filterDefs=[],e.filters=[],e.guiDestroyFuncs=[],e.activeFilterIndices=[],e.lastActivatedMenuItem=null,e.afterFiltersReadyFuncs=[],e}return __extends$O(r,l),r.prototype.postConstruct=function(){var e=this;this.initialiseTabGuard({onFocusIn:function(i){return e.onFocusIn(i)}})},r.getFilterDefs=function(e){var i=e.filters;return i&&i.length>0?i:[{filter:"agTextColumnFilter"},{filter:"agSetColumnFilter"}]},r.prototype.init=function(e){var i=this;this.params=e,this.filterDefs=r.getFilterDefs(e);var s=e.filterChangedCallback;this.column=e.column,this.filterChangedCallback=s;var d=[];return this.filterDefs.forEach(function(h,v){var _=i.createFilter(h,v);null!=_&&d.push(_)}),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S.all(d).then(function(h){i.filters=h,i.refreshGui("columnMenu"),i.afterFiltersReadyFuncs.forEach(function(v){return v()}),i.afterFiltersReadyFuncs.length=0})},r.prototype.refreshGui=function(e){var i=this;e!==this.lastOpenedInContainer&&(this.removeAllChildrenExceptTabGuards(),this.destroyChildren(),this.filters.forEach(function(a,s){s>0&&i.appendChild(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.loadTemplate('<div class="ag-filter-separator"></div>'));var v,d=i.filterDefs[s],h=i.getFilterTitle(a,d);v="subMenu"===d.display&&"toolPanel"!==e?i.insertFilterMenu(a,h).getGui():"subMenu"===d.display||"accordion"===d.display?i.insertFilterGroup(a,h).getGui():a.getGui(),i.appendChild(v)}),this.lastOpenedInContainer=e)},r.prototype.getFilterTitle=function(e,i){return null!=i.title?i.title:"function"==typeof e.getFilterTitle?e.getFilterTitle():"Filter"},r.prototype.destroyChildren=function(){this.guiDestroyFuncs.forEach(function(e){return e()}),this.guiDestroyFuncs.length=0},r.prototype.insertFilterMenu=function(e,i){var a=this,s=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sJC({name:i,subMenu:e,cssClasses:["ag-multi-filter-menu-item"],isCompact:!0,isAnotherSubMenuOpen:function(){return!1}}));return s.setParentComponent(this),this.guiDestroyFuncs.push(function(){return a.destroyBean(s)}),this.addManagedListener(s,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sJC.EVENT_MENU_ITEM_ACTIVATED,function(d){a.lastActivatedMenuItem&&a.lastActivatedMenuItem!==d.menuItem&&a.lastActivatedMenuItem.deactivate(),a.lastActivatedMenuItem=d.menuItem}),s.addGuiEventListener("focusin",function(){return s.activate()}),s.addGuiEventListener("focusout",function(){s.isSubMenuOpen()||s.deactivate()}),s},r.prototype.insertFilterGroup=function(e,i){var a=this,s=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.H1u({title:i,cssIdentifier:"multi-filter"}));if(this.guiDestroyFuncs.push(function(){return a.destroyBean(s)}),s.addItem(e.getGui()),s.toggleGroupExpand(!1),e.afterGuiAttached){var d={container:this.lastOpenedInContainer,suppressFocus:!0};s.addManagedListener(s,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.H1u.EVENT_EXPANDED,function(){return e.afterGuiAttached(d)})}return s},r.prototype.isFilterActive=function(){return this.filters.some(function(e){return e.isFilterActive()})},r.prototype.getLastActiveFilterIndex=function(){return this.activeFilterIndices.length>0?this.activeFilterIndices[this.activeFilterIndices.length-1]:null},r.prototype.doesFilterPass=function(e,i){var a=!0;return this.filters.forEach(function(s){!a||s===i||!s.isFilterActive()||(a=s.doesFilterPass(e))}),a},r.prototype.getFilterType=function(){return"multi"},r.prototype.getModelFromUi=function(){return{filterType:this.getFilterType(),filterModels:this.filters.map(function(i){return"function"==typeof i.getModelFromUi?i.getModelFromUi():null})}},r.prototype.getModel=function(){return this.isFilterActive()?{filterType:this.getFilterType(),filterModels:this.filters.map(function(i){return i.isFilterActive()?i.getModel():null})}:null},r.prototype.setModel=function(e){var i=this,a=function(d,h){return new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S(function(v){var _=d.setModel(h);_?_.then(function(){return v()}):v()})},s=[];return null==e?s=this.filters.map(function(d,h){var v=a(d,null);return i.updateActiveList(h),v}):this.filters.forEach(function(d,h){var _=a(d,e.filterModels.length>h?e.filterModels[h]:null);s.push(_),i.updateActiveList(h)}),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S.all(s).then(function(){})},r.prototype.applyModel=function(){var e=!1;return this.filters.forEach(function(i){i instanceof ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AGU&&(e=i.applyModel()||e)}),e},r.prototype.getChildFilterInstance=function(e){return this.filters[e]},r.prototype.afterGuiAttached=function(e){e&&this.refreshGui(e.container);var i=this.params.filters,a=i&&i.some(function(h){return h.display&&"inline"!==h.display});this.executeFunctionIfExists("afterGuiAttached",__assign$3(__assign$3({},e||{}),{suppressFocus:a}));var s=this.gridOptionsWrapper.getDocument(),d=s.activeElement;a&&(d===s.body||this.getGui().contains(d))&&this.forceFocusOutOfContainer(!0)},r.prototype.onAnyFilterChanged=function(){this.executeFunctionIfExists("onAnyFilterChanged")},r.prototype.onNewRowsLoaded=function(){this.executeFunctionIfExists("onNewRowsLoaded")},r.prototype.destroy=function(){var e=this;this.filters.forEach(function(i){i.setModel(null),e.destroyBean(i)}),this.filters.length=0,this.destroyChildren(),l.prototype.destroy.call(this)},r.prototype.executeFunctionIfExists=function(e){for(var i=[],a=1;a<arguments.length;a++)i[a-1]=arguments[a];ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.forEachReverse(this.filters,function(s){var d=s[e];"function"==typeof d&&d.apply(s,i)})},r.prototype.createFilter=function(e,i){var v,a=this,s=this.params,d=s.filterModifiedCallback,h=s.doesRowPassOtherFilter,_=__assign$3(__assign$3({},this.filterManager.createFilterParams(this.column,this.column.getColDef())),{filterModifiedCallback:d,filterChangedCallback:function(E){a.executeWhenAllFiltersReady(function(){return a.filterChanged(i,E)})},doesRowPassOtherFilter:function(E){return h(E)&&a.doesFilterPass({node:E,data:E.data},v)}}),y=this.userComponentFactory.getFilterDetails(e,_,"agTextColumnFilter");if(!y)return null;var m=y.newAgStackInstance();return m&&m.then(function(E){return v=E}),m},r.prototype.executeWhenAllFiltersReady=function(e){this.filters&&this.filters.length>0?e():this.afterFiltersReadyFuncs.push(e)},r.prototype.updateActiveList=function(e){var i=this.filters[e];ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeFromArray(this.activeFilterIndices,e),i.isFilterActive()&&this.activeFilterIndices.push(e)},r.prototype.filterChanged=function(e,i){this.updateActiveList(e),this.filterChangedCallback(i);var a=this.filters[e];this.filters.forEach(function(s){s!==a&&"function"==typeof s.onAnyFilterChanged&&s.onAnyFilterChanged()})},r.prototype.onFocusIn=function(e){return null!=this.lastActivatedMenuItem&&!this.lastActivatedMenuItem.getGui().contains(e.target)&&(this.lastActivatedMenuItem.deactivate(),this.lastActivatedMenuItem=null),!0},__decorate$v([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("filterManager")],r.prototype,"filterManager",void 0),__decorate$v([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("userComponentFactory")],r.prototype,"userComponentFactory",void 0),__decorate$v([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],r.prototype,"postConstruct",null),r}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.BxR),__extends$N=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__assign$2=function(){return __assign$2=Object.assign||function(l){for(var r,e=1,i=arguments.length;e<i;e++)for(var a in r=arguments[e])Object.prototype.hasOwnProperty.call(r,a)&&(l[a]=r[a]);return l},__assign$2.apply(this,arguments)},__decorate$u=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},MultiFloatingFilterComp=function(l){function r(){var e=l.call(this,'<div class="ag-multi-floating-filter ag-floating-filter-input"></div>')||this;return e.floatingFilters=[],e}return __extends$N(r,l),r.prototype.init=function(e){var i=this;this.params=e;var s=[];return MultiFilter.getFilterDefs(e.filterParams).forEach(function(d,h){var v=__assign$2(__assign$2({},e),{parentFilterInstance:function(y){i.parentMultiFilterInstance(function(m){var E=m.getChildFilterInstance(h);null!=E&&y(E)})}}),_=i.createFloatingFilter(d,v);null!=_&&s.push(_)}),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S.all(s).then(function(d){d.forEach(function(h,v){i.floatingFilters.push(h);var _=h.getGui();i.appendChild(_),v>0&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(_,!1)})})},r.prototype.onParentModelChanged=function(e,i){var a=this;i&&i.afterFloatingFilter||this.parentMultiFilterInstance(function(s){if(null==e)a.floatingFilters.forEach(function(h,v){h.onParentModelChanged(null,i),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(h.getGui(),0===v)});else{var d=s.getLastActiveFilterIndex();a.floatingFilters.forEach(function(h,v){h.onParentModelChanged(e.filterModels.length>v?e.filterModels[v]:null,i);var y=null==d?0===v:v===d;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(h.getGui(),y)})}})},r.prototype.destroy=function(){this.destroyBeans(this.floatingFilters),this.floatingFilters.length=0,l.prototype.destroy.call(this)},r.prototype.createFloatingFilter=function(e,i){var a=this.userComponentFactory.getDefaultFloatingFilterType(e)||"agTextColumnFloatingFilter",s=this.userComponentFactory.getFloatingFilterCompDetails(e,i,a);return s?s.newAgStackInstance():null},r.prototype.parentMultiFilterInstance=function(e){this.params.parentFilterInstance(function(i){if(!(i instanceof MultiFilter))throw new Error("AG Grid - MultiFloatingFilterComp expects MultiFilter as it's parent");e(i)})},__decorate$u([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("userComponentFactory")],r.prototype,"userComponentFactory",void 0),r}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),MultiFilterModule={moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.MultiFilterModule,beans:[],userComponents:[{componentName:"agMultiColumnFilter",componentClass:MultiFilter},{componentName:"agMultiColumnFloatingFilter",componentClass:MultiFloatingFilterComp}],dependantModules:[EnterpriseCoreModule]},__extends$M=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__decorate$t=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},RichSelectRow=function(l){function r(e){var i=l.call(this,'<div class="ag-rich-select-row" role="presentation"></div>')||this;return i.params=e,i}return __extends$M(r,l),r.prototype.setState=function(e,i,a){this.populateWithRenderer(e,i)||this.populateWithoutRenderer(e,i),this.updateSelected(a)},r.prototype.updateSelected=function(e){this.addOrRemoveCssClass("ag-rich-select-row-selected",e)},r.prototype.populateWithoutRenderer=function(e,i){var s=null!=i?i:e;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(s)&&""!==s?this.getGui().textContent=s.toString():this.getGui().innerHTML="&nbsp;"},r.prototype.populateWithRenderer=function(e,i){var a=this,s={value:e,valueFormatted:i,api:this.gridOptionsWrapper.getApi()},d=this.userComponentFactory.getCellRendererDetails(this.params,s),h=d?d.newAgStackInstance():void 0;return null!=h?ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.bindCellRendererToHtmlElement(h,this.getGui()):this.getGui().innerText=null!=s.valueFormatted?s.valueFormatted:s.value,!!h&&(h.then(function(v){a.addDestroyFunc(function(){a.getContext().destroyBean(v)})}),!0)},__decorate$t([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("userComponentFactory")],r.prototype,"userComponentFactory",void 0),r}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$L=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__decorate$s=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},RichSelectCellEditor=function(l){function r(){var e=l.call(this,r.TEMPLATE)||this;return e.selectionConfirmed=!1,e.searchString="",e}return __extends$L(r,l),r.prototype.init=function(e){this.params=e,this.selectedValue=e.value,this.originalSelectedValue=e.value,this.focusAfterAttached=e.cellStartedEdit;var i=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("smallDown",this.gridOptionsWrapper);if(i.classList.add("ag-rich-select-value-icon"),this.eValue.appendChild(i),this.virtualList=this.getContext().createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.CPJ("rich-select")),this.virtualList.setComponentCreator(this.createRowComponent.bind(this)),this.eList.appendChild(this.virtualList.getGui()),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(this.params.cellHeight)&&this.virtualList.setRowHeight(this.params.cellHeight),this.renderSelectedValue(),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missing(e.values))console.warn("AG Grid: richSelectCellEditor requires values for it to work");else{var a=e.values;this.virtualList.setModel({getRowCount:function(){return a.length},getRow:function(h){return a[h]}}),this.addGuiEventListener("keydown",this.onKeyDown.bind(this));var s=this.virtualList.getGui();this.addManagedListener(s,"click",this.onClick.bind(this)),this.addManagedListener(s,"mousemove",this.onMouseMove.bind(this));var d=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(e.searchDebounceDelay)?e.searchDebounceDelay:300;this.clearSearchString=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.debounce(this.clearSearchString,d),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(e.charPress)&&this.searchText(e.charPress)}},r.prototype.onKeyDown=function(e){var i=e.key;switch(e.preventDefault(),i){case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.ENTER:this.onEnterKeyDown();break;case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.TAB:this.confirmSelection();break;case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.DOWN:case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.UP:this.onNavigationKeyPressed(e,i);break;default:this.searchText(e)}},r.prototype.confirmSelection=function(){this.selectionConfirmed=!0},r.prototype.onEnterKeyDown=function(){this.confirmSelection(),this.params.stopEditing()},r.prototype.onNavigationKeyPressed=function(e,i){e.preventDefault();var a=this.params.values.indexOf(this.selectedValue),s=i===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.UP?a-1:a+1;s>=0&&s<this.params.values.length&&this.setSelectedValue(this.params.values[s])},r.prototype.searchText=function(e){if("string"==typeof e)this.searchString+=e,this.runSearch(),this.clearSearchString();else{var i=e.key;if(i===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.BACKSPACE)this.searchString=this.searchString.slice(0,-1),i="";else if(!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.isEventFromPrintableCharacter(e))return;this.searchText(i)}},r.prototype.runSearch=function(){var a,e=this,i=this.params.values;if(("number"==typeof i[0]||"string"==typeof i[0])&&(a=i.map(String)),"object"==typeof i[0]&&this.params.colDef.keyCreator&&(a=i.map(function(v){var _={value:v,colDef:e.params.colDef,column:e.params.column,node:e.params.node,data:e.params.data,api:e.gridOptionsWrapper.getApi(),columnApi:e.gridOptionsWrapper.getColumnApi(),context:e.gridOptionsWrapper.getContext()};return e.params.colDef.keyCreator(_)})),a){var s=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.fuzzySuggestions(this.searchString,a,!0,!0)[0];if(s){var d=a.indexOf(s);this.setSelectedValue(i[d])}}},r.prototype.clearSearchString=function(){this.searchString=""},r.prototype.renderSelectedValue=function(){var e=this,i=this.params.formatValue(this.selectedValue),a=this.eValue,s={value:this.selectedValue,valueFormatted:i,api:this.gridOptionsWrapper.getApi()},d=this.userComponentFactory.getCellRendererDetails(this.params,s),h=d?d.newAgStackInstance():void 0;h?(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.bindCellRendererToHtmlElement(h,a),h.then(function(v){e.addDestroyFunc(function(){return e.getContext().destroyBean(v)})})):ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(this.selectedValue)?a.innerHTML=i:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.clearElement(a)},r.prototype.setSelectedValue=function(e){if(this.selectedValue!==e){var i=this.params.values.indexOf(e);-1!==i&&(this.selectedValue=e,this.virtualList.ensureIndexVisible(i),this.virtualList.forEachRenderedRow(function(a,s){a.updateSelected(i===s)}),this.virtualList.focusRow(i))}},r.prototype.createRowComponent=function(e){var i=this.params.formatValue(e),a=new RichSelectRow(this.params);return this.getContext().createBean(a),a.setState(e,i,e===this.selectedValue),a},r.prototype.onMouseMove=function(e){var i=this.virtualList.getGui().getBoundingClientRect(),a=this.virtualList.getScrollTop(),d=Math.floor((e.clientY-i.top+a)/this.virtualList.getRowHeight()),h=this.params.values[d];void 0!==h&&this.setSelectedValue(h)},r.prototype.onClick=function(){this.confirmSelection(),this.params.stopEditing()},r.prototype.afterGuiAttached=function(){var e=this.params.values.indexOf(this.selectedValue);this.virtualList.refresh(),e>=0&&this.virtualList.ensureIndexVisible(e),this.virtualList.refresh(),this.focusAfterAttached&&(this.params.values.length?this.virtualList.focusRow(-1!==e?e:0):this.getGui().focus())},r.prototype.getValue=function(){return this.selectionConfirmed?this.selectedValue:this.originalSelectedValue},r.TEMPLATE='<div class="ag-rich-select" tabindex="-1">\n            <div ref="eValue" class="ag-rich-select-value"></div>\n            <div ref="eList" class="ag-rich-select-list"></div>\n        </div>',__decorate$s([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("userComponentFactory")],r.prototype,"userComponentFactory",void 0),__decorate$s([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eValue")],r.prototype,"eValue",void 0),__decorate$s([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eList")],r.prototype,"eList",void 0),r}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RXH),RichSelectModule={moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.RichSelectModule,beans:[],userComponents:[{componentName:"agRichSelect",componentClass:RichSelectCellEditor},{componentName:"agRichSelectCellEditor",componentClass:RichSelectCellEditor}],dependantModules:[EnterpriseCoreModule]},__extends$K=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__decorate$r=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},ServerSideRowModel=function(l){function r(){var e=null!==l&&l.apply(this,arguments)||this;return e.pauseStoreUpdateListening=!1,e.started=!1,e}return __extends$K(r,l),r.prototype.ensureRowHeightsValid=function(){return!1},r.prototype.start=function(){this.started=!0;var e=this.gridOptionsWrapper.getServerSideDatasource();e&&this.setDatasource(e)},r.prototype.destroyDatasource=function(){!this.datasource||(this.datasource.destroy&&this.datasource.destroy(),this.rowRenderer.datasourceChanged(),this.datasource=void 0)},r.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverything.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_STORE_UPDATED,this.onStoreUpdated.bind(this));var e=this.resetRootStore.bind(this);this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_VALUE_CHANGED,e),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PIVOT_CHANGED,e),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_ROW_GROUP_CHANGED,e),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PIVOT_MODE_CHANGED,e),this.verifyProps()},r.prototype.verifyProps=function(){null!=this.gridOptionsWrapper.getInitialGroupOrderComparator()&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce(function(){return console.warn("AG Grid: initialGroupOrderComparator cannot be used with Server Side Row Model. If using Full Store, then provide the rows to the grid in the desired sort order. If using Infinite Scroll, then sorting is done on the server side, nothing to do with the client.")},"SSRM.InitialGroupOrderComparator"),this.gridOptionsWrapper.isRowSelection()&&null==this.gridOptionsWrapper.getRowIdFunc()&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce(function(){return console.warn("AG Grid: getRowId callback must be provided for Server Side Row Model selection to work correctly.")},"SSRM.SelectionNeedsRowNodeIdFunc")},r.prototype.setDatasource=function(e){!this.started||(this.destroyDatasource(),this.datasource=e,this.resetRootStore())},r.prototype.isLastRowIndexKnown=function(){var e=this.getRootStore();return!!e&&e.isLastRowIndexKnown()},r.prototype.onColumnEverything=function(){if(!this.gridOptionsWrapper.isSuppressEnterpriseResetOnNewColumns()){if(!this.storeParams)return void this.resetRootStore();var e=this.columnsToValueObjects(this.columnModel.getRowGroupColumns()),i=this.columnsToValueObjects(this.columnModel.getValueColumns()),a=this.columnsToValueObjects(this.columnModel.getPivotColumns()),s=!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.jsonEquals(this.storeParams.sortModel,this.sortController.getSortModel()),d=!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.jsonEquals(this.storeParams.rowGroupCols,e),h=!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.jsonEquals(this.storeParams.pivotCols,a),v=!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.jsonEquals(this.storeParams.valueCols,i);(s||d||h||v)&&this.resetRootStore()}},r.prototype.destroyRootStore=function(){!this.rootNode||!this.rootNode.childStore||(this.rootNode.childStore=this.destroyBean(this.rootNode.childStore),this.nodeManager.clear())},r.prototype.refreshAfterSort=function(e,i){this.storeParams&&(this.storeParams.sortModel=e);var a=this.getRootStore();!a||(a.refreshAfterSort(i),this.onStoreUpdated())},r.prototype.resetRootStore=function(){this.destroyRootStore(),this.rootNode=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Fxk(this.beans),this.rootNode.group=!0,this.rootNode.level=-1,this.datasource&&(this.storeParams=this.createStoreParams(),this.rootNode.childStore=this.createBean(this.storeFactory.createStore(this.storeParams,this.rootNode)),this.updateRowIndexesAndBounds()),this.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_ROW_DATA_UPDATED}),this.dispatchModelUpdated(!0)},r.prototype.columnsToValueObjects=function(e){var i=this;return e.map(function(a){return{id:a.getId(),aggFunc:a.getAggFunc(),displayName:i.columnModel.getDisplayNameForColumn(a,"model"),field:a.getColDef().field}})},r.prototype.createStoreParams=function(){var e=this.columnsToValueObjects(this.columnModel.getRowGroupColumns()),i=this.columnsToValueObjects(this.columnModel.getValueColumns()),a=this.columnsToValueObjects(this.columnModel.getPivotColumns()),s=this.gridOptionsWrapper.isDynamicRowHeight();return{valueCols:i,rowGroupCols:e,pivotCols:a,pivotMode:this.columnModel.isPivotMode(),filterModel:this.filterManager.getFilterModel(),sortModel:this.sortListener.extractSortModel(),datasource:this.datasource,lastAccessedSequence:new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.at1,dynamicRowHeight:s}},r.prototype.getParams=function(){return this.storeParams},r.prototype.dispatchModelUpdated=function(e){void 0===e&&(e=!1),this.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_MODEL_UPDATED,animate:!e,keepRenderedRows:!e,newPage:!1,newData:!1})},r.prototype.onStoreUpdated=function(){this.pauseStoreUpdateListening||(this.updateRowIndexesAndBounds(),this.dispatchModelUpdated())},r.prototype.onRowHeightChanged=function(){this.updateRowIndexesAndBounds(),this.dispatchModelUpdated()},r.prototype.updateRowIndexesAndBounds=function(){var e=this.getRootStore();!e||e.setDisplayIndexes(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.at1,{value:0})},r.prototype.retryLoads=function(){var e=this.getRootStore();!e||(e.retryLoads(),this.onStoreUpdated())},r.prototype.getRow=function(e){var i=this.getRootStore();if(i)return i.getRowUsingDisplayIndex(e)},r.prototype.expandAll=function(e){this.pauseStoreUpdateListening=!0,this.forEachNode(function(i){i.group&&!i.stub&&i.setExpanded(e)}),this.pauseStoreUpdateListening=!1,this.onStoreUpdated()},r.prototype.refreshAfterFilter=function(e,i){this.storeParams&&(this.storeParams.filterModel=e);var a=this.getRootStore();!a||(a.refreshAfterFilter(i),this.onStoreUpdated())},r.prototype.getRootStore=function(){if(this.rootNode&&this.rootNode.childStore)return this.rootNode.childStore},r.prototype.getRowCount=function(){var e=this.getRootStore();return e?e.getDisplayIndexEnd():0},r.prototype.getTopLevelRowCount=function(){var e=this.getRootStore();return e?e.getRowCount():1},r.prototype.getTopLevelRowDisplayedIndex=function(e){var i=this.getRootStore();return i?i.getTopLevelRowDisplayedIndex(e):e},r.prototype.getRowBounds=function(e){var i=this.getRootStore();return i?i.getRowBounds(e):{rowTop:0,rowHeight:this.gridOptionsWrapper.getRowHeightAsNumber()}},r.prototype.getRowIndexAtPixel=function(e){var i=this.getRootStore();return e<=0||!i?0:i.getRowIndexAtPixel(e)},r.prototype.isEmpty=function(){return!1},r.prototype.isRowsToRender=function(){return null!=this.getRootStore()&&this.getRowCount()>0},r.prototype.getType=function(){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.gTE.ROW_MODEL_TYPE_SERVER_SIDE},r.prototype.forEachNode=function(e){var i=this.getRootStore();!i||i.forEachNodeDeep(e)},r.prototype.forEachNodeAfterFilterAndSort=function(e){var i=this.getRootStore();!i||i.forEachNodeDeepAfterFilterAndSort(e)},r.prototype.executeOnStore=function(e,i){var a=this.getRootStore();if(a){var s=a.getChildStore(e);s&&i(s)}},r.prototype.refreshStore=function(e){void 0===e&&(e={}),this.executeOnStore(e.route?e.route:[],function(a){return a.refreshStore(1==e.purge)})},r.prototype.getStoreState=function(){var e=[],i=this.getRootStore();return i&&i.addStoreStates(e),e},r.prototype.getNodesInRangeForSelection=function(e,i){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(i)&&e.parent!==i.parent?[]:e.parent.childStore.getRowNodesInRange(i,e)},r.prototype.getRowNode=function(e){var i;return this.forEachNode(function(a){a.id===e&&(i=a),a.detailNode&&a.detailNode.id===e&&(i=a.detailNode)}),i},r.prototype.isRowPresent=function(e){return!!this.getRowNode(e.id)},__decorate$r([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],r.prototype,"columnModel",void 0),__decorate$r([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("filterManager")],r.prototype,"filterManager",void 0),__decorate$r([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("sortController")],r.prototype,"sortController",void 0),__decorate$r([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowRenderer")],r.prototype,"rowRenderer",void 0),__decorate$r([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ssrmSortService")],r.prototype,"sortListener",void 0),__decorate$r([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ssrmNodeManager")],r.prototype,"nodeManager",void 0),__decorate$r([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ssrmStoreFactory")],r.prototype,"storeFactory",void 0),__decorate$r([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("beans")],r.prototype,"beans",void 0),__decorate$r([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FXL],r.prototype,"destroyDatasource",null),__decorate$r([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],r.prototype,"addEventListeners",null),__decorate$r([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FXL],r.prototype,"destroyRootStore",null),__decorate$r([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("rowModel")],r)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$J=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__decorate$q=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},StoreUtils=function(l){function r(){return null!==l&&l.apply(this,arguments)||this}return __extends$J(r,l),r.prototype.loadFromDatasource=function(e){var i=e.storeParams,a=e.parentBlock,d=e.parentNode.getGroupKeys();if(i.datasource){var v={successCallback:e.successCallback,success:e.success,failCallback:e.failCallback,fail:e.fail,request:{startRow:e.startRow,endRow:e.endRow,rowGroupCols:i.rowGroupCols,valueCols:i.valueCols,pivotCols:i.pivotCols,pivotMode:i.pivotMode,groupKeys:d,filterModel:i.filterModel,sortModel:i.sortModel},parentNode:e.parentNode,api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext()};window.setTimeout(function(){i.datasource&&a.isAlive()?i.datasource.getRows(v):e.failCallback()},0)}},r.prototype.getChildStore=function(e,i,a){if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missingOrEmpty(e))return i;var d=a(e[0]);if(d){var h=e.slice(1,e.length),v=d.childStore;return v?v.getChildStore(h):null}return null},r.prototype.isServerRefreshNeeded=function(e,i,a){if(a.valueColChanged||a.secondaryColChanged)return!0;var s=e.level+1;if(!(s<i.length))return!0;var v=i[s].id;return a.changedColumns.indexOf(v)>-1||this.columnModel.getAllGridColumns().filter(function(E){return E.getColDef().showRowGroup&&a.changedColumns.includes(E.getId())}).map(function(E){return E.getColDef().showRowGroup}).some(function(E){return!0===E||E===v})},__decorate$q([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnApi")],r.prototype,"columnApi",void 0),__decorate$q([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],r.prototype,"columnModel",void 0),__decorate$q([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],r.prototype,"gridApi",void 0),__decorate$q([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("ssrmStoreUtils")],r)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$I=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__decorate$p=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},BlockUtils=function(l){function r(){return null!==l&&l.apply(this,arguments)||this}return __extends$I(r,l),r.prototype.postConstruct=function(){this.rowHeight=this.gridOptionsWrapper.getRowHeightAsNumber(),this.usingTreeData=this.gridOptionsWrapper.isTreeData(),this.usingMasterDetail=this.gridOptionsWrapper.isMasterDetail()},r.prototype.createRowNode=function(e){var i=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Fxk(this.beans);return i.setRowHeight(null!=e.rowHeight?e.rowHeight:this.rowHeight),i.group=e.group,i.leafGroup=e.leafGroup,i.level=e.level,i.uiLevel=e.level,i.parent=e.parent,i.stub=!0,i.group&&(i.expanded=!1,i.field=e.field,i.rowGroupColumn=e.rowGroupColumn),i},r.prototype.destroyRowNodes=function(e){var i=this;e&&e.forEach(function(a){return i.destroyRowNode(a)})},r.prototype.destroyRowNode=function(e,i){void 0===i&&(i=!1),e.childStore&&!i&&(this.destroyBean(e.childStore),e.childStore=null),e.clearRowTopAndRowIndex(),null!=e.id&&this.nodeManager.removeNode(e)},r.prototype.setTreeGroupInfo=function(e){var i=this.gridOptionsWrapper.getIsServerSideGroupFunc(),a=this.gridOptionsWrapper.getServerSideGroupKeyFunc();null!=i&&(e.setGroup(i(e.data)),e.group&&null!=a&&(e.key=a(e.data))),!e.group&&null!=e.childStore&&(this.destroyBean(e.childStore),e.childStore=null)},r.prototype.setRowGroupInfo=function(e){e.key=this.valueService.getValue(e.rowGroupColumn,e),null==e.key&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce(function(){console.warn("AG Grid: null and undefined values are not allowed for server side row model keys"),e.rowGroupColumn&&console.warn("column = "+e.rowGroupColumn.getId()),console.warn("data is ",e.data)},"ServerSideBlock-CannotHaveNullOrUndefinedForKey")},r.prototype.setMasterDetailInfo=function(e){var i=this.gridOptionsWrapper.getIsRowMasterFunc();e.master=null==i||i(e.data)},r.prototype.updateDataIntoRowNode=function(e,i){e.updateData(i),this.usingTreeData&&this.setTreeGroupInfo(e)},r.prototype.setDataIntoRowNode=function(e,i,a,s){e.stub=!1,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(i)?(e.setDataAndId(i,a),this.usingTreeData?this.setTreeGroupInfo(e):e.group?this.setRowGroupInfo(e):this.usingMasterDetail&&this.setMasterDetailInfo(e)):(e.setDataAndId(void 0,void 0),e.key=null),(this.usingTreeData||e.group)&&(this.setGroupDataIntoRowNode(e),this.setChildCountIntoRowNode(e)),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(i)&&e.setRowHeight(this.gridOptionsWrapper.getRowHeightForNode(e,!1,s).height)},r.prototype.setChildCountIntoRowNode=function(e){var i=this.gridOptionsWrapper.getChildCountFunc();i&&(e.allChildrenCount=i(e.data))},r.prototype.setGroupDataIntoRowNode=function(e){var i=this,a=this.columnModel.getGroupDisplayColumns(),s=this.gridOptionsWrapper.isTreeData();a.forEach(function(d){if(null==e.groupData&&(e.groupData={}),s)e.groupData[d.getColId()]=e.key;else if(d.isRowGroupDisplayed(e.rowGroupColumn.getId())){var h=i.valueService.getValue(e.rowGroupColumn,e);e.groupData[d.getColId()]=h}})},r.prototype.clearDisplayIndex=function(e){e.clearRowTopAndRowIndex(),e.group&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(e.childStore)&&e.childStore.clearDisplayIndexes(),e.master&&e.detailNode&&e.detailNode.clearRowTopAndRowIndex()},r.prototype.setDisplayIndex=function(e,i,a){if(e.setRowIndex(i.next()),e.setRowTop(a.value),a.value+=e.rowHeight,e.master&&(e.expanded&&e.detailNode?(e.detailNode.setRowIndex(i.next()),e.detailNode.setRowTop(a.value),a.value+=e.detailNode.rowHeight):e.detailNode&&e.detailNode.clearRowTopAndRowIndex()),e.group&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(e.childStore)){var h=e.childStore;e.expanded?h.setDisplayIndexes(i,a):h.clearDisplayIndexes()}},r.prototype.binarySearchForDisplayIndex=function(e,i){var a=0,s=i.length-1;if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missing(s)||ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missing(a))console.warn("AG Grid: error: topPointer = "+s+", bottomPointer = "+a);else for(;;){var d=Math.floor((a+s)/2),h=i[d];if(h.rowIndex===e)return h;var _=h.detailNode;if(h.master&&h.expanded&&_&&_.rowIndex===e)return h.detailNode;var y=h.childStore;if(h.expanded&&y&&y.isDisplayIndexInStore(e))return y.getRowUsingDisplayIndex(e);if(h.rowIndex<e)a=d+1;else{if(!(h.rowIndex>e))return void console.warn("AG Grid: error: unable to locate rowIndex = "+e+" in cache");s=d-1}}},r.prototype.extractRowBounds=function(e,i){var a=function(d){return{rowHeight:d.rowHeight,rowTop:d.rowTop}};if(e.rowIndex===i)return a(e);if(e.group&&e.expanded&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(e.childStore)){var s=e.childStore;if(s.isDisplayIndexInStore(i))return s.getRowBounds(i)}else if(e.master&&e.expanded&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(e.detailNode)&&e.detailNode.rowIndex===i)return a(e.detailNode)},r.prototype.getIndexAtPixel=function(e,i){if(e.isPixelInRange(i))return e.rowIndex;var s=e.detailNode;if(e.master&&e.expanded&&s&&s.isPixelInRange(i))return e.detailNode.rowIndex;if(e.group&&e.expanded&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(e.childStore)){var d=e.childStore;if(d.isPixelInRange(i))return d.getRowIndexAtPixel(i)}return null},r.prototype.createNodeIdPrefix=function(e){for(var i=[],a=e;a&&a.level>=0;)i.push(a.key),a=a.parent;if(i.length>0)return i.reverse().join("-")},r.prototype.checkOpenByDefault=function(e){if(e.isExpandable()){var i=this.gridOptionsWrapper.getIsServerSideGroupOpenByDefaultFunc();i&&i({data:e.data,rowNode:e})&&window.setTimeout(function(){return e.setExpanded(!0)},0)}},__decorate$p([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("valueService")],r.prototype,"valueService",void 0),__decorate$p([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],r.prototype,"columnModel",void 0),__decorate$p([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ssrmNodeManager")],r.prototype,"nodeManager",void 0),__decorate$p([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("beans")],r.prototype,"beans",void 0),__decorate$p([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],r.prototype,"postConstruct",null),__decorate$p([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("ssrmBlockUtils")],r)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__decorate$o=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},NodeManager=function(){function l(){this.rowNodes={}}return l.prototype.addRowNode=function(r){var e=r.id;this.rowNodes[e]&&(console.warn("AG Grid: Duplicate node id "+r.id+". Row ID's are provided via the getRowId() callback. Please modify the getRowId() callback code to provide unique row id values."),console.warn("first instance",this.rowNodes[e].data),console.warn("second instance",r.data)),this.rowNodes[e]=r},l.prototype.removeNode=function(r){var e=r.id;this.rowNodes[e]&&(this.rowNodes[e]=void 0)},l.prototype.clear=function(){this.rowNodes={}},__decorate$o([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FXL],l.prototype,"clear",null),__decorate$o([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("ssrmNodeManager")],l)}(),__extends$H=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__decorate$n=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},TransactionManager=function(l){function r(){var e=null!==l&&l.apply(this,arguments)||this;return e.asyncTransactions=[],e}return __extends$H(r,l),r.prototype.postConstruct=function(){this.gridOptionsWrapper.isRowModelServerSide()},r.prototype.applyTransactionAsync=function(e,i){null==this.asyncTransactionsTimeout&&this.scheduleExecuteAsync(),this.asyncTransactions.push({transaction:e,callback:i})},r.prototype.scheduleExecuteAsync=function(){var e=this,i=this.gridOptionsWrapper.getAsyncTransactionWaitMillis();this.asyncTransactionsTimeout=window.setTimeout(function(){e.executeAsyncTransactions()},i)},r.prototype.executeAsyncTransactions=function(){var e=this;if(this.asyncTransactions){var i=[],a=[],s=[],d=!1;this.asyncTransactions.forEach(function(v){var _;e.serverSideRowModel.executeOnStore(v.transaction.route,function(m){_=m.applyTransaction(v.transaction)}),null==_&&(_={status:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Qk6.StoreNotFound}),a.push(_),_.status==ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Qk6.StoreLoading?s.push(v):(v.callback&&i.push(function(){return v.callback(_)}),_.status===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Qk6.Applied&&(d=!0))}),i.length>0&&window.setTimeout(function(){i.forEach(function(v){return v()})},0),this.asyncTransactionsTimeout=void 0,this.asyncTransactions=s,d&&(this.valueCache.onDataChanged(),this.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_STORE_UPDATED})),a.length>0&&this.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_ASYNC_TRANSACTIONS_FLUSHED,results:a})}},r.prototype.flushAsyncTransactions=function(){null!=this.asyncTransactionsTimeout&&clearTimeout(this.asyncTransactionsTimeout),this.executeAsyncTransactions()},r.prototype.applyTransaction=function(e){var a,i=this;return this.serverSideRowModel.executeOnStore(e.route,function(s){a=s.applyTransaction(e)}),a?(this.valueCache.onDataChanged(),this.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_STORE_UPDATED}),a.update&&a.update.length&&setTimeout(function(){i.rowRenderer.refreshFullWidthRows(a.update)},0),a):{status:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Qk6.StoreNotFound}},__decorate$n([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowNodeBlockLoader")],r.prototype,"rowNodeBlockLoader",void 0),__decorate$n([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("valueCache")],r.prototype,"valueCache",void 0),__decorate$n([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowModel")],r.prototype,"serverSideRowModel",void 0),__decorate$n([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowRenderer")],r.prototype,"rowRenderer",void 0),__decorate$n([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],r.prototype,"postConstruct",null),__decorate$n([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("ssrmTransactionManager")],r)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$G=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__decorate$m=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},ExpandListener=function(l){function r(){return null!==l&&l.apply(this,arguments)||this}return __extends$G(r,l),r.prototype.postConstruct=function(){!this.gridOptionsWrapper.isRowModelServerSide()||this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_ROW_GROUP_OPENED,this.onRowGroupOpened.bind(this))},r.prototype.onRowGroupOpened=function(e){var i=e.node;if(i.expanded){if(i.master)this.createDetailNode(i);else if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missing(i.childStore)){var a=this.serverSideRowModel.getParams();i.childStore=this.createBean(this.storeFactory.createStore(a,i))}}else this.gridOptionsWrapper.isPurgeClosedRowNodes()&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(i.childStore)&&(i.childStore=this.destroyBean(i.childStore));this.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_STORE_UPDATED})},r.prototype.createDetailNode=function(e){if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(e.detailNode))return e.detailNode;var i=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Fxk(this.beans);i.detail=!0,i.selectable=!1,i.parent=e,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(e.id)&&(i.id="detail_"+e.id),i.data=e.data,i.level=e.level+1;var s=this.gridOptionsWrapper.getRowHeightForNode(i).height;return i.rowHeight=s||200,e.detailNode=i,i},__decorate$m([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowModel")],r.prototype,"serverSideRowModel",void 0),__decorate$m([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ssrmStoreFactory")],r.prototype,"storeFactory",void 0),__decorate$m([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("beans")],r.prototype,"beans",void 0),__decorate$m([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],r.prototype,"postConstruct",null),__decorate$m([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("ssrmExpandListener")],r)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$F=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__decorate$l=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},SortListener=function(l){function r(){return null!==l&&l.apply(this,arguments)||this}return __extends$F(r,l),r.prototype.postConstruct=function(){!this.gridOptionsWrapper.isRowModelServerSide()||this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_SORT_CHANGED,this.onSortChanged.bind(this))},r.prototype.extractSortModel=function(){var e=this.sortController.getSortModel();return this.gridOptionsWrapper.isTreeData()||(this.replaceAutoGroupColumnWithActualRowGroupColumns(e),this.removeMultiColumnPrefixOnColumnIds(e)),e},r.prototype.removeMultiColumnPrefixOnColumnIds=function(e){if(this.gridOptionsWrapper.isGroupMultiAutoColumn())for(var i=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.gTE.GROUP_AUTO_COLUMN_ID+"-",a=0;a<e.length;++a)e[a].colId.indexOf(i)>-1&&(e[a].colId=e[a].colId.substr(i.length))},r.prototype.replaceAutoGroupColumnWithActualRowGroupColumns=function(e){var i=e.find(function(v){return v.colId==ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.gTE.GROUP_AUTO_COLUMN_ID});if(i){var a=e.indexOf(i);ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeFromArray(e,i);var h=this.columnModel.getRowGroupColumns().filter(function(v){return 0==e.filter(function(_){return _.colId===v.getColId()}).length}).map(function(v){return{colId:v.getId(),sort:i.sort}});ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.insertArrayIntoArray(e,h,a)}},r.prototype.onSortChanged=function(){var e=this.serverSideRowModel.getParams();if(e){var i=this.extractSortModel(),s=this.findChangedColumnsInSort(i,e.sortModel),d=this.listenerUtils.isSortingWithValueColumn(s),h=this.listenerUtils.isSortingWithSecondaryColumn(s);this.serverSideRowModel.refreshAfterSort(i,{valueColChanged:d,secondaryColChanged:h,changedColumns:s})}},r.prototype.findChangedColumnsInSort=function(e,i){var a=[];return[e,i].forEach(function(h){if(h){var v=h.map(function(_){return _.colId});a=a.concat(v)}}),a.filter(function(h){var v=i.find(function(y){return y.colId===h}),_=e.find(function(y){return y.colId===h});return function(h,v){return(h?h.sort:null)!==(v?v.sort:null)}(v,_)||function(h,v){return(h?i.indexOf(h):-1)!==(v?e.indexOf(v):-1)}(v,_)})},__decorate$l([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("sortController")],r.prototype,"sortController",void 0),__decorate$l([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],r.prototype,"columnModel",void 0),__decorate$l([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowModel")],r.prototype,"serverSideRowModel",void 0),__decorate$l([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ssrmListenerUtils")],r.prototype,"listenerUtils",void 0),__decorate$l([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],r.prototype,"postConstruct",null),__decorate$l([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("ssrmSortService")],r)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$E=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__decorate$k=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},FilterListener=function(l){function r(){return null!==l&&l.apply(this,arguments)||this}return __extends$E(r,l),r.prototype.postConstruct=function(){!this.gridOptionsWrapper.isRowModelServerSide()||this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this))},r.prototype.onFilterChanged=function(){var e=this.serverSideRowModel.getParams();if(e){var i=this.filterManager.getFilterModel(),s=this.findChangedColumns(i,e?e.filterModel:{}),d=this.listenerUtils.isSortingWithValueColumn(s),h=this.listenerUtils.isSortingWithSecondaryColumn(s);this.serverSideRowModel.refreshAfterFilter(i,{valueColChanged:d,secondaryColChanged:h,changedColumns:s})}},r.prototype.findChangedColumns=function(e,i){var a={};Object.keys(e).forEach(function(d){return a[d]=!0}),Object.keys(i).forEach(function(d){return a[d]=!0});var s=[];return Object.keys(a).forEach(function(d){JSON.stringify(e[d])!=JSON.stringify(i[d])&&s.push(d)}),s},__decorate$k([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowModel")],r.prototype,"serverSideRowModel",void 0),__decorate$k([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("filterManager")],r.prototype,"filterManager",void 0),__decorate$k([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ssrmListenerUtils")],r.prototype,"listenerUtils",void 0),__decorate$k([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],r.prototype,"postConstruct",null),__decorate$k([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("ssrmFilterListener")],r)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$D=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__decorate$j=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},__param$1=function(l,r){return function(e,i){r(e,i,l)}},__values$1=function(l){var r="function"==typeof Symbol&&Symbol.iterator,e=r&&l[r],i=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&i>=l.length&&(l=void 0),{value:l&&l[i++],done:!l}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},InfiniteStoreBlock=function(l){function r(e,i,a,s,d){var h=l.call(this,e)||this;return h.ssrmParams=a,h.storeParams=s,h.parentRowNode=i,h.startRow=e*s.cacheBlockSize,h.parentStore=d,h.level=i.level+1,h.groupLevel=a.rowGroupCols?h.level<a.rowGroupCols.length:void 0,h.leafGroup=!!a.rowGroupCols&&h.level===a.rowGroupCols.length-1,h}return __extends$D(r,l),r.prototype.postConstruct=function(){this.usingTreeData=this.gridOptionsWrapper.isTreeData(),!this.usingTreeData&&this.groupLevel&&(this.groupField=this.ssrmParams.rowGroupCols[this.level].field,this.rowGroupColumn=this.columnModel.getRowGroupColumns()[this.level]),this.nodeIdPrefix=this.blockUtils.createNodeIdPrefix(this.parentRowNode),this.setData([])},r.prototype.isDisplayIndexInBlock=function(e){return e>=this.displayIndexStart&&e<this.displayIndexEnd},r.prototype.isBlockBefore=function(e){return e>=this.displayIndexEnd},r.prototype.getDisplayIndexStart=function(){return this.displayIndexStart},r.prototype.getDisplayIndexEnd=function(){return this.displayIndexEnd},r.prototype.getBlockHeightPx=function(){return this.blockHeightPx},r.prototype.getBlockTopPx=function(){return this.blockTopPx},r.prototype.isGroupLevel=function(){return this.groupLevel},r.prototype.getGroupField=function(){return this.groupField},r.prototype.prefixId=function(e){return null!=this.nodeIdPrefix?this.nodeIdPrefix+"-"+e:e.toString()},r.prototype.getBlockStateJson=function(){return{id:this.prefixId(this.getId()),state:{blockNumber:this.getId(),startRow:this.startRow,endRow:this.startRow+this.storeParams.cacheBlockSize,pageStatus:this.getState()}}},r.prototype.isAnyNodeOpen=function(){return this.rowNodes.filter(function(i){return i.expanded}).length>0},r.prototype.forEachNode=function(e,i,a,s){void 0===i&&(i=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.at1),this.rowNodes.forEach(function(d){if(e(d,i.next()),a&&d.childStore){var h=d.childStore;s?h.forEachNodeDeepAfterFilterAndSort(e,i):h.forEachNodeDeep(e,i)}})},r.prototype.forEachNodeDeep=function(e,i){this.forEachNode(e,i,!0,!1)},r.prototype.forEachNodeAfterFilterAndSort=function(e,i){this.forEachNode(e,i,!0,!0)},r.prototype.forEachNodeShallow=function(e,i){this.forEachNode(e,i,!1,!1)},r.prototype.getLastAccessed=function(){return this.lastAccessed},r.prototype.getRowUsingLocalIndex=function(e){return this.rowNodes[e-this.startRow]},r.prototype.touchLastAccessed=function(){this.lastAccessed=this.ssrmParams.lastAccessedSequence.next()},r.prototype.processServerFail=function(){this.parentStore.onBlockLoadFailed(this)},r.prototype.retryLoads=function(){this.getState()===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NlK.STATE_FAILED&&(this.setStateWaitingToLoad(),this.rowNodeBlockLoader.checkBlockToLoad(),this.setData()),this.forEachNodeShallow(function(e){e.childStore&&e.childStore.retryLoads()})},r.prototype.processServerResult=function(e){this.parentStore.onBlockLoaded(this,e)},r.prototype.setData=function(e,i){var a=this;void 0===e&&(e=[]),void 0===i&&(i=!1),this.destroyRowNodes();for(var s=this.parentStore.getRowCount(),d=this.getId()*this.storeParams.cacheBlockSize,v=Math.min(d+this.storeParams.cacheBlockSize,s)-d,y=this.columnModel.getAllDisplayedAutoHeightCols().length>0?this.parentStore.getCachedBlockHeight(this.getId()):void 0,m=y?Math.round(y/v):void 0,E=function(D){var T=D<e.length,b=function(K){var $=K??a.blockUtils.createRowNode({field:a.groupField,group:a.groupLevel,leafGroup:a.leafGroup,level:a.level,parent:a.parentRowNode,rowGroupColumn:a.rowGroupColumn,rowHeight:m});if(T){var j=e[D];if(K)a.blockUtils.updateDataIntoRowNode($,j);else{var Y=a.prefixId(a.startRow+D);a.blockUtils.setDataIntoRowNode($,j,Y,m),a.blockUtils.checkOpenByDefault($)}a.parentStore.removeDuplicateNode($.id),a.nodeManager.addRowNode($),a.allNodesMap[$.id]=$}return i&&($.failedLoad=!0),$},M=w.gridOptionsWrapper.getRowIdFunc(),A=void 0;if(M&&T){var L=e[D],N=w.parentRowNode.getGroupKeys(),G=M({data:L,level:w.level,parentKeys:N.length>0?N:void 0});A=b(w.parentStore.retrieveNodeFromCache(G))}A||(A=b()),w.rowNodes.push(A)},w=this,S=0;S<v;S++)E(S)},r.prototype.removeDuplicateNode=function(e){if(this.getState()!=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NlK.STATE_LOADED){var i=this.allNodesMap[e];if(i){this.blockUtils.destroyRowNode(i);var a=this.rowNodes.indexOf(i),s=this.blockUtils.createRowNode({field:this.groupField,group:this.groupLevel,leafGroup:this.leafGroup,level:this.level,parent:this.parentRowNode,rowGroupColumn:this.rowGroupColumn});this.rowNodes[a]=s}}},r.prototype.refresh=function(){this.getState()!==ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NlK.STATE_WAITING_TO_LOAD&&this.setStateWaitingToLoad()},r.prototype.destroyRowNodes=function(){var i,e=this;null===(i=this.rowNodes)||void 0===i||i.forEach(function(a){var s=e.parentStore.isNodeCached(a.id);e.blockUtils.destroyRowNode(a,s)}),this.rowNodes=[],this.allNodesMap={}},r.prototype.setBeans=function(e){this.logger=e.create("ServerSideBlock")},r.prototype.getRowUsingDisplayIndex=function(e){return this.touchLastAccessed(),this.blockUtils.binarySearchForDisplayIndex(e,this.rowNodes)},r.prototype.loadFromDatasource=function(){this.storeUtils.loadFromDatasource({startRow:this.startRow,endRow:this.startRow+this.storeParams.cacheBlockSize,parentBlock:this,parentNode:this.parentRowNode,storeParams:this.ssrmParams,successCallback:this.pageLoaded.bind(this,this.getVersion()),success:this.success.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),fail:this.pageLoadFailed.bind(this,this.getVersion())})},r.prototype.isPixelInRange=function(e){return e>=this.blockTopPx&&e<this.blockTopPx+this.blockHeightPx},r.prototype.getRowBounds=function(e){var i,a,s;this.touchLastAccessed();try{for(var d=__values$1(this.rowNodes),h=d.next();!h.done&&null==(s=this.blockUtils.extractRowBounds(h.value,e));h=d.next());}catch(_){i={error:_}}finally{try{h&&!h.done&&(a=d.return)&&a.call(d)}finally{if(i)throw i.error}}return s},r.prototype.getRowIndexAtPixel=function(e){var i,a;this.touchLastAccessed();var s=null;try{for(var d=__values$1(this.rowNodes),h=d.next();!h.done&&null==(s=this.blockUtils.getIndexAtPixel(h.value,e));h=d.next());}catch(_){i={error:_}}finally{try{h&&!h.done&&(a=d.return)&&a.call(d)}finally{if(i)throw i.error}}return s},r.prototype.clearDisplayIndexes=function(){var e=this;this.displayIndexEnd=void 0,this.displayIndexStart=void 0,this.rowNodes.forEach(function(i){return e.blockUtils.clearDisplayIndex(i)})},r.prototype.setDisplayIndexes=function(e,i){var a=this;this.displayIndexStart=e.peek(),this.blockTopPx=i.value,this.rowNodes.forEach(function(s){return a.blockUtils.setDisplayIndex(s,e,i)}),this.displayIndexEnd=e.peek(),this.blockHeightPx=i.value-this.blockTopPx},__decorate$j([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],r.prototype,"columnModel",void 0),__decorate$j([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ssrmStoreUtils")],r.prototype,"storeUtils",void 0),__decorate$j([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ssrmBlockUtils")],r.prototype,"blockUtils",void 0),__decorate$j([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ssrmNodeManager")],r.prototype,"nodeManager",void 0),__decorate$j([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowNodeBlockLoader")],r.prototype,"rowNodeBlockLoader",void 0),__decorate$j([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],r.prototype,"postConstruct",null),__decorate$j([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FXL],r.prototype,"destroyRowNodes",null),__decorate$j([__param$1(0,(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.qaB)("loggerFactory"))],r.prototype,"setBeans",null),r}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NlK),__extends$C=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__decorate$i=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},__param=function(l,r){return function(e,i){r(e,i,l)}},FindResult=(()=>(function(l){l[l.FOUND=0]="FOUND",l[l.CONTINUE_FIND=1]="CONTINUE_FIND",l[l.BREAK_FIND=2]="BREAK_FIND"}(FindResult||(FindResult={})),FindResult))(),InfiniteStore=function(l){function r(e,i,a){var s=l.call(this)||this;return s.blocks={},s.blockHeights={},s.lastRowIndexKnown=!1,s.displayIndexStart=0,s.displayIndexEnd=0,s.cacheTopPixel=0,s.info={},s.refreshedNodeCache={},s.ssrmParams=e,s.storeParams=i,s.parentRowNode=a,s}return __extends$C(r,l),r.prototype.postConstruct=function(){this.defaultRowHeight=this.gridOptionsWrapper.getRowHeightAsNumber();var i=-1===this.parentRowNode.level?this.gridOptionsWrapper.getServerSideInitialRowCount():r.INITIAL_ROW_COUNT;this.rowCount=i},r.prototype.destroyAllBlocks=function(){var e=this;this.getBlocksInOrder().forEach(function(i){return e.destroyBlock(i)}),this.blockUtils.destroyRowNodes(Object.values(this.refreshedNodeCache))},r.prototype.setBeans=function(e){this.logger=e.create("ServerSideCache")},r.prototype.getRowCount=function(){return this.rowCount},r.prototype.isLastRowIndexKnown=function(){return this.lastRowIndexKnown},r.prototype.retryLoads=function(){this.getBlocksInOrder().forEach(function(e){return e.retryLoads()})},r.prototype.onBlockLoadFailed=function(e){e.setData([],!0),this.fireCacheUpdatedEvent()},r.prototype.onBlockLoaded=function(e,i){this.logger.log("onPageLoaded: page = "+e.getId()+", lastRow = "+i.rowCount);var a=i.storeInfo||i.groupLevelInfo;a&&Object.assign(this.info,a),i.rowData||ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce(function(){return console.warn('AG Grid: "params.rowData" is missing from Server-Side Row Model success() callback. Please use the "rowData" attribute. If no data is returned, set an empty list.',i)},"InfiniteStore.noData");var d=null!=i.rowCount&&i.rowCount>=0?i.rowCount:void 0;!this.isAlive()||(this.checkRowCount(e,d),e.setData(i.rowData),this.destroyAllBlocksPastVirtualRowCount(),this.fireCacheUpdatedEvent())},r.prototype.purgeBlocksIfNeeded=function(e){var i=this,a=this.getBlocksInOrder().filter(function(_){return _!=e});a.sort(function(_,y){return y.getLastAccessed()-_.getLastAccessed()});var d=this.storeParams.maxBlocksInCache>0,h=d?this.storeParams.maxBlocksInCache-1:null,v=r.MAX_EMPTY_BLOCKS_TO_KEEP-1;a.forEach(function(_,y){if(_.getState()===InfiniteStoreBlock.STATE_WAITING_TO_LOAD&&y>=v||d&&y>=h){if(_.isAnyNodeOpen()||i.isBlockCurrentlyDisplayed(_)||i.isBlockFocused(_))return;i.destroyBlock(_)}})},r.prototype.isBlockFocused=function(e){var i=this.focusService.getFocusCellToUseAfterRefresh();if(!i||null!=i.rowPinned)return!1;var a=e.getDisplayIndexStart(),s=e.getDisplayIndexEnd();return null!=s&&null!=a&&i.rowIndex>=a&&i.rowIndex<s},r.prototype.isBlockCurrentlyDisplayed=function(e){var i=e.getDisplayIndexStart(),a=e.getDisplayIndexEnd()-1;return this.rowRenderer.isRangeInRenderedViewport(i,a)},r.prototype.removeDuplicateNode=function(e){this.getBlocksInOrder().forEach(function(i){return i.removeDuplicateNode(e)})},r.prototype.checkRowCount=function(e,i){if("number"==typeof i&&i>=0)this.rowCount=i,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){var s=(e.getId()+1)*this.storeParams.cacheBlockSize+r.OVERFLOW_SIZE;this.rowCount<s&&(this.rowCount=s)}},r.prototype.forEachNodeDeep=function(e,i){void 0===i&&(i=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.at1),this.getBlocksInOrder().forEach(function(a){return a.forEachNodeDeep(e,i)})},r.prototype.forEachNodeDeepAfterFilterAndSort=function(e,i){void 0===i&&(i=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.at1),this.getBlocksInOrder().forEach(function(a){return a.forEachNodeAfterFilterAndSort(e,i)})},r.prototype.getBlocksInOrder=function(){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.getAllValuesInObject(this.blocks).sort(function(a,s){return a.getId()-s.getId()})},r.prototype.destroyBlock=function(e){delete this.blocks[e.getId()],this.destroyBean(e),this.rowNodeBlockLoader.removeBlock(e)},r.prototype.fireCacheUpdatedEvent=function(){this.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_STORE_UPDATED})},r.prototype.destroyAllBlocksPastVirtualRowCount=function(){var e=this,i=[];this.getBlocksInOrder().forEach(function(a){a.getId()*e.storeParams.cacheBlockSize>=e.rowCount&&i.push(a)}),i.length>0&&i.forEach(function(a){return e.destroyBlock(a)})},r.prototype.refreshStore=function(e){0==this.getRowCount()||e?this.resetStore():this.refreshBlocks(),this.fireCacheUpdatedEvent()},r.prototype.isNodeCached=function(e){return!!this.refreshedNodeCache[e]},r.prototype.retrieveNodeFromCache=function(e){var i=this.refreshedNodeCache[e];return i&&delete this.refreshedNodeCache[e],i},r.prototype.buildRowNodeCache=function(){var e={};this.getBlocksInOrder().forEach(function(i){i.rowNodes.forEach(function(a){a.group&&(e[a.id]=a)})}),this.refreshedNodeCache=e},r.prototype.refreshBlocks=function(){this.buildRowNodeCache(),this.getBlocksInOrder().forEach(function(e){e.refresh()}),this.lastRowIndexKnown=!1,this.rowNodeBlockLoader.checkBlockToLoad()},r.prototype.resetStore=function(){this.destroyAllBlocks(),this.lastRowIndexKnown=!1,(this.columnModel.isAutoRowHeightActive()||0===this.rowCount)&&(this.rowCount=r.INITIAL_ROW_COUNT)},r.prototype.getRowNodesInRange=function(e,i){var a=[],s=-1,d=!1;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missing(e)&&(d=!0);var h=!1;return this.getBlocksInOrder().forEach(function(_){if(!h){if(d&&s+1!==_.getId())return void(h=!0);s=_.getId(),_.forEachNodeShallow(function(y){var m=y===e||y===i;(d||m)&&a.push(y),m&&(d=!d)})}}),h||d?[]:a},r.prototype.findBlockAndExecute=function(e,i,a){var v,s=!1,d=!1,h=null;return this.getBlocksInOrder().forEach(function(_){if(!s&&!d){var y=e(_);y==FindResult.FOUND?(v=i(_),s=!0):y==FindResult.CONTINUE_FIND?h=_:y==FindResult.BREAK_FIND&&(d=!0)}}),s||(v=a(h)),v},r.prototype.getRowBounds=function(e){var i=this;return this.findBlockAndExecute(function(h){return h.isDisplayIndexInBlock(e)?FindResult.FOUND:h.isBlockBefore(e)?FindResult.CONTINUE_FIND:FindResult.BREAK_FIND},function(h){return h.getRowBounds(e)},function(h){var v,_;return null!==h?(v=h.getBlockTopPx()+h.getBlockHeightPx(),_=h.getDisplayIndexEnd()):(v=i.cacheTopPixel,_=i.displayIndexStart),{rowHeight:i.defaultRowHeight,rowTop:v+(e-_)*i.defaultRowHeight}})},r.prototype.getRowIndexAtPixel=function(e){var i=this,h=this.findBlockAndExecute(function(_){return _.isPixelInRange(e)?FindResult.FOUND:_.getBlockTopPx()<e?FindResult.CONTINUE_FIND:FindResult.BREAK_FIND},function(_){return _.getRowIndexAtPixel(e)},function(_){var y,m;_?(y=_.getBlockTopPx()+_.getBlockHeightPx(),m=_.getDisplayIndexEnd()):(y=i.cacheTopPixel,m=i.displayIndexStart);for(var E=i.storeParams.cacheBlockSize,w=i.defaultRowHeight*E,S=_?_.getId()+1:0,D=function(L){var G=i.getCachedBlockHeight(L)??w;return{height:G,pixelInBlock:e<=G+y}},T=D(S);!T.pixelInBlock;)y+=T.height,m+=E,T=D(++S);return m+(0|Math.floor((e-y)/(T.height/E)))}),v=this.getDisplayIndexEnd()-1;return Math.min(h,v)},r.prototype.clearDisplayIndexes=function(){this.displayIndexStart=void 0,this.displayIndexEnd=void 0,this.getBlocksInOrder().forEach(function(e){return e.clearDisplayIndexes()})},r.prototype.setDisplayIndexes=function(e,i){var a=this;this.displayIndexStart=e.peek(),this.cacheTopPixel=i.value;var s=-1,d=this.storeParams.cacheBlockSize;this.getBlocksInOrder().forEach(function(y){var m=y.getId(),E=m-s-1,w=E*d;w>0&&e.skip(w);for(var S=1;S<=E;S++){var D=m-S;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(a.blockHeights[D])?i.value+=a.blockHeights[D]:i.value+=d*a.defaultRowHeight}s=m,y.setDisplayIndexes(e,i),a.blockHeights[m]=y.getBlockHeightPx()});var h=(s+1)*d-1,_=this.getRowCount()-h-1;_>0&&(e.skip(_),i.value+=_*this.defaultRowHeight),this.displayIndexEnd=e.peek(),this.cacheHeightPixels=i.value-this.cacheTopPixel},r.prototype.getRowUsingDisplayIndex=function(e,i){var a=this;if(void 0===i&&(i=!1),this.isDisplayIndexInStore(e))return this.findBlockAndExecute(function(v){return v.isDisplayIndexInBlock(e)?FindResult.FOUND:v.isBlockBefore(e)?FindResult.CONTINUE_FIND:FindResult.BREAK_FIND},function(v){return v.getRowUsingDisplayIndex(e)},function(v){if(!i){var _,y,m,E=a.storeParams.cacheBlockSize;if(v)for(_=v.getId()+1,y=v.getDisplayIndexEnd(),m=v.getBlockHeightPx()+v.getBlockTopPx();!(e>=y&&e<y+E);){y+=E;var S=a.blockHeights[_];ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(S)?m+=S:m+=a.defaultRowHeight*E,_++}else _=Math.floor((e-a.displayIndexStart)/E),y=a.displayIndexStart+_*E,m=a.cacheTopPixel+_*E*a.defaultRowHeight;return a.logger.log("block missing, rowIndex = "+e+", creating #"+_+", displayIndexStart = "+y),a.createBlock(_,y,{value:m}).getRowUsingDisplayIndex(e)}})},r.prototype.getTopLevelRowDisplayedIndex=function(e){var i=this.storeParams.cacheBlockSize,a=Math.floor(e/i);return this.findBlockAndExecute(function(v){return v.getId()===a?FindResult.FOUND:v.getId()<a?FindResult.CONTINUE_FIND:FindResult.BREAK_FIND},function(v){return v.getRowUsingLocalIndex(e).rowIndex},function(v){if(!v)return e;var _=i*(v.getId()+1)-1,y=v.getRowUsingLocalIndex(_);return(y.expanded&&y.childStore?y.childStore.getDisplayIndexEnd()-1:y.expanded&&y.detailNode?y.detailNode.rowIndex:y.rowIndex)+(e-_)})},r.prototype.addStoreStates=function(e){e.push({infiniteScroll:!0,route:this.parentRowNode.getGroupKeys(),rowCount:this.rowCount,lastRowIndexKnown:this.lastRowIndexKnown,info:this.info,maxBlocksInCache:this.storeParams.maxBlocksInCache,cacheBlockSize:this.storeParams.cacheBlockSize}),this.forEachChildStoreShallow(function(i){return i.addStoreStates(e)})},r.prototype.getCachedBlockHeight=function(e){return this.blockHeights[e]},r.prototype.createBlock=function(e,i,a){var s=this.createBean(new InfiniteStoreBlock(e,this.parentRowNode,this.ssrmParams,this.storeParams,this));return s.setDisplayIndexes(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.at1(i),a),this.blocks[s.getId()]=s,this.purgeBlocksIfNeeded(s),this.rowNodeBlockLoader.addBlock(s),s},r.prototype.getDisplayIndexEnd=function(){return this.displayIndexEnd},r.prototype.isDisplayIndexInStore=function(e){return 0!==this.getRowCount()&&e>=this.displayIndexStart&&e<this.displayIndexEnd},r.prototype.applyTransaction=function(e){return{status:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Qk6.StoreWrongType}},r.prototype.getChildStore=function(e){var i=this;return this.storeUtils.getChildStore(e,this,function(s){var d=null;return i.getBlocksInOrder().forEach(function(h){h.forEachNodeShallow(function(v){v.key==s&&(d=v)},new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.at1)}),d})},r.prototype.isPixelInRange=function(e){return 0!==this.getRowCount()&&e>=this.cacheTopPixel&&e<this.cacheTopPixel+this.cacheHeightPixels},r.prototype.refreshAfterFilter=function(e){this.gridOptionsWrapper.isServerSideFilterAllLevels()||this.storeUtils.isServerRefreshNeeded(this.parentRowNode,this.ssrmParams.rowGroupCols,e)?this.resetStore():this.forEachChildStoreShallow(function(a){return a.refreshAfterFilter(e)})},r.prototype.refreshAfterSort=function(e){this.gridOptionsWrapper.isServerSideSortAllLevels()||this.storeUtils.isServerRefreshNeeded(this.parentRowNode,this.ssrmParams.rowGroupCols,e)?this.resetStore():this.forEachChildStoreShallow(function(a){return a.refreshAfterSort(e)})},r.prototype.forEachChildStoreShallow=function(e){this.getBlocksInOrder().forEach(function(i){i.isGroupLevel()&&i.forEachNodeShallow(function(s){var d=s.childStore;d&&e(d)},new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.at1)})},r.MAX_EMPTY_BLOCKS_TO_KEEP=2,r.INITIAL_ROW_COUNT=1,r.OVERFLOW_SIZE=1,__decorate$i([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowRenderer")],r.prototype,"rowRenderer",void 0),__decorate$i([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowNodeBlockLoader")],r.prototype,"rowNodeBlockLoader",void 0),__decorate$i([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ssrmStoreUtils")],r.prototype,"storeUtils",void 0),__decorate$i([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("focusService")],r.prototype,"focusService",void 0),__decorate$i([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],r.prototype,"columnModel",void 0),__decorate$i([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ssrmBlockUtils")],r.prototype,"blockUtils",void 0),__decorate$i([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],r.prototype,"postConstruct",null),__decorate$i([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FXL],r.prototype,"destroyAllBlocks",null),__decorate$i([__param(0,(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.qaB)("loggerFactory"))],r.prototype,"setBeans",null),r}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$B=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__decorate$h=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},FullStore=function(l){function r(e,i,a){var s=l.call(this,0)||this;return s.nodeIdSequence=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.at1,s.info={},s.ssrmParams=e,s.parentRowNode=a,s.level=a.level+1,s.groupLevel=e.rowGroupCols?s.level<e.rowGroupCols.length:void 0,s.leafGroup=!!e.rowGroupCols&&s.level===e.rowGroupCols.length-1,s}return __extends$B(r,l),r.prototype.postConstruct=function(){var e=this;this.usingTreeData=this.gridOptionsWrapper.isTreeData(),this.nodeIdPrefix=this.blockUtils.createNodeIdPrefix(this.parentRowNode),!this.usingTreeData&&this.groupLevel&&(this.groupField=this.ssrmParams.rowGroupCols[this.level].field,this.rowGroupColumn=this.columnModel.getRowGroupColumns()[this.level]);var a=1,s=-1===this.parentRowNode.level,d=this.gridOptionsWrapper.getServerSideInitialRowCount();s&&void 0!==d&&(a=d),this.initialiseRowNodes(a),this.rowNodeBlockLoader.addBlock(this),this.addDestroyFunc(function(){return e.rowNodeBlockLoader.removeBlock(e)})},r.prototype.destroyRowNodes=function(){this.blockUtils.destroyRowNodes(this.allRowNodes),this.allRowNodes=[],this.nodesAfterSort=[],this.nodesAfterFilter=[],this.allNodesMap={}},r.prototype.initialiseRowNodes=function(e,i){void 0===i&&(i=!1),this.destroyRowNodes();for(var a=0;a<e;a++){var s=this.blockUtils.createRowNode({field:this.groupField,group:this.groupLevel,leafGroup:this.leafGroup,level:this.level,parent:this.parentRowNode,rowGroupColumn:this.rowGroupColumn});i&&(s.failedLoad=!0),this.allRowNodes.push(s),this.nodesAfterFilter.push(s),this.nodesAfterSort.push(s)}},r.prototype.getBlockStateJson=function(){return{id:this.nodeIdPrefix?this.nodeIdPrefix:"",state:this.getState()}},r.prototype.loadFromDatasource=function(){this.storeUtils.loadFromDatasource({startRow:void 0,endRow:void 0,parentBlock:this,parentNode:this.parentRowNode,storeParams:this.ssrmParams,successCallback:this.pageLoaded.bind(this,this.getVersion()),success:this.success.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),fail:this.pageLoadFailed.bind(this,this.getVersion())})},r.prototype.getStartRow=function(){return 0},r.prototype.getEndRow=function(){return this.nodesAfterSort.length},r.prototype.createDataNode=function(e,i){var a=this.blockUtils.createRowNode({field:this.groupField,group:this.groupLevel,leafGroup:this.leafGroup,level:this.level,parent:this.parentRowNode,rowGroupColumn:this.rowGroupColumn});null!=i?ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.insertIntoArray(this.allRowNodes,a,i):this.allRowNodes.push(a);var s=this.prefixId(this.nodeIdSequence.next());return this.blockUtils.setDataIntoRowNode(a,e,s,void 0),this.nodeManager.addRowNode(a),this.blockUtils.checkOpenByDefault(a),this.allNodesMap[a.id]=a,a},r.prototype.prefixId=function(e){return this.nodeIdPrefix?this.nodeIdPrefix+"-"+e:e.toString()},r.prototype.processServerFail=function(){this.initialiseRowNodes(1,!0),this.fireStoreUpdatedEvent(),this.flushAsyncTransactions()},r.prototype.processServerResult=function(e){if(this.isAlive()){var i=e.storeInfo||e.groupLevelInfo;i&&Object.assign(this.info,i);var a=this.allRowNodes.length>0?this.allNodesMap:void 0;this.allRowNodes=[],this.nodesAfterSort=[],this.nodesAfterFilter=[],this.allNodesMap={},e.rowData||ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce(function(){return console.warn('AG Grid: "params.data" is missing from Server-Side Row Model success() callback. Please use the "data" attribute. If no data is returned, set an empty list.',e)},"FullStore.noData"),this.createOrRecycleNodes(a,e.rowData),a&&this.blockUtils.destroyRowNodes(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.getAllValuesInObject(a)),this.filterAndSortNodes(),this.fireStoreUpdatedEvent(),this.flushAsyncTransactions()}},r.prototype.createOrRecycleNodes=function(e,i){var a=this;i&&i.forEach(function(h){var v=function(h){if(e){var v=a.gridOptionsWrapper.getRowIdFunc();if(v){var _=a.parentRowNode.getGroupKeys(),m=v({data:h,parentKeys:_.length>0?_:void 0,level:a.level}),E=e[m];if(E)return delete e[m],E}}}(h);v?function(h,v){a.allNodesMap[h.id]=h,a.blockUtils.updateDataIntoRowNode(h,v),a.allRowNodes.push(h)}(v,h):a.createDataNode(h)})},r.prototype.flushAsyncTransactions=function(){var e=this;window.setTimeout(function(){return e.transactionManager.flushAsyncTransactions()},0)},r.prototype.filterAndSortNodes=function(){this.filterRowNodes(),this.sortRowNodes()},r.prototype.sortRowNodes=function(){var e=this.gridOptionsWrapper.isServerSideSortAllLevels()||this.gridOptionsWrapper.isServerSideSortOnServer(),i=this.sortController.getSortOptions();this.nodesAfterSort=e||!i||0==i.length?this.nodesAfterFilter:this.rowNodeSorter.doFullSort(this.nodesAfterFilter,i)},r.prototype.filterRowNodes=function(){var e=this;this.nodesAfterFilter=this.gridOptionsWrapper.isServerSideFilterAllLevels()||this.gridOptionsWrapper.isServerSideFilterOnServer()||this.groupLevel?this.allRowNodes:this.allRowNodes.filter(function(s){return e.filterManager.doesRowPassFilter({rowNode:s})})},r.prototype.clearDisplayIndexes=function(){var e=this;this.displayIndexStart=void 0,this.displayIndexEnd=void 0,this.allRowNodes.forEach(function(i){return e.blockUtils.clearDisplayIndex(i)})},r.prototype.getDisplayIndexEnd=function(){return this.displayIndexEnd},r.prototype.isDisplayIndexInStore=function(e){return 0!==this.getRowCount()&&e>=this.displayIndexStart&&e<this.displayIndexEnd},r.prototype.setDisplayIndexes=function(e,i){var a=this;this.displayIndexStart=e.peek(),this.topPx=i.value;var s={};this.nodesAfterSort.forEach(function(d){a.blockUtils.setDisplayIndex(d,e,i),s[d.id]=!0}),this.allRowNodes.forEach(function(d){s[d.id]||a.blockUtils.clearDisplayIndex(d)}),this.displayIndexEnd=e.peek(),this.heightPx=i.value-this.topPx},r.prototype.forEachNodeDeep=function(e,i){void 0===i&&(i=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.at1),this.allRowNodes.forEach(function(a){e(a,i.next());var s=a.childStore;s&&s.forEachNodeDeep(e,i)})},r.prototype.forEachNodeDeepAfterFilterAndSort=function(e,i){void 0===i&&(i=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.at1),this.nodesAfterSort.forEach(function(a){e(a,i.next());var s=a.childStore;s&&s.forEachNodeDeepAfterFilterAndSort(e,i)})},r.prototype.getRowUsingDisplayIndex=function(e){if(this.isDisplayIndexInStore(e))return this.blockUtils.binarySearchForDisplayIndex(e,this.nodesAfterSort)},r.prototype.getRowBounds=function(e){for(var i=0;i<this.nodesAfterSort.length;i++){var s=this.blockUtils.extractRowBounds(this.nodesAfterSort[i],e);if(s)return s}return null},r.prototype.isPixelInRange=function(e){return e>=this.topPx&&e<this.topPx+this.heightPx},r.prototype.getRowIndexAtPixel=function(e){var i=this;if(e<=this.topPx)return this.nodesAfterSort[0].rowIndex;if(e>=this.topPx+this.heightPx){var h=this.nodesAfterSort[this.nodesAfterSort.length-1];if(e>=h.rowTop+h.rowHeight&&h.expanded){if(h.childStore&&h.childStore.getRowCount()>0)return h.childStore.getRowIndexAtPixel(e);if(h.detailNode)return h.detailNode.rowIndex}return h.rowIndex}var _=null;return this.nodesAfterSort.forEach(function(m){var E=i.blockUtils.getIndexAtPixel(m,e);null!=E&&(_=E)}),_??this.displayIndexEnd-1},r.prototype.getChildStore=function(e){var i=this;return this.storeUtils.getChildStore(e,this,function(a){return i.allRowNodes.find(function(d){return d.key==a})})},r.prototype.forEachChildStoreShallow=function(e){this.allRowNodes.forEach(function(i){var a=i.childStore;a&&e(a)})},r.prototype.refreshAfterFilter=function(e){var i=this.gridOptionsWrapper.isServerSideFilterOnServer(),a=this.storeUtils.isServerRefreshNeeded(this.parentRowNode,this.ssrmParams.rowGroupCols,e);if(this.gridOptionsWrapper.isServerSideFilterAllLevels()||i&&a)return this.refreshStore(!0),void this.sortRowNodes();this.filterRowNodes(),this.sortRowNodes(),this.forEachChildStoreShallow(function(d){return d.refreshAfterFilter(e)})},r.prototype.refreshAfterSort=function(e){var i=this.gridOptionsWrapper.isServerSideSortOnServer(),a=this.storeUtils.isServerRefreshNeeded(this.parentRowNode,this.ssrmParams.rowGroupCols,e);if(this.gridOptionsWrapper.isServerSideSortAllLevels()||i&&a)return this.refreshStore(!0),void this.filterRowNodes();this.filterRowNodes(),this.sortRowNodes(),this.forEachChildStoreShallow(function(d){return d.refreshAfterSort(e)})},r.prototype.applyTransaction=function(e){switch(this.getState()){case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NlK.STATE_FAILED:return{status:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Qk6.StoreLoadingFailed};case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NlK.STATE_LOADING:return{status:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Qk6.StoreLoading};case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NlK.STATE_WAITING_TO_LOAD:return{status:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Qk6.StoreWaitingToLoad}}var i=this.gridOptionsWrapper.getIsApplyServerSideTransactionFunc();if(i&&!i({transaction:e,parentNode:this.parentRowNode,storeInfo:this.info,groupLevelInfo:this.info}))return{status:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Qk6.Cancelled};var d={status:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Qk6.Applied,remove:[],update:[],add:[]},h=[];return this.executeAdd(e,d),this.executeRemove(e,d,h),this.executeUpdate(e,d,h),this.filterAndSortNodes(),this.updateSelection(h),d},r.prototype.updateSelection=function(e){e.length>0&&(e.forEach(function(s){s.setSelected(!1,!1,!0)}),this.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_SELECTION_CHANGED}))},r.prototype.executeAdd=function(e,i){var a=this,s=e.add,d=e.addIndex;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missingOrEmpty(s)||("number"==typeof d&&d>=0?s.reverse().forEach(function(v){var _=a.createDataNode(v,d);i.add.push(_)}):s.forEach(function(v){var _=a.createDataNode(v);i.add.push(_)}))},r.prototype.executeRemove=function(e,i,a){var s=this,d=e.remove;if(null!=d){var h={};d.forEach(function(v){var _=s.lookupRowNode(v);!_||(_.isSelected()&&a.push(_),_.clearRowTopAndRowIndex(),h[_.id]=!0,delete s.allNodesMap[_.id],i.remove.push(_),s.nodeManager.removeNode(_))}),this.allRowNodes=this.allRowNodes.filter(function(v){return!h[v.id]})}},r.prototype.executeUpdate=function(e,i,a){var s=this;e.update?.forEach(function(h){var v=s.lookupRowNode(h);!v||(v.updateData(h),!v.selectable&&v.isSelected()&&a.push(v),i.update.push(v))})},r.prototype.lookupRowNode=function(e){var a,i=this.gridOptionsWrapper.getRowIdFunc();if(null!=i){var s=this.level,d=this.parentRowNode.getGroupKeys(),h=i({data:e,parentKeys:d.length>0?d:void 0,level:s});if(!(a=this.allNodesMap[h]))return console.error("AG Grid: could not find row id="+h+", data item was not found for this id"),null}else if(!(a=this.allRowNodes.find(function(v){return v.data===e})))return console.error("AG Grid: could not find data item as object was not found",e),null;return a},r.prototype.addStoreStates=function(e){e.push({infiniteScroll:!1,route:this.parentRowNode.getGroupKeys(),rowCount:this.allRowNodes.length,info:this.info}),this.forEachChildStoreShallow(function(i){return i.addStoreStates(e)})},r.prototype.refreshStore=function(e){e&&this.initialiseRowNodes(this.nodesAfterSort?this.nodesAfterSort.length:1),this.scheduleLoad(),this.fireStoreUpdatedEvent()},r.prototype.retryLoads=function(){this.getState()===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NlK.STATE_FAILED&&(this.initialiseRowNodes(1),this.scheduleLoad()),this.forEachChildStoreShallow(function(e){return e.retryLoads()})},r.prototype.scheduleLoad=function(){this.setStateWaitingToLoad(),this.rowNodeBlockLoader.checkBlockToLoad()},r.prototype.fireStoreUpdatedEvent=function(){this.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_STORE_UPDATED})},r.prototype.getRowCount=function(){return this.nodesAfterSort.length},r.prototype.getTopLevelRowDisplayedIndex=function(e){return this.nodesAfterSort[e].rowIndex},r.prototype.isLastRowIndexKnown=function(){return this.getState()==ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NlK.STATE_LOADED},r.prototype.getRowNodesInRange=function(e,i){var a=[],s=!1;return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missing(e)&&(s=!0),this.nodesAfterSort.forEach(function(h){var v=h===e||h===i;(s||v)&&a.push(h),v&&(s=!s)}),s?[]:a},__decorate$h([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ssrmStoreUtils")],r.prototype,"storeUtils",void 0),__decorate$h([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ssrmBlockUtils")],r.prototype,"blockUtils",void 0),__decorate$h([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],r.prototype,"columnModel",void 0),__decorate$h([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowNodeBlockLoader")],r.prototype,"rowNodeBlockLoader",void 0),__decorate$h([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowNodeSorter")],r.prototype,"rowNodeSorter",void 0),__decorate$h([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("sortController")],r.prototype,"sortController",void 0),__decorate$h([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ssrmNodeManager")],r.prototype,"nodeManager",void 0),__decorate$h([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("filterManager")],r.prototype,"filterManager",void 0),__decorate$h([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ssrmTransactionManager")],r.prototype,"transactionManager",void 0),__decorate$h([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],r.prototype,"postConstruct",null),__decorate$h([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FXL],r.prototype,"destroyRowNodes",null),r}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NlK),__decorate$g=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},StoreFactory=function(){function l(){}return l.prototype.createStore=function(r,e){var i=this.getStoreParams(r,e);return new(i.infiniteScroll?InfiniteStore:FullStore)(r,i,e)},l.prototype.getStoreParams=function(r,e){var i=this.getLevelSpecificParams(e),a=this.isInfiniteScroll(i);return{infiniteScroll:a,cacheBlockSize:this.getBlockSize(a,i),maxBlocksInCache:this.getMaxBlocksInCache(a,r,i)}},l.prototype.getMaxBlocksInCache=function(r,e,i){if(r){var a=i&&null!=i.maxBlocksInCache?i.maxBlocksInCache:this.gridOptionsWrapper.getMaxBlocksInCache();if(null!=a&&a>=0)return e.dynamicRowHeight?void ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce(function(){return console.warn("AG Grid: Server Side Row Model does not support Dynamic Row Height and Cache Purging. Either a) remove getRowHeight() callback or b) remove maxBlocksInCache property. Purging has been disabled.")},"storeFactory.maxBlocksInCache.dynamicRowHeight"):this.columnModel.isAutoRowHeightActive()?void ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce(function(){return console.warn("AG Grid: Server Side Row Model does not support Auto Row Height and Cache Purging. Either a) remove colDef.autoHeight or b) remove maxBlocksInCache property. Purging has been disabled.")},"storeFactory.maxBlocksInCache.autoRowHeightActive"):a}},l.prototype.getBlockSize=function(r,e){if(r){var i=e&&null!=e.cacheBlockSize?e.cacheBlockSize:this.gridOptionsWrapper.getCacheBlockSize();return null!=i&&i>0?i:100}},l.prototype.getLevelSpecificParams=function(r){var e=this.gridOptionsWrapper.getServerSideGroupLevelParamsFunc();if(e){var a=e({level:r.level+1,parentRowNode:r.level>=0?r:void 0,rowGroupColumns:this.columnModel.getRowGroupColumns(),pivotColumns:this.columnModel.getPivotColumns(),pivotMode:this.columnModel.isPivotMode()});return null!=a.storeType&&(a.infiniteScroll="partial"===a.storeType),a}},l.prototype.isInfiniteScroll=function(r){return r&&null!=r.infiniteScroll?r.infiniteScroll:this.gridOptionsWrapper.isServerSideInfiniteScroll()},__decorate$g([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridOptionsWrapper")],l.prototype,"gridOptionsWrapper",void 0),__decorate$g([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],l.prototype,"columnModel",void 0),__decorate$g([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("ssrmStoreFactory")],l)}(),__decorate$f=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},ListenerUtils=function(){function l(){}return l.prototype.isSortingWithValueColumn=function(r){for(var e=this.columnModel.getValueColumns().map(function(a){return a.getColId()}),i=0;i<r.length;i++)if(e.indexOf(r[i])>-1)return!0;return!1},l.prototype.isSortingWithSecondaryColumn=function(r){if(!this.columnModel.getSecondaryColumns())return!1;for(var e=this.columnModel.getSecondaryColumns().map(function(a){return a.getColId()}),i=0;i<r.length;i++)if(e.indexOf(r[i])>-1)return!0;return!1},__decorate$f([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],l.prototype,"columnModel",void 0),__decorate$f([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("ssrmListenerUtils")],l)}(),ServerSideRowModelModule={moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.ServerSideRowModelModule,rowModels:{serverSide:ServerSideRowModel},beans:[ExpandListener,SortListener,StoreUtils,BlockUtils,NodeManager,TransactionManager,FilterListener,StoreFactory,ListenerUtils],dependantModules:[EnterpriseCoreModule]},NULL_SUBSTITUTE$1="__<ag-grid-pseudo-null>__",ClientSideValuesExtractor=function(){function l(r,e,i){this.rowModel=r,this.filterParams=e,this.caseFormat=i}return l.prototype.extractUniqueValues=function(r){var e=this,i={},a=this.filterParams.colDef.keyCreator,s=function(d){var h=null!=d?e.caseFormat(d):NULL_SUBSTITUTE$1;h&&null==i[h]&&(i[h]=d)};return this.rowModel.forEachLeafNode(function(d){if(d.data&&r(d)){var h=e.filterParams,w=e.filterParams.valueGetter({api:h.api,colDef:h.colDef,column:h.column,columnApi:h.columnApi,context:h.context,data:d.data,getValue:function(D){return d.data[D]},node:d});a&&(w=a({value:w,colDef:e.filterParams.colDef,column:e.filterParams.column,node:d,data:d.data,api:e.filterParams.api,columnApi:e.filterParams.columnApi,context:e.filterParams.context})),null!=(w=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.makeNull(w))&&Array.isArray(w)?w.forEach(function(D){var T=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.toStringOrNull(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.makeNull(D));s(T)}):s(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.toStringOrNull(w))}}),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.values(i)},l}(),SetFilterModelValuesType=(()=>(function(l){l[l.PROVIDED_LIST=0]="PROVIDED_LIST",l[l.PROVIDED_CALLBACK=1]="PROVIDED_CALLBACK",l[l.TAKEN_FROM_GRID_VALUES=2]="TAKEN_FROM_GRID_VALUES"}(SetFilterModelValuesType||(SetFilterModelValuesType={})),SetFilterModelValuesType))(),NULL_SUBSTITUTE="__<ag-grid-pseudo-null>__",SetValueModel=function(){function l(r,e,i,a,s){var d=this;this.filterParams=r,this.setIsLoading=e,this.valueFormatterService=i,this.translate=a,this.caseFormat=s,this.localEventService=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.POd,this.miniFilterText=null,this.providedValues=null,this.allValues=[],this.availableValues=new Set,this.displayedValues=[],this.selectedValues=new Set,this.initialised=!1;var v=r.colDef,_=r.textFormatter,y=r.doesRowPassOtherFilter,m=r.suppressSorting,E=r.comparator,w=r.rowModel,S=r.values;this.column=r.column,this.formatter=_||ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.QVL.DEFAULT_FORMATTER,this.doesRowPassOtherFilters=y,this.suppressSorting=m||!1,this.comparator=E||v.comparator||ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.defaultComparator,w.getType()===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.gTE.ROW_MODEL_TYPE_CLIENT_SIDE&&(this.clientSideValuesExtractor=new ClientSideValuesExtractor(w,this.filterParams,this.caseFormat)),null==S?this.valuesType=SetFilterModelValuesType.TAKEN_FROM_GRID_VALUES:(this.valuesType=Array.isArray(S)?SetFilterModelValuesType.PROVIDED_LIST:SetFilterModelValuesType.PROVIDED_CALLBACK,this.providedValues=S),this.updateAllValues().then(function(D){return d.resetSelectionState(D||[])})}return l.prototype.addEventListener=function(r,e,i){this.localEventService.addEventListener(r,e,i)},l.prototype.removeEventListener=function(r,e,i){this.localEventService.removeEventListener(r,e,i)},l.prototype.refreshValues=function(){var r=this.getModel();return this.updateAllValues(),this.setModel(r)},l.prototype.overrideValues=function(r){var e=this;return new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S(function(i){e.allValuesPromise.then(function(){e.valuesType=SetFilterModelValuesType.PROVIDED_LIST,e.providedValues=r,e.refreshValues().then(function(){return i()})})})},l.prototype.refreshAfterAnyFilterChanged=function(){var r=this;return this.showAvailableOnly()?this.allValuesPromise.then(function(e){return r.updateAvailableValues(e||[])}):ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S.resolve()},l.prototype.isInitialised=function(){return this.initialised},l.prototype.updateAllValues=function(){var r=this;return this.allValuesPromise=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S(function(e){switch(r.valuesType){case SetFilterModelValuesType.TAKEN_FROM_GRID_VALUES:case SetFilterModelValuesType.PROVIDED_LIST:var i=r.valuesType===SetFilterModelValuesType.TAKEN_FROM_GRID_VALUES?r.getValuesFromRows(!1):r.uniqueUnsortedStringArray(r.providedValues),a=r.sortValues(i||[]);r.allValues=a,e(a);break;case SetFilterModelValuesType.PROVIDED_CALLBACK:r.setIsLoading(!0);var s=r.providedValues,d=r.filterParams,E={success:function(w){var S=r.uniqueUnsortedStringArray(w||[]);r.setIsLoading(!1);var D=r.sortValues(S||[]);r.allValues=D,e(D)},colDef:d.colDef,column:d.column,columnApi:d.columnApi,api:d.api,context:d.context};window.setTimeout(function(){return s(E)},0);break;default:throw new Error("Unrecognised valuesType")}}),this.allValuesPromise.then(function(e){return r.updateAvailableValues(e||[])}).then(function(){return r.initialised=!0}),this.allValuesPromise},l.prototype.setValuesType=function(r){this.valuesType=r},l.prototype.getValuesType=function(){return this.valuesType},l.prototype.isValueAvailable=function(r){return this.availableValues.has(r)},l.prototype.showAvailableOnly=function(){return this.valuesType===SetFilterModelValuesType.TAKEN_FROM_GRID_VALUES},l.prototype.updateAvailableValues=function(r){var e=this.showAvailableOnly()?this.sortValues(this.getValuesFromRows(!0)):r;this.availableValues=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.convertToSet(e),this.localEventService.dispatchEvent({type:l.EVENT_AVAILABLE_VALUES_CHANGED}),this.updateDisplayedValues()},l.prototype.sortValues=function(r){return this.suppressSorting?r:!this.filterParams.excelMode||r.indexOf(null)<0?r.sort(this.comparator):r.filter(function(e){return null!=e}).sort(this.comparator).concat(null)},l.prototype.getValuesFromRows=function(r){var e=this;return void 0===r&&(r=!1),this.clientSideValuesExtractor?this.clientSideValuesExtractor.extractUniqueValues(function(a){return!r||e.doesRowPassOtherFilters(a)}):(console.error("AG Grid: Set Filter cannot initialise because you are using a row model that does not contain all rows in the browser. Either use a different filter type, or configure Set Filter such that you provide it with values"),[])},l.prototype.setMiniFilter=function(r){return r=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.makeNull(r),this.miniFilterText!==r&&(this.miniFilterText=r,this.updateDisplayedValues(),!0)},l.prototype.getMiniFilter=function(){return this.miniFilterText},l.prototype.updateDisplayedValues=function(){var r=this;if(null!=this.miniFilterText){this.displayedValues=[];var e=this.caseFormat(this.formatter(this.miniFilterText)||""),i=function(a){return null!=a&&r.caseFormat(a).indexOf(e)>=0};this.availableValues.forEach(function(a){if(null==a)r.filterParams.excelMode&&i(r.translate("blanks"))&&r.displayedValues.push(a);else{var s=r.formatter(a),d=r.valueFormatterService.formatValue(r.column,null,s,r.filterParams.valueFormatter,!1);(i(s)||i(d))&&r.displayedValues.push(a)}})}else this.displayedValues=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.values(this.availableValues)},l.prototype.getDisplayedValueCount=function(){return this.displayedValues.length},l.prototype.getDisplayedValue=function(r){return this.displayedValues[r]},l.prototype.hasSelections=function(){return this.filterParams.defaultToNothingSelected?this.selectedValues.size>0:this.allValues.length!==this.selectedValues.size},l.prototype.getValues=function(){return this.allValues.slice()},l.prototype.selectAllMatchingMiniFilter=function(r){var e=this;void 0===r&&(r=!1),null==this.miniFilterText?this.selectedValues=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.convertToSet(this.allValues):(r&&this.selectedValues.clear(),this.displayedValues.forEach(function(i){return e.selectedValues.add(i)}))},l.prototype.deselectAllMatchingMiniFilter=function(){var r=this;null==this.miniFilterText?this.selectedValues.clear():this.displayedValues.forEach(function(e){return r.selectedValues.delete(e)})},l.prototype.selectValue=function(r){this.selectedValues.add(r)},l.prototype.deselectValue=function(r){this.filterParams.excelMode&&this.isEverythingVisibleSelected()&&this.resetSelectionState(this.displayedValues),this.selectedValues.delete(r)},l.prototype.isValueSelected=function(r){return this.selectedValues.has(r)},l.prototype.isEverythingVisibleSelected=function(){var r=this;return this.displayedValues.filter(function(e){return r.isValueSelected(e)}).length===this.displayedValues.length},l.prototype.isNothingVisibleSelected=function(){var r=this;return 0===this.displayedValues.filter(function(e){return r.isValueSelected(e)}).length},l.prototype.getModel=function(){return this.hasSelections()?ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.values(this.selectedValues):null},l.prototype.setModel=function(r){var e=this;return this.allValuesPromise.then(function(i){if(null==r)e.resetSelectionState(i||[]);else{e.selectedValues.clear();var a=e.uniqueValues(i||[]);r.forEach(function(s){var d=a[e.uniqueKey(s)];void 0!==d&&e.selectedValues.add(d)})}})},l.prototype.uniqueUnsortedStringArray=function(r){var e=this,i=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.toStrings(r);if(!i)return[];var a=this.uniqueValues(i);return i.map(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.makeNull).filter(function(s){var d=e.uniqueKey(s);return d in a&&(delete a[d],!0)})},l.prototype.uniqueValues=function(r){var e=this,i={};return(r||[]).forEach(function(a){var s=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.makeNull(a),d=e.uniqueKey(s);void 0===i[d]&&(i[d]=s)}),i},l.prototype.uniqueKey=function(r){return null==r?NULL_SUBSTITUTE:this.caseFormat(r)},l.prototype.resetSelectionState=function(r){this.filterParams.defaultToNothingSelected?this.selectedValues.clear():this.selectedValues=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.convertToSet(r||[])},l.EVENT_AVAILABLE_VALUES_CHANGED="availableValuesChanged",l}(),__extends$A=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__decorate$e=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},SetFilterListItem=function(l){function r(e,i,a,s){var d=l.call(this,r.TEMPLATE)||this;return d.value=e,d.params=i,d.translate=a,d.isSelected=s,d}return __extends$A(r,l),r.prototype.init=function(){var e=this;this.render(),this.eCheckbox.setValue(this.isSelected,!0),this.eCheckbox.setDisabled(!!this.params.readOnly),!this.params.readOnly&&this.eCheckbox.onValueChange(function(i){var a=i||!1;e.isSelected=a,e.dispatchEvent({type:r.EVENT_SELECTION_CHANGED,isSelected:a})})},r.prototype.toggleSelected=function(){this.params.readOnly||(this.isSelected=!this.isSelected,this.eCheckbox.setValue(this.isSelected))},r.prototype.render=function(){var e=this.params.column,i=this.value,a=null;"function"==typeof i?i=i():a=this.getFormattedValue(this.params,e,i),this.params.showTooltips&&this.setTooltip(a??i);var d={value:i,valueFormatted:a,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),colDef:this.params.colDef,column:this.params.column};this.renderCell(d)},r.prototype.getTooltipParams=function(){var e=l.prototype.getTooltipParams.call(this);return e.location="setFilterValue",e.colDef=this.getComponentHolder(),e},r.prototype.getFormattedValue=function(e,i,a){return this.valueFormatterService.formatValue(i,null,a,e&&e.valueFormatter,!1)},r.prototype.renderCell=function(e){var i=this,a=this.userComponentFactory.getSetFilterCellRendererDetails(this.params,e),s=a?a.newAgStackInstance():void 0;null!=s?s.then(function(h){h&&(i.eCheckbox.setLabel(h.getGui()),i.addDestroyFunc(function(){return i.destroyBean(h)}))}):this.eCheckbox.setLabel(e.valueFormatted??e.value??this.translate("blanks"))},r.prototype.getComponentHolder=function(){return this.params.column.getColDef()},r.EVENT_SELECTION_CHANGED="selectionChanged",r.TEMPLATE='\n        <div class="ag-set-filter-item">\n            <ag-checkbox ref="eCheckbox" class="ag-set-filter-item-checkbox"></ag-checkbox>\n        </div>',__decorate$e([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("valueFormatterService")],r.prototype,"valueFormatterService",void 0),__decorate$e([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("userComponentFactory")],r.prototype,"userComponentFactory",void 0),__decorate$e([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eCheckbox")],r.prototype,"eCheckbox",void 0),__decorate$e([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],r.prototype,"init",null),r}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),DEFAULT_LOCALE_TEXT={loadingOoo:"Loading...",blanks:"(Blanks)",searchOoo:"Search...",selectAll:"(Select All)",selectAllSearchResults:"(Select All Search Results)",noMatches:"No matches."},__extends$z=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__decorate$d=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},SetFilter=function(l){function r(){var e=l.call(this,"setFilter")||this;return e.valueModel=null,e.setFilterParams=null,e.virtualList=null,e.caseSensitive=!1,e.appliedModelValues=null,e}return __extends$z(r,l),r.prototype.postConstruct=function(){l.prototype.postConstruct.call(this),this.positionableFeature=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Gxm(this.eSetFilterList,{forcePopupParentAsOffsetParent:!0}),this.createBean(this.positionableFeature)},r.prototype.updateUiVisibility=function(){},r.prototype.createBodyTemplate=function(){return'\n            <div class="ag-set-filter">\n                <div ref="eFilterLoading" class="ag-filter-loading ag-hidden">'+this.translateForSetFilter("loadingOoo")+'</div>\n                <ag-input-text-field class="ag-mini-filter" ref="eMiniFilter"></ag-input-text-field>\n                <div ref="eFilterNoMatches" class="ag-filter-no-matches ag-hidden">'+this.translateForSetFilter("noMatches")+'</div>\n                <div ref="eSetFilterList" class="ag-set-filter-list" role="presentation"></div>\n            </div>'},r.prototype.handleKeyDown=function(e){if(l.prototype.handleKeyDown.call(this,e),!e.defaultPrevented)switch(e.key){case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.SPACE:this.handleKeySpace(e);break;case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.ENTER:this.handleKeyEnter(e)}},r.prototype.handleKeySpace=function(e){var i=this.gridOptionsWrapper.getDocument();if(this.eSetFilterList.contains(i.activeElement)&&this.virtualList){var a=this.virtualList.getLastFocusedRow();if(null!=a){var s=this.virtualList.getComponentAt(a);null!=s&&(e.preventDefault(),(this.setFilterParams||{}).readOnly||s.toggleSelected())}}},r.prototype.handleKeyEnter=function(e){if(this.setFilterParams){var i=this.setFilterParams||{};!i.excelMode||i.readOnly||(e.preventDefault(),this.onBtApply(!1,!1,e),"mac"===this.setFilterParams.excelMode&&this.eMiniFilter.getInputElement().select())}},r.prototype.getCssIdentifier=function(){return"set-filter"},r.prototype.setModelAndRefresh=function(e){var i=this;return this.valueModel?this.valueModel.setModel(e).then(function(){return i.refresh()}):ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S.resolve()},r.prototype.resetUiToDefaults=function(){return this.setMiniFilter(null),this.setModelAndRefresh(null)},r.prototype.setModelIntoUi=function(e){return this.setMiniFilter(null),this.setModelAndRefresh(null==e?null:e.values)},r.prototype.getModelFromUi=function(){if(!this.valueModel)throw new Error("Value model has not been created.");var e=this.valueModel.getModel();return e?{values:e,filterType:this.getFilterType()}:null},r.prototype.getFilterType=function(){return"set"},r.prototype.getValueModel=function(){return this.valueModel},r.prototype.areModelsEqual=function(e,i){return null==e&&null==i||null!=e&&null!=i&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.areEqual(e.values,i.values)},r.prototype.setParams=function(e){var i=this;this.applyExcelModeOptions(e),l.prototype.setParams.call(this,e),this.setFilterParams=e,this.caseSensitive=e.caseSensitive||!1,this.valueModel=new SetValueModel(e,function(a){return i.showOrHideLoadingScreen(a)},this.valueFormatterService,function(a){return i.translateForSetFilter(a)},function(a){return i.caseFormat(a)}),this.initialiseFilterBodyUi(),this.addEventListenersForDataChanges()},r.prototype.applyExcelModeOptions=function(e){"windows"===e.excelMode?(e.buttons||(e.buttons=["apply","cancel"]),null==e.closeOnApply&&(e.closeOnApply=!0)):"mac"===e.excelMode&&(e.buttons||(e.buttons=["reset"]),null==e.applyMiniFilterWhileTyping&&(e.applyMiniFilterWhileTyping=!0),null==e.debounceMs&&(e.debounceMs=500))},r.prototype.addEventListenersForDataChanges=function(){var e=this;!this.isValuesTakenFromGrid()||this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_CELL_VALUE_CHANGED,function(i){e.setFilterParams&&i.column===e.setFilterParams.column&&e.syncAfterDataChange()})},r.prototype.syncAfterDataChange=function(){var e=this;if(!this.valueModel)throw new Error("Value model has not been created.");return this.valueModel.refreshValues().then(function(){e.refresh(),e.onBtApply(!1,!0)})},r.prototype.showOrHideLoadingScreen=function(e){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eFilterLoading,e)},r.prototype.initialiseFilterBodyUi=function(){this.initVirtualList(),this.initMiniFilter()},r.prototype.initVirtualList=function(){var e=this;if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");var a=this.gridOptionsWrapper.getLocaleTextFunc()("ariaFilterList","Filter List"),s=this.virtualList=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.CPJ("filter","listbox",a)),d=this.getRefElement("eSetFilterList");d&&d.appendChild(s.getGui());var v,h=this.setFilterParams.cellHeight;null!=h&&s.setRowHeight(h),s.setComponentCreator(function(_){return e.createSetListItem(_)}),v=this.setFilterParams.suppressSelectAll?new ModelWrapper(this.valueModel):new ModelWrapperWithSelectAll(this.valueModel,function(){return e.isSelectAllSelected()}),s.setModel(v)},r.prototype.getSelectAllLabel=function(){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");var e=null!=this.valueModel.getMiniFilter()&&this.setFilterParams.excelMode?"selectAllSearchResults":"selectAll";return this.translateForSetFilter(e)},r.prototype.createSetListItem=function(e){var a,i=this;if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");return e===r.SELECT_ALL_VALUE?((a=this.createBean(new SetFilterListItem(function(){return i.getSelectAllLabel()},this.setFilterParams,function(s){return i.translateForSetFilter(s)},this.isSelectAllSelected()))).addEventListener(SetFilterListItem.EVENT_SELECTION_CHANGED,function(s){return i.onSelectAll(s.isSelected)}),a):((a=this.createBean(new SetFilterListItem(e,this.setFilterParams,function(s){return i.translateForSetFilter(s)},this.valueModel.isValueSelected(e)))).addEventListener(SetFilterListItem.EVENT_SELECTION_CHANGED,function(s){return i.onItemSelected(e,s.isSelected)}),a)},r.prototype.initMiniFilter=function(){var e=this;if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");var a=this.eMiniFilter,d=this.gridOptionsWrapper.getLocaleTextFunc();a.setDisplayed(!this.setFilterParams.suppressMiniFilter),a.setValue(this.valueModel.getMiniFilter()),a.onValueChange(function(){return e.onMiniFilterInput()}),a.setInputAriaLabel(d("ariaSearchFilterValues","Search filter values")),this.addManagedListener(a.getInputElement(),"keypress",function(h){return e.onMiniFilterKeyPress(h)})},r.prototype.afterGuiAttached=function(e){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");l.prototype.afterGuiAttached.call(this,e),this.setFilterParams.excelMode&&(this.resetUiToActiveModel(),this.showOrHideResults()),this.refreshVirtualList();var i=this.eMiniFilter;i.setInputPlaceholder(this.translateForSetFilter("searchOoo")),(!e||!e.suppressFocus)&&i.getFocusableElement().focus();var s,a=!(!e||"floatingFilter"!==e.container);s=this.gridOptionsWrapper.isEnableRtl()?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0},a?(this.positionableFeature.restoreLastSize(),this.positionableFeature.setResizable(s)):(this.positionableFeature.removeSizeFromEl(),this.positionableFeature.setResizable(!1))},r.prototype.applyModel=function(){var e=this;if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");this.setFilterParams.excelMode&&this.valueModel.isEverythingVisibleSelected()&&this.valueModel.selectAllMatchingMiniFilter();var i=l.prototype.applyModel.call(this),a=this.getModel();return this.appliedModelValues=a?a.values.reduce(function(s,d){return s[e.caseFormat(String(d))]=!0,s},{}):null,i},r.prototype.isModelValid=function(e){return!this.setFilterParams||!this.setFilterParams.excelMode||null==e||e.values.length>0},r.prototype.doesFilterPass=function(e){var i=this;if(!this.setFilterParams||!this.valueModel||!this.appliedModelValues)return!0;var a=e.node,s=e.data,d=this.setFilterParams,v=d.colDef.keyCreator,_=d.api,y=d.colDef,m=d.column,E=d.columnApi,w=d.context,S=(0,d.valueGetter)({api:_,colDef:y,column:m,columnApi:E,context:w,data:s,getValue:function(T){return s[T]},node:a});return v&&(S=v({value:S,colDef:y,column:m,node:a,data:s,api:_,columnApi:E,context:w})),S=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.makeNull(S),Array.isArray(S)?S.some(function(T){return!0===i.appliedModelValues[i.caseFormat(String(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.makeNull(T)))]}):!0===this.appliedModelValues[this.caseFormat(String(S))]},r.prototype.onNewRowsLoaded=function(){!this.isValuesTakenFromGrid()||this.syncAfterDataChange()},r.prototype.isValuesTakenFromGrid=function(){return!!this.valueModel&&this.valueModel.getValuesType()===SetFilterModelValuesType.TAKEN_FROM_GRID_VALUES},r.prototype.setFilterValues=function(e){var i=this;if(!this.valueModel)throw new Error("Value model has not been created.");this.valueModel.overrideValues(e).then(function(){i.refresh(),i.onUiChanged()})},r.prototype.resetFilterValues=function(){if(!this.valueModel)throw new Error("Value model has not been created.");this.valueModel.setValuesType(SetFilterModelValuesType.TAKEN_FROM_GRID_VALUES),this.syncAfterDataChange()},r.prototype.refreshFilterValues=function(){var e=this;if(!this.valueModel)throw new Error("Value model has not been created.");!this.valueModel.isInitialised()||this.valueModel.refreshValues().then(function(){e.refresh(),e.onUiChanged()})},r.prototype.onAnyFilterChanged=function(){var e=this;setTimeout(function(){if(e.isAlive()){if(!e.valueModel)throw new Error("Value model has not been created.");e.valueModel.refreshAfterAnyFilterChanged().then(function(){return e.refresh()})}},0)},r.prototype.onMiniFilterInput=function(){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");if(this.valueModel.setMiniFilter(this.eMiniFilter.getValue())){var e=this.setFilterParams||{};!e.readOnly&&e.applyMiniFilterWhileTyping?this.filterOnAllVisibleValues(!1):this.updateUiAfterMiniFilterChange()}},r.prototype.updateUiAfterMiniFilterChange=function(){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");var e=this.setFilterParams||{};null==e.excelMode||e.readOnly?this.refresh():null==this.valueModel.getMiniFilter()?this.resetUiToActiveModel():(this.valueModel.selectAllMatchingMiniFilter(!0),this.refresh(),this.onUiChanged()),this.showOrHideResults()},r.prototype.showOrHideResults=function(){if(!this.valueModel)throw new Error("Value model has not been created.");var e=null!=this.valueModel.getMiniFilter()&&this.valueModel.getDisplayedValueCount()<1;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eNoMatches,e),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eSetFilterList,!e)},r.prototype.resetUiToActiveModel=function(){var e=this;if(!this.valueModel)throw new Error("Value model has not been created.");this.eMiniFilter.setValue(null,!0),this.valueModel.setMiniFilter(null),this.setModelIntoUi(this.getModel()).then(function(){return e.onUiChanged(!1,"prevent")})},r.prototype.onMiniFilterKeyPress=function(e){var i=this.setFilterParams||{};e.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.ENTER&&!i.excelMode&&!i.readOnly&&this.filterOnAllVisibleValues()},r.prototype.filterOnAllVisibleValues=function(e){void 0===e&&(e=!0);var i=(this.setFilterParams||{}).readOnly;if(!this.valueModel)throw new Error("Value model has not been created.");if(i)throw new Error("Unable to filter in readOnly mode.");this.valueModel.selectAllMatchingMiniFilter(!0),this.refresh(),this.onUiChanged(!1,e?"immediately":"debounce"),this.showOrHideResults()},r.prototype.focusRowIfAlive=function(e){var i=this;null!=e&&window.setTimeout(function(){if(!i.virtualList)throw new Error("Virtual list has not been created.");i.isAlive()&&i.virtualList.focusRow(e)},0)},r.prototype.onSelectAll=function(e){if(!this.valueModel)throw new Error("Value model has not been created.");if(!this.virtualList)throw new Error("Virtual list has not been created.");e?this.valueModel.selectAllMatchingMiniFilter():this.valueModel.deselectAllMatchingMiniFilter();var i=this.virtualList.getLastFocusedRow();this.refresh(),this.onUiChanged(),this.focusRowIfAlive(i)},r.prototype.onItemSelected=function(e,i){if(!this.valueModel)throw new Error("Value model has not been created.");if(!this.virtualList)throw new Error("Virtual list has not been created.");i?this.valueModel.selectValue(e):this.valueModel.deselectValue(e);var a=this.virtualList.getLastFocusedRow();this.refresh(),this.onUiChanged(),this.focusRowIfAlive(a)},r.prototype.setMiniFilter=function(e){this.eMiniFilter.setValue(e),this.onMiniFilterInput()},r.prototype.getMiniFilter=function(){return this.valueModel?this.valueModel.getMiniFilter():null},r.prototype.refresh=function(){if(!this.virtualList)throw new Error("Virtual list has not been created.");this.virtualList.refresh()},r.prototype.getValues=function(){return this.valueModel?this.valueModel.getValues():[]},r.prototype.refreshVirtualList=function(){this.setFilterParams&&this.setFilterParams.refreshValuesOnOpen?this.refreshFilterValues():this.refresh()},r.prototype.translateForSetFilter=function(e){return this.gridOptionsWrapper.getLocaleTextFunc()(e,DEFAULT_LOCALE_TEXT[e])},r.prototype.isSelectAllSelected=function(){if(!this.setFilterParams||!this.valueModel)return!1;if(this.setFilterParams.defaultToNothingSelected){if(this.valueModel.hasSelections()&&this.valueModel.isEverythingVisibleSelected())return!0;if(this.valueModel.isNothingVisibleSelected())return!1}else{if(this.valueModel.hasSelections()&&this.valueModel.isNothingVisibleSelected())return!1;if(this.valueModel.isEverythingVisibleSelected())return!0}},r.prototype.destroy=function(){null!=this.virtualList&&(this.virtualList.destroy(),this.virtualList=null),l.prototype.destroy.call(this)},r.prototype.caseFormat=function(e){return null==e||"string"!=typeof e||this.caseSensitive?e:e.toUpperCase()},r.SELECT_ALL_VALUE="__AG_SELECT_ALL__",__decorate$d([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eMiniFilter")],r.prototype,"eMiniFilter",void 0),__decorate$d([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eFilterLoading")],r.prototype,"eFilterLoading",void 0),__decorate$d([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eSetFilterList")],r.prototype,"eSetFilterList",void 0),__decorate$d([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eFilterNoMatches")],r.prototype,"eNoMatches",void 0),__decorate$d([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("valueFormatterService")],r.prototype,"valueFormatterService",void 0),r}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AGU),ModelWrapper=function(){function l(r){this.model=r}return l.prototype.getRowCount=function(){return this.model.getDisplayedValueCount()},l.prototype.getRow=function(r){return this.model.getDisplayedValue(r)},l.prototype.isRowSelected=function(r){return this.model.isValueSelected(this.getRow(r))},l}(),ModelWrapperWithSelectAll=function(){function l(r,e){this.model=r,this.isSelectAllSelected=e}return l.prototype.getRowCount=function(){return this.model.getDisplayedValueCount()+1},l.prototype.getRow=function(r){return 0===r?SetFilter.SELECT_ALL_VALUE:this.model.getDisplayedValue(r-1)},l.prototype.isRowSelected=function(r){return 0===r?this.isSelectAllSelected():this.model.isValueSelected(this.getRow(r))},l}(),__extends$y=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__decorate$c=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},SetFloatingFilterComp=function(l){function r(){var e=l.call(this,'\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eFloatingFilterText"></ag-input-text-field>\n            </div>')||this;return e.availableValuesListenerAdded=!1,e}return __extends$y(r,l),r.prototype.destroy=function(){l.prototype.destroy.call(this)},r.prototype.init=function(e){var i=this.columnModel.getDisplayNameForColumn(e.column,"header",!0),a=this.gridOptionsWrapper.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(i+" "+a("ariaFilterInput","Filter Input")).addGuiEventListener("click",function(){return e.showParentFilter()}),this.params=e},r.prototype.onParentModelChanged=function(e){this.updateFloatingFilterText(e)},r.prototype.parentSetFilterInstance=function(e){this.params.parentFilterInstance(function(i){if(!(i instanceof SetFilter))throw new Error("AG Grid - SetFloatingFilter expects SetFilter as it's parent");e(i)})},r.prototype.addAvailableValuesListener=function(){var e=this;this.parentSetFilterInstance(function(i){var a=i.getValueModel();!a||e.addManagedListener(a,SetValueModel.EVENT_AVAILABLE_VALUES_CHANGED,function(){return e.updateFloatingFilterText()})}),this.availableValuesListenerAdded=!0},r.prototype.updateFloatingFilterText=function(e){var i=this;this.availableValuesListenerAdded||this.addAvailableValuesListener(),this.parentSetFilterInstance(function(a){var s=(e||a.getModel()||{}).values,d=a.getValueModel();if(null!=s&&null!=d){var h=i.gridOptionsWrapper.getLocaleTextFunc(),_=s.filter(function(E){return d.isValueAvailable(E)}).map(function(E){var w=i.params;return i.valueFormatterService.formatValue(w.column,null,E,w.filterParams.valueFormatter,!1)??E??h("blanks",DEFAULT_LOCALE_TEXT.blanks)}),y=_.length>10?_.slice(0,10).concat("..."):_,m="("+_.length+") "+y.join(",");i.eFloatingFilterText.setValue(m)}else i.eFloatingFilterText.setValue("")})},__decorate$c([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eFloatingFilterText")],r.prototype,"eFloatingFilterText",void 0),__decorate$c([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("valueFormatterService")],r.prototype,"valueFormatterService",void 0),__decorate$c([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],r.prototype,"columnModel",void 0),r}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),SetFilterModule={moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.SetFilterModule,beans:[],userComponents:[{componentName:"agSetColumnFilter",componentClass:SetFilter},{componentName:"agSetColumnFloatingFilter",componentClass:SetFloatingFilterComp}],dependantModules:[EnterpriseCoreModule]},__extends$x=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__decorate$b=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},StatusBarService=function(l){function r(){var e=l.call(this)||this;return e.allComponents={},e}return __extends$x(r,l),r.prototype.registerStatusPanel=function(e,i){this.allComponents[e]=i},r.prototype.getStatusPanel=function(e){return this.allComponents[e]},__decorate$b([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("statusBarService")],r)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$w=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__decorate$a=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},StatusBar=function(l){function r(){return l.call(this,r.TEMPLATE)||this}return __extends$w(r,l),r.prototype.postConstruct=function(){if(this.gridOptions.statusBar&&this.gridOptions.statusBar.statusPanels){var e=this.gridOptions.statusBar.statusPanels.filter(function(s){return"left"===s.align});this.createAndRenderComponents(e,this.eStatusBarLeft);var i=this.gridOptions.statusBar.statusPanels.filter(function(s){return"center"===s.align});this.createAndRenderComponents(i,this.eStatusBarCenter);var a=this.gridOptions.statusBar.statusPanels.filter(function(s){return!s.align||"right"===s.align});this.createAndRenderComponents(a,this.eStatusBarRight)}else this.setDisplayed(!1)},r.prototype.createAndRenderComponents=function(e,i){var a=this,s=[];e.forEach(function(d){var _=a.userComponentFactory.getStatusPanelCompDetails(d,{}).newAgStackInstance();!_||s.push({key:d.key||d.statusPanel,promise:_})}),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S.all(s.map(function(d){return d.promise})).then(function(){s.forEach(function(d){d.promise.then(function(h){var v=function(){a.getContext().destroyBean(h)};a.isAlive()?(a.statusBarService.registerStatusPanel(d.key,h),i.appendChild(h.getGui()),a.addDestroyFunc(v)):v()})})})},r.TEMPLATE='<div class="ag-status-bar">\n            <div ref="eStatusBarLeft" class="ag-status-bar-left" role="status"></div>\n            <div ref="eStatusBarCenter" class="ag-status-bar-center" role="status"></div>\n            <div ref="eStatusBarRight" class="ag-status-bar-right" role="status"></div>\n        </div>',__decorate$a([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridOptions")],r.prototype,"gridOptions",void 0),__decorate$a([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("userComponentFactory")],r.prototype,"userComponentFactory",void 0),__decorate$a([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("statusBarService")],r.prototype,"statusBarService",void 0),__decorate$a([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eStatusBarLeft")],r.prototype,"eStatusBarLeft",void 0),__decorate$a([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eStatusBarCenter")],r.prototype,"eStatusBarCenter",void 0),__decorate$a([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eStatusBarRight")],r.prototype,"eStatusBarRight",void 0),__decorate$a([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],r.prototype,"postConstruct",null),r}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$v=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__decorate$9=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},NameValueComp=function(l){function r(){return l.call(this,r.TEMPLATE)||this}return __extends$v(r,l),r.prototype.setLabel=function(e,i){this.setDisplayed(!1);var a=this.gridOptionsWrapper.getLocaleTextFunc();this.eLabel.innerHTML=a(e,i)},r.prototype.setValue=function(e){this.eValue.innerHTML=e},r.TEMPLATE='<div class="ag-status-name-value">\n            <span ref="eLabel"></span>:&nbsp;\n            <span ref="eValue" class="ag-status-name-value-value"></span>\n        </div>',__decorate$9([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eLabel")],r.prototype,"eLabel",void 0),__decorate$9([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eValue")],r.prototype,"eValue",void 0),r}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$u=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__decorate$8=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},TotalAndFilteredRowsComp=function(l){function r(){return null!==l&&l.apply(this,arguments)||this}return __extends$u(r,l),r.prototype.postConstruct=function(){"clientSide"===this.gridApi.getModel().getType()?(this.setLabel("totalAndFilteredRows","Rows"),this.addCssClass("ag-status-panel"),this.addCssClass("ag-status-panel-total-and-filtered-row-count"),this.setDisplayed(!0),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_MODEL_UPDATED,this.onDataChanged.bind(this)),this.onDataChanged()):console.warn("AG Grid: agTotalAndFilteredRowCountComponent should only be used with the client side row model.")},r.prototype.onDataChanged=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc(),i=e("thousandSeparator",","),a=e("decimalSeparator","."),s=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.formatNumberCommas(this.getFilteredRowCountValue(),i,a),d=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.formatNumberCommas(this.getTotalRowCount(),i,a);if(s===d)this.setValue(s);else{var h=this.gridOptionsWrapper.getLocaleTextFunc();this.setValue(s+" "+h("of","of")+" "+d)}},r.prototype.getFilteredRowCountValue=function(){var e=0;return this.gridApi.forEachNodeAfterFilter(function(i){i.group||e++}),e},r.prototype.getTotalRowCount=function(){var e=0;return this.gridApi.forEachNode(function(i){i.group||e++}),e},r.prototype.init=function(){},r.prototype.destroy=function(){l.prototype.destroy.call(this)},__decorate$8([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],r.prototype,"gridApi",void 0),__decorate$8([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],r.prototype,"postConstruct",null),r}(NameValueComp),__extends$t=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__decorate$7=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},FilteredRowsComp=function(l){function r(){return null!==l&&l.apply(this,arguments)||this}return __extends$t(r,l),r.prototype.postConstruct=function(){if(this.setLabel("filteredRows","Filtered"),"clientSide"===this.gridApi.getModel().getType()){this.addCssClass("ag-status-panel"),this.addCssClass("ag-status-panel-filtered-row-count"),this.setDisplayed(!0);var e=this.onDataChanged.bind(this);this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_MODEL_UPDATED,e),e()}else console.warn("AG Grid: agFilteredRowCountComponent should only be used with the client side row model.")},r.prototype.onDataChanged=function(){var e=this.getTotalRowCountValue(),i=this.getFilteredRowCountValue(),a=this.gridOptionsWrapper.getLocaleTextFunc(),s=a("thousandSeparator",","),d=a("decimalSeparator",".");this.setValue(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.formatNumberCommas(i,s,d)),this.setDisplayed(e!==i)},r.prototype.getTotalRowCountValue=function(){var e=0;return this.gridApi.forEachNode(function(i){return e+=1}),e},r.prototype.getFilteredRowCountValue=function(){var e=0;return this.gridApi.forEachNodeAfterFilter(function(i){i.group||(e+=1)}),e},r.prototype.init=function(){},r.prototype.destroy=function(){l.prototype.destroy.call(this)},__decorate$7([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],r.prototype,"gridApi",void 0),__decorate$7([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],r.prototype,"postConstruct",null),r}(NameValueComp),__extends$s=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__decorate$6=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},TotalRowsComp=function(l){function r(){return null!==l&&l.apply(this,arguments)||this}return __extends$s(r,l),r.prototype.postConstruct=function(){this.setLabel("totalRows","Total Rows"),"clientSide"===this.gridApi.getModel().getType()?(this.addCssClass("ag-status-panel"),this.addCssClass("ag-status-panel-total-row-count"),this.setDisplayed(!0),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_MODEL_UPDATED,this.onDataChanged.bind(this)),this.onDataChanged()):console.warn("AG Grid: agTotalRowCountComponent should only be used with the client side row model.")},r.prototype.onDataChanged=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc(),i=e("thousandSeparator",","),a=e("decimalSeparator",".");this.setValue(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.formatNumberCommas(this.getRowCountValue(),i,a))},r.prototype.getRowCountValue=function(){var e=0;return this.gridApi.forEachLeafNode(function(i){return e+=1}),e},r.prototype.init=function(){},r.prototype.destroy=function(){l.prototype.destroy.call(this)},__decorate$6([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],r.prototype,"gridApi",void 0),__decorate$6([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],r.prototype,"postConstruct",null),r}(NameValueComp),__extends$r=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__decorate$5=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},SelectedRowsComp=function(l){function r(){return null!==l&&l.apply(this,arguments)||this}return __extends$r(r,l),r.prototype.postConstruct=function(){if(this.isValidRowModel()){this.setLabel("selectedRows","Selected"),this.addCssClass("ag-status-panel"),this.addCssClass("ag-status-panel-selected-row-count");var e=this.gridApi.getSelectedRows().length,i=this.gridOptionsWrapper.getLocaleTextFunc(),a=i("thousandSeparator",","),s=i("decimalSeparator",".");this.setValue(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.formatNumberCommas(e,a,s)),this.setDisplayed(e>0);var d=this.onRowSelectionChanged.bind(this);this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_MODEL_UPDATED,d),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_SELECTION_CHANGED,d)}else console.warn("AG Grid: agSelectedRowCountComponent should only be used with the client and server side row model.")},r.prototype.isValidRowModel=function(){var e=this.gridApi.getModel().getType();return"clientSide"===e||"serverSide"===e},r.prototype.onRowSelectionChanged=function(){var e=this.gridApi.getSelectedRows().length,i=this.gridOptionsWrapper.getLocaleTextFunc(),a=i("thousandSeparator",","),s=i("decimalSeparator",".");this.setValue(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.formatNumberCommas(e,a,s)),this.setDisplayed(e>0)},r.prototype.init=function(){},r.prototype.destroy=function(){l.prototype.destroy.call(this)},__decorate$5([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],r.prototype,"gridApi",void 0),__decorate$5([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],r.prototype,"postConstruct",null),r}(NameValueComp),__extends$q=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__decorate$4=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},AggregationComp=function(l){function r(){return l.call(this,r.TEMPLATE)||this}return __extends$q(r,l),r.prototype.destroy=function(){l.prototype.destroy.call(this)},r.prototype.postConstruct=function(){this.isValidRowModel()?(this.avgAggregationComp.setLabel("avg","Average"),this.countAggregationComp.setLabel("count","Count"),this.minAggregationComp.setLabel("min","Min"),this.maxAggregationComp.setLabel("max","Max"),this.sumAggregationComp.setLabel("sum","Sum"),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_RANGE_SELECTION_CHANGED,this.onRangeSelectionChanged.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_MODEL_UPDATED,this.onRangeSelectionChanged.bind(this))):console.warn("AG Grid: agAggregationComponent should only be used with the client and server side row model.")},r.prototype.isValidRowModel=function(){var e=this.gridApi.getModel().getType();return"clientSide"===e||"serverSide"===e},r.prototype.init=function(){},r.prototype.setAggregationComponentValue=function(e,i,a){var s=this.getAggregationValueComponent(e);if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(s)&&s){var d=this.gridOptionsWrapper.getLocaleTextFunc(),h=d("thousandSeparator",","),v=d("decimalSeparator",".");s.setValue(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.formatNumberTwoDecimalPlacesAndCommas(i,h,v)),s.setDisplayed(a)}},r.prototype.getAggregationValueComponent=function(e){var i=e+"AggregationComp",a=null,s=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(this.gridOptions.statusBar)&&this.gridOptions.statusBar?this.gridOptions.statusBar.statusPanels.find(function(d){return"agAggregationComponent"===d.statusPanel}):null;return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(s)&&s?(!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(s.statusPanelParams)||ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(s.statusPanelParams)&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(s.statusPanelParams.aggFuncs)&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(s.statusPanelParams.aggFuncs.find(function(d){return d===e})))&&(a=this[i]):a=this[i],a},r.prototype.onRangeSelectionChanged=function(){var e=this,i=this.rangeService?this.rangeService.getCellRanges():void 0,a=0,s=0,d=0,h=null,v=null,_={};i&&!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missingOrEmpty(i)&&i.forEach(function(E){for(var w=e.rangeService.getRangeStartRow(E),S=e.rangeService.getRangeEndRow(E);!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missing(w)&&w&&!e.rowPositionUtils.before(S,w)&&w&&E.columns;)E.columns.forEach(function(T){if(null!==w){var b=e.cellPositionUtils.createId({rowPinned:w.rowPinned,column:T,rowIndex:w.rowIndex});if(!_[b]){_[b]=!0;var M=e.rowRenderer.getRowNode(w);if(!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missing(M)){var A=e.valueService.getValue(T,M);ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missing(A)||""===A||(A.value&&(A=A.value),"string"==typeof A&&(A=Number(A)),"number"==typeof A&&!isNaN(A)&&(a+=A,(null===v||A>v)&&(v=A),(null===h||A<h)&&(h=A),d++),s++)}}}}),w=e.cellNavigationService.getRowBelow(w)});var m=d>1;this.setAggregationComponentValue("count",s,s>1),this.setAggregationComponentValue("sum",a,m),this.setAggregationComponentValue("min",h,m),this.setAggregationComponentValue("max",v,m),this.setAggregationComponentValue("avg",a/d,m)},r.TEMPLATE='<div class="ag-status-panel ag-status-panel-aggregations">\n            <ag-name-value ref="avgAggregationComp"></ag-name-value>\n            <ag-name-value ref="countAggregationComp"></ag-name-value>\n            <ag-name-value ref="minAggregationComp"></ag-name-value>\n            <ag-name-value ref="maxAggregationComp"></ag-name-value>\n            <ag-name-value ref="sumAggregationComp"></ag-name-value>\n        </div>',__decorate$4([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FiY)("rangeService")],r.prototype,"rangeService",void 0),__decorate$4([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("valueService")],r.prototype,"valueService",void 0),__decorate$4([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("cellNavigationService")],r.prototype,"cellNavigationService",void 0),__decorate$4([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowRenderer")],r.prototype,"rowRenderer",void 0),__decorate$4([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridOptions")],r.prototype,"gridOptions",void 0),__decorate$4([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],r.prototype,"gridApi",void 0),__decorate$4([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("cellPositionUtils")],r.prototype,"cellPositionUtils",void 0),__decorate$4([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowPositionUtils")],r.prototype,"rowPositionUtils",void 0),__decorate$4([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("sumAggregationComp")],r.prototype,"sumAggregationComp",void 0),__decorate$4([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("countAggregationComp")],r.prototype,"countAggregationComp",void 0),__decorate$4([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("minAggregationComp")],r.prototype,"minAggregationComp",void 0),__decorate$4([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("maxAggregationComp")],r.prototype,"maxAggregationComp",void 0),__decorate$4([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("avgAggregationComp")],r.prototype,"avgAggregationComp",void 0),__decorate$4([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],r.prototype,"postConstruct",null),r}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),StatusBarModule={moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.StatusBarModule,beans:[StatusBarService],agStackComponents:[{componentName:"AgStatusBar",componentClass:StatusBar},{componentName:"AgNameValue",componentClass:NameValueComp}],userComponents:[{componentName:"agAggregationComponent",componentClass:AggregationComp},{componentName:"agSelectedRowCountComponent",componentClass:SelectedRowsComp},{componentName:"agTotalRowCountComponent",componentClass:TotalRowsComp},{componentName:"agFilteredRowCountComponent",componentClass:FilteredRowsComp},{componentName:"agTotalAndFilteredRowCountComponent",componentClass:TotalAndFilteredRowsComp}],dependantModules:[EnterpriseCoreModule]},__extends$p=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__decorate$3=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},ViewportRowModel=function(l){function r(){var e=null!==l&&l.apply(this,arguments)||this;return e.firstRow=-1,e.lastRow=-1,e.rowCount=-1,e.rowNodesByIndex={},e}return __extends$p(r,l),r.prototype.ensureRowHeightsValid=function(e,i,a,s){return!1},r.prototype.init=function(){this.rowHeight=this.gridOptionsWrapper.getRowHeightAsNumber(),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_VIEWPORT_CHANGED,this.onViewportChanged.bind(this))},r.prototype.start=function(){this.gridOptionsWrapper.getViewportDatasource()&&this.setViewportDatasource(this.gridOptionsWrapper.getViewportDatasource())},r.prototype.isLastRowIndexKnown=function(){return!0},r.prototype.destroyDatasource=function(){!this.viewportDatasource||(this.viewportDatasource.destroy&&this.viewportDatasource.destroy(),this.rowRenderer.datasourceChanged(),this.firstRow=-1,this.lastRow=-1)},r.prototype.calculateFirstRow=function(e){var i=this.gridOptionsWrapper.getViewportRowModelBufferSize(),a=this.gridOptionsWrapper.getViewportRowModelPageSize(),s=e-i;return s<0?0:Math.floor(s/a)*a},r.prototype.calculateLastRow=function(e){if(-1===e)return e;var i=this.gridOptionsWrapper.getViewportRowModelBufferSize(),a=this.gridOptionsWrapper.getViewportRowModelPageSize(),d=Math.ceil((e+i)/a)*a;return Math.min(d,this.rowCount-1)},r.prototype.onViewportChanged=function(e){var i=this.calculateFirstRow(e.firstRow),a=this.calculateLastRow(e.lastRow);(this.firstRow!==i||this.lastRow!==a)&&(this.firstRow=i,this.lastRow=a,this.purgeRowsNotInViewport(),this.viewportDatasource&&this.viewportDatasource.setViewportRange(this.firstRow,this.lastRow))},r.prototype.purgeRowsNotInViewport=function(){var e=this;Object.keys(this.rowNodesByIndex).forEach(function(i){var a=parseInt(i,10);if(a<e.firstRow||a>e.lastRow){if(e.isRowFocused(a))return;delete e.rowNodesByIndex[a]}})},r.prototype.isRowFocused=function(e){var i=this.focusService.getFocusCellToUseAfterRefresh();return!(!i||null!=i.rowPinned)&&i.rowIndex===e},r.prototype.setViewportDatasource=function(e){this.destroyDatasource(),this.viewportDatasource=e,this.rowCount=0,e.init?e.init({setRowCount:this.setRowCount.bind(this),setRowData:this.setRowData.bind(this),getRow:this.getRow.bind(this)}):console.warn("AG Grid: viewport is missing init method.")},r.prototype.getType=function(){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.gTE.ROW_MODEL_TYPE_VIEWPORT},r.prototype.getRow=function(e){return this.rowNodesByIndex[e]||(this.rowNodesByIndex[e]=this.createBlankRowNode(e)),this.rowNodesByIndex[e]},r.prototype.getRowNode=function(e){var i;return this.forEachNode(function(a){a.id===e&&(i=a)}),i},r.prototype.getRowCount=function(){return this.rowCount},r.prototype.getRowIndexAtPixel=function(e){return 0!==this.rowHeight?Math.floor(e/this.rowHeight):0},r.prototype.getRowBounds=function(e){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*e}},r.prototype.getTopLevelRowCount=function(){return this.getRowCount()},r.prototype.getTopLevelRowDisplayedIndex=function(e){return e},r.prototype.isEmpty=function(){return this.rowCount>0},r.prototype.isRowsToRender=function(){return this.rowCount>0},r.prototype.getNodesInRangeForSelection=function(e,i){var a=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missing(e)?0:e.rowIndex,s=i.rowIndex;if(a<this.firstRow||a>this.lastRow||s<this.firstRow||s>this.lastRow)return[];for(var v=[],y=a<=s?s:a,m=a<=s?a:s;m<=y;m++)v.push(this.rowNodesByIndex[m]);return v},r.prototype.forEachNode=function(e){var i=this,a=0;Object.keys(this.rowNodesByIndex).forEach(function(s){var d=parseInt(s,10);e(i.rowNodesByIndex[d],a),a++})},r.prototype.setRowData=function(e){var i=this;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.iterateObject(e,function(a,s){var d=parseInt(a,10);if(d>=i.firstRow&&d<=i.lastRow){var h=i.rowNodesByIndex[d];ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missing(h)&&(h=i.createBlankRowNode(d),i.rowNodesByIndex[d]=h),h.setDataAndId(s,d.toString())}})},r.prototype.createBlankRowNode=function(e){var i=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Fxk(this.beans);return i.setRowHeight(this.rowHeight),i.setRowTop(this.rowHeight*e),i.setRowIndex(e),i},r.prototype.setRowCount=function(e,i){void 0===i&&(i=!1),e!==this.rowCount&&(this.rowCount=e,this.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_MODEL_UPDATED,newData:!1,newPage:!1,keepRenderedRows:i,animate:!1}))},r.prototype.isRowPresent=function(e){return!!this.getRowNode(e.id)},__decorate$3([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowRenderer")],r.prototype,"rowRenderer",void 0),__decorate$3([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("focusService")],r.prototype,"focusService",void 0),__decorate$3([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("beans")],r.prototype,"beans",void 0),__decorate$3([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],r.prototype,"init",null),__decorate$3([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FXL],r.prototype,"destroyDatasource",null),__decorate$3([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("rowModel")],r)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),ViewportRowModelModule={moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.ViewportRowModelModule,rowModels:{viewport:ViewportRowModel},dependantModules:[EnterpriseCoreModule]},BBox=function(){function l(r,e,i,a){this.x=r,this.y=e,this.width=i,this.height=a}return l.prototype.isValid=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},l.prototype.dilate=function(r){this.x-=r,this.y-=r,this.width+=2*r,this.height+=2*r},l.prototype.containsPoint=function(r,e){return r>=this.x&&r<=this.x+this.width&&e>=this.y&&e<=this.y+this.height},l.prototype.render=function(r,e){void 0===e&&(e=l.noParams),r.save(),e.resetTransform&&r.setTransform(1,0,0,1,0,0),r.strokeStyle=e.strokeStyle||"cyan",r.lineWidth=e.lineWidth||1,r.strokeRect(this.x,this.y,this.width,this.height),e.label&&(r.fillStyle=e.fillStyle||"black",r.textBaseline="bottom",r.fillText(e.label,this.x,this.y)),r.restore()},l.noParams={},l}(),__read$6=function(l,r){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var a,d,i=e.call(l),s=[];try{for(;(void 0===r||r-- >0)&&!(a=i.next()).done;)s.push(a.value)}catch(h){d={error:h}}finally{try{a&&!a.done&&(e=i.return)&&e.call(i)}finally{if(d)throw d.error}}return s},Matrix=function(){function l(r){void 0===r&&(r=[1,0,0,1,0,0]),this.elements=r}return l.prototype.setElements=function(r){var e=this.elements;return e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e[4]=r[4],e[5]=r[5],this},l.prototype.setIdentityElements=function(){var r=this.elements;return r[0]=1,r[1]=0,r[2]=0,r[3]=1,r[4]=0,r[5]=0,this},Object.defineProperty(l.prototype,"identity",{get:function(){var r=this.elements;return 1===r[0]&&0===r[1]&&0===r[2]&&1===r[3]&&0===r[4]&&0===r[5]},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"a",{get:function(){return this.elements[0]},set:function(r){this.elements[0]=r},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"b",{get:function(){return this.elements[1]},set:function(r){this.elements[1]=r},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"c",{get:function(){return this.elements[2]},set:function(r){this.elements[2]=r},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"d",{get:function(){return this.elements[3]},set:function(r){this.elements[3]=r},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"e",{get:function(){return this.elements[4]},set:function(r){this.elements[4]=r},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"f",{get:function(){return this.elements[5]},set:function(r){this.elements[5]=r},enumerable:!0,configurable:!0}),l.prototype.AxB=function(r,e,i){var a=__read$6(r,6),s=a[0],d=a[1],h=a[2],v=a[3],_=a[4],y=a[5],m=__read$6(e,6),E=m[0],w=m[1],S=m[2],D=m[3],T=m[4],b=m[5];(i=i||r)[0]=s*E+h*w,i[1]=d*E+v*w,i[2]=s*S+h*D,i[3]=d*S+v*D,i[4]=s*T+h*b+_,i[5]=d*T+v*b+y},l.prototype.multiplySelf=function(r){return this.AxB(this.elements,r.elements),this},l.prototype.multiply=function(r){var e=new Array(6);return this.AxB(this.elements,r.elements,e),new l(e)},l.prototype.preMultiplySelf=function(r){return this.AxB(r.elements,this.elements,this.elements),this},l.prototype.inverse=function(){var r=__read$6(this.elements,6),e=r[0],i=r[1],a=r[2],s=r[3],d=r[4],h=r[5],v=1/(e*s-i*a);return new l([s*=v,-(i*=v),-(a*=v),e*=v,a*h-s*d,i*d-e*h])},l.prototype.inverseTo=function(r){var e=__read$6(this.elements,6),i=e[0],a=e[1],s=e[2],d=e[3],h=e[4],v=e[5],_=1/(i*d-a*s);return r.setElements([d*=_,-(a*=_),-(s*=_),i*=_,s*v-d*h,a*h-i*v]),this},l.prototype.invertSelf=function(){var r=this.elements,e=__read$6(r,6),i=e[0],a=e[1],s=e[2],d=e[3],h=e[4],v=e[5],_=1/(i*d-a*s);return i*=_,a*=_,s*=_,r[0]=d*=_,r[1]=-a,r[2]=-s,r[3]=i,r[4]=s*v-d*h,r[5]=a*h-i*v,this},l.prototype.clone=function(){return new l(this.elements.slice())},l.prototype.transformPoint=function(r,e){var i=this.elements;return{x:r*i[0]+e*i[2]+i[4],y:r*i[1]+e*i[3]+i[5]}},l.prototype.transformBBox=function(r,e,i){void 0===e&&(e=0);var w,S,a=this.elements,s=a[0],d=a[1],h=a[2],v=a[3],_=.5*r.width,y=.5*r.height,m=r.x+_,E=r.y+y;if(e){_-=e,y-=e;var D=Math.sqrt(s*s+h*h),T=Math.sqrt(d*d+v*v);w=Math.abs(_*s)+Math.abs(y*h)+Math.abs(D*e),S=Math.abs(_*d)+Math.abs(y*v)+Math.abs(T*e)}else w=Math.abs(_*s)+Math.abs(y*h),S=Math.abs(_*d)+Math.abs(y*v);return i||(i=new BBox(0,0,0,0)),i.x=m*s+E*h+a[4]-w,i.y=m*d+E*v+a[5]-S,i.width=w+w,i.height=S+S,i},l.prototype.toContext=function(r){if(!this.identity){var e=this.elements;r.transform(e[0],e[1],e[2],e[3],e[4],e[5])}},l.flyweight=function(r){return r?l.matrix.setElements(r instanceof l?r.elements:r):l.matrix.setIdentityElements(),l.matrix},l.matrix=new l,l}();function createId(l){var r=l.constructor,e=r.className;if(!e)throw new Error("The "+r+" is missing the 'className' property.");return e+"-"+(r.id=(r.id||0)+1)}var __read$5=function(l,r){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var a,d,i=e.call(l),s=[];try{for(;(void 0===r||r-- >0)&&!(a=i.next()).done;)s.push(a.value)}catch(h){d={error:h}}finally{try{a&&!a.done&&(e=i.return)&&e.call(i)}finally{if(d)throw d.error}}return s},PointerEvents=(()=>(function(l){l[l.All=0]="All",l[l.None=1]="None"}(PointerEvents||(PointerEvents={})),PointerEvents))(),Node=function(){function l(){this.id=createId(this),this.tag=NaN,this.isContainerNode=!1,this._children=[],this.childSet={},this.matrix=new Matrix,this.inverseMatrix=new Matrix,this._dirtyTransform=!1,this._scalingX=1,this._scalingY=1,this._scalingCenterX=null,this._scalingCenterY=null,this._rotationCenterX=null,this._rotationCenterY=null,this._rotation=0,this._translationX=0,this._translationY=0,this._dirty=!0,this._visible=!0,this.pointerEvents=PointerEvents.All}return l.isNode=function(r){return!!r&&void 0!==r.matrix},l.prototype._setScene=function(r){this._scene=r;for(var e=this.children,i=e.length,a=0;a<i;a++)e[a]._setScene(r)},Object.defineProperty(l.prototype,"scene",{get:function(){return this._scene},enumerable:!0,configurable:!0}),l.prototype._setParent=function(r){this._parent=r},Object.defineProperty(l.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"children",{get:function(){return this._children},enumerable:!0,configurable:!0}),l.prototype.countChildren=function(r){if(void 0===r&&(r=l.MAX_SAFE_INTEGER),r<=0)return 0;for(var e=this.children,i=e.length,a=i,s=0;s<i;s++)a+=e[s].countChildren(r-1);return a},l.prototype.append=function(r){l.isNode(r)&&(r=[r]);for(var e=r.length,i=0;i<e;i++){var a=r[i];if(a.parent)throw new Error(a+" already belongs to another parent: "+a.parent+".");if(a.scene)throw new Error(a+" already belongs a scene: "+a.scene+".");if(this.childSet[a.id])throw new Error("Duplicate "+a.constructor.name+" node: "+a);this._children.push(a),this.childSet[a.id]=!0,a._setParent(this),a._setScene(this.scene)}this.dirty=!0},l.prototype.appendChild=function(r){if(r.parent)throw new Error(r+" already belongs to another parent: "+r.parent+".");if(r.scene)throw new Error(r+" already belongs to a scene: "+r.scene+".");if(this.childSet[r.id])throw new Error("Duplicate "+r.constructor.name+" node: "+r);return this._children.push(r),this.childSet[r.id]=!0,r._setParent(this),r._setScene(this.scene),this.dirty=!0,r},l.prototype.removeChild=function(r){if(r.parent===this){var e=this.children.indexOf(r);if(e>=0)return this._children.splice(e,1),delete this.childSet[r.id],r._setParent(),r._setScene(),this.dirty=!0,r}throw new Error("The node to be removed is not a child of this node.")},l.prototype.insertBefore=function(r,e){var i=r.parent;if(r.parent&&r.parent.removeChild(r),e&&e.parent===this){var a=this.children.indexOf(e);if(!(a>=0))throw new Error(e+" has "+i+" as the parent, but is not in its list of children.");this._children.splice(a,0,r),this.childSet[r.id]=!0,r._setParent(this),r._setScene(this.scene),this.dirty=!0}else this.append(r);return r},Object.defineProperty(l.prototype,"nextSibling",{get:function(){var r=this.parent;if(r){var e=r.children,i=e.indexOf(this);if(i>=0&&i<=e.length-1)return e[i+1]}},enumerable:!0,configurable:!0}),l.prototype.transformPoint=function(r,e){for(var i=Matrix.flyweight(this.matrix),a=this.parent;a;)i.preMultiplySelf(a.matrix),a=a.parent;return i.invertSelf().transformPoint(r,e)},l.prototype.inverseTransformPoint=function(r,e){for(var i=Matrix.flyweight(this.matrix),a=this.parent;a;)i.preMultiplySelf(a.matrix),a=a.parent;return i.transformPoint(r,e)},Object.defineProperty(l.prototype,"dirtyTransform",{get:function(){return this._dirtyTransform},set:function(r){this._dirtyTransform=r,r&&(this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"scalingX",{get:function(){return this._scalingX},set:function(r){this._scalingX!==r&&(this._scalingX=r,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"scalingY",{get:function(){return this._scalingY},set:function(r){this._scalingY!==r&&(this._scalingY=r,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"scalingCenterX",{get:function(){return this._scalingCenterX},set:function(r){this._scalingCenterX!==r&&(this._scalingCenterX=r,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"scalingCenterY",{get:function(){return this._scalingCenterY},set:function(r){this._scalingCenterY!==r&&(this._scalingCenterY=r,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"rotationCenterX",{get:function(){return this._rotationCenterX},set:function(r){this._rotationCenterX!==r&&(this._rotationCenterX=r,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"rotationCenterY",{get:function(){return this._rotationCenterY},set:function(r){this._rotationCenterY!==r&&(this._rotationCenterY=r,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"rotation",{get:function(){return this._rotation},set:function(r){this._rotation!==r&&(this._rotation=r,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"rotationDeg",{get:function(){return this.rotation/Math.PI*180},set:function(r){this.rotation=r/180*Math.PI},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"translationX",{get:function(){return this._translationX},set:function(r){this._translationX!==r&&(this._translationX=r,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"translationY",{get:function(){return this._translationY},set:function(r){this._translationY!==r&&(this._translationY=r,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),l.prototype.containsPoint=function(r,e){return!1},l.prototype.pickNode=function(r,e){if(this.visible&&this.pointerEvents!==PointerEvents.None&&this.containsPoint(r,e)){var i=this.children;if(i.length)for(var a=i.length-1;a>=0;a--){var s=i[a].pickNode(r,e);if(s)return s}else if(!this.isContainerNode)return this}},l.prototype.computeBBox=function(){},l.prototype.computeBBoxCenter=function(){var r=this.computeBBox&&this.computeBBox();return r?[r.x+.5*r.width,r.y+.5*r.height]:[0,0]},l.prototype.computeTransformMatrix=function(){var d,h,r=__read$5([0,0],2),e=r[0],i=r[1],a=this.scalingX,s=this.scalingY;1===a&&1===s?(d=0,h=0):(d=null===this.scalingCenterX?e:this.scalingCenterX,h=null===this.scalingCenterY?i:this.scalingCenterY);var m,E,v=this.rotation,_=Math.cos(v),y=Math.sin(v);0===v?(m=0,E=0):(m=null===this.rotationCenterX?e:this.rotationCenterX,E=null===this.rotationCenterY?i:this.rotationCenterY);var w=this.translationX,S=this.translationY,D=d*(1-a)-m,T=h*(1-s)-E;this.dirtyTransform=!1,this.matrix.setElements([_*a,y*a,-y*s,_*s,_*D-y*T+m+w,y*D+_*T+E+S]).inverseTo(this.inverseMatrix)},Object.defineProperty(l.prototype,"dirty",{get:function(){return this._dirty},set:function(r){this._dirty=r,r&&(this.parent?this.parent.dirty=!0:this.scene&&(this.scene.dirty=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"visible",{get:function(){return this._visible},set:function(r){this._visible!==r&&(this._visible=r,this.dirty=!0)},enumerable:!0,configurable:!0}),l.MAX_SAFE_INTEGER=Math.pow(2,53)-1,l}(),__extends$o=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Group=function(l){function r(){var e=null!==l&&l.apply(this,arguments)||this;return e.isContainerNode=!0,e._opacity=1,e}return __extends$o(r,l),Object.defineProperty(r.prototype,"opacity",{get:function(){return this._opacity},set:function(e){e=Math.min(1,Math.max(0,e)),this._opacity!==e&&(this._opacity=e,this.dirty=!0)},enumerable:!0,configurable:!0}),r.prototype.containsPoint=function(e,i){return!0},r.prototype.computeBBox=function(){var e=1/0,i=-1/0,a=1/0,s=-1/0;return this.dirtyTransform&&this.computeTransformMatrix(),this.children.forEach(function(d){if(d.visible){var h=d.computeBBox();if(h){if(!(d instanceof r)){d.dirtyTransform&&d.computeTransformMatrix();for(var v=Matrix.flyweight(d.matrix),_=d.parent;_;)v.preMultiplySelf(_.matrix),_=_.parent;v.transformBBox(h,0,h)}var y=h.x,m=h.y;y<e&&(e=y),m<a&&(a=m),y+h.width>i&&(i=y+h.width),m+h.height>s&&(s=m+h.height)}}}),new BBox(e,a,i-e,s-a)},r.prototype.render=function(e){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e);var i=this.children,a=i.length;e.globalAlpha*=this.opacity;for(var s=0;s<a;s++){var d=i[s];d.visible&&(e.save(),d.render(e),e.restore())}},r.className="Group",r}(Node);function chainObjects(l,r){var e=Object.create(l);for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i]);return e}var __extends$n=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Shape=function(l){function r(){var e=null!==l&&l.apply(this,arguments)||this;return e.lastInstanceId=0,e._fillOpacity=1,e._strokeOpacity=1,e._fill=r.defaultStyles.fill,e._stroke=r.defaultStyles.stroke,e._strokeWidth=r.defaultStyles.strokeWidth,e._lineDash=r.defaultStyles.lineDash,e._lineDashOffset=r.defaultStyles.lineDashOffset,e._lineCap=r.defaultStyles.lineCap,e._lineJoin=r.defaultStyles.lineJoin,e._opacity=r.defaultStyles.opacity,e.onShadowChange=function(){e.dirty=!0},e._fillShadow=r.defaultStyles.fillShadow,e._strokeShadow=r.defaultStyles.strokeShadow,e}return __extends$n(r,l),r.createInstance=function(e){var i=Object.create(e);return i._setParent(void 0),i.id=e.id+"-Instance-"+String(++e.lastInstanceId),i},r.prototype.restoreOwnStyles=function(){for(var e=this.constructor.defaultStyles,i=Object.getOwnPropertyNames(e),a=0,s=i.length;a<s;a++){var d=i[a];this[d]=e[d]}},r.prototype.restoreAllStyles=function(){var e=this.constructor.defaultStyles;for(var i in e)this[i]=e[i]},r.prototype.restoreOverriddenStyles=function(){var e=this.constructor.defaultStyles,i=Object.getPrototypeOf(e);for(var a in e)e.hasOwnProperty(a)&&i.hasOwnProperty(a)&&(this[a]=e[a])},Object.defineProperty(r.prototype,"fillOpacity",{get:function(){return this._fillOpacity},set:function(e){this._fillOpacity!==e&&(this._fillOpacity=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"strokeOpacity",{get:function(){return this._strokeOpacity},set:function(e){this._strokeOpacity!==e&&(this._strokeOpacity=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"fill",{get:function(){return this._fill},set:function(e){this._fill!==e&&(this._fill=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"stroke",{get:function(){return this._stroke},set:function(e){this._stroke!==e&&(this._stroke=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"strokeWidth",{get:function(){return this._strokeWidth},set:function(e){this._strokeWidth!==e&&(this._strokeWidth=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"alignment",{get:function(){return Math.floor(this.strokeWidth)%2/2},enumerable:!0,configurable:!0}),r.prototype.align=function(e,i,a){return null!=a?Math.floor(a)+Math.floor(i%1+a%1):Math.floor(i)+e},Object.defineProperty(r.prototype,"lineDash",{get:function(){return this._lineDash},set:function(e){var i=this._lineDash;if(i!==e){if(i&&e&&i.length===e.length){for(var a=!0,s=e.length,d=0;d<s;d++)if(i[d]!==e[d]){a=!1;break}if(a)return}this._lineDash=e,this.dirty=!0}},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"lineDashOffset",{get:function(){return this._lineDashOffset},set:function(e){this._lineDashOffset!==e&&(this._lineDashOffset=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"lineCap",{get:function(){return this._lineCap},set:function(e){this._lineCap!==e&&(this._lineCap=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(e){this._lineJoin!==e&&(this._lineJoin=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"opacity",{get:function(){return this._opacity},set:function(e){e=Math.min(1,Math.max(0,e)),this._opacity!==e&&(this._opacity=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"fillShadow",{get:function(){return this._fillShadow},set:function(e){var i=this._fillShadow;i!==e&&(i&&i.removeEventListener("change",this.onShadowChange),e&&e.addEventListener("change",this.onShadowChange),this._fillShadow=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"strokeShadow",{get:function(){return this._strokeShadow},set:function(e){var i=this._strokeShadow;i!==e&&(i&&i.removeEventListener("change",this.onShadowChange),e&&e.addEventListener("change",this.onShadowChange),this._strokeShadow=e,this.dirty=!0)},enumerable:!0,configurable:!0}),r.prototype.fillStroke=function(e){if(this.scene){var i=this.scene.canvas.pixelRatio||1,a=e.globalAlpha;if(this.fill){e.fillStyle=this.fill,e.globalAlpha=a*this.opacity*this.fillOpacity;var s=this.fillShadow;s&&s.enabled&&(e.shadowColor=s.color,e.shadowOffsetX=s.xOffset*i,e.shadowOffsetY=s.yOffset*i,e.shadowBlur=s.blur*i),e.fill()}if(e.shadowColor="rgba(0, 0, 0, 0)",this.stroke&&this.strokeWidth){e.strokeStyle=this.stroke,e.globalAlpha=a*this.opacity*this.strokeOpacity,e.lineWidth=this.strokeWidth,this.lineDash&&e.setLineDash(this.lineDash),this.lineDashOffset&&(e.lineDashOffset=this.lineDashOffset),this.lineCap&&(e.lineCap=this.lineCap),this.lineJoin&&(e.lineJoin=this.lineJoin);var d=this.strokeShadow;d&&d.enabled&&(e.shadowColor=d.color,e.shadowOffsetX=d.xOffset*i,e.shadowOffsetY=d.yOffset*i,e.shadowBlur=d.blur*i),e.stroke()}}},r.prototype.containsPoint=function(e,i){return this.isPointInPath(e,i)},r.defaultStyles=chainObjects({},{fill:"black",stroke:void 0,strokeWidth:0,lineDash:void 0,lineDashOffset:0,lineCap:void 0,lineJoin:void 0,opacity:1,fillShadow:void 0,strokeShadow:void 0}),r}(Node),sign=Math.sign?Math.sign:function(l){return 0==(l=+l)||isNaN(l)?l:l>0?1:-1};function linearRoot(l,r){var e=-r/l;return 0!==l&&e>=0&&e<=1?[e]:[]}function quadraticRoots(l,r,e){if(0===l)return linearRoot(r,e);var i=r*r-4*l*e,a=[];if(0===i){var s=-r/(2*l);s>=0&&s<=1&&a.push(s)}else if(i>0){var d=Math.sqrt(i),h=(-r-d)/(2*l),v=(-r+d)/(2*l);h>=0&&h<=1&&a.push(h),v>=0&&v<=1&&a.push(v)}return a}function cubicRoots(l,r,e,i){if(0===l)return quadraticRoots(r,e,i);var a=r/l,s=e/l,h=(3*s-a*a)/9,v=(9*a*s-i/l*27-2*a*a*a)/54,_=h*h*h+v*v,y=1/3,m=[];if(_>=0){var E=Math.sqrt(_),w=sign(v+E)*Math.pow(Math.abs(v+E),y),S=sign(v-E)*Math.pow(Math.abs(v-E),y),D=Math.abs(Math.sqrt(3)*(w-S)/2),T=-y*a+(w+S);if(T>=0&&T<=1&&m.push(T),0===D){var b=-y*a-(w+S)/2;b>=0&&b<=1&&m.push(b)}}else{var M=Math.acos(v/Math.sqrt(-h*h*h)),A=y*a,L=2*Math.sqrt(-h),N=L*Math.cos(y*M)-A,G=L*Math.cos(y*(M+2*Math.PI))-A,k=L*Math.cos(y*(M+4*Math.PI))-A;N>=0&&N<=1&&m.push(N),G>=0&&G<=1&&m.push(G),k>=0&&k<=1&&m.push(k)}return m}function segmentIntersection(l,r,e,i,a,s,d,h){var v=(e-l)*(h-s)-(i-r)*(d-a);if(0===v)return null;var _=((d-a)*(r-s)-(l-a)*(h-s))/v,y=((e-l)*(r-s)-(i-r)*(l-a))/v;return _>=0&&_<=1&&y>=0&&y<=1?{x:l+_*(e-l),y:r+_*(i-r)}:null}function cubicSegmentIntersections(l,r,e,i,a,s,d,h,v,_,y,m){for(var E=[],w=_-m,S=y-v,D=v*(m-_)-_*(y-v),T=bezierCoefficients(l,e,a,d),b=bezierCoefficients(r,i,s,h),G=cubicRoots(w*T[0]+S*b[0],w*T[1]+S*b[1],w*T[2]+S*b[2],w*T[3]+S*b[3]+D),k=0;k<G.length;k++){var re,K=G[k],$=K*K,j=K*$,Y=T[0]*j+T[1]*$+T[2]*K+T[3],ie=b[0]*j+b[1]*$+b[2]*K+b[3];(re=v!==y?(Y-v)/(y-v):(ie-_)/(m-_))>=0&&re<=1&&E.push({x:Y,y:ie})}return E}function bezierCoefficients(l,r,e,i){return[3*r-l-3*e+i,3*l-6*r+3*e,-3*l+3*r,l]}var Path2D=function(){function l(){this.commands=[],this.params=[],this._closedPath=!1}return l.prototype.moveTo=function(r,e){this.xy?(this.xy[0]=r,this.xy[1]=e):this.xy=[r,e],this.commands.push("M"),this.params.push(r,e)},l.prototype.lineTo=function(r,e){this.xy?(this.commands.push("L"),this.params.push(r,e),this.xy[0]=r,this.xy[1]=e):this.moveTo(r,e)},l.prototype.rect=function(r,e,i,a){this.moveTo(r,e),this.lineTo(r+i,e),this.lineTo(r+i,e+a),this.lineTo(r,e+a),this.closePath()},l.prototype.arcTo=function(r,e,i,a,s,d,h){var v=this.xy;if(v){r<0&&(r=-r),e<0&&(e=-e);var _=v[0],y=v[1],m=(_-d)/2,E=(y-h)/2,w=Math.sin(i),S=Math.cos(i),D=S*m+w*E,T=-w*m+S*E,b=D/r,M=T/e,A=b*b+M*M,L=(_+d)/2,N=(y+h)/2,G=0,k=0;A>=1?(r*=A=Math.sqrt(A),e*=A):(A=Math.sqrt(1/A-1),a===s&&(A=-A),L+=S*(G=A*r*M)-w*(k=-A*e*b),N+=w*G+S*k);var K=Math.atan2((T-k)/e,(D-G)/r),$=Math.atan2((-T-k)/e,(-D-G)/r)-K;this.cubicArc(L,N,r,e,i,K,K+$,1-s)}},l.cubicArc=function(r,e,i,a,s,d,h,v,_,y){if(y){var m=v;v=_,_=m}var E=e.length,w=.5522847498307935,S=Math.sin(v),D=Math.cos(v),T=Math.sin(h),b=Math.cos(h),M=Math.PI/2,A=b*D*s-T*S*d,L=T*D*s+b*S*d,N=-b*S*s-T*D*d,G=-T*S*s+b*D*d;for((_-=v)<0&&(_+=2*Math.PI),r.push("M"),e.push(A+i,L+a);_>=M;){_-=M,r.push("C");var k=N+i;e.push(A+N*w+i,L+G*w+a,A*w+N+i,L*w+G+a,Math.abs(k)<1e-8?0:k,G+a),m=A,A=N,N=-m,m=L,L=G,G=-m}if(_){var K=1.3333333333333333*Math.tan(_/4),$=Math.sin(_),j=Math.cos(_),Y=j+K*$,ie=$-K*j;r.push("C"),k=A*j+N*$+i,e.push(A+N*K+i,L+G*K+a,A*Y+N*ie+i,L*Y+G*ie+a,Math.abs(k)<1e-8?0:k,L*j+G*$+a)}if(y)for(var re=E,J=e.length-2;re<J;re+=2,J-=2)m=e[re],e[re]=e[J],e[J]=m,m=e[re+1],e[re+1]=e[J+1],e[J+1]=m},l.prototype.cubicArc=function(r,e,i,a,s,d,h,v){var _=this.commands,y=this.params,m=_.length;l.cubicArc(_,y,r,e,i,a,s,d,h,v);var E=y[y.length-2],w=y[y.length-1];this.xy?(_[m]="L",this.xy[0]=E,this.xy[1]=w):this.xy=[E,w]},l.prototype.deCasteljau=function(r,e){var i=r.length;if(i<2||i%2==1)throw new Error("Fewer than two points or not an even count.");if(2===i||0===e)return r.slice(0,2);if(1===e)return r.slice(-2);for(var a=[],s=i-2,d=0;d<s;d+=2)a.push((1-e)*r[d]+e*r[d+2],(1-e)*r[d+1]+e*r[d+3]);return this.deCasteljau(a,e)},l.prototype.approximateCurve=function(r,e){var i=this.deCasteljau(r,0);this.moveTo(i[0],i[1]);for(var a=1/e,s=a;s<=1;s+=a){var d=this.deCasteljau(r,s);this.lineTo(d[0],d[1])}},l.prototype.quadraticCurveTo=function(r,e,i,a){this.xy||this.moveTo(r,e),this.cubicCurveTo((this.xy[0]+2*r)/3,(this.xy[1]+2*e)/3,(2*r+i)/3,(2*e+a)/3,i,a)},l.prototype.cubicCurveTo=function(r,e,i,a,s,d){this.xy||this.moveTo(r,e),this.commands.push("C"),this.params.push(r,e,i,a,s,d),this.xy[0]=s,this.xy[1]=d},Object.defineProperty(l.prototype,"closedPath",{get:function(){return this._closedPath},enumerable:!0,configurable:!0}),l.prototype.closePath=function(){this.xy&&(this.xy=void 0,this.commands.push("Z"),this._closedPath=!0)},l.prototype.clear=function(){this.commands.length=0,this.params.length=0,this.xy=void 0,this._closedPath=!1},l.prototype.isPointInPath=function(r,e){for(var i=this.commands,a=this.params,s=i.length,d=-1e4,h=-1e4,v=NaN,_=NaN,y=0,m=0,E=0,w=0,S=0;w<s;w++)switch(i[w]){case"M":isNaN(v)||segmentIntersection(v,_,y,m,d,h,r,e)&&E++,v=y=a[S++],_=m=a[S++];break;case"L":segmentIntersection(y,m,y=a[S++],m=a[S++],d,h,r,e)&&E++;break;case"C":E+=cubicSegmentIntersections(y,m,a[S++],a[S++],a[S++],a[S++],y=a[S++],m=a[S++],d,h,r,e).length;break;case"Z":isNaN(v)||segmentIntersection(v,_,y,m,d,h,r,e)&&E++}return E%2==1},l.fromString=function(r){var e=new l;return e.setFromString(r),e},l.parseSvgPath=function(r){return r.trim().split(l.splitCommandsRe).map(function(e){var i=e.match(l.matchParamsRe);return{command:e.substr(0,1),params:i?i.map(parseFloat):[]}})},l.prettifySvgPath=function(r){return l.parseSvgPath(r).map(function(e){return e.command+e.params.join(",")}).join("\n")},l.prototype.setFromString=function(r){var a,s,d,h,v,e=this;function _(){v.match(l.quadraticCommandRe)||(d=a,h=s)}function y(){v.match(l.cubicCommandRe)||(d=a,h=s)}this.clear(),l.parseSvgPath(r).forEach(function(m){var E=m.params,w=E.length,S=0;switch(m.command){case"M":for(e.moveTo(a=E[S++],s=E[S++]);S<w;)e.lineTo(a=E[S++],s=E[S++]);break;case"m":for(e.moveTo(a+=E[S++],s+=E[S++]);S<w;)e.lineTo(a+=E[S++],s+=E[S++]);break;case"L":for(;S<w;)e.lineTo(a=E[S++],s=E[S++]);break;case"l":for(;S<w;)e.lineTo(a+=E[S++],s+=E[S++]);break;case"C":for(;S<w;)e.cubicCurveTo(E[S++],E[S++],d=E[S++],h=E[S++],a=E[S++],s=E[S++]);break;case"c":for(;S<w;)e.cubicCurveTo(a+E[S++],s+E[S++],d=a+E[S++],h=s+E[S++],a+=E[S++],s+=E[S++]);break;case"S":for(y();S<w;)e.cubicCurveTo(a+a-d,s+s-h,d=E[S++],h=E[S++],a=E[S++],s=E[S++]);break;case"s":for(y();S<w;)e.cubicCurveTo(a+a-d,s+s-h,d=a+E[S++],h=s+E[S++],a+=E[S++],s+=E[S++]);break;case"Q":for(;S<w;)e.quadraticCurveTo(d=E[S++],h=E[S++],a=E[S++],s=E[S++]);break;case"q":for(;S<w;)e.quadraticCurveTo(d=a+E[S++],h=s+E[S++],a+=E[S++],s+=E[S++]);break;case"T":for(_();S<w;)e.quadraticCurveTo(d=a+a-d,h=s+s-h,a=E[S++],s=E[S++]);break;case"t":for(_();S<w;)e.quadraticCurveTo(d=a+a-d,h=s+s-h,a+=E[S++],s+=E[S++]);break;case"A":for(;S<w;)e.arcTo(E[S++],E[S++],E[S++]*Math.PI/180,E[S++],E[S++],a=E[S++],s=E[S++]);break;case"a":for(;S<w;)e.arcTo(E[S++],E[S++],E[S++]*Math.PI/180,E[S++],E[S++],a+=E[S++],s+=E[S++]);break;case"Z":case"z":e.closePath();break;case"H":for(;S<w;)e.lineTo(a=E[S++],s);break;case"h":for(;S<w;)e.lineTo(a+=E[S++],s);break;case"V":for(;S<w;)e.lineTo(a,s=E[S++]);break;case"v":for(;S<w;)e.lineTo(a,s+=E[S++])}v=m.command})},l.prototype.toString=function(){for(var r=this.commands,e=this.params,i=r.length,a=[],s=0,d=0;s<i;s++)switch(r[s]){case"M":a.push("M"+e[d++]+","+e[d++]);break;case"L":a.push("L"+e[d++]+","+e[d++]);break;case"C":a.push("C"+e[d++]+","+e[d++]+" "+e[d++]+","+e[d++]+" "+e[d++]+","+e[d++]);break;case"Z":a.push("Z")}return a.join("")},l.prototype.toPrettyString=function(){return l.prettifySvgPath(this.toString())},l.prototype.toSvg=function(){return l.xmlDeclaration+'\n<svg width="100%" height="100%" viewBox="0 0 50 50" version="1.1" xmlns="'+l.xmlns+'">\n    <path d="'+this.toString()+'" style="fill:none;stroke:#000;stroke-width:0.5;"/>\n</svg>'},l.prototype.toDebugSvg=function(){var r=l.prettifySvgPath(this.toString());return l.xmlDeclaration+'\n<svg width="100%" height="100%" viewBox="0 0 100 100" version="1.1" xmlns="'+l.xmlns+'">\n    <path d="'+r+'" style="fill:none;stroke:#000;stroke-width:0.5;"/>\n</svg>'},l.prototype.toCubicPaths=function(){var i,a,s,d,h,r=[],e=this.params,v=0;return this.commands.forEach(function(_){switch(_){case"M":i=[a=d=e[v++],s=h=e[v++]],r.push(i);break;case"L":var y=e[v++],m=e[v++];i.push((d+d+y)/3,(h+h+m)/3,(d+y+y)/3,(h+m+m)/3,d=y,h=m);break;case"C":i.push(e[v++],e[v++],e[v++],e[v++],d=e[v++],h=e[v++]);break;case"Z":i.push((d+d+a)/3,(h+h+s)/3,(d+a+a)/3,(h+s+s)/3,d=a,h=s)}}),r},l.cubicPathToString=function(r){var e=r.length;if(!(e%2==0&&(e/2-1)/2>=1))throw new Error("Invalid path.");return"M"+r.slice(0,2).join(",")+"C"+r.slice(2).join(",")},l.splitCommandsRe=/(?=[AaCcHhLlMmQqSsTtVvZz])/g,l.matchParamsRe=/-?[0-9]*\.?\d+/g,l.quadraticCommandRe=/[QqTt]/,l.cubicCommandRe=/[CcSs]/,l.xmlDeclaration='<?xml version="1.0" encoding="UTF-8"?>',l.xmlns="http://www.w3.org/2000/svg",l}(),__extends$m=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Path=function(l){function r(){var e=null!==l&&l.apply(this,arguments)||this;return e.path=new Path2D,e._dirtyPath=!0,e._svgPath="",e}return __extends$m(r,l),Object.defineProperty(r.prototype,"dirtyPath",{get:function(){return this._dirtyPath},set:function(e){this._dirtyPath!==e&&(this._dirtyPath=e,e&&(this.dirty=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"svgPath",{get:function(){return this._svgPath},set:function(e){this._svgPath!==e&&(this._svgPath=e,this.path.setFromString(e),this.dirty=!0)},enumerable:!0,configurable:!0}),r.prototype.isPointInPath=function(e,i){var a=this.transformPoint(e,i);return this.path.closedPath&&this.path.isPointInPath(a.x,a.y)},r.prototype.isPointInStroke=function(e,i){return!1},r.prototype.updatePath=function(){},r.prototype.render=function(e){var i=this.scene;this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e),this.dirtyPath&&(this.updatePath(),this.dirtyPath=!1),i.appendPath(this.path),this.fillStroke(e),this.dirty=!1},r.className="Path",r}(Shape),__extends$l=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Line=function(l){function r(){var e=l.call(this)||this;return e._x1=0,e._y1=0,e._x2=0,e._y2=0,e.restoreOwnStyles(),e}return __extends$l(r,l),Object.defineProperty(r.prototype,"x1",{get:function(){return this._x1},set:function(e){this._x1!==e&&(this._x1=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"y1",{get:function(){return this._y1},set:function(e){this._y1!==e&&(this._y1=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"x2",{get:function(){return this._x2},set:function(e){this._x2!==e&&(this._x2=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"y2",{get:function(){return this._y2},set:function(e){this._y2!==e&&(this._y2=e,this.dirty=!0)},enumerable:!0,configurable:!0}),r.prototype.computeBBox=function(){return new BBox(this.x1,this.y1,this.x2-this.x1,this.y2-this.y1)},r.prototype.isPointInPath=function(e,i){return!1},r.prototype.isPointInStroke=function(e,i){return!1},r.prototype.render=function(e){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e);var i=this.x1,a=this.y1,s=this.x2,d=this.y2;if(i===s){var h=Math.round(i)+Math.floor(this.strokeWidth)%2/2;i=h,s=h}else if(a===d){var v=Math.round(a)+Math.floor(this.strokeWidth)%2/2;a=v,d=v}e.beginPath(),e.moveTo(i,a),e.lineTo(s,d),this.fillStroke(e),this.dirty=!1},r.className="Line",r.defaultStyles=chainObjects(Shape.defaultStyles,{fill:void 0,strokeWidth:1}),r}(Shape),__read$4=function(l,r){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var a,d,i=e.call(l),s=[];try{for(;(void 0===r||r-- >0)&&!(a=i.next()).done;)s.push(a.value)}catch(h){d={error:h}}finally{try{a&&!a.done&&(e=i.return)&&e.call(i)}finally{if(d)throw d.error}}return s},BandScale=function(){function l(){this.type="band",this.index=new Map,this.ordinalRange=[],this._domain=[],this._range=[0,1],this._bandwidth=1,this._paddingInner=0,this._paddingOuter=0,this._round=!1,this._align=.5}return Object.defineProperty(l.prototype,"domain",{get:function(){return this._domain},set:function(r){var e=this._domain;e.length=0,this.index=new Map;var i=this.index;r.forEach(function(a){void 0===i.get(a)&&i.set(a,e.push(a)-1)}),this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"range",{get:function(){return this._range},set:function(r){this._range[0]=r[0],this._range[1]=r[1],this.rescale()},enumerable:!0,configurable:!0}),l.prototype.ticks=function(){return this._domain},l.prototype.convert=function(r){var e=this.index.get(r);if(void 0===e)return NaN;var i=this.ordinalRange[e];return void 0===i?NaN:i},Object.defineProperty(l.prototype,"bandwidth",{get:function(){return this._bandwidth},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"padding",{get:function(){return this._paddingInner},set:function(r){r=Math.max(0,Math.min(1,r)),this._paddingInner=r,this._paddingOuter=r,this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"paddingInner",{get:function(){return this._paddingInner},set:function(r){this._paddingInner=Math.max(0,Math.min(1,r)),this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"paddingOuter",{get:function(){return this._paddingOuter},set:function(r){this._paddingOuter=Math.max(0,Math.min(1,r)),this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"round",{get:function(){return this._round},set:function(r){this._round=r,this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"align",{get:function(){return this._align},set:function(r){this._align=Math.max(0,Math.min(1,r)),this.rescale()},enumerable:!0,configurable:!0}),l.prototype.rescale=function(){var r,e=this._domain.length;if(e){var i=__read$4(this._range,2),a=i[0],s=i[1],d=s<a;d&&(a=(r=__read$4([s,a],2))[0],s=r[1]);var h=(s-a)/Math.max(1,e-this._paddingInner+2*this._paddingOuter);this._round&&(h=Math.floor(h)),a+=(s-a-h*(e-this._paddingInner))*this._align,this._bandwidth=h*(1-this._paddingInner),this._round&&(a=Math.round(a),this._bandwidth=Math.round(this._bandwidth));for(var v=[],_=0;_<e;_++)v.push(a+h*_);this.ordinalRange=d?v.reverse():v}},l}(),EnterNode=function(){function l(r,e){this.next=null,this.scene=r.scene,this.parent=r,this.datum=e}return l.prototype.appendChild=function(r){if(null===this.next)return this.parent.insertBefore(r,null);if(!Node.isNode(this.next))throw new Error(this.next+" is not a Node.");return this.parent.insertBefore(r,this.next)},l.prototype.insertBefore=function(r,e){return this.parent.insertBefore(r,e)},l}(),Selection=function(){function l(r,e){this.groups=r,this.parents=e}return l.select=function(r){return new l([["function"==typeof r?r():r]],[void 0])},l.selectAll=function(r){return new l([r??[]],[void 0])},l.prototype.append=function(r){return this.select(function(e){return e.appendChild(new r)})},l.prototype.appendFn=function(r){return this.select(function(e,i,a,s){return e.appendChild(r(e,i,a,s))})},l.prototype.select=function(r){for(var e=this.groups,i=e.length,a=[],s=0;s<i;s++)for(var d=e[s],h=d.length,v=a[s]=new Array(h),_=0;_<h;_++){var y=d[_];if(y){var m=r(y,y.datum,_,d);m&&(m.datum=y.datum),v[_]=m}}return new l(a,this.parents)},l.prototype.selectByClass=function(r){return this.select(function(e){if(Node.isNode(e))for(var i=e.children,a=i.length,s=0;s<a;s++){var d=i[s];if(d instanceof r)return d}})},l.prototype.selectByTag=function(r){return this.select(function(e){if(Node.isNode(e))for(var i=e.children,a=i.length,s=0;s<a;s++){var d=i[s];if(d.tag===r)return d}})},l.prototype.selectAllByClass=function(r){return this.selectAll(function(e){var i=[];if(Node.isNode(e))for(var a=e.children,s=a.length,d=0;d<s;d++){var h=a[d];h instanceof r&&i.push(h)}return i})},l.prototype.selectAllByTag=function(r){return this.selectAll(function(e){var i=[];if(Node.isNode(e))for(var a=e.children,s=a.length,d=0;d<s;d++){var h=a[d];h.tag===r&&i.push(h)}return i})},l.prototype.selectNone=function(){return[]},l.prototype.selectAll=function(r){r||(r=this.selectNone);for(var e=[],i=[],a=this.groups,s=a.length,d=0;d<s;d++)for(var h=a[d],v=h.length,_=0;_<v;_++){var y=h[_];y&&(e.push(r(y,y.datum,_,h)),i.push(y))}return new l(e,i)},l.prototype.each=function(r){for(var e=this.groups,i=e.length,a=0;a<i;a++)for(var s=e[a],d=s.length,h=0;h<d;h++){var v=s[h];v&&r(v,v.datum,h,s)}return this},l.prototype.remove=function(){return this.each(function(r){if(Node.isNode(r)){var e=r.parent;e&&e.removeChild(r)}})},l.prototype.merge=function(r){for(var e=this.groups,i=r.groups,a=e.length,d=Math.min(a,i.length),h=new Array(a),v=0;v<d;v++)for(var _=e[v],y=i[v],m=_.length,E=h[v]=new Array(m),w=0;w<m;w++)E[w]=_[w]||y[w]||void 0;for(;v<a;v++)h[v]=e[v];return new l(h,this.parents)},l.prototype.node=function(){for(var r=this.groups,e=r.length,i=0;i<e;i++)for(var a=r[i],s=a.length,d=0;d<s;d++){var h=a[d];if(h)return h}return null},l.prototype.attr=function(r,e){return this.each(function(i){i[r]=e}),this},l.prototype.attrFn=function(r,e){return this.each(function(i,a,s,d){i[r]=e(i,a,s,d)}),this},l.prototype.call=function(r){return r(this),this},Object.defineProperty(l.prototype,"size",{get:function(){var r=0;return this.each(function(){return r++}),r},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"data",{get:function(){var r=[];return this.each(function(e,i){return r.push(i)}),r},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"enter",{get:function(){return new l(this.enterGroups?this.enterGroups:[[]],this.parents)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"exit",{get:function(){return new l(this.exitGroups?this.exitGroups:[[]],this.parents)},enumerable:!0,configurable:!0}),l.prototype.setDatum=function(r){return this.each(function(e){e.datum=r})},Object.defineProperty(l.prototype,"datum",{get:function(){var r=this.node();return r?r.datum:null},enumerable:!0,configurable:!0}),l.prototype.setData=function(r,e){if("function"!=typeof r){var i=r;r=function(){return i}}for(var a=this.groups,s=this.parents,d=a.length,h=new Array(d),v=new Array(d),_=new Array(d),y=0;y<d;y++){var m=a[y],E=s[y];if(!E)throw new Error("Group #"+y+" has no parent: "+m);var w=m.length,S=r(E,E.datum,y,s),D=S.length,T=v[y]=new Array(D),b=h[y]=new Array(D),M=_[y]=new Array(w);e?this.bindKey(E,m,T,b,M,S,e):this.bindIndex(E,m,T,b,M,S);for(var A=0,L=0;A<D;A++){var N=T[A];if(N){A>=L&&(L=A+1);for(var G=void 0;!(G=b[L])&&L<D;)L++;N.next=G||null}}}var k=new l(h,s);return k.enterGroups=v,k.exitGroups=_,k},l.prototype.bindIndex=function(r,e,i,a,s,d){for(var h=e.length,v=d.length,_=0;_<v;_++)(y=e[_])?(y.datum=d[_],a[_]=y):i[_]=new EnterNode(r,d[_]);for(;_<h;_++){var y;(y=e[_])&&(s[_]=y)}},l.prototype.bindKey=function(r,e,i,a,s,d,h){for(var v=e.length,_=d.length,y=new Array(v),m={},E=0;E<v;E++)(w=e[E])&&((S=y[E]=l.keyPrefix+h(w,w.datum,E,e))in m?s[E]=w:m[S]=w);for(E=0;E<_;E++){var S;(w=m[S=l.keyPrefix+h(r,d[E],E,d)])?(a[E]=w,w.datum=d[E],m[S]=void 0):i[E]=new EnterNode(r,d[E])}for(E=0;E<v;E++){var w;(w=e[E])&&m[y[E]]===w&&(s[E]=w)}},l.keyPrefix="$",l}(),HdpiCanvas=function(){function l(r,e,i){void 0===r&&(r=window.document),void 0===e&&(e=600),void 0===i&&(i=300),this._container=void 0,this._pixelRatio=NaN,this._width=100,this._height=100,this.document=r,this.element=r.createElement("canvas"),this.context=this.element.getContext("2d"),this.element.style.userSelect="none",this.element.style.display="block",this.setPixelRatio(),this.resize(e,i)}return Object.defineProperty(l.prototype,"container",{get:function(){return this._container},set:function(r){this._container!==r&&(this.remove(),r&&r.appendChild(this.element),this._container=r)},enumerable:!0,configurable:!0}),l.prototype.remove=function(){this.element.parentNode?.removeChild(this.element)},l.prototype.destroy=function(){this.element.remove(),this._canvas=void 0,Object.freeze(this)},l.prototype.clear=function(){this.context.save(),this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.element.width,this.element.height),this.context.restore()},l.prototype.toImage=function(){var r=this.document.createElement("img");return r.src=this.getDataURL(),r},l.prototype.getDataURL=function(r){return this.element.toDataURL(r)},l.prototype.download=function(r){r=((r||"").trim()||"image")+".png";var i=this.getDataURL("image/png"),a=this.document,s=a.createElement("a");s.href=i,s.download=r,s.style.display="none",a.body.appendChild(s),s.click(),a.body.removeChild(s)},Object.defineProperty(l.prototype,"pixelRatio",{get:function(){return this._pixelRatio},enumerable:!0,configurable:!0}),l.prototype.setPixelRatio=function(r){var e=r||window.devicePixelRatio;e!==this.pixelRatio&&(l.overrideScale(this.context,e),this._pixelRatio=e,this.resize(this.width,this.height))},Object.defineProperty(l.prototype,"pixelated",{get:function(){return"pixelated"===this.element.style.imageRendering},set:function(r){this.element.style.imageRendering=r?"pixelated":"auto"},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),l.prototype.resize=function(r,e){if(r>0&&e>0){var i=this,a=i.element,s=i.context,d=i.pixelRatio;a.width=Math.round(r*d),a.height=Math.round(e*d),a.style.width=r+"px",a.style.height=e+"px",s.resetTransform(),this._width=r,this._height=e}},Object.defineProperty(l,"textMeasuringContext",{get:function(){if(this._textMeasuringContext)return this._textMeasuringContext;var r=document.createElement("canvas");return this._textMeasuringContext=r.getContext("2d"),this._textMeasuringContext},enumerable:!0,configurable:!0}),Object.defineProperty(l,"svgText",{get:function(){if(this._svgText)return this._svgText;var r="http://www.w3.org/2000/svg",e=document.createElementNS(r,"svg");e.setAttribute("width","100"),e.setAttribute("height","100"),e.classList?e.classList.add("text-measuring-svg"):e.setAttribute("class","text-measuring-svg"),e.style.position="absolute",e.style.top="-1000px",e.style.visibility="hidden";var i=document.createElementNS(r,"text");return i.setAttribute("x","0"),i.setAttribute("y","30"),i.setAttribute("text","black"),e.appendChild(i),document.body.appendChild(e),this._svgText=i,i},enumerable:!0,configurable:!0}),Object.defineProperty(l,"has",{get:function(){if(this._has)return this._has;var r=navigator.userAgent.indexOf("Chrome")>-1,e=navigator.userAgent.indexOf("Firefox")>-1,i=!r&&navigator.userAgent.indexOf("Safari")>-1;return this._has=Object.freeze({textMetrics:void 0!==this.textMeasuringContext.measureText("test").actualBoundingBoxDescent&&!e&&!i,getTransform:void 0!==this.textMeasuringContext.getTransform}),this._has},enumerable:!0,configurable:!0}),l.measureText=function(r,e,i,a){var s=this.textMeasuringContext;return s.font=e,s.textBaseline=i,s.textAlign=a,s.measureText(r)},l.getTextSize=function(r,e){if(this.has.textMetrics){var i=this.textMeasuringContext;i.font=e;var a=i.measureText(r);return{width:a.width,height:a.actualBoundingBoxAscent+a.actualBoundingBoxDescent}}return this.measureSvgText(r,e)},l.measureSvgText=function(r,e){var i=this.textSizeCache,a=i[e];if(a){var s=a[r];if(s)return s}else i[e]={};var d=this.svgText;d.style.font=e,d.textContent=r;var h=d.getBBox(),v={width:h.width,height:h.height};return i[e][r]=v,v},l.overrideScale=function(r,e){var i=0,a={save:function(){this.$save(),i++},restore:function(){i>0&&(this.$restore(),i--)},setTransform:function(d,h,v,_,y,m){this.$setTransform(d*e,h*e,v*e,_*e,y*e,m*e)},resetTransform:function(){this.$setTransform(e,0,0,e,0,0),this.save(),i=0}};for(var s in a)a.hasOwnProperty(s)&&(r["$"+s]||(r["$"+s]=r[s]),r[s]=a[s])},l.textSizeCache={},l}(),__read$3=function(l,r){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var a,d,i=e.call(l),s=[];try{for(;(void 0===r||r-- >0)&&!(a=i.next()).done;)s.push(a.value)}catch(h){d={error:h}}finally{try{a&&!a.done&&(e=i.return)&&e.call(i)}finally{if(d)throw d.error}}return s},__spread=function(){for(var l=[],r=0;r<arguments.length;r++)l=l.concat(__read$3(arguments[r]));return l},Scene=function(){function l(r,e,i){var a=this;void 0===r&&(r=window.document),this.id=createId(this),this._dirty=!1,this.animationFrameId=0,this._root=null,this.debug={renderFrameIndex:!1,renderBoundingBoxes:!1},this._frameIndex=0,this.render=function(){var s,h=a.canvas,v=a.ctx,_=a.root,y=a.pendingSize;a.animationFrameId=0,y&&((s=a.canvas).resize.apply(s,__spread(y)),a.pendingSize=void 0),!_||_.visible?(h.clear(),_&&(v.save(),_.visible&&_.render(v),v.restore()),a._frameIndex++,a.debug.renderFrameIndex&&(v.fillStyle="white",v.fillRect(0,0,40,15),v.fillStyle="black",v.fillText(a.frameIndex.toString(),2,10)),a.dirty=!1):a.dirty=!1},this.canvas=new HdpiCanvas(r,e,i),this.ctx=this.canvas.context}return Object.defineProperty(l.prototype,"container",{get:function(){return this.canvas.container},set:function(r){this.canvas.container=r},enumerable:!0,configurable:!0}),l.prototype.download=function(r){this.canvas.download(r)},l.prototype.getDataURL=function(r){return this.canvas.getDataURL(r)},Object.defineProperty(l.prototype,"width",{get:function(){return this.pendingSize?this.pendingSize[0]:this.canvas.width},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"height",{get:function(){return this.pendingSize?this.pendingSize[1]:this.canvas.height},enumerable:!0,configurable:!0}),l.prototype.resize=function(r,e){r=Math.round(r),e=Math.round(e),(r!==this.width||e!==this.height)&&(this.pendingSize=[r,e],this.dirty=!0)},Object.defineProperty(l.prototype,"dirty",{get:function(){return this._dirty},set:function(r){r&&!this._dirty&&(this.animationFrameId=requestAnimationFrame(this.render)),this._dirty=r},enumerable:!0,configurable:!0}),l.prototype.cancelRender=function(){this.animationFrameId&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=0,this._dirty=!1)},Object.defineProperty(l.prototype,"root",{get:function(){return this._root},set:function(r){r!==this._root&&(this._root&&this._root._setScene(),this._root=r,r&&(null===r.parent&&r.scene&&r.scene!==this&&(r.scene.root=null),r._setScene(this)),this.dirty=!0)},enumerable:!0,configurable:!0}),l.prototype.appendPath=function(r){var e=this.ctx,i=r.commands,a=r.params,s=i.length,d=0;e.beginPath();for(var h=0;h<s;h++)switch(i[h]){case"M":e.moveTo(a[d++],a[d++]);break;case"L":e.lineTo(a[d++],a[d++]);break;case"C":e.bezierCurveTo(a[d++],a[d++],a[d++],a[d++],a[d++],a[d++]);break;case"Z":e.closePath()}},Object.defineProperty(l.prototype,"frameIndex",{get:function(){return this._frameIndex},enumerable:!0,configurable:!0}),l.className="Scene",l}(),__assign$1=function(){return __assign$1=Object.assign||function(l){for(var r,e=1,i=arguments.length;e<i;e++)for(var a in r=arguments[e])Object.prototype.hasOwnProperty.call(r,a)&&(l[a]=r[a]);return l},__assign$1.apply(this,arguments)},Observable=function(){function l(){this.allPropertyListeners=new Map,this.allEventListeners=new Map}return l.prototype.addPropertyListener=function(r,e,i){void 0===i&&(i=this);var a=this.allPropertyListeners,s=a.get(r);s||a.set(r,s=new Map),s.has(e)||s.set(e,new Set);var h=s.get(e);h&&h.add(i)},l.prototype.removePropertyListener=function(r,e,i){void 0===i&&(i=this);var s=this.allPropertyListeners.get(r);if(s)if(e){var d=s.get(e);d&&(d.delete(i),d.size||s.delete(e))}else s.clear()},l.prototype.notifyPropertyListeners=function(r,e,i){var a=this,d=this.allPropertyListeners.get(r);d&&d.forEach(function(h,v){h.forEach(function(_){return v.call(_,{type:r,source:a,value:i,oldValue:e})})})},l.prototype.addEventListener=function(r,e,i){void 0===i&&(i=this);var a=this.allEventListeners,s=a.get(r);s||a.set(r,s=new Map),s.has(e)||s.set(e,new Set);var h=s.get(e);h&&h.add(i)},l.prototype.removeEventListener=function(r,e,i){void 0===i&&(i=this);var s=this.allEventListeners.get(r);if(s)if(e){var d=s.get(e);d&&(d.delete(i),d.size||s.delete(e))}else s.clear()},l.prototype.notifyEventListeners=function(r){var e=this,i=this.allEventListeners;r.forEach(function(a){var s=i.get(a);s&&s.forEach(function(d,h){d.forEach(function(v){return h.call(v,{type:a,source:e})})})})},l.prototype.fireEvent=function(r){var e=this,i=this.allEventListeners.get(r.type);i&&i.forEach(function(a,s){a.forEach(function(d){return s.call(d,__assign$1(__assign$1({},r),{source:e}))})})},l.privateKeyPrefix="_",l}();function reactive(){for(var l=[],r=0;r<arguments.length;r++)l[r]=arguments[r];return l.indexOf("debugger"),function(i,a){var s=Observable.privateKeyPrefix+a,d=s+"Events";i[a]||(l&&(i[d]=l),Object.defineProperty(i,a,{set:function(h){var v=this[s];if(h!==v||"object"==typeof h&&null!==h){this[s]=h,this.notifyPropertyListeners(a,v,h);var _=this[d];_&&this.notifyEventListeners(_)}},get:function(){return this[s]},enumerable:!0,configurable:!0}))}}var Padding=function(){function l(r,e,i,a){void 0===r&&(r=0),void 0===e&&(e=r),void 0===i&&(i=r),void 0===a&&(a=e),this.top=r,this.right=e,this.bottom=i,this.left=a}return l.prototype.clear=function(){this.top=this.right=this.bottom=this.left=0},l}(),defaultTooltipCss="\n.ag-sparkline-tooltip-wrapper {\n    position: absolute;\n    user-select: none;\n    pointer-events: none;\n}\n\n.ag-sparkline-tooltip {\n    position: relative;\n    font: 12px arial,sans-serif;\n    border-radius: 2px;\n    box-shadow: 0 1px 3px rgb(0 0 0 / 20%), 0 1px 1px rgb(0 0 0 / 14%);\n    line-height: 1.7em;\n    overflow: hidden;\n    white-space: nowrap;\n    z-index: 99999;\n    background-color: rgb(255, 255, 255);\n    color: rgba(0,0,0, 0.67);\n}\n\n.ag-sparkline-tooltip-content {\n    padding: 0 7px;\n}\n\n.ag-sparkline-tooltip-title {\n    padding-left: 7px;\n}\n\n.ag-sparkline-tooltip-wrapper-hidden {\n    top: -10000px !important;\n}\n\n.ag-sparkline-wrapper {\n    box-sizing: border-box;\n    overflow: hidden;\n}\n";function isNumber(l){return"number"==typeof l&&Number.isFinite(l)}function isNumberObject(l){return!!l&&l.hasOwnProperty("valueOf")&&isNumber(l.valueOf())}function isNumeric(l){return isNumber(l)||isNumberObject(l)}function isDate(l){return l instanceof Date&&!isNaN(+l)}function isString(l){return"string"==typeof l}function isStringObject(l){return!!l&&l.hasOwnProperty("toString")&&isString(l.toString())}function isContinuous(l){return isNumeric(l)||isDate(l)}var constant$1=function(l){return function(){return l}};function interpolateNumber(l,r){return l=+l,r=+r,function(e){return l*(1-e)+r*e}}function date(l,r){var e=new Date,i=+l,a=+r;return function(s){return e.setTime(i*(1-s)+a*s),e}}function array(l,r){var d,e=r?r.length:0,i=l?Math.min(e,l.length):0,a=new Array(i),s=new Array(e);for(d=0;d<i;++d)a[d]=interpolateValue(l[d],r[d]);for(;d<e;++d)s[d]=r[d];return function(h){for(d=0;d<i;++d)s[d]=a[d](h);return s}}function object(l,r){var a,e={},i={};for(a in(null===l||"object"!=typeof l)&&(l={}),(null===r||"object"!=typeof r)&&(r={}),r)a in l?e[a]=interpolateValue(l[a],r[a]):i[a]=r[a];return function(s){for(a in e)i[a]=e[a](s);return i}}var __read$2=function(l,r){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var a,d,i=e.call(l),s=[];try{for(;(void 0===r||r-- >0)&&!(a=i.next()).done;)s.push(a.value)}catch(h){d={error:h}}finally{try{a&&!a.done&&(e=i.return)&&e.call(i)}finally{if(d)throw d.error}}return s},Color=function(){function l(r,e,i,a){void 0===a&&(a=1),this.r=Math.min(1,Math.max(0,r||0)),this.g=Math.min(1,Math.max(0,e||0)),this.b=Math.min(1,Math.max(0,i||0)),this.a=Math.min(1,Math.max(0,a||0))}return l.fromString=function(r){if(r.indexOf("#")>=0)return l.fromHexString(r);var e=l.nameToHex[r];if(e)return l.fromHexString(e);if(r.indexOf("rgb")>=0)return l.fromRgbaString(r);throw new Error("Invalid color string: '"+r+"'")},l.parseHex=function(r){var e;switch((r=r.replace(/ /g,"").slice(1)).length){case 6:case 8:e=[];for(var i=0;i<r.length;i+=2)e.push(parseInt(""+r[i]+r[i+1],16));break;case 3:case 4:e=r.split("").map(function(a){return parseInt(a,16)}).map(function(a){return a+16*a})}if(e.length>=3&&e.every(function(a){return a>=0}))return 3===e.length&&e.push(255),e},l.fromHexString=function(r){var e=l.parseHex(r);if(e){var i=__read$2(e,4);return new l(i[0]/255,i[1]/255,i[2]/255,i[3]/255)}throw new Error("Malformed hexadecimal color string: '"+r+"'")},l.stringToRgba=function(r){for(var e=__read$2([NaN,NaN],2),i=e[0],a=e[1],s=0;s<r.length;s++){var d=r[s];if(i||"("!==d){if(")"===d){a=s;break}}else i=s}var h=i&&a&&r.substring(i+1,a);if(h){var v=h.split(","),_=[];for(s=0;s<v.length;s++){var y=v[s],m=parseFloat(y);if(isNaN(m))return;y.indexOf("%")>=0?(m=Math.max(0,Math.min(100,m)),m/=100):3===s?m=Math.max(0,Math.min(1,m)):(m=Math.max(0,Math.min(255,m)),m/=255),_.push(m)}return _}},l.fromRgbaString=function(r){var e=l.stringToRgba(r);if(e){if(3===e.length)return new l(e[0],e[1],e[2]);if(4===e.length)return new l(e[0],e[1],e[2],e[3])}throw new Error("Malformed rgb/rgba color string: '"+r+"'")},l.fromArray=function(r){if(4===r.length)return new l(r[0],r[1],r[2],r[3]);if(3===r.length)return new l(r[0],r[1],r[2]);throw new Error("The given array should contain 3 or 4 color components (numbers).")},l.fromHSB=function(r,e,i,a){void 0===a&&(a=1);var s=l.HSBtoRGB(r,e,i);return new l(s[0],s[1],s[2],a)},l.padHex=function(r){return 1===r.length?"0"+r:r},l.prototype.toHexString=function(){var r="#"+l.padHex(Math.round(255*this.r).toString(16))+l.padHex(Math.round(255*this.g).toString(16))+l.padHex(Math.round(255*this.b).toString(16));return this.a<1&&(r+=l.padHex(Math.round(255*this.a).toString(16))),r},l.prototype.toRgbaString=function(r){void 0===r&&(r=3);var e=[Math.round(255*this.r),Math.round(255*this.g),Math.round(255*this.b)],i=Math.pow(10,r);return 1!==this.a?(e.push(Math.round(this.a*i)/i),"rgba("+e.join(", ")+")"):"rgb("+e.join(", ")+")"},l.prototype.toString=function(){return 1===this.a?this.toHexString():this.toRgbaString()},l.prototype.toHSB=function(){return l.RGBtoHSB(this.r,this.g,this.b)},l.RGBtoHSB=function(r,e,i){var a=Math.min(r,e,i),s=Math.max(r,e,i),h=NaN;if(a!==s){var v=s-a,_=(s-r)/v,y=(s-e)/v,m=(s-i)/v;h=r===s?m-y:e===s?2+_-m:4+y-_,(h/=6)<0&&(h+=1)}return[360*h,0!==s?(s-a)/s:0,s]},l.HSBtoRGB=function(r,e,i){isNaN(r)&&(r=0),r=(r%360+360)%360/360;var a=0,s=0,d=0;if(0===e)a=s=d=i;else{var h=6*(r-Math.floor(r)),v=h-Math.floor(h),_=i*(1-e),y=i*(1-e*v),m=i*(1-e*(1-v));switch(h>>0){case 0:a=i,s=m,d=_;break;case 1:a=y,s=i,d=_;break;case 2:a=_,s=i,d=m;break;case 3:a=_,s=y,d=i;break;case 4:a=m,s=_,d=i;break;case 5:a=i,s=_,d=y}}return[a,s,d]},l.prototype.derive=function(r,e,i,a){var s=l.RGBtoHSB(this.r,this.g,this.b),d=s[2];0==d&&i>1&&(d=.05);var h=((s[0]+r)%360+360)%360,v=Math.max(Math.min(s[1]*e,1),0);d=Math.max(Math.min(d*i,1),0);var _=Math.max(Math.min(this.a*a,1),0),y=l.HSBtoRGB(h,v,d);return y.push(_),l.fromArray(y)},l.prototype.brighter=function(){return this.derive(0,1,1/.7,1)},l.prototype.darker=function(){return this.derive(0,1,.7,1)},l.nameToHex=Object.freeze({aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",grey:"#808080",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"}),l}();function color(l,r){if("string"==typeof l)try{l=Color.fromString(l)}catch{l=Color.fromArray([0,0,0])}if("string"==typeof r)try{r=Color.fromString(r)}catch{r=Color.fromArray([0,0,0])}var e=interpolateNumber(l.r,r.r),i=interpolateNumber(l.g,r.g),a=interpolateNumber(l.b,r.b),s=interpolateNumber(l.a,r.a);return function(d){return Color.fromArray([e(d),i(d),a(d),s(d)]).toRgbaString()}}function interpolateValue(l,r){var e=typeof r;if(null==r||"boolean"===e)return constant$1(r);if("number"===e)return interpolateNumber(l,r);if("string"===e)try{return color(l,r=Color.fromString(r))}catch{}return r instanceof Color?color(l,r):r instanceof Date?date(l,r):Array.isArray(r)?array(l,r):"function"!=typeof r.valueOf&&"function"!=typeof r.toString||isNaN(r)?object(l,r):interpolateNumber(l,r)}var __read$1=function(l,r){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var a,d,i=e.call(l),s=[];try{for(;(void 0===r||r-- >0)&&!(a=i.next()).done;)s.push(a.value)}catch(h){d={error:h}}finally{try{a&&!a.done&&(e=i.return)&&e.call(i)}finally{if(d)throw d.error}}return s},constant=function(l){return function(){return l}},identity$2=function(l){return l};function clamper(l){var r,e=l[0],i=l[l.length-1];return e>i&&(r=__read$1([i,e],2),e=r[0],i=r[1]),function(a){return Math.max(e,Math.min(i,a))}}var ContinuousScale=function(){function l(){this.unknown=void 0,this._clamp=identity$2,this._domain=[0,1],this._range=[0,1],this.transform=identity$2,this.untransform=identity$2,this._interpolate=interpolateValue,this.rescale()}return Object.defineProperty(l.prototype,"clamp",{get:function(){return this._clamp!==identity$2},set:function(r){this._clamp=r?clamper(this.domain):identity$2},enumerable:!0,configurable:!0}),l.prototype.setDomain=function(r){this._domain=Array.prototype.map.call(r,function(e){return+e}),this._clamp!==identity$2&&(this._clamp=clamper(this.domain)),this.rescale()},l.prototype.getDomain=function(){return this._domain.slice()},Object.defineProperty(l.prototype,"domain",{get:function(){return this.getDomain()},set:function(r){this.setDomain(r)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"range",{get:function(){return this._range.slice()},set:function(r){this._range=Array.prototype.slice.call(r),this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"interpolate",{get:function(){return this._interpolate},set:function(r){this._interpolate=r,this.rescale()},enumerable:!0,configurable:!0}),l.prototype.rescale=function(){this.piecewise=this.bimap,this.output=void 0,this.input=void 0},l.prototype.normalize=function(r,e){return(e-=r=+r)?function(i){return(i-r)/e}:constant(isNaN(e)?NaN:.5)},l.prototype.bimap=function(r,e,i){var v,_,a=r[0],s=r[1],d=e[0],h=e[1];return s<a?(v=this.normalize(s,a),_=i(h,d)):(v=this.normalize(a,s),_=i(d,h)),function(y){return _(v(y))}},l.prototype.convert=function(r){return r=+r,isNaN(r)?this.unknown:(this.output||(this.output=this.piecewise(this.domain.map(this.transform),this.range,this.interpolate)),this.output(this.transform(this._clamp(r))))},l.prototype.invert=function(r){return this.input||(this.input=this.piecewise(this.range,this.domain.map(this.transform),interpolateNumber)),this._clamp(this.untransform(this.input(r)))},l}(),__extends$k=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();function ticks(l,r,e){var i=tickStep(l,r,e);return range(l=Math.ceil(l/i)*i,r=Math.floor(r/i)*i+i/2,i)}var e10=Math.sqrt(50),e5=Math.sqrt(10),e2=Math.sqrt(2);function tickStep(l,r,e){var i=Math.abs(r-l)/Math.max(0,e),a=Math.pow(10,Math.floor(Math.log(i)/Math.LN10)),s=i/a;return s>=e10?a*=10:s>=e5?a*=5:s>=e2&&(a*=2),r<l?-a:a}function tickIncrement(l,r,e){var i=(r-l)/Math.max(0,e),a=Math.floor(Math.log(i)/Math.LN10),s=i/Math.pow(10,a);return a>=0?(s>=e10?10:s>=e5?5:s>=e2?2:1)*Math.pow(10,a):-Math.pow(10,-a)/(s>=e10?10:s>=e5?5:s>=e2?2:1)}var NumericTicks=function(l){function r(e,i){var a=l.call(this)||this;if(i)for(var s=0,d=i.length;s<d;s++)a[s]=i[s];return a.fractionDigits=e,a}return __extends$k(r,l),r}(Array);function range(l,r,e){void 0===e&&(e=1);for(var i=Math.abs(e),a=i>0&&i<1?Math.abs(Math.floor(Math.log(i)/Math.LN10)):0,s=Math.pow(10,a),d=Math.max(0,Math.ceil((r-l)/e))||0,h=new NumericTicks(a),v=0;v<d;v++)h[v]=Math.round((l+e*v)*s)/s;return h}function formatDefault(l,r){var e=l.toPrecision(r);e:for(var i=e.length,a=1,s=-1,d=0;a<i;++a)switch(e[a]){case".":s=d=a;break;case"0":0===s&&(s=a),d=a;break;case"e":break e;default:s>0&&(s=0)}return s>0?e.slice(0,s)+e.slice(d+1):e}var formatTypes={"":formatDefault,"%":function(l,r){return(100*l).toFixed(r)},b:function(l){return Math.round(l).toString(2)},c:function(l){return String(l)},d:formatDecimal,e:function(l,r){return l.toExponential(r)},f:function(l,r){return l.toFixed(r)},g:function(l,r){return l.toPrecision(r)},o:function(l){return Math.round(l).toString(8)},p:function(l,r){return formatRounded(100*l,r)},r:formatRounded,s:formatPrefixAuto,X:function(l){return Math.round(l).toString(16).toUpperCase()},x:function(l){return Math.round(l).toString(16)}},prefixes=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"],FormatSpecifier=function l(r){r instanceof l?(this.fill=r.fill,this.align=r.align,this.sign=r.sign,this.symbol=r.symbol,this.zero=r.zero,this.width=r.width,this.comma=r.comma,this.precision=r.precision,this.trim=r.trim,this.type=r.type,this.string=r.string):(this.fill=void 0===r.fill?" ":String(r.fill),this.align=void 0===r.align?">":String(r.align),this.sign=void 0===r.sign?"-":String(r.sign),this.symbol=void 0===r.symbol?"":String(r.symbol),this.zero=!!r.zero,this.width=void 0===r.width?void 0:+r.width,this.comma=!!r.comma,this.precision=void 0===r.precision?void 0:+r.precision,this.trim=!!r.trim,this.type=void 0===r.type?"":String(r.type),this.string=r.string)},formatRegEx=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i,interpolateRegEx=/(#\{(.*?)\})/g,prefixExponent,formatDefaultLocale,format,formatPrefix;function makeFormatSpecifier(l){if(l instanceof FormatSpecifier)return new FormatSpecifier(l);var r=!1,e=l.replace(interpolateRegEx,function(){return r||(l=arguments[2],r=!0),"#{}"}),i=formatRegEx.exec(l);if(!i)throw new Error("Invalid format: "+l);return new FormatSpecifier({fill:i[1],align:i[2],sign:i[3],symbol:i[4],zero:i[5],width:i[6],comma:i[7],precision:i[8]&&i[8].slice(1),trim:i[9],type:i[10],string:r?e:void 0})}function tickFormat(l,r,e,i){var d,a=tickStep(l,r,e),s=makeFormatSpecifier(i??",f");switch(s.type){case"s":var h=Math.max(Math.abs(l),Math.abs(r));return null==s.precision&&!isNaN(d=precisionPrefix(a,h))&&(s.precision=d),formatPrefix(s,h);case"":case"e":case"g":case"p":case"r":null==s.precision&&!isNaN(d=precisionRound(a,Math.max(Math.abs(l),Math.abs(r))))&&(s.precision=d-+("e"===s.type));break;case"f":case"%":null==s.precision&&!isNaN(d=precisionFixed(a))&&(s.precision=d-2*+("%"===s.type))}return format(s)}function formatPrefixAuto(l,r){void 0===r&&(r=0);var e=formatDecimalParts(l,r);if(!e)return String(l);var i=e[0],a=e[1],s=a-(prefixExponent=3*Math.max(-8,Math.min(8,Math.floor(a/3))))+1,d=i.length;if(s===d)return i;if(s>d)return i+new Array(s-d+1).join("0");if(s>0)return i.slice(0,s)+"."+i.slice(s);var h=formatDecimalParts(l,Math.max(0,r+s-1));return"0."+new Array(1-s).join("0")+h[0]}function formatDecimal(l){return Math.abs(l=Math.round(l))>=1e21?l.toLocaleString("en").replace(/,/g,""):l.toString(10)}function formatGroup(l,r){return function(e,i){for(var a=[],s=e.length,d=0,h=l[0],v=0;s>0&&h>0&&(v+h+1>i&&(h=Math.max(1,i-v)),a.push(e.substring(s-=h,s+h)),!((v+=h+1)>i));)h=l[d=(d+1)%l.length];return a.reverse().join(r)}}function formatNumerals(l){return function(r){return r.replace(/[0-9]/g,function(e){return l[+e]})}}function formatTrim(l){e:for(var r=l.length,e=1,i=-1,a=0;e<r;++e)switch(l[e]){case".":i=a=e;break;case"0":0===i&&(i=e),a=e;break;default:if(!+l[e])break e;i>0&&(i=0)}return i>0?l.slice(0,i)+l.slice(a+1):l}function formatRounded(l,r){var e=formatDecimalParts(l,r);if(!e)return String(l);var i=e[0],a=e[1];return a<0?"0."+new Array(-a).join("0")+i:i.length>a+1?i.slice(0,a+1)+"."+i.slice(a+1):i+new Array(a-i.length+2).join("0")}function formatDecimalParts(l,r){var e=r?l.toExponential(r-1):l.toExponential(),i=e.indexOf("e");if(!(i<0)){var a=e.slice(0,i);return[a.length>1?a[0]+a.slice(2):a,+e.slice(i+1)]}}function identity$1(l){return l}function defaultLocale(l){formatDefaultLocale=formatLocale$1(l),format=formatDefaultLocale.format,formatPrefix=formatDefaultLocale.formatPrefix}function exponent(l){var r=formatDecimalParts(Math.abs(l));return r?r[1]:NaN}function precisionFixed(l){return Math.max(0,-exponent(Math.abs(l)))}function precisionPrefix(l,r){var e=Math.floor(exponent(r)/3);return e=Math.min(8,e),e=Math.max(-8,e),Math.max(0,3*e-exponent(Math.abs(l)))}function precisionRound(l,r){return l=Math.abs(l),r=Math.abs(r)-l,Math.max(0,exponent(r)-exponent(l))+1}function formatLocale$1(l){var r=void 0===l.grouping||void 0===l.thousands?identity$1:formatGroup(Array.prototype.map.call(l.grouping,Number),String(l.thousands)),e=void 0===l.currency?"":String(l.currency[0]),i=void 0===l.currency?"":String(l.currency[1]),a=void 0===l.decimal?".":String(l.decimal),s=void 0===l.numerals?identity$1:formatNumerals(Array.prototype.map.call(l.numerals,String)),d=void 0===l.percent?"%":String(l.percent),h=void 0===l.minus?"\u2212":String(l.minus),v=void 0===l.nan?"NaN":String(l.nan);function _(m){var E=makeFormatSpecifier(m),w=E.fill,S=E.align,D=E.sign,T=E.symbol,b=E.zero,M=E.width,A=E.comma,L=E.precision,N=E.trim,G=E.type;"n"===G?(A=!0,G="g"):formatTypes[G]||(void 0===L&&(L=12),N=!0,G="g"),(b||"0"===w&&"="===S)&&(b=!0,w="0",S="=");var k="$"===T?e:"#"===T&&/[boxX]/.test(G)?"0"+G.toLowerCase():"",K="$"===T?i:/[%p]/.test(G)?d:"",$=formatTypes[G],j=/[defgprs%]/.test(G);return L=void 0===L?6:/[gprs]/.test(G)?Math.max(1,Math.min(21,L)):Math.max(0,Math.min(20,L)),function Y(ie){var Q,re=k,J=K;if("c"===G)J=$(+ie)+J,Q="";else{var oe=+ie,fe=ie<0||1/oe<0;if(Q=isNaN(oe)?v:$(Math.abs(oe),L),N&&(Q=formatTrim(Q)),fe&&0==+Q&&"+"!==D&&(fe=!1),re=(fe?"("===D?D:h:"-"===D||"("===D?"":D)+re,J=("s"===G?prefixes[8+prefixExponent/3]:"")+J+(fe&&"("===D?")":""),j)for(var pe=0,z=Q.length;pe<z;pe++){var le=Q.charCodeAt(pe);if(48>le||le>57){J=(46===le?a+Q.slice(pe+1):Q.slice(pe))+J,Q=Q.slice(0,pe);break}}}A&&!b&&(Q=r(Q,1/0));var X=re.length+Q.length+J.length,ne=X<M?new Array(M-X+1).join(w):"";switch(A&&b&&(Q=r(ne+Q,ne.length?M-J.length:1/0),ne=""),S){case"<":Q=re+Q+J+ne;break;case"=":Q=re+ne+Q+J;break;case"^":Q=ne.slice(0,X=ne.length>>1)+re+Q+J+ne.slice(X);break;default:Q=ne+re+Q+J}var we=E.string;return we?we.replace(interpolateRegEx,function(){return s(Q)}):s(Q)}}return{format:_,formatPrefix:function y(m,E){var w=makeFormatSpecifier(m);w.type="f";var S=_(w),D=3*Math.max(-8,Math.min(8,Math.floor(exponent(E)/3))),T=Math.pow(10,-D),b=prefixes[8+D/3];return function(M){return S(T*+M)+b}}}}defaultLocale({thousands:",",grouping:[3],currency:["$",""]});var __extends$j=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),LinearScale=function(l){function r(){var e=null!==l&&l.apply(this,arguments)||this;return e.type="linear",e}return __extends$j(r,l),r.prototype.ticks=function(e){void 0===e&&(e=10);var i=this._domain;return ticks(i[0],i[i.length-1],e)},r.prototype.nice=function(e){void 0===e&&(e=10);var v,i=this.domain,a=0,s=i.length-1,d=i[a],h=i[s];h<d&&(v=d,d=h,h=v,v=a,a=s,s=v),(v=tickIncrement(d,h,e))>0?v=tickIncrement(d=Math.floor(d/v)*v,h=Math.ceil(h/v)*v,e):v<0&&(v=tickIncrement(d=Math.ceil(d*v)/v,h=Math.floor(h*v)/v,e)),v>0?(i[a]=Math.floor(d/v)*v,i[s]=Math.ceil(h/v)*v,this.domain=i):v<0&&(i[a]=Math.ceil(d*v)/v,i[s]=Math.floor(h*v)/v,this.domain=i)},r.prototype.tickFormat=function(e,i){var a=this.domain;return tickFormat(a[0],a[a.length-1],e??10,i)},r}(ContinuousScale),__extends$i=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),t0=new Date,t1=new Date,TimeInterval=function(){function l(r,e){this._floor=r,this._offset=e}return l.prototype.floor=function(r){return r=new Date(+r),this._floor(r),r},l.prototype.ceil=function(r){return r=new Date(+r-1),this._floor(r),this._offset(r,1),this._floor(r),r},l.prototype.round=function(r){var e=this.floor(r),i=this.ceil(r),a=+r;return a-e.getTime()<i.getTime()-a?e:i},l.prototype.offset=function(r,e){return void 0===e&&(e=1),r=new Date(+r),this._offset(r,Math.floor(e)),r},l.prototype.range=function(r,e,i){void 0===i&&(i=1);var s,a=[];if(r=this.ceil(r),i=Math.floor(i),r>e||i<=0)return a;do{s=new Date(+r),a.push(s),this._offset(r,i),this._floor(r)}while(s<r&&r<e);return a},l.prototype.filter=function(r){var e=this;return new l(function(s){if(s instanceof Date)for(e._floor(s);!r(s);)s.setTime(s.getTime()-1),e._floor(s);return s},function(s,d){if(s instanceof Date)if(d<0)for(;++d<=0;)do{e._offset(s,-1)}while(!r(s));else for(;--d>=0;)do{e._offset(s,1)}while(!r(s));return s})},l}(),CountableTimeInterval=function(l){function r(e,i,a,s){var d=l.call(this,e,i)||this;return d._count=a,d._field=s,d}return __extends$i(r,l),r.prototype.count=function(e,i){return t0.setTime(+e),t1.setTime(+i),this._floor(t0),this._floor(t1),Math.floor(this._count(t0,t1))},r.prototype.every=function(e){var a,i=this;if(e=Math.floor(e),isFinite(e)&&e>0)if(e>1){var s=this._field;a=this.filter(s?function(d){return s(d)%e==0}:function(d){return i.count(0,d)%e==0})}else a=this;return a},r}(TimeInterval);function floor$8(l){return l}function offset$8(l,r){l.setTime(l.getTime()+r)}function count$8(l,r){return r.getTime()-l.getTime()}var millisecond=new CountableTimeInterval(floor$8,offset$8,count$8),durationSecond=1e3,durationMinute=60*durationSecond,durationHour=60*durationMinute,durationDay=24*durationHour,durationWeek=7*durationDay,durationMonth=30*durationDay,durationYear=365*durationDay;function floor$7(l){l.setTime(l.getTime()-l.getMilliseconds())}function offset$7(l,r){l.setTime(l.getTime()+r*durationSecond)}function count$7(l,r){return(r.getTime()-l.getTime())/durationSecond}var second=new CountableTimeInterval(floor$7,offset$7,count$7);function floor$6(l){l.setTime(l.getTime()-l.getMilliseconds()-l.getSeconds()*durationSecond)}function offset$6(l,r){l.setTime(l.getTime()+r*durationMinute)}function count$6(l,r){return(r.getTime()-l.getTime())/durationMinute}function field$6(l){return l.getMinutes()}var minute=new CountableTimeInterval(floor$6,offset$6,count$6,field$6);function floor$5(l){l.setTime(l.getTime()-l.getMilliseconds()-l.getSeconds()*durationSecond-l.getMinutes()*durationMinute)}function offset$5(l,r){l.setTime(l.getTime()+r*durationHour)}function count$5(l,r){return(r.getTime()-l.getTime())/durationHour}function field$5(l){return l.getHours()}var hour=new CountableTimeInterval(floor$5,offset$5,count$5,field$5);function floor$4(l){l.setHours(0,0,0,0)}function offset$4(l,r){l.setDate(l.getDate()+r)}function count$4(l,r){var e=r.getTimezoneOffset()-l.getTimezoneOffset();return(r.getTime()-l.getTime()-e*durationMinute)/durationDay}function field$4(l){return l.getDate()-1}var day=new CountableTimeInterval(floor$4,offset$4,count$4,field$4);function weekday$1(l){return new CountableTimeInterval(function r(a){a.setDate(a.getDate()-(a.getDay()+7-l)%7),a.setHours(0,0,0,0)},function e(a,s){a.setDate(a.getDate()+7*s)},function i(a,s){return(s.getTime()-a.getTime()-(s.getTimezoneOffset()-a.getTimezoneOffset())*durationMinute)/durationWeek})}var sunday=weekday$1(0),monday=weekday$1(1);weekday$1(2),weekday$1(3);var thursday=weekday$1(4);function floor$3(l){l.setDate(1),l.setHours(0,0,0,0)}function offset$3(l,r){l.setMonth(l.getMonth()+r)}function count$3(l,r){return r.getMonth()-l.getMonth()+12*(r.getFullYear()-l.getFullYear())}function field$3(l){return l.getMonth()}weekday$1(5),weekday$1(6);var month=new CountableTimeInterval(floor$3,offset$3,count$3,field$3);function floor$2(l){l.setMonth(0,1),l.setHours(0,0,0,0)}function offset$2(l,r){l.setFullYear(l.getFullYear()+r)}function count$2(l,r){return r.getFullYear()-l.getFullYear()}function field$2(l){return l.getFullYear()}var year=new CountableTimeInterval(floor$2,offset$2,count$2,field$2);function ascending(l,r){return l<r?-1:l>r?1:l>=r?0:NaN}function complexBisectRight(l,r,e,i,a){void 0===i&&(i=0),void 0===a&&(a=l.length);for(var s=ascendingComparator(e);i<a;){var d=i+a>>>1;s(l[d],r)<0?i=d+1:a=d}return i}function ascendingComparator(l){return function(r,e){return ascending(l(r),e)}}function floor$1(l){l.setUTCHours(0,0,0,0)}function offset$1(l,r){l.setUTCDate(l.getUTCDate()+r)}function count$1(l,r){return(r.getTime()-l.getTime())/durationDay}function field$1(l){return l.getUTCDate()-1}var utcDay=new CountableTimeInterval(floor$1,offset$1,count$1,field$1);function floor(l){l.setUTCMonth(0,1),l.setUTCHours(0,0,0,0)}function offset(l,r){l.setUTCFullYear(l.getUTCFullYear()+r)}function count(l,r){return r.getUTCFullYear()-l.getUTCFullYear()}function field(l){return l.getUTCFullYear()}var utcYear=new CountableTimeInterval(floor,offset,count,field);function weekday(l){return new CountableTimeInterval(function r(a){a.setUTCDate(a.getUTCDate()-(a.getUTCDay()+7-l)%7),a.setHours(0,0,0,0)},function e(a,s){a.setUTCDate(a.getUTCDate()+7*s)},function i(a,s){return(s.getTime()-a.getTime())/durationWeek})}var utcSunday=weekday(0),utcMonday=weekday(1);weekday(2),weekday(3);var utcThursday=weekday(4);function localDate(l){if(l.y>=0&&l.y<100){var r=new Date(-1,l.m,l.d,l.H,l.M,l.S,l.L);return r.setFullYear(l.y),r}return new Date(l.y,l.m,l.d,l.H,l.M,l.S,l.L)}function utcDate(l){if(l.y>=0&&l.y<100){var r=new Date(Date.UTC(-1,l.m,l.d,l.H,l.M,l.S,l.L));return r.setUTCFullYear(l.y),r}return new Date(Date.UTC(l.y,l.m,l.d,l.H,l.M,l.S,l.L))}function formatLookup(l){for(var r={},e=0,i=l.length;e<i;e++)r[l[e].toLowerCase()]=e;return r}function newYear(l){return{y:l,m:0,d:1,H:0,M:0,S:0,L:0}}weekday(5),weekday(6);var percentCharCode=37,numberRe=/^\s*\d+/,percentRe=/^%/,requoteRe=/[\\^$*+?|[\]().{}]/g,requote=function(l){return l.replace(requoteRe,"\\$&")},formatRe=function(l){return new RegExp("^(?:"+l.map(requote).join("|")+")","i")},pads={"-":"",_:" ",0:"0"},locale;function pad(l,r,e){var i=l<0?"-":"",a=String(i?-l:l),s=a.length;return i+(s<e?new Array(e-s+1).join(r)+a:a)}function formatLocale(l){var r=l.dateTime,e=l.date,i=l.time,a=l.periods,s=l.days,d=l.shortDays,h=l.months,v=l.shortMonths,_=formatRe(a),y=formatLookup(a),m=formatRe(s),E=formatLookup(s),w=formatRe(d),S=formatLookup(d),D=formatRe(h),T=formatLookup(h),b=formatRe(v),M=formatLookup(v),A={a:function oe(F){return d[F.getDay()]},A:function fe(F){return s[F.getDay()]},b:function we(F){return v[F.getMonth()]},B:function he(F){return h[F.getMonth()]},c:void 0,d:X,e:X,f:function $(F,H){return j(F,H)+"000"},H:function J(F,H){return pad(F.getHours(),H,2)},I:function re(F,H){return pad(F.getHours()%12||12,H,2)},j:function ne(F,H){return pad(1+day.count(year.floor(F),F),H,3)},L:j,m:function be(F,H){return pad(F.getMonth()+1,H,2)},M:function ie(F,H){return pad(F.getMinutes(),H,2)},p:function Q(F){return a[F.getHours()>=12?1:0]},Q:lr,s:Mr,S:function Y(F,H){return pad(F.getSeconds(),H,2)},u:function ge(F){var H=F.getDay();return 0===H?7:H},U:function ce(F,H){return pad(sunday.count(year.floor(F),F),H,2)},V:function pe(F,H){var Z=F.getDay();F=Z>=4||0===Z?thursday.floor(F):thursday.ceil(F);var B=year.floor(F);return pad(thursday.count(B,F)+(4===B.getDay()?1:0),H,2)},w:function z(F){return F.getDay()},W:function le(F,H){return pad(monday.count(year.floor(F),F),H,2)},x:void 0,X:void 0,y:function ve(F,H){return pad(F.getFullYear()%100,H,2)},Y:function De(F,H){return pad(F.getFullYear()%1e4,H,4)},Z:function Le(F){var H=F.getTimezoneOffset();return(H>0?"-":(H*=-1,"+"))+pad(Math.floor(H/60),"0",2)+pad(H%60,"0",2)},"%":Ne},L={a:function xe(F){return d[F.getUTCDay()]},A:function ct(F){return s[F.getUTCDay()]},b:function me(F){return v[F.getUTCMonth()]},B:function I(F){return h[F.getUTCMonth()]},c:void 0,d:qe,e:qe,f:function Te(F,H){return Ue(F,H)+"000"},H:function Xe(F,H){return pad(F.getUTCHours(),H,2)},I:function it(F,H){return pad(F.getUTCHours()%12||12,H,2)},j:function Ee(F,H){return pad(1+utcDay.count(utcYear.floor(F),F),H,3)},L:Ue,m:function Pe(F,H){return pad(F.getUTCMonth()+1,H,2)},M:function et(F,H){return pad(F.getUTCMinutes(),H,2)},p:function nt(F){return a[F.getUTCHours()>=12?1:0]},Q:lr,s:Mr,S:function We(F,H){return pad(F.getUTCSeconds(),H,2)},u:function tt(F){var H=F.getUTCDay();return 0===H?7:H},U:function wt(F,H){return pad(utcSunday.count(utcYear.floor(F),F),H,2)},V:function tr(F,H){var Z=F.getUTCDay();F=Z>=4||0===Z?utcThursday.floor(F):utcThursday.ceil(F);var B=utcYear.floor(F);return pad(utcThursday.count(B,F)+(4===B.getUTCDay()?1:0),H,4)},w:function oi(F){return F.getUTCDay()},W:function _r(F,H){return pad(utcMonday.count(utcYear.floor(F),F),H,2)},x:void 0,X:void 0,y:function Bt(F,H){return pad(F.getUTCFullYear()%100,H,2)},Y:function ee(F,H){return pad(F.getUTCFullYear()%1e4,H,4)},Z:function Fe(){return"+0000"},"%":Ne},N={a:function xi(F,H,Z){var B=w.exec(H.slice(Z));return B?(F.w=S[B[0].toLowerCase()],Z+B[0].length):-1},A:function vt(F,H,Z){var B=m.exec(H.slice(Z));return B?(F.w=E[B[0].toLowerCase()],Z+B[0].length):-1},b:function li(F,H,Z){var B=b.exec(H.slice(Z));return B?(F.m=M[B[0].toLowerCase()],Z+B[0].length):-1},B:function Lr(F,H,Z){var B=D.exec(H.slice(Z));return B?(F.m=T[B[0].toLowerCase()],Z+B[0].length):-1},c:function Fi(F,H,Z){return K(F,r,H,Z)},d:Ar,e:Ar,f:function $e(F,H,Z){var B=numberRe.exec(H.slice(Z,Z+6));return B?(F.L=Math.floor(parseFloat(B[0])/1e3),Z+B[0].length):-1},H:It,I:It,j:function si(F,H,Z){var B=numberRe.exec(H.slice(Z,Z+3));return B?(F.m=0,F.d=+B[0],Z+B[0].length):-1},L:function ai(F,H,Z){var B=numberRe.exec(H.slice(Z,Z+3));return B?(F.L=+B[0],Z+B[0].length):-1},m:function Li(F,H,Z){var B=numberRe.exec(H.slice(Z,Z+2));return B?(F.m=parseFloat(B[0])-1,Z+B[0].length):-1},M:function Je(F,H,Z){var B=numberRe.exec(H.slice(Z,Z+2));return B?(F.M=+B[0],Z+B[0].length):-1},p:function Ai(F,H,Z){var B=_.exec(H.slice(Z));return B?(F.p=y[B[0].toLowerCase()],Z+B[0].length):-1},Q:function _t(F,H,Z){var B=numberRe.exec(H.slice(Z));return B?(F.Q=+B[0],Z+B[0].length):-1},s:function ot(F,H,Z){var B=numberRe.exec(H.slice(Z));return B?(F.Q=1e3*+B[0],Z+B[0].length):-1},S:function Mi(F,H,Z){var B=numberRe.exec(H.slice(Z,Z+2));return B?(F.S=+B[0],Z+B[0].length):-1},u:function xr(F,H,Z){var B=numberRe.exec(H.slice(Z,Z+1));return B?(F.u=+B[0],Z+B[0].length):-1},U:function ur(F,H,Z){var B=numberRe.exec(H.slice(Z,Z+2));return B?(F.U=+B[0],Z+B[0].length):-1},V:function Ii(F,H,Z){var B=numberRe.exec(H.slice(Z,Z+2));return B?(F.V=+B[0],Z+B[0].length):-1},w:function St(F,H,Z){var B=numberRe.exec(H.slice(Z,Z+1));return B?(F.w=+B[0],Z+B[0].length):-1},W:function Ir(F,H,Z){var B=numberRe.exec(H.slice(Z,Z+2));return B?(F.W=+B[0],Z+B[0].length):-1},x:function Ni(F,H,Z){return K(F,e,H,Z)},X:function Gi(F,H,Z){return K(F,i,H,Z)},y:function Wi(F,H,Z){var B=numberRe.exec(H.slice(Z,Z+2));return B?(F.y=+B[0]+(+B[0]>68?1900:2e3),Z+B[0].length):-1},Y:function ui(F,H,Z){var B=numberRe.exec(H.slice(Z,Z+4));return B?(F.y=+B[0],Z+B[0].length):-1},Z:function Bi(F,H,Z){var B=/^(Z)|^([+-]\d\d)(?::?(\d\d))?/.exec(H.slice(Z,Z+6));return B?(F.Z=B[1]?0:-(B[2]+(B[3]||"00")),Z+B[0].length):-1},"%":function Fr(F,H,Z){var B=percentRe.exec(H.slice(Z,Z+1));return B?Z+B[0].length:-1}};function G(F,H){return function(Z){var B=newYear(1900);if(K(B,F,Z+="",0)==Z.length){if("Q"in B)return new Date(B.Q);if("p"in B&&(B.H=B.H%12+12*B.p),"V"in B){if(B.V<1||B.V>53)return;if("w"in B||(B.w=1),"Z"in B){var rt=(Ie=utcDate(newYear(B.y))).getUTCDay();Ie=rt>4||0===rt?utcMonday.ceil(Ie):utcMonday.floor(Ie),Ie=utcDay.offset(Ie,7*(B.V-1)),B.y=Ie.getUTCFullYear(),B.m=Ie.getUTCMonth(),B.d=Ie.getUTCDate()+(B.w+6)%7}else{var Ie;rt=(Ie=H(newYear(B.y))).getDay(),Ie=rt>4||0===rt?monday.ceil(Ie):monday.floor(Ie),Ie=day.offset(Ie,7*(B.V-1)),B.y=Ie.getFullYear(),B.m=Ie.getMonth(),B.d=Ie.getDate()+(B.w+6)%7}}else("W"in B||"U"in B)&&("w"in B||(B.w="u"in B?B.u%7:"W"in B?1:0),rt="Z"in B?utcDate(newYear(B.y)).getUTCDay():H(newYear(B.y)).getDay(),B.m=0,B.d="W"in B?(B.w+6)%7+7*B.W-(rt+5)%7:B.w+7*B.U-(rt+6)%7);return"Z"in B?(B.H+=B.Z/100|0,B.M+=B.Z%100,utcDate(B)):H(B)}}}function k(F,H){return function(Z){var B=[],yt=F.length,Ie=-1,rt=0;for(Z instanceof Date||(Z=new Date(+Z));++Ie<yt;)if(F.charCodeAt(Ie)===percentCharCode){B.push(F.slice(rt,Ie));var pt=F.charAt(++Ie),Pt=pads[pt];null!=Pt?pt=F.charAt(++Ie):Pt="e"===pt?" ":"0";var Lt=H[pt];Lt&&(pt=Lt(Z,Pt)),B.push(pt),rt=Ie+1}return B.push(F.slice(rt,Ie)),B.join("")}}function K(F,H,Z,B){for(var yt=0,Ie=H.length,rt=Z.length;yt<Ie;){if(B>=rt)return-1;var pt=H.charCodeAt(yt++);if(pt===percentCharCode){var Pt=H.charAt(yt++),Lt=N[Pt in pads?H.charAt(yt++):Pt];if(!Lt||(B=Lt(F,Z,B))<0)return-1}else if(pt!=Z.charCodeAt(B++))return-1}return B}function j(F,H){return pad(F.getMilliseconds(),H,3)}function X(F,H){return pad(F.getDate(),H,2)}function Ue(F,H){return pad(F.getUTCMilliseconds(),H,3)}function qe(F,H){return pad(F.getUTCDate(),H,2)}function Ne(F){return"%"}function lr(F){return F.getTime()}function Mr(F){return Math.floor(F.getTime()/1e3)}function It(F,H,Z){var B=numberRe.exec(H.slice(Z,Z+2));return B?(F.H=+B[0],Z+B[0].length):-1}function Ar(F,H,Z){var B=numberRe.exec(H.slice(Z,Z+2));return B?(F.d=+B[0],Z+B[0].length):-1}return A.x=k(e,A),A.X=k(i,A),A.c=k(r,A),L.x=k(e,L),L.X=k(i,L),L.c=k(r,L),{format:function(F){var H=k(F,A);return H.toString=function(){return F},H},parse:function(F){var H=G(F,localDate);return H.toString=function(){return F},H},utcFormat:function(F){var H=k(F,L);return H.toString=function(){return F},H},utcParse:function(F){var H=G(F,utcDate);return H.toString=function(){return F},H}}}function setDefaultLocale(l){return locale=formatLocale(l)}setDefaultLocale({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var __extends$h=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__read=function(l,r){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var a,d,i=e.call(l),s=[];try{for(;(void 0===r||r-- >0)&&!(a=i.next()).done;)s.push(a.value)}catch(h){d={error:h}}finally{try{a&&!a.done&&(e=i.return)&&e.call(i)}finally{if(d)throw d.error}}return s},TimeScale=function(l){function r(){var e=null!==l&&l.apply(this,arguments)||this;return e.type="time",e.year=year,e.month=month,e.week=sunday,e.day=day,e.hour=hour,e.minute=minute,e.second=second,e.millisecond=millisecond,e.format=locale.format,e.tickIntervals=[[e.second,1,durationSecond],[e.second,5,5*durationSecond],[e.second,15,15*durationSecond],[e.second,30,30*durationSecond],[e.minute,1,durationMinute],[e.minute,5,5*durationMinute],[e.minute,15,15*durationMinute],[e.minute,30,30*durationMinute],[e.hour,1,durationHour],[e.hour,3,3*durationHour],[e.hour,6,6*durationHour],[e.hour,12,12*durationHour],[e.day,1,durationDay],[e.day,2,2*durationDay],[e.week,1,durationWeek],[e.month,1,durationMonth],[e.month,3,3*durationMonth],[e.year,1,durationYear]],e.formatMillisecond=e.format(".%L"),e.formatSecond=e.format(":%S"),e.formatMinute=e.format("%I:%M"),e.formatHour=e.format("%I %p"),e.formatDay=e.format("%a %d"),e.formatWeek=e.format("%b %d"),e.formatMonth=e.format("%B"),e.formatYear=e.format("%Y"),e._domain=[new Date(2e3,0,1),new Date(2e3,0,2)],e}return __extends$h(r,l),r.prototype.defaultTickFormat=function(e){return(this.second.floor(e)<e?this.formatMillisecond:this.minute.floor(e)<e?this.formatSecond:this.hour.floor(e)<e?this.formatMinute:this.day.floor(e)<e?this.formatHour:this.month.floor(e)<e?this.week.floor(e)<e?this.formatDay:this.formatWeek:this.year.floor(e)<e?this.formatMonth:this.formatYear)(e)},r.prototype.tickInterval=function(e,i,a,s){var d;if("number"==typeof e){var h=e,v=this.tickIntervals,_=Math.abs(a-i)/h,y=complexBisectRight(v,_,function(m){return m[2]});y===v.length?(s=tickStep(i/durationYear,a/durationYear,h),e=this.year):y?(e=(d=__read(v[_/v[y-1][2]<v[y][2]/_?y-1:y],2))[0],s=d[1]):(s=Math.max(tickStep(i,a,e),1),e=this.millisecond)}return null==s?e:e.every(s)},Object.defineProperty(r.prototype,"domain",{get:function(){return l.prototype.getDomain.call(this).map(function(e){return new Date(e)})},set:function(e){l.prototype.setDomain.call(this,Array.prototype.map.call(e,function(i){return i instanceof Date?+i:+new Date(+i)}))},enumerable:!0,configurable:!0}),r.prototype.invert=function(e){return new Date(l.prototype.invert.call(this,e))},r.prototype.ticks=function(e){void 0===e&&(e=10);var i=l.prototype.getDomain.call(this),a=i[0],s=i[i.length-1],d=s<a;if(d){var h=a;a=s,s=h}var v=this.tickInterval(e,a,s),_=v?v.range(a,s+1):[];return d?_.reverse():_},r.prototype.tickFormat=function(e,i){return null==i?this.defaultTickFormat.bind(this):this.format(i)},r.prototype.nice=function(e){void 0===e&&(e=10);var i=l.prototype.getDomain.call(this),a=this.tickInterval(e,i[0],i[i.length-1]);a&&(this.domain=this._nice(i,a))},r.prototype._nice=function(e,i){var a,s,d=0,h=(e=e.slice()).length-1,v=e[d],_=e[h];return _<v&&(d=(a=__read([h,d],2))[0],h=a[1],v=(s=__read([_,v],2))[0],_=s[1]),e[d]=i.floor(v),e[h]=i.ceil(_),e},r}(ContinuousScale);function identity(l){return l}function extent(l,r,e){for(var d,h,v,i=e||identity,a=l.length,s=-1;++s<a;)if(r(d=l[s]))for(h=v=d;++s<a;)r(d=l[s])&&(h>d&&(h=d),v<d&&(v=d));return void 0===h||void 0===v?void 0:[i(h),i(v)]}var __extends$g=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__values=function(l){var r="function"==typeof Symbol&&Symbol.iterator,e=r&&l[r],i=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&i>=l.length&&(l=void 0),{value:l&&l[i++],done:!l}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},SparklineAxis=function(l){function r(){var e=null!==l&&l.apply(this,arguments)||this;return e.type="category",e.stroke="rgb(204, 214, 235)",e.strokeWidth=1,e}return __extends$g(r,l),r}(Observable),Sparkline=function(l){function r(){var e=l.call(this)||this;e.id=createId(e),e.seriesRect={x:0,y:0,width:0,height:0},e._context=void 0,e._container=void 0,e._data=void 0,e.padding=new Padding(3),e.xKey="x",e.yKey="y",e.dataType=void 0,e.xData=[],e.yData=[],e.min=void 0,e.max=void 0,e.yScale=new LinearScale,e.axis=new SparklineAxis,e.highlightStyle={size:6,fill:"yellow",stroke:"silver",strokeWidth:1},e._width=100,e._height=100,e.smallestInterval=void 0,e.layoutId=0,e.defaultDateFormatter=locale.format("%m/%d/%y, %H:%M:%S"),e._onMouseMove=e.onMouseMove.bind(e),e._onMouseOut=e.onMouseOut.bind(e);var i=new Group;e.rootGroup=i;var a=document.createElement("div");a.setAttribute("class","ag-sparkline-wrapper");var s=new Scene(document);if(e.scene=s,e.canvasElement=s.canvas.element,s.root=i,s.container=a,s.resize(e.width,e.height),e.seriesRect.width=e.width,e.seriesRect.height=e.height,-1===r.tooltipDocuments.indexOf(document)){var d=document.createElement("style");d.innerHTML=defaultTooltipCss,document.head.insertBefore(d,document.head.querySelector("style")),r.tooltipDocuments.push(document)}return e.setupDomEventListeners(e.scene.canvas.element),e}return __extends$g(r,l),Object.defineProperty(r.prototype,"context",{get:function(){return this._context},set:function(e){this._context!==e&&(this._context=e)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"container",{get:function(){return this._container},set:function(e){this._container!==e&&(this.canvasElement.parentNode?.removeChild(this.canvasElement),e&&e.appendChild(this.canvasElement),this._container=e)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"data",{get:function(){return this._data},set:function(e){this._data!==e&&(this._data=e,this.processData())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"width",{get:function(){return this._width},set:function(e){this._width!==e&&(this._width=e,this.scene.resize(e,this.height),this.scheduleLayout())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"height",{get:function(){return this._height},set:function(e){this._height!==e&&(this._height=e,this.scene.resize(this.width,e),this.scheduleLayout())},enumerable:!0,configurable:!0}),r.prototype.update=function(){},r.prototype.updateYScale=function(){this.updateYScaleRange(),this.updateYScaleDomain()},r.prototype.updateYScaleDomain=function(){},r.prototype.updateYScaleRange=function(){this.yScale.range=[this.seriesRect.height,0]},r.prototype.updateXScale=function(){this.xScale=this.getXScale(this.axis.type),this.updateXScaleRange(),this.updateXScaleDomain()},r.prototype.updateXScaleRange=function(){this.xScale.range=[0,this.seriesRect.width]},r.prototype.updateXScaleDomain=function(){var s,i=this.xData,a=this.xScale;a instanceof LinearScale?s=extent(i,isNumber):a instanceof TimeScale&&(s=extent(i,isContinuous)),this.xScale.domain=s?s.slice():i},r.prototype.getXScale=function(e){switch(void 0===e&&(e="category"),e){case"number":return new LinearScale;case"time":return new TimeScale;default:return new BandScale}},r.prototype.updateAxisLine=function(){},r.prototype.updateAxes=function(){this.updateYScale(),this.updateXScale(),this.updateAxisLine()},r.prototype.updateCrosshairs=function(){this.updateXCrosshairLine(),this.updateYCrosshairLine()},r.prototype.generateNodeData=function(){return[]},r.prototype.getNodeData=function(){return[]},r.prototype.updateNodes=function(){},r.prototype.updateXCrosshairLine=function(){},r.prototype.updateYCrosshairLine=function(){},r.prototype.highlightDatum=function(e){this.updateNodes()},r.prototype.dehighlightDatum=function(){this.highlightedDatum=void 0,this.updateNodes(),this.updateCrosshairs()},r.prototype.onMouseMove=function(e){var i=this.pickClosestSeriesNodeDatum(e.offsetX,e.offsetY);if(i){var a=this.highlightedDatum;this.highlightedDatum=i,(this.highlightedDatum&&!a||this.highlightedDatum&&a&&this.highlightedDatum!==a)&&(this.highlightDatum(i),this.updateCrosshairs()),this.tooltip.enabled&&this.handleTooltip(e,i)}},r.prototype.onMouseOut=function(e){this.dehighlightDatum(),this.tooltip.toggle(!1)},r.prototype.processData=function(){var e=this,i=this,a=i.data,s=i.yData,d=i.xData;if(a&&!this.invalidData(this.data)){s.length=0,d.length=0;var h=a.length,v=this.getDataType(a);this.dataType=v;var w,_=this.axis.type,y="number"!==_&&"time"!==_?"category":_,m="number"===y||"time"===y,E=function(k,K){null==e.smallestInterval&&(e.smallestInterval={x:1/0,y:1/0});var $=e.smallestInterval.x,j=Math.abs(k-K);j>0&&j<$&&(e.smallestInterval.x=j)};if("number"===v)for(var S=0;S<h;S++){var T=a[S],b=this.getDatum(S,y),M=this.getDatum(T,"number");m&&E(b,w),d.push(b),s.push(M),w=b}else if("array"===v)for(S=0;S<h;S++){var A=a[S];if(Array.isArray(A)){if(T=A[1],b=this.getDatum(A[0],y),M=this.getDatum(T,"number"),null==b)continue;m&&E(b,w),d.push(b),s.push(M),w=b}}else if("object"===v){var N=this.yKey,G=this.xKey;for(S=0;S<h;S++)if("object"==typeof(A=a[S])&&!Array.isArray(A)){if(T=A[N],b=this.getDatum(A[G],y),M=this.getDatum(T,"number"),null==b)continue;m&&E(b,w),d.push(b),s.push(M),w=b}}this.updateAxes(),this.update()}},r.prototype.getDataType=function(e){var i,a;try{for(var s=__values(e),d=s.next();!d.done;d=s.next()){var h=d.value;if(null!=h){if(isNumber(h))return"number";if(Array.isArray(h))return"array";if("object"==typeof h)return"object"}}}catch(v){i={error:v}}finally{try{d&&!d.done&&(a=s.return)&&a.call(s)}finally{if(i)throw i.error}}},r.prototype.getDatum=function(e,i){if("number"===i&&isNumber(e)||"time"===i&&(isNumber(e)||isDate(e)))return e;if("category"===i){if(isString(e)||isDate(e)||isNumber(e))return{toString:function(){return String(e)}};if(isStringObject(e))return e}},Object.defineProperty(r.prototype,"layoutScheduled",{get:function(){return!!this.layoutId},enumerable:!0,configurable:!0}),r.prototype.scheduleLayout=function(){var e=this;this.layoutId&&cancelAnimationFrame(this.layoutId),this.layoutId=requestAnimationFrame(function(){e.setSparklineDimensions(),!e.invalidData(e.data)&&(e.updateXScaleRange(),e.updateYScaleRange(),e.updateAxisLine(),e.update(),e.layoutId=0)})},r.prototype.setSparklineDimensions=function(){var e=this,s=e.padding,d=e.seriesRect,h=e.rootGroup,_=e.height-s.top-s.bottom;d.width=e.width-s.left-s.right,d.height=_,d.x=s.left,d.y=s.top,h.translationX=d.x,h.translationY=d.y},r.prototype.pickClosestSeriesNodeDatum=function(e,i){for(var s,a=1/0,d=this.rootGroup.transformPoint(e,i),h=this.getNodeData(),v=0;v<h.length;v++){var _=h[v];if(!_.point)return;var y=this.getDistance(d,_.point);y<=a&&(a=y,s=_)}return s},r.prototype.getDistance=function(e,i){return Math.abs(e.x-i.x)},r.prototype.handleTooltip=function(e,i){var a=i.seriesDatum,d=e.clientX,h=e.clientY;null==this.tooltip.container&&(this.tooltip.container=this.canvasElement);var v={pageX:d,pageY:h},m=this.tooltip.enabled;if(this.tooltip.renderer){var E=this.tooltip.renderer({context:this.context,datum:a,yValue:a.y,xValue:a.x});m="string"!=typeof E&&void 0!==E.enabled?E.enabled:m}var w=m&&void 0!==a.y&&this.getTooltipHtml(i);w&&this.tooltip.show(v,w)},r.prototype.formatNumericDatum=function(e){return String(Math.round(10*e)/10)},r.prototype.formatDatum=function(e){var i=this.axis.type||"category";return"number"===i&&"number"==typeof e?this.formatNumericDatum(e):"time"===i&&(e instanceof Date||isNumber(e))?this.defaultDateFormatter(e):String(e)},r.prototype.setupDomEventListeners=function(e){e.addEventListener("mousemove",this._onMouseMove),e.addEventListener("mouseout",this._onMouseOut)},r.prototype.cleanupDomEventListeners=function(e){e.removeEventListener("mousemove",this._onMouseMove),e.removeEventListener("mouseout",this._onMouseOut)},r.prototype.invalidData=function(e){return!e||!Array.isArray(e)||0===e.length},r.prototype.destroy=function(){this.scene.container=void 0,this.container=void 0,this.cleanupDomEventListeners(this.scene.canvas.element)},r.tooltipDocuments=[],r}(Observable),__extends$f=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();function toTooltipHtml(l,r){if("string"==typeof l)return l;r=r||{};var E,w,e=l.content,i=void 0===e?r.content||"":e,a=l.title,s=void 0===a?r.title||void 0:a,d=l.color,h=void 0===d?r.color:d,v=l.backgroundColor,_=void 0===v?r.backgroundColor:v,y=l.opacity,m=void 0===y?r.opacity||1:y;if(h?(E=s?'<span class="'+SparklineTooltip.class+'-title"; style="color: '+h+'">'+s+"</span>":"",w='<span class="'+SparklineTooltip.class+'-content" style="color: '+h+'">'+i+"</span>"):(E=s?'<span class="'+SparklineTooltip.class+'-title">'+s+"</span>":"",w='<span class="'+SparklineTooltip.class+'-content">'+i+"</span>"),_){var S=Color.fromString(_.toLowerCase()),L=Color.fromArray([S.r,S.g,S.b,m]).toRgbaString();return'<div class="'+SparklineTooltip.class+'" style="background-color: '+L+'">\n                    '+E+"\n                    "+w+"\n                </div>"}return'<div class="'+SparklineTooltip.class+'">\n                    '+E+"\n                    "+w+"\n                </div>"}var SparklineTooltip=function(l){function r(){var e=l.call(this)||this;return e.element=document.createElement("div"),e.enabled=!0,e.container=void 0,e.xOffset=10,e.yOffset=0,e.renderer=void 0,document.body.appendChild(e.element),e}return __extends$f(r,l),r.prototype.isVisible=function(){var e=this.element;if(e.classList)return!e.classList.contains(r.class+"-wrapper-hidden");var i=e.getAttribute("class");return!!i&&i.split(" ").indexOf(r.class+"-wrapper-hidden")<0},r.prototype.updateClass=function(e){var i=[r.class+"-wrapper"];!0!==e&&i.push(r.class+"-wrapper-hidden"),this.element.setAttribute("class",i.join(" "))},r.prototype.show=function(e,i){this.toggle(!1);var a=this.element;if(void 0!==i)a.innerHTML=i;else if(!a.innerHTML)return;var s=e.pageX+this.xOffset,d=e.pageY+this.yOffset,h=a.getBoundingClientRect(),v=window.innerWidth-h.width;if(this.container){var _=this.container.getBoundingClientRect();v=_.left+(_.width-h.width)}s>v&&(s=e.pageX-a.clientWidth-this.xOffset),a.style.left=Math.round(s)+"px",a.style.top=Math.round(d)+"px",this.toggle(!0)},r.prototype.toggle=function(e){this.updateClass(e)},r.prototype.destroy=function(){var e=this.element.parentNode;e&&e.removeChild(this.element)},r.class="ag-sparkline-tooltip",r}(Observable),__extends$e=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Marker=function(l){function r(){var e=null!==l&&l.apply(this,arguments)||this;return e._x=0,e._y=0,e._size=3,e}return __extends$e(r,l),Object.defineProperty(r.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"size",{get:function(){return this._size},set:function(e){this._size!==e&&(this._size=e,this.dirty=!0)},enumerable:!0,configurable:!0}),r}(Shape),__extends$d=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Circle=function(l){function r(){return null!==l&&l.apply(this,arguments)||this}return __extends$d(r,l),r.prototype.isPointInPath=function(e,i){return!1},r.prototype.isPointInStroke=function(e,i){return!1},r.prototype.render=function(e){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e);var i=this,a=i.x,s=i.y,h=i.size/2;e.beginPath(),e.arc(a,s,h,0,2*Math.PI,!1),this.fillStroke(e),this.dirty=!1},r.className="Circle",r}(Marker),__extends$c=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Diamond=function(l){function r(){return null!==l&&l.apply(this,arguments)||this}return __extends$c(r,l),r.prototype.isPointInStroke=function(e,i){return!1},r.prototype.isPointInPath=function(e,i){return!1},r.prototype.render=function(e){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e);var i=this,a=i.x,s=i.y,h=i.size/2;e.beginPath(),e.moveTo(a,s-=h),e.lineTo(a+=h,s+=h),e.lineTo(a-=h,s+=h),e.lineTo(a-=h,s-=h),e.lineTo(a+h,s-h),e.closePath(),this.fillStroke(e),this.dirty=!1},r.className="Diamond",r}(Marker),__extends$b=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Square=function(l){function r(){return null!==l&&l.apply(this,arguments)||this}return __extends$b(r,l),r.prototype.isPointInStroke=function(e,i){return!1},r.prototype.isPointInPath=function(e,i){return!1},r.prototype.render=function(e){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e);var i=this,a=i.x,s=i.y,d=i.size,h=d/2;e.beginPath(),e.moveTo(a-=h,s-=h),e.lineTo(a+=d,s),e.lineTo(a,s+=d),e.lineTo(a-=d,s),e.lineTo(a,s-=d),e.closePath(),this.fillStroke(e),this.dirty=!1},r.className="Square",r}(Marker);function getMarker(l){switch(l){case"circle":default:return Circle;case"square":return Square;case"diamond":return Diamond}}function getLineDash(l,r){void 0===r&&(r="solid");var e={solid:[],dash:[4,3],dot:[1,3],dashDot:[4,3,1,3],dashDotDot:[4,3,1,3,1,3],shortDot:[1,1],shortDash:[3,1],shortDashDot:[3,1,1,1],shortDashDotDot:[3,1,1,1,1,1],longDash:[8,3],longDashDot:[8,3,1,3],longDashDotDot:[8,3,1,3,1,3]},i={solid:[],dash:[3,3],dot:[0,3],dashDot:[3,3,0,3],dashDotDot:[3,3,0,3,0,3],shortDot:[0,2],shortDash:[2,2],shortDashDot:[2,2,0,2],shortDashDotDot:[2,2,0,2,0,2],longDash:[7,3],longDashDot:[7,3,0,3],longDashDotDot:[7,3,0,3,0,3]};return"round"===l||"square"===l?i[r]??(console.warn("'"+r+"' is not a valid 'lineDash' option."),i.solid):e[r]??(console.warn("'"+r+"' is not a valid 'lineDash' option."),e.solid)}var __extends$a=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),SparklineMarker$1=function l(){this.enabled=!0,this.shape="circle",this.size=0,this.fill="rgb(124, 181, 236)",this.stroke="rgb(124, 181, 236)",this.strokeWidth=1,this.formatter=void 0},SparklineLine$1=function l(){this.stroke="rgb(124, 181, 236)",this.strokeWidth=1},SparklineCrosshairs$1=function l(){this.xLine={enabled:!0,stroke:"rgba(0,0,0, 0.54)",strokeWidth:1,lineDash:"solid",lineCap:void 0},this.yLine={enabled:!1,stroke:"rgba(0,0,0, 0.54)",strokeWidth:1,lineDash:"solid",lineCap:void 0}},AreaSparkline=function(l){function r(){var e=l.call(this)||this;return e.fill="rgba(124, 181, 236, 0.25)",e.strokePath=new Path,e.fillPath=new Path,e.xCrosshairLine=new Line,e.yCrosshairLine=new Line,e.areaSparklineGroup=new Group,e.fillPathData=[],e.strokePathData=[],e.xAxisLine=new Line,e.markers=new Group,e.markerSelection=Selection.select(e.markers).selectAll(),e.markerSelectionData=[],e.marker=new SparklineMarker$1,e.line=new SparklineLine$1,e.crosshairs=new SparklineCrosshairs$1,e.rootGroup.append(e.areaSparklineGroup),e.areaSparklineGroup.append([e.fillPath,e.xAxisLine,e.strokePath,e.xCrosshairLine,e.yCrosshairLine,e.markers]),e}return __extends$a(r,l),r.prototype.getNodeData=function(){return this.markerSelectionData},r.prototype.onMarkerShapeChange=function(){this.markerSelection=this.markerSelection.setData([]),this.markerSelection.exit.remove(),this.scheduleLayout()},r.prototype.update=function(){var e=this.generateNodeData();if(e){var i=e.nodeData,a=e.fillData,s=e.strokeData;this.markerSelectionData=i,this.fillPathData=a,this.strokePathData=s,this.updateSelection(i),this.updateNodes(),this.updateStroke(s),this.updateFill(a)}},r.prototype.updateYScaleDomain=function(){var a=this.yScale,s=extent(this.yData,isNumber),d=0,h=1;void 0!==s&&(d=this.min=s[0],h=this.max=s[1]),a.domain=[d=d<0?d:0,h=h<0?0:h]},r.prototype.generateNodeData=function(){var e=this,a=e.yData,s=e.xData,d=e.xScale,h=e.yScale;if(e.data){for(var w,S,D,T,v=d instanceof BandScale?d.bandwidth/2:0,_=a.length,y=[],m=[],E=[],b=h.convert(0),M=0;M<_;M++){var A=a[M],L=s[M],N=d.convert(L)+v,G=h.convert(A);M+1<_&&(T=d.convert(s[M+1])+v),E.push({seriesDatum:{x:L,y:A},point:{x:N,y:G}}),void 0===A&&void 0!==D?(m.push({seriesDatum:void 0,point:{x:D,y:b}}),void 0!==T&&m.push({seriesDatum:void 0,point:{x:T,y:b}})):void 0!==A&&(m.push({seriesDatum:{x:L,y:A},point:{x:N,y:G}}),y.push({seriesDatum:{x:L,y:A},point:{x:N,y:G}}),w=void 0!==w?w:N,S=N),D=N}return m.push({seriesDatum:void 0,point:{x:S,y:b}},{seriesDatum:void 0,point:{x:w,y:b}}),{nodeData:y,fillData:m,strokeData:E}}},r.prototype.updateAxisLine=function(){var e=this,i=e.xScale,a=e.yScale,s=e.axis,d=e.xAxisLine;d.x1=i.range[0],d.x2=i.range[1],d.y1=d.y2=0,d.stroke=s.stroke,d.strokeWidth=s.strokeWidth;var h=a.convert(0);d.translationY=h},r.prototype.updateSelection=function(e){var a=getMarker(this.marker.shape),s=this.markerSelection.setData(e),d=s.enter.append(a);s.exit.remove(),this.markerSelection=s.merge(d)},r.prototype.updateNodes=function(){var e=this,i=this,a=i.highlightedDatum,s=i.highlightStyle,d=i.marker,h=s.size,v=s.fill,_=s.stroke,y=s.strokeWidth,m=d.formatter;this.markerSelection.each(function(E,w,S){var D=w.point,T=w.seriesDatum;if(D){var G,b=w===a,M=b&&void 0!==v?v:d.fill,A=b&&void 0!==_?_:d.stroke,L=b&&void 0!==y?y:d.strokeWidth,N=b&&void 0!==h?h:d.size;m&&(G=m({datum:w,xValue:T.x,yValue:T.y,min:T.y===e.min,max:T.y===e.max,first:0===S,last:S===e.markerSelectionData.length-1,fill:M,stroke:A,strokeWidth:L,size:N,highlighted:b})),E.size=G&&null!=G.size?G.size:N,E.fill=G&&null!=G.fill?G.fill:M,E.stroke=G&&null!=G.stroke?G.stroke:A,E.strokeWidth=G&&null!=G.strokeWidth?G.strokeWidth:L,E.translationX=D.x,E.translationY=D.y,E.visible=G&&null!=G.enabled?G.enabled:d.enabled&&E.size>0}})},r.prototype.updateStroke=function(e){var i=this,a=i.strokePath,d=i.line;if(!(i.yData.length<2)){var h=a.path,v=e.length,_=!0;h.clear();for(var y=0;y<v;y++){var m=e[y],E=m.point,S=E.x,D=E.y;null==m.seriesDatum.y?_=!0:_?(h.moveTo(S,D),_=!1):h.lineTo(S,D)}a.lineJoin=a.lineCap="round",a.fill=void 0,a.stroke=d.stroke,a.strokeWidth=d.strokeWidth}},r.prototype.updateFill=function(e){var i=this,a=i.fillPath,s=i.yData,d=i.fill,h=a.path,v=e.length;if(h.clear(),!(s.length<2)){for(var _=0;_<v;_++){var y=e[_].point,m=y.x,E=y.y;_>0?h.lineTo(m,E):h.moveTo(m,E)}h.closePath(),a.lineJoin="round",a.stroke=void 0,a.fill=d}},r.prototype.updateXCrosshairLine=function(){var e=this,i=e.yScale,a=e.xCrosshairLine,s=e.highlightedDatum,d=e.crosshairs.xLine;if(d.enabled&&null!=s){a.y1=i.range[0],a.y2=i.range[1],a.x1=a.x2=0,a.stroke=d.stroke,a.strokeWidth=d.strokeWidth||1,a.lineCap="round"===d.lineCap||"square"===d.lineCap?d.lineCap:void 0;var h=d.lineDash;a.lineDash=Array.isArray(h)?h:getLineDash(a.lineCap,d.lineDash),a.translationX=s.point.x}else a.strokeWidth=0},r.prototype.updateYCrosshairLine=function(){var e=this,i=e.xScale,a=e.yCrosshairLine,s=e.highlightedDatum,d=e.crosshairs.yLine;if(d.enabled&&null!=s){a.x1=i.range[0],a.x2=i.range[1],a.y1=a.y2=0,a.stroke=d.stroke,a.strokeWidth=d.strokeWidth||1,a.lineCap="round"===d.lineCap||"square"===d.lineCap?d.lineCap:void 0;var h=d.lineDash;a.lineDash=Array.isArray(h)?h:getLineDash(a.lineCap,d.lineDash),a.translationY=s.point.y}else a.strokeWidth=0},r.prototype.getTooltipHtml=function(e){var i=this.dataType,a=e.seriesDatum,s=a.y,d=a.x,_={content:this.formatNumericDatum(s),title:"array"===i||"object"===i?this.formatDatum(d):void 0};return this.tooltip.renderer?toTooltipHtml(this.tooltip.renderer({context:this.context,datum:a,yValue:s,xValue:d}),_):toTooltipHtml(_)},r.className="AreaSparkline",r}(Sparkline),__extends$9=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),SparklineMarker=function l(){this.enabled=!0,this.shape="circle",this.size=0,this.fill="rgb(124, 181, 236)",this.stroke="rgb(124, 181, 236)",this.strokeWidth=1,this.formatter=void 0},SparklineLine=function l(){this.stroke="rgb(124, 181, 236)",this.strokeWidth=1},SparklineCrosshairs=function l(){this.xLine={enabled:!0,stroke:"rgba(0,0,0, 0.54)",strokeWidth:1,lineDash:"solid",lineCap:void 0},this.yLine={enabled:!1,stroke:"rgba(0,0,0, 0.54)",strokeWidth:1,lineDash:"solid",lineCap:void 0}},LineSparkline=function(l){function r(){var e=l.call(this)||this;return e.linePath=new Path,e.xCrosshairLine=new Line,e.yCrosshairLine=new Line,e.lineSparklineGroup=new Group,e.markers=new Group,e.markerSelection=Selection.select(e.markers).selectAll(),e.markerSelectionData=[],e.marker=new SparklineMarker,e.line=new SparklineLine,e.crosshairs=new SparklineCrosshairs,e.rootGroup.append(e.lineSparklineGroup),e.lineSparklineGroup.append([e.linePath,e.xCrosshairLine,e.yCrosshairLine,e.markers]),e}return __extends$9(r,l),r.prototype.getNodeData=function(){return this.markerSelectionData},r.prototype.onMarkerShapeChange=function(){this.markerSelection=this.markerSelection.setData([]),this.markerSelection.exit.remove(),this.scheduleLayout()},r.prototype.update=function(){var e=this.generateNodeData();!e||(this.markerSelectionData=e,this.updateSelection(e),this.updateNodes(),this.updateLine())},r.prototype.updateYScaleDomain=function(){var a=this.yScale,s=extent(this.yData,isNumber),d=0,h=1;if(void 0!==s&&(d=this.min=s[0],h=this.max=s[1]),d===h){var v=Math.abs(.01*d);d-=v,h+=v}a.domain=[d,h]},r.prototype.generateNodeData=function(){var e=this,a=e.yData,s=e.xData,d=e.xScale,h=e.yScale;if(e.data){for(var v=d instanceof BandScale?d.bandwidth/2:0,_=[],y=0;y<a.length;y++){var m=a[y],E=s[y];if(null!=m){var w=d.convert(E)+v,S=h.convert(m);_.push({seriesDatum:{x:E,y:m},point:{x:w,y:S}})}}return _}},r.prototype.updateSelection=function(e){var a=getMarker(this.marker.shape),s=this.markerSelection.setData(e),d=s.enter.append(a);s.exit.remove(),this.markerSelection=s.merge(d)},r.prototype.updateNodes=function(){var e=this,i=this,a=i.highlightedDatum,s=i.highlightStyle,d=i.marker,h=s.size,v=s.fill,_=s.stroke,y=s.strokeWidth,m=d.formatter;this.markerSelection.each(function(E,w,S){var L,D=w===a,T=D&&void 0!==v?v:d.fill,b=D&&void 0!==_?_:d.stroke,M=D&&void 0!==y?y:d.strokeWidth,A=D&&void 0!==h?h:d.size,N=w.seriesDatum,G=w.point;m&&(L=m({datum:w,xValue:N.x,yValue:N.y,min:N.y===e.min,max:N.y===e.max,first:0===S,last:S===e.markerSelectionData.length-1,fill:T,stroke:b,strokeWidth:M,size:A,highlighted:D})),E.size=L&&null!=L.size?L.size:A,E.fill=L&&null!=L.fill?L.fill:T,E.stroke=L&&null!=L.stroke?L.stroke:b,E.strokeWidth=L&&null!=L.strokeWidth?L.strokeWidth:M,E.translationX=G.x,E.translationY=G.y,E.visible=L&&null!=L.enabled?L.enabled:d.enabled&&E.size>0})},r.prototype.updateLine=function(){var e=this,i=e.linePath,a=e.yData,s=e.xData,d=e.xScale,h=e.yScale,v=e.line;if(!(a.length<2)){var _=i.path,y=a.length,m=d instanceof BandScale?d.bandwidth/2:0,E=!0;_.clear();for(var w=0;w<y;w++){var D=a[w],T=d.convert(s[w])+m,b=h.convert(D);null==D?E=!0:E?(_.moveTo(T,b),E=!1):_.lineTo(T,b)}i.fill=void 0,i.stroke=v.stroke,i.strokeWidth=v.strokeWidth}},r.prototype.updateXCrosshairLine=function(){var e=this,i=e.yScale,a=e.xCrosshairLine,s=e.highlightedDatum,d=e.crosshairs.xLine;if(d.enabled&&null!=s){a.y1=i.range[0],a.y2=i.range[1],a.x1=a.x2=0,a.stroke=d.stroke,a.strokeWidth=d.strokeWidth||1,a.lineCap="round"===d.lineCap||"square"===d.lineCap?d.lineCap:void 0;var h=d.lineDash;a.lineDash=Array.isArray(h)?h:getLineDash(a.lineCap,d.lineDash),a.translationX=s.point.x}else a.strokeWidth=0},r.prototype.updateYCrosshairLine=function(){var e=this,i=e.xScale,a=e.yCrosshairLine,s=e.highlightedDatum,d=e.crosshairs.yLine;if(d.enabled&&null!=s){a.x1=i.range[0],a.x2=i.range[1],a.y1=a.y2=0,a.stroke=d.stroke,a.strokeWidth=d.strokeWidth||1,a.lineCap="round"===d.lineCap||"square"===d.lineCap?d.lineCap:void 0;var h=d.lineDash;a.lineDash=Array.isArray(h)?h:getLineDash(a.lineCap,d.lineDash),a.translationY=s.point.y}else a.strokeWidth=0},r.prototype.getTooltipHtml=function(e){var i=this.dataType,a=e.seriesDatum,s=a.y,d=a.x,_={content:this.formatNumericDatum(s),title:"array"===i||"object"===i?this.formatDatum(d):void 0};return this.tooltip.renderer?toTooltipHtml(this.tooltip.renderer({context:this.context,datum:a,yValue:s,xValue:d}),_):toTooltipHtml(_)},r.className="LineSparkline",r}(Sparkline),__extends$8=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Rectangle=function(l){function r(){var e=null!==l&&l.apply(this,arguments)||this;return e._x=0,e._y=0,e._width=0,e._height=0,e._crisp=!1,e}return __extends$8(r,l),Object.defineProperty(r.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"width",{get:function(){return this._width},set:function(e){this._width!==e&&(this._width=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"height",{get:function(){return this._height},set:function(e){this._height!==e&&(this._height=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"crisp",{get:function(){return this._crisp},set:function(e){this._crisp!==e&&(this._crisp=e,this.dirty=!0)},enumerable:!0,configurable:!0}),r.prototype.isPointInStroke=function(e,i){return!1},r.prototype.isPointInPath=function(e,i){return!1},r.prototype.render=function(e){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e);var i=this,a=i.x,s=i.y,d=i.width,h=i.height,v=i.crisp;if(e.beginPath(),v){var y=this.alignment,m=this.align;e.rect(m(y,a),m(y,s),m(y,a,d),m(y,s,h))}else e.rect(a,s,d,h);this.fillStroke(e),this.dirty=!1},r.className="Column",r}(Shape),__extends$7=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();function getFont$1(l,r,e,i){return[e||"",i||"",l+"px",r].join(" ").trim()}!function(l){function r(){var e=null!==l&&l.apply(this,arguments)||this;return e._x=0,e._y=0,e.lineBreakRegex=/\r?\n/g,e.lines=[],e._text="",e._dirtyFont=!0,e._fontSize=10,e._fontFamily="sans-serif",e._textAlign=r.defaultStyles.textAlign,e._textBaseline=r.defaultStyles.textBaseline,e._lineHeight=14,e}__extends$7(r,l),Object.defineProperty(r.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.dirty=!0)},enumerable:!0,configurable:!0}),r.prototype.splitText=function(){this.lines=this._text.split(this.lineBreakRegex)},Object.defineProperty(r.prototype,"text",{get:function(){return this._text},set:function(e){var i=String(e);this._text!==i&&(this._text=i,this.splitText(),this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"font",{get:function(){return this.dirtyFont&&(this.dirtyFont=!1,this._font=getFont$1(this.fontSize,this.fontFamily,this.fontStyle,this.fontWeight)),this._font},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"dirtyFont",{get:function(){return this._dirtyFont},set:function(e){this._dirtyFont!==e&&(this._dirtyFont=e,e&&(this.dirty=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(e){this._fontStyle!==e&&(this._fontStyle=e,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(e){this._fontWeight!==e&&(this._fontWeight=e,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"fontSize",{get:function(){return this._fontSize},set:function(e){isFinite(e)||(e=10),this._fontSize!==e&&(this._fontSize=e,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(e){this._fontFamily!==e&&(this._fontFamily=e,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"textAlign",{get:function(){return this._textAlign},set:function(e){this._textAlign!==e&&(this._textAlign=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(e){this._textBaseline!==e&&(this._textBaseline=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(e){this._lineHeight!==e&&(this._lineHeight=e,this.dirty=!0)},enumerable:!0,configurable:!0}),r.prototype.computeBBox=function(){return HdpiCanvas.has.textMetrics?this.getPreciseBBox():this.getApproximateBBox()},r.prototype.getPreciseBBox=function(){var e=HdpiCanvas.measureText(this.text,this.font,this.textBaseline,this.textAlign);return new BBox(this.x-e.actualBoundingBoxLeft,this.y-e.actualBoundingBoxAscent,e.width,e.actualBoundingBoxAscent+e.actualBoundingBoxDescent)},r.prototype.getApproximateBBox=function(){var e=HdpiCanvas.getTextSize(this.text,this.font),a=this.x,s=this.y;switch(this.textAlign){case"end":case"right":a-=e.width;break;case"center":a-=e.width/2}switch(this.textBaseline){case"alphabetic":s-=.7*e.height;break;case"middle":s-=.45*e.height;break;case"ideographic":case"bottom":s-=e.height;break;case"hanging":s-=.2*e.height}return new BBox(a,s,e.width,e.height)},r.prototype.isPointInPath=function(e,i){var a=this.transformPoint(e,i),s=this.computeBBox();return!!s&&s.containsPoint(a.x,a.y)},r.prototype.isPointInStroke=function(e,i){return!1},r.prototype.render=function(e){if(this.lines.length&&this.scene){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e);var i=this,a=i.fill,s=i.stroke,d=i.strokeWidth;e.font=this.font,e.textAlign=this.textAlign,e.textBaseline=this.textBaseline;var h=this.scene.canvas.pixelRatio||1,v=e.globalAlpha;if(a){e.fillStyle=a,e.globalAlpha=v*this.opacity*this.fillOpacity;var _=this,y=_.fillShadow,m=_.text,E=_.x,w=_.y;y&&y.enabled&&(e.shadowColor=y.color,e.shadowOffsetX=y.xOffset*h,e.shadowOffsetY=y.yOffset*h,e.shadowBlur=y.blur*h),e.fillText(m,E,w)}if(s&&d){e.strokeStyle=s,e.lineWidth=d,e.globalAlpha=v*this.opacity*this.strokeOpacity;var S=this,D=S.lineDash,T=S.lineDashOffset,b=S.lineCap,M=S.lineJoin,A=S.strokeShadow;m=S.text,E=S.x,w=S.y,D&&e.setLineDash(D),T&&(e.lineDashOffset=T),b&&(e.lineCap=b),M&&(e.lineJoin=M),A&&A.enabled&&(e.shadowColor=A.color,e.shadowOffsetX=A.xOffset*h,e.shadowOffsetY=A.yOffset*h,e.shadowBlur=A.blur*h),e.strokeText(m,E,w)}this.dirty=!1}},r.className="Text",r.defaultStyles=chainObjects(Shape.defaultStyles,{textAlign:"start",fontStyle:void 0,fontWeight:void 0,fontSize:10,fontFamily:"sans-serif",textBaseline:"alphabetic"})}(Shape);var __extends$6=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__decorate$2=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},Label=function(l){function r(){var e=l.call(this)||this;return e.enabled=!0,e.fontSize=8,e.fontFamily="Verdana, sans-serif",e.color="rgba(70, 70, 70, 1)",e}return __extends$6(r,l),r.prototype.getFont=function(){return getFont$1(this.fontSize,this.fontFamily,this.fontStyle,this.fontWeight)},__decorate$2([reactive("change","dataChange")],r.prototype,"enabled",void 0),__decorate$2([reactive("change")],r.prototype,"fontSize",void 0),__decorate$2([reactive("change")],r.prototype,"fontFamily",void 0),__decorate$2([reactive("change")],r.prototype,"fontStyle",void 0),__decorate$2([reactive("change")],r.prototype,"fontWeight",void 0),__decorate$2([reactive("change")],r.prototype,"color",void 0),r}(Observable),__extends$5=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Text=function(l){function r(){var e=null!==l&&l.apply(this,arguments)||this;return e._x=0,e._y=0,e.lineBreakRegex=/\r?\n/g,e.lines=[],e._text="",e._dirtyFont=!0,e._fontSize=10,e._fontFamily="sans-serif",e._textAlign=r.defaultStyles.textAlign,e._textBaseline=r.defaultStyles.textBaseline,e._lineHeight=14,e}return __extends$5(r,l),Object.defineProperty(r.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.dirty=!0)},enumerable:!0,configurable:!0}),r.prototype.splitText=function(){this.lines=this._text.split(this.lineBreakRegex)},Object.defineProperty(r.prototype,"text",{get:function(){return this._text},set:function(e){var i=String(e);this._text!==i&&(this._text=i,this.splitText(),this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"font",{get:function(){return this.dirtyFont&&(this.dirtyFont=!1,this._font=getFont(this.fontSize,this.fontFamily,this.fontStyle,this.fontWeight)),this._font},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"dirtyFont",{get:function(){return this._dirtyFont},set:function(e){this._dirtyFont!==e&&(this._dirtyFont=e,e&&(this.dirty=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(e){this._fontStyle!==e&&(this._fontStyle=e,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(e){this._fontWeight!==e&&(this._fontWeight=e,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"fontSize",{get:function(){return this._fontSize},set:function(e){isFinite(e)||(e=10),this._fontSize!==e&&(this._fontSize=e,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(e){this._fontFamily!==e&&(this._fontFamily=e,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"textAlign",{get:function(){return this._textAlign},set:function(e){this._textAlign!==e&&(this._textAlign=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(e){this._textBaseline!==e&&(this._textBaseline=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(e){this._lineHeight!==e&&(this._lineHeight=e,this.dirty=!0)},enumerable:!0,configurable:!0}),r.prototype.computeBBox=function(){return HdpiCanvas.has.textMetrics?this.getPreciseBBox():this.getApproximateBBox()},r.prototype.getPreciseBBox=function(){var e=HdpiCanvas.measureText(this.text,this.font,this.textBaseline,this.textAlign);return new BBox(this.x-e.actualBoundingBoxLeft,this.y-e.actualBoundingBoxAscent,e.width,e.actualBoundingBoxAscent+e.actualBoundingBoxDescent)},r.prototype.getApproximateBBox=function(){var e=HdpiCanvas.getTextSize(this.text,this.font),a=this.x,s=this.y;switch(this.textAlign){case"end":case"right":a-=e.width;break;case"center":a-=e.width/2}switch(this.textBaseline){case"alphabetic":s-=.7*e.height;break;case"middle":s-=.45*e.height;break;case"ideographic":case"bottom":s-=e.height;break;case"hanging":s-=.2*e.height}return new BBox(a,s,e.width,e.height)},r.prototype.isPointInPath=function(e,i){var a=this.transformPoint(e,i),s=this.computeBBox();return!!s&&s.containsPoint(a.x,a.y)},r.prototype.isPointInStroke=function(e,i){return!1},r.prototype.render=function(e){if(this.lines.length&&this.scene){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e);var i=this,a=i.fill,s=i.stroke,d=i.strokeWidth;e.font=this.font,e.textAlign=this.textAlign,e.textBaseline=this.textBaseline;var h=this.scene.canvas.pixelRatio||1,v=e.globalAlpha;if(a){e.fillStyle=a,e.globalAlpha=v*this.opacity*this.fillOpacity;var _=this,y=_.fillShadow,m=_.text,E=_.x,w=_.y;y&&y.enabled&&(e.shadowColor=y.color,e.shadowOffsetX=y.xOffset*h,e.shadowOffsetY=y.yOffset*h,e.shadowBlur=y.blur*h),e.fillText(m,E,w)}if(s&&d){e.strokeStyle=s,e.lineWidth=d,e.globalAlpha=v*this.opacity*this.strokeOpacity;var S=this,D=S.lineDash,T=S.lineDashOffset,b=S.lineCap,M=S.lineJoin,A=S.strokeShadow;m=S.text,E=S.x,w=S.y,D&&e.setLineDash(D),T&&(e.lineDashOffset=T),b&&(e.lineCap=b),M&&(e.lineJoin=M),A&&A.enabled&&(e.shadowColor=A.color,e.shadowOffsetX=A.xOffset*h,e.shadowOffsetY=A.yOffset*h,e.shadowBlur=A.blur*h),e.strokeText(m,E,w)}this.dirty=!1}},r.className="Text",r.defaultStyles=chainObjects(Shape.defaultStyles,{textAlign:"start",fontStyle:void 0,fontWeight:void 0,fontSize:10,fontFamily:"sans-serif",textBaseline:"alphabetic"}),r}(Shape);function getFont(l,r,e,i){return[e||"",i||"",l+"px",r].join(" ").trim()}var __extends$4=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),BarColumnNodeTag=(()=>(function(l){l[l.Rect=0]="Rect",l[l.Label=1]="Label"}(BarColumnNodeTag||(BarColumnNodeTag={})),BarColumnNodeTag))(),BarColumnLabelPlacement=(()=>(function(l){l.InsideBase="insideBase",l.InsideEnd="insideEnd",l.Center="center",l.OutsideEnd="outsideEnd"}(BarColumnLabelPlacement||(BarColumnLabelPlacement={})),BarColumnLabelPlacement))(),BarColumnLabel=function(l){function r(){var e=null!==l&&l.apply(this,arguments)||this;return e.formatter=void 0,e.placement=BarColumnLabelPlacement.InsideEnd,e}return __extends$4(r,l),r}(Label),BarColumnSparkline=function(l){function r(){var e=l.call(this)||this;return e.fill="rgb(124, 181, 236)",e.stroke="silver",e.strokeWidth=0,e.paddingInner=.1,e.paddingOuter=.2,e.valueAxisDomain=void 0,e.formatter=void 0,e.axisLine=new Line,e.bandWidth=0,e.sparklineGroup=new Group,e.rectGroup=new Group,e.labelGroup=new Group,e.rectSelection=Selection.select(e.rectGroup).selectAll(),e.labelSelection=Selection.select(e.labelGroup).selectAll(),e.nodeSelectionData=[],e.label=new BarColumnLabel,e.rootGroup.append(e.sparklineGroup),e.sparklineGroup.append([e.rectGroup,e.axisLine,e.labelGroup]),e.axisLine.lineCap="round",e.label.enabled=!1,e}return __extends$4(r,l),r.prototype.getNodeData=function(){return this.nodeSelectionData},r.prototype.update=function(){this.updateSelections(),this.updateNodes()},r.prototype.updateSelections=function(){var e=this.generateNodeData();!e||(this.nodeSelectionData=e,this.updateRectSelection(e),this.updateLabelSelection(e))},r.prototype.updateNodes=function(){this.updateRectNodes(),this.updateLabelNodes()},r.prototype.calculateStep=function(e){var i,s=this,d=s.xScale,h=s.paddingInner,v=s.paddingOuter,m=(d.domain[1]-d.domain[0])/((null===(i=s.smallestInterval)||void 0===i?void 0:i.x)??1)+1,w=Math.min(m,50);return e/Math.max(1,2*v+(w-1)*h+w)},r.prototype.updateYScaleDomain=function(){var e=this,i=e.yScale,s=e.valueAxisDomain,d=extent(e.yData,isNumber),h=0,v=1;void 0!==d&&(h=this.min=d[0],v=this.max=d[1]),h=h<0?h:0,v=v<0?0:v,s&&(s[1]<v&&(s[1]=v),s[0]>h&&(s[0]=h)),i.domain=s||[h,v]},r.prototype.updateRectSelection=function(e){var i=this.rectSelection.setData(e),a=i.enter.append(Rectangle);i.exit.remove(),this.rectSelection=i.merge(a)},r.prototype.updateRectNodes=function(){var e=this,i=this,a=i.highlightedDatum,s=i.formatter,d=i.fill,h=i.stroke,v=i.strokeWidth,_=this.highlightStyle,y=_.fill,m=_.stroke,E=_.strokeWidth;this.rectSelection.each(function(w,S,D){var L,T=S===a,b=T&&void 0!==y?y:d,M=T&&void 0!==m?m:h,A=T&&void 0!==E?E:v,N=S.x,G=S.y,k=S.width,K=S.height,$=S.seriesDatum;s&&(L=s({datum:S,xValue:$.x,yValue:$.y,width:k,height:K,min:$.y===e.min,max:$.y===e.max,first:0===D,last:D===e.nodeSelectionData.length-1,fill:b,stroke:M,strokeWidth:A,highlighted:T})),w.fill=L&&L.fill||b,w.stroke=L&&L.stroke||M,w.strokeWidth=L&&L.strokeWidth||A,w.x=w.y=0,w.width=k,w.height=K,w.visible=w.height>0,w.translationX=N,w.translationY=G})},r.prototype.updateLabelSelection=function(e){var i=this.labelSelection.setData(e),a=i.enter.append(Text).each(function(s){s.tag=BarColumnNodeTag.Label,s.pointerEvents=PointerEvents.None});i.exit.remove(),this.labelSelection=i.merge(a)},r.prototype.updateLabelNodes=function(){var e=this.label,i=e.enabled,a=e.fontStyle,s=e.fontWeight,d=e.fontSize,h=e.fontFamily,v=e.color;this.labelSelection.each(function(_,y){var m=y.label;m&&i?(_.fontStyle=a,_.fontWeight=s,_.fontSize=d,_.fontFamily=h,_.textAlign=m.textAlign,_.textBaseline=m.textBaseline,_.text=m.text,_.x=m.x,_.y=m.y,_.fill=v,_.visible=!0):_.visible=!1})},r.prototype.getTooltipHtml=function(e){var i=this.dataType,a=e.seriesDatum,s=a.y,d=a.x,_={content:this.formatNumericDatum(s),title:"array"===i||"object"===i?this.formatDatum(d):void 0};return this.tooltip.renderer?toTooltipHtml(this.tooltip.renderer({context:this.context,datum:a,yValue:s,xValue:d}),_):toTooltipHtml(_)},r.prototype.formatLabelValue=function(e){return e.toFixed(e%1!=0?1:0)},r}(Sparkline),__extends$3=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),BarSparkline=function(l){function r(){return null!==l&&l.apply(this,arguments)||this}return __extends$3(r,l),r.prototype.updateYScaleRange=function(){this.yScale.range=[0,this.seriesRect.width]},r.prototype.updateXScaleRange=function(){var e=this,i=e.xScale,a=e.seriesRect,s=e.paddingOuter,d=e.paddingInner;if(i instanceof BandScale)i.range=[0,a.height],i.paddingInner=d,i.paddingOuter=s;else{var h=this.calculateStep(a.height),v=h*s;this.bandWidth=h*(1-d),i.range=[v,a.height-v-this.bandWidth]}},r.prototype.updateAxisLine=function(){var e=this,i=e.yScale,a=e.axis,s=e.axisLine,d=e.seriesRect,h=a.strokeWidth;s.x1=0,s.x2=0,s.y1=0,s.y2=d.height,s.stroke=a.stroke,s.strokeWidth=h+(h%2==1?1:0);var v=i.convert(0);s.translationX=v},r.prototype.generateNodeData=function(){var e=this,a=e.yData,s=e.xData,d=e.xScale,h=e.yScale,v=e.fill,_=e.stroke,y=e.strokeWidth,m=e.label;if(e.data){for(var E=m.fontStyle,w=m.fontWeight,S=m.fontSize,D=m.fontFamily,T=m.color,b=m.formatter,M=m.placement,A=[],L=h.convert(0),N=0,G=a.length;N<G;N++){var k=a[N],K=s[N],$=void 0===k;$&&(k=0);var oe,j=d.convert(K),Y=Math.min(h.convert(k),L),ie=Math.max(h.convert(k),L),re=d instanceof BandScale?d.bandwidth:this.bandWidth,J=ie-Y,Q={x:L,y:j};oe=b?b({value:k}):void 0!==k&&isNumber(k)?this.formatLabelValue(k):"";var fe=j+re/2,ge=void 0,pe=void 0,z=void 0!==k&&k>=0;if(M===BarColumnLabelPlacement.Center)ge=Y+J/2,pe="center";else if(M===BarColumnLabelPlacement.OutsideEnd)ge=Y+(z?J+4:-4),pe=z?"start":"end";else if(M===BarColumnLabelPlacement.InsideEnd){ge=Y+(z?J-4:4),pe=z?"end":"start";var ne=HdpiCanvas.getTextSize(oe,D).width||20;(z&&ge<L+ne||!z&&ge>L-ne)&&(ge=L+4*(z?1:-1),pe=z?"start":"end")}else ge=L+4*(z?1:-1),pe=z?"start":"end";A.push({x:Y,y:j,width:J,height:re,fill:v,stroke:_,strokeWidth:y,seriesDatum:{x:K,y:$?void 0:k},point:Q,label:{x:ge,y:fe,text:oe,fontStyle:E,fontWeight:w,fontSize:S,fontFamily:D,textAlign:pe,textBaseline:"middle",fill:T}})}return A}},r.prototype.getDistance=function(e,i){return Math.abs(e.y-i.y)},r.className="BarSparkline",r}(BarColumnSparkline),__extends$2=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),ColumnSparkline=function(l){function r(){return null!==l&&l.apply(this,arguments)||this}return __extends$2(r,l),r.prototype.updateYScaleRange=function(){this.yScale.range=[this.seriesRect.height,0]},r.prototype.updateXScaleRange=function(){var e=this,i=e.xScale,a=e.seriesRect,s=e.paddingOuter,d=e.paddingInner;if(i instanceof BandScale)i.range=[0,a.width],i.paddingInner=d,i.paddingOuter=s;else{var h=this.calculateStep(a.width),v=h*s;this.bandWidth=h*(1-d),i.range=[v,a.width-v-this.bandWidth]}},r.prototype.updateAxisLine=function(){var e=this,i=e.yScale,a=e.axis,s=e.axisLine,d=e.seriesRect,h=a.strokeWidth;s.x1=0,s.x2=d.width,s.y1=0,s.y2=0,s.stroke=a.stroke,s.strokeWidth=h+(h%2==1?1:0);var v=i.convert(0);s.translationY=v},r.prototype.generateNodeData=function(){var e=this,a=e.yData,s=e.xData,d=e.xScale,h=e.yScale,v=e.fill,_=e.stroke,y=e.strokeWidth,m=e.label;if(e.data){for(var E=m.fontStyle,w=m.fontWeight,S=m.fontSize,D=m.fontFamily,T=m.color,b=m.formatter,M=m.placement,A=[],L=h.convert(0),N=0,G=a.length;N<G;N++){var k=a[N],K=s[N],$=void 0===k;$&&(k=0);var oe,j=Math.min(h.convert(k),L),Y=d.convert(K),ie=Math.max(h.convert(k),L),re=d instanceof BandScale?d.bandwidth:this.bandWidth,J=ie-j,Q={x:Y+re/2,y:L};oe=b?b({value:k}):void 0!==k&&isNumber(k)?this.formatLabelValue(k):"";var fe=Y+re/2,ge=void 0,pe=void 0,z=void 0!==k&&k>=0;if(M===BarColumnLabelPlacement.Center)ge=j+J/2,pe="middle";else if(M===BarColumnLabelPlacement.OutsideEnd)ge=j+(z?-2:J+2),pe=z?"bottom":"top";else if(M===BarColumnLabelPlacement.InsideEnd){ge=j+(z?2:J-2),pe=z?"top":"bottom";var ne=HdpiCanvas.getTextSize(oe,D).height||10;(z&&ge>L-ne||!z&&ge<L+ne)&&(ge=L+2*(z?-1:1),pe=z?"bottom":"top")}else ge=L+2*(z?-1:1),pe=z?"bottom":"top";A.push({x:Y,y:j,width:re,height:J,fill:v,stroke:_,strokeWidth:y,seriesDatum:{x:K,y:$?void 0:k},point:Q,label:{x:fe,y:ge,text:oe,fontStyle:E,fontWeight:w,fontSize:S,fontFamily:D,textAlign:"center",textBaseline:pe,fill:T}})}return A}},r.className="ColumnSparkline",r}(BarColumnSparkline),AgSparkline=function(){function l(){}return l.create=function(r,e){var i=getSparklineInstance((r=Object.create(r)).type);return e&&(i.tooltip=e),initSparkline(i,r),initSparklineByType(i,r),r.data&&(i.data=r.data),i},l}();function getSparklineInstance(l){switch(void 0===l&&(l="line"),l){case"column":return new ColumnSparkline;case"bar":return new BarSparkline;case"area":return new AreaSparkline;default:return new LineSparkline}}function initSparklineByType(l,r){switch(r.type){case"bar":case"column":initBarColumnSparkline(l,r);break;case"area":initAreaSparkline(l,r);break;default:initLineSparkline(l,r)}}function initSparkline(l,r){setValueIfPropertyExists(l,"context",r.context,r),setValueIfPropertyExists(l,"width",r.width,r),setValueIfPropertyExists(l,"height",r.height,r),setValueIfPropertyExists(l,"container",r.container,r),setValueIfPropertyExists(l,"xKey",r.xKey,r),setValueIfPropertyExists(l,"yKey",r.yKey,r),r.padding&&initPaddingOptions(l.padding,r.padding),r.axis&&initAxisOptions(l.axis,r.axis),r.highlightStyle&&initHighlightStyleOptions(l.highlightStyle,r.highlightStyle),r.tooltip&&l.tooltip&&initTooltipOptions(l.tooltip,r.tooltip)}function initLineSparkline(l,r){r.marker&&initMarkerOptions(l.marker,r.marker),r.line&&initLineOptions(l.line,r.line),r.crosshairs&&initCrosshairsOptions(l.crosshairs,r.crosshairs)}function initAreaSparkline(l,r){setValueIfPropertyExists(l,"fill",r.fill,r),r.marker&&initMarkerOptions(l.marker,r.marker),r.line&&initLineOptions(l.line,r.line),r.crosshairs&&initCrosshairsOptions(l.crosshairs,r.crosshairs)}function initBarColumnSparkline(l,r){setValueIfPropertyExists(l,"valueAxisDomain",r.valueAxisDomain,r),setValueIfPropertyExists(l,"fill",r.fill,r),setValueIfPropertyExists(l,"stroke",r.stroke,r),setValueIfPropertyExists(l,"strokeWidth",r.strokeWidth,r),setValueIfPropertyExists(l,"paddingInner",r.paddingInner,r),setValueIfPropertyExists(l,"paddingOuter",r.paddingOuter,r),setValueIfPropertyExists(l,"formatter",r.formatter,r),r.label&&initLabelOptions(l.label,r.label)}function initPaddingOptions(l,r){setValueIfPropertyExists(l,"top",r.top,r),setValueIfPropertyExists(l,"right",r.right,r),setValueIfPropertyExists(l,"bottom",r.bottom,r),setValueIfPropertyExists(l,"left",r.left,r)}function initMarkerOptions(l,r){setValueIfPropertyExists(l,"enabled",r.enabled,r),setValueIfPropertyExists(l,"size",r.size,r),setValueIfPropertyExists(l,"shape",r.shape,r),setValueIfPropertyExists(l,"fill",r.fill,r),setValueIfPropertyExists(l,"stroke",r.stroke,r),setValueIfPropertyExists(l,"strokeWidth",r.strokeWidth,r),setValueIfPropertyExists(l,"formatter",r.formatter,r)}function initLabelOptions(l,r){setValueIfPropertyExists(l,"enabled",r.enabled,r),setValueIfPropertyExists(l,"fontStyle",r.fontStyle,r),setValueIfPropertyExists(l,"fontWeight",r.fontWeight,r),setValueIfPropertyExists(l,"fontSize",r.fontSize,r),setValueIfPropertyExists(l,"fontFamily",r.fontFamily,r),setValueIfPropertyExists(l,"textAlign",r.textAlign,r),setValueIfPropertyExists(l,"textBaseline",r.textBaseline,r),setValueIfPropertyExists(l,"color",r.color,r),setValueIfPropertyExists(l,"formatter",r.formatter,r),setValueIfPropertyExists(l,"placement",r.placement,r)}function initLineOptions(l,r){setValueIfPropertyExists(l,"stroke",r.stroke,r),setValueIfPropertyExists(l,"strokeWidth",r.strokeWidth,r)}function initAxisOptions(l,r){setValueIfPropertyExists(l,"type",r.type,r),setValueIfPropertyExists(l,"stroke",r.stroke,r),setValueIfPropertyExists(l,"strokeWidth",r.strokeWidth,r)}function initHighlightStyleOptions(l,r){setValueIfPropertyExists(l,"fill",r.fill,r),setValueIfPropertyExists(l,"size",r.size,r),setValueIfPropertyExists(l,"stroke",r.stroke,r),setValueIfPropertyExists(l,"strokeWidth",r.strokeWidth,r)}function initTooltipOptions(l,r){setValueIfPropertyExists(l,"enabled",r.enabled,r),setValueIfPropertyExists(l,"container",r.container,r),setValueIfPropertyExists(l,"xOffset",r.xOffset,r),setValueIfPropertyExists(l,"yOffset",r.yOffset,r),setValueIfPropertyExists(l,"renderer",r.renderer,r)}function initCrosshairsOptions(l,r){l.xLine&&r.xLine&&initCrosshairLineOptions(l.xLine,r.xLine),l.yLine&&r.yLine&&initCrosshairLineOptions(l.yLine,r.yLine)}function initCrosshairLineOptions(l,r){setValueIfPropertyExists(l,"enabled",r.enabled,r),setValueIfPropertyExists(l,"stroke",r.stroke,r),setValueIfPropertyExists(l,"strokeWidth",r.strokeWidth,r),setValueIfPropertyExists(l,"lineDash",r.lineDash,r),setValueIfPropertyExists(l,"lineCap",r.lineCap,r)}var doOnceFlags={};function doOnce(l,r){doOnceFlags[r]||(l(),doOnceFlags[r]=!0)}var offsetValidator=function(l,r,e){if(isNumber(r))return!0;var i="AG Charts: "+l+" must be a number, the value you provided is not a valid number. Using the default of "+e+"px.";return doOnce(function(){return console.warn(i)},l+" not a number"),!1},validators={xOffset:offsetValidator,yOffset:offsetValidator};function setValueIfPropertyExists(l,r,e,i){if(r in i)if(r in l){var a=validators[r];(!a||a(r,e,l[r]))&&l[r]!==e&&(l[r]=e)}else console.warn("Property "+r+" does not exist on the target object.")}var __extends$1=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__assign=function(){return __assign=Object.assign||function(l){for(var r,e=1,i=arguments.length;e<i;e++)for(var a in r=arguments[e])Object.prototype.hasOwnProperty.call(r,a)&&(l[a]=r[a]);return l},__assign.apply(this,arguments)},__decorate$1=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},SparklineCellRenderer=function(l){function r(){return l.call(this,r.TEMPLATE)||this}return __extends$1(r,l),r.prototype.init=function(e){var i=this,a=!0,d=this.resizeObserverService.observeResize(this.getGui(),function(){var h=i.getGui(),v=h.clientWidth,_=h.clientHeight;if(0!==v&&0!==_)if(a){var y=__assign({data:e.value,width:v,height:_,context:{data:e.data}},e.sparklineOptions);i.sparkline=AgSparkline.create(y,i.sparklineTooltipSingleton.getSparklineTooltip()),i.eSparkline.appendChild(i.sparkline.canvasElement),a=!1}else i.sparkline.width=v,i.sparkline.height=_});this.addDestroyFunc(function(){return d()})},r.prototype.refresh=function(e){return!!this.sparkline&&(this.sparkline.data=e.value,!0)},r.prototype.destroy=function(){this.sparkline&&this.sparkline.destroy(),l.prototype.destroy.call(this)},r.TEMPLATE='<div class="ag-sparkline-wrapper">\n            <span ref="eSparkline"></span>\n        </div>',__decorate$1([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eSparkline")],r.prototype,"eSparkline",void 0),__decorate$1([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("resizeObserverService")],r.prototype,"resizeObserverService",void 0),__decorate$1([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("sparklineTooltipSingleton")],r.prototype,"sparklineTooltipSingleton",void 0),r}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends=function(){var l=function(r,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])})(r,e)};return function(r,e){function i(){this.constructor=r}l(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__decorate=function(l,r,e,i){var d,a=arguments.length,s=a<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,r,e,i);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(s=(a<3?d(s):a>3?d(r,e,s):d(r,e))||s);return a>3&&s&&Object.defineProperty(r,e,s),s},SparklineTooltipSingleton=function(l){function r(){return null!==l&&l.apply(this,arguments)||this}return __extends(r,l),r.prototype.postConstruct=function(){this.tooltip=new SparklineTooltip},r.prototype.getSparklineTooltip=function(){return this.tooltip},r.prototype.destroyTooltip=function(){this.tooltip&&this.tooltip.destroy()},__decorate([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],r.prototype,"postConstruct",null),__decorate([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FXL],r.prototype,"destroyTooltip",null),__decorate([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("sparklineTooltipSingleton")],r)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),SparklinesModule={moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.SparklinesModule,beans:[SparklineTooltipSingleton],userComponents:[{componentName:"agSparklineCellRenderer",componentClass:SparklineCellRenderer}],dependantModules:[EnterpriseCoreModule]},AllEnterpriseModules=[ClipboardModule,ColumnsToolPanelModule,ExcelExportModule,FiltersToolPanelModule,GridChartsModule,MasterDetailModule,MenuModule,MultiFilterModule,RangeSelectionModule,RichSelectModule,RowGroupingModule,ServerSideRowModelModule,SetFilterModule,SideBarModule,StatusBarModule,ViewportRowModelModule,SparklinesModule],AllModules=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.F$j.concat(AllEnterpriseModules);ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.registerModules(AllEnterpriseModules)}}]);