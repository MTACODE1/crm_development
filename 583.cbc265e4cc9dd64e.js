"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[583],{6583:(N,f,s)=>{s.r(f),s.d(f,{TaskListModule:()=>J});var x=s(4859),h=s(9549),k=s(7392),v=s(4385),T=s(4466),O=s(6298),C=s(2510),l=s(7340),p=s(4006),a=(()=>{return(e=a||(a={})).SETUP="setup",e.BOOK="book_keeping",e.VAT="vat",e.ANNUAL="annual_accounts",e.SELF="self_assessment",a;var e})(),b=s(7579),m=s(2722),t=s(4650),L=s(1683),M=s(3079),_=s(7495),y=s(6895),A=s(3238);function P(e,r){if(1&e&&(t.TgZ(0,"mat-option",7),t._uU(1),t.qZA()),2&e){const n=r.$implicit;t.Q6J("value",n.id),t.xp6(1),t.AsE(" ",null==n?null:n.name," ",null==n?null:n.surname," ")}}function Z(e,r){if(1&e&&(t.TgZ(0,"span",27),t._uU(1),t.qZA()),2&e){const n=t.oxw().$implicit;t.xp6(1),t.Oqu(n.date)}}function w(e,r){if(1&e){const n=t.EpF();t.ynx(0),t.TgZ(1,"div",15),t.NdJ("click",function(){const i=t.CHM(n),g=i.$implicit,c=i.index,d=t.oxw().index,u=t.oxw();return t.KtG(u.markCompleted(g,d,c))}),t.TgZ(2,"div",16)(3,"div",17)(4,"button",18),t._UZ(5,"mat-icon",19),t.qZA(),t.TgZ(6,"div",20)(7,"p"),t._uU(8),t.qZA(),t.YNc(9,Z,2,1,"span",21),t.qZA()()(),t.TgZ(10,"div",22),t._UZ(11,"img",23)(12,"img",24)(13,"img",25)(14,"img",26),t.qZA()(),t.BQk()}if(2&e){const n=r.$implicit,o=t.oxw().$implicit,i=t.oxw();t.xp6(1),t.MT6("flex flex-col border-b overflow-hidden priority_",o.color,"_",n.priority," cursor-pointer list-item"),t.Q6J("@myTrigger",i.state),t.xp6(4),t.Tol(n.completed?"text-primary":"text-hint"),t.Q6J("svgIcon","heroicons_outline:check-circle"),t.xp6(3),t.Oqu(n.text),t.xp6(1),t.Q6J("ngIf",n.date)}}function U(e,r){if(1&e&&(t.ynx(0),t.TgZ(1,"p"),t._uU(2,"No task Found !!!"),t.qZA(),t.BQk()),2&e){const n=t.oxw().$implicit;t.xp6(1),t.Gre("text-center mt-4 text-",n.color,"-800 text-lg font-bold opacity-50")}}function F(e,r){if(1&e&&(t.TgZ(0,"div",8)(1,"div",9)(2,"h1",10),t._uU(3),t.qZA(),t.TgZ(4,"div",11),t._UZ(5,"mat-icon",12),t.qZA()(),t.YNc(6,w,15,10,"ng-container",13),t.YNc(7,U,3,3,"ng-container",14),t.qZA()),2&e){const n=r.$implicit,o=t.oxw();t.xp6(3),t.Oqu(n.name),t.xp6(2),t.MT6("icon-size-18 opacity-25 text-",n.color,"-800 dark:text-",n.color,"-800"),t.xp6(1),t.Q6J("ngForOf",n.text),t.xp6(1),t.Q6J("ngIf",!n.text&&!o.isLoading)}}const S=[{path:"",component:(()=>{class e{constructor(n,o,i){this._fuseConfirmationService=n,this.taskService=o,this.userService=i,this.username=new p.NI,this.users=[{name:"All Users",id:"0"}],this.taskListArr=[{color:"gray",name:"Setup & Compliance",dataType:a.SETUP},{color:"yellow",name:"Bookkeeping",dataType:a.BOOK},{color:"orange",name:"VAT",dataType:a.VAT},{color:"pink",name:"Annual Accounts",dataType:a.ANNUAL},{color:"green",name:"Self Assessment",dataType:a.SELF}],this.isLoading=!0,this.destroyer$=new b.x}ngOnInit(){this.getTaskList(),this.getUserList()}ngOnDestroy(){this.destroyer$.next(),this.destroyer$.complete()}getTaskList(){this.taskService.getTaskList({}).pipe((0,m.R)(this.destroyer$)).subscribe(n=>{const o=n;Object.keys(o).forEach(i=>{this.taskListArr.map((g,c)=>{g.dataType===i&&(this.taskListArr[c].text=o[i].length?o[i].sort((d,u)=>d.priority>u.priority?1:-1):null,this.isLoading=!1)})})})}getUserList(){this.userService.getUserTable({client_status:1}).pipe((0,m.R)(this.destroyer$)).subscribe(o=>{this.users=o.rows,this.users.unshift({name:"All user",id:"0"}),this.username.setValue(this.users[0].id)})}shuffle(n,o,i){this.taskListArr[o].text.splice(i,1),this.taskListArr[o].text.push(n)}transform(n){return`translateY(${100*(n+1)}%)`}markCompleted(n,o,i){this._fuseConfirmationService.open({title:"Are you sure?",message:n.completed?`Mark <b>${n.text}</b> as uncompleted?`:`Mark <b>${n.text}</b> as completed ?`,dismissible:!0,actions:{cancel:{label:"No"},confirm:{label:"Yes",color:"warn"}}}).afterClosed().pipe((0,m.R)(this.destroyer$)).subscribe(c=>{"confirmed"===c&&(n.completed?(n.completed=!1,this.taskListArr[o].text.splice(i,1)):this.moveCompleted(n,o,i))})}moveCompleted(n,o,i){n.completed=!0,this.taskListArr[o].text.push(n)}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(L.R),t.Y36(M.a),t.Y36(_.K))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-task-list"]],decls:9,vars:3,consts:[[1,"flex","flex-col","px-6","pt-6"],["for","status",1,"text-xl"],["appearance","none","id","status",1,"w-36"],["disableOptionCentering","",1,"text-lg","text-gray-500",3,"formControl"],[3,"value",4,"ngFor","ngForOf"],[1,"flex","w-full","p-6","sm:p-6","flex-wrap","task-lists"],["class","flex-1 mx-2 bg-white rounded-md",4,"ngFor","ngForOf"],[3,"value"],[1,"flex-1","mx-2","bg-white","rounded-md"],[1,"relative","overflow-hidden"],[1,"mb-4","text-xl","font-bold","py-3","px-4","text-center"],[1,"absolute","bottom-0","right-0","w-18","h-18","-m-6"],["svgIcon","heroicons_outline:check-circle"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"click"],[1,"flex","flex-auto","flex-col","px-4","py-3","mb-4"],[1,"flex"],["mat-icon-button",""],[3,"svgIcon"],[1,"ml-2"],["class","text-sm",4,"ngIf"],[1,"items-center","justify-end","flex-wrap","icon-list","mb-2","px-3"],["src","assets/images/logo/logo.png","alt","logo",1,"h-auto","w-12"],["src","assets/images/logo/bespoke.png","alt","bespoke",1,"h-auto","w-8","mx-1"],["src","assets/images/logo/dext.png","alt","dext",1,"h-auto","w-9","mr-1"],["src","assets/images/logo/ltd.png","alt","ltd",1,"h-auto","w-8"],[1,"text-sm"]],template:function(n,o){1&n&&(t.TgZ(0,"div")(1,"div",0)(2,"label",1),t._uU(3,"Select User"),t.qZA(),t.TgZ(4,"mat-form-field",2)(5,"mat-select",3),t.YNc(6,P,2,3,"mat-option",4),t.qZA()()(),t.TgZ(7,"div",5),t.YNc(8,F,8,7,"div",6),t.qZA()()),2&n&&(t.xp6(5),t.Q6J("formControl",o.username),t.xp6(1),t.Q6J("ngForOf",o.users),t.xp6(2),t.Q6J("ngForOf",o.taskListArr))},dependencies:[y.sg,y.O5,p.JJ,p.oH,k.Hw,x.lW,h.KE,v.gD,A.ey],styles:[".task-lists[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content}.task-lists[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{box-shadow:0 10px 15px -3px #00000008,0 4px 6px -2px #0000000d}.task-lists[_ngcontent-%COMP%]   .priority_gray_low[_ngcontent-%COMP%]{background:rgba(128,128,128,.1490196078)}.task-lists[_ngcontent-%COMP%]   .priority_gray_high[_ngcontent-%COMP%]{background:rgba(128,128,128,.3607843137)}.task-lists[_ngcontent-%COMP%]   .priority_yellow_high[_ngcontent-%COMP%]{background:#E0D2C2}.task-lists[_ngcontent-%COMP%]   .priority_yellow_low[_ngcontent-%COMP%]{background:rgba(224,210,194,.3215686275)}.task-lists[_ngcontent-%COMP%]   .priority_orange_high[_ngcontent-%COMP%]{background:rgba(229,204,195,.7490196078)}.task-lists[_ngcontent-%COMP%]   .priority_orange_low[_ngcontent-%COMP%]{background:rgba(229,204,195,.2901960784)}.task-lists[_ngcontent-%COMP%]   .priority_pink_high[_ngcontent-%COMP%]{background:rgba(230,197,210,.7607843137)}.task-lists[_ngcontent-%COMP%]   .priority_pink_low[_ngcontent-%COMP%]{background:rgba(230,197,210,.3411764706)}.task-lists[_ngcontent-%COMP%]   .priority_green_high[_ngcontent-%COMP%]{background:rgba(196,216,204,.6117647059)}.task-lists[_ngcontent-%COMP%]   .priority_green_low[_ngcontent-%COMP%]{background:rgba(196,216,204,.2784313725)}.list-item[_ngcontent-%COMP%]:hover   .icon-list[_ngcontent-%COMP%]{display:flex!important}.icon-list[_ngcontent-%COMP%]{display:none}.text-pink-800[_ngcontent-%COMP%]{color:#9d174d}.text-orange-800[_ngcontent-%COMP%]{color:#9a3412}"],data:{animation:[(0,l.X$)("myTrigger",[(0,l.SB)("fadeInFlash",(0,l.oB)({opacity:"1"})),(0,l.eR)("void => *",[(0,l.oB)({opacity:"0",transform:"translateY(20px)"}),(0,l.jt)("500ms")])])]}}),e})()}];let $=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[C.Bz.forChild(S),C.Bz]}),e})(),J=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[T.m,k.Ps,O.vi,x.ot,h.lN,v.LD,$]}),e})()}}]);