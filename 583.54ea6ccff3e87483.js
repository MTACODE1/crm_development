"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[583],{6583:(J,u,s)=>{s.r(u),s.d(u,{TaskListModule:()=>S});var f=s(4859),x=s(9549),v=s(7392),h=s(4385),T=s(4466),O=s(6298),k=s(2510),l=s(7340),p=s(4006),r=(()=>{return(o=r||(r={})).SETUP="setup",o.BOOK="book_keeping",o.VAT="vat",o.ANNUAL="annual_accounts",o.SELF="self_assessment",r;var o})(),_=s(7579),y=s(2722),t=s(4650),M=s(1683),b=s(3079),C=s(6895),A=s(3238);function L(o,i){if(1&o&&(t.TgZ(0,"mat-option",7),t._uU(1),t.qZA()),2&o){const e=i.$implicit;t.Q6J("value",e.value),t.xp6(1),t.hij(" ",e.viewValue," ")}}function P(o,i){if(1&o&&(t.TgZ(0,"span",27),t._uU(1),t.qZA()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e.date)}}function Z(o,i){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",15),t.NdJ("click",function(){const a=t.CHM(e),g=a.$implicit,c=a.index,m=t.oxw().index,d=t.oxw();return t.KtG(d.markCompleted(g,m,c))}),t.TgZ(2,"div",16)(3,"div",17)(4,"button",18),t._UZ(5,"mat-icon",19),t.qZA(),t.TgZ(6,"div",20)(7,"p"),t._uU(8),t.qZA(),t.YNc(9,P,2,1,"span",21),t.qZA()()(),t.TgZ(10,"div",22),t._UZ(11,"img",23)(12,"img",24)(13,"img",25)(14,"img",26),t.qZA()(),t.BQk()}if(2&o){const e=i.$implicit,n=t.oxw().$implicit,a=t.oxw();t.xp6(1),t.MT6("flex flex-col border-b overflow-hidden priority_",n.color,"_",e.priority," cursor-pointer list-item"),t.Q6J("@myTrigger",a.state),t.xp6(4),t.Tol(e.completed?"text-primary":"text-hint"),t.Q6J("svgIcon","heroicons_outline:check-circle"),t.xp6(3),t.Oqu(e.text),t.xp6(1),t.Q6J("ngIf",e.date)}}function w(o,i){if(1&o&&(t.ynx(0),t.TgZ(1,"p"),t._uU(2,"No task Found !!!"),t.qZA(),t.BQk()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.Gre("text-center mt-4 text-",e.color,"-800 text-lg font-bold opacity-50")}}function F(o,i){if(1&o&&(t.TgZ(0,"div",8)(1,"div",9)(2,"h1",10),t._uU(3),t.qZA(),t.TgZ(4,"div",11),t._UZ(5,"mat-icon",12),t.qZA()(),t.YNc(6,Z,15,10,"ng-container",13),t.YNc(7,w,3,3,"ng-container",14),t.qZA()),2&o){const e=i.$implicit;t.xp6(3),t.Oqu(e.name),t.xp6(2),t.MT6("icon-size-18 opacity-25 text-",e.color,"-800 dark:text-",e.color,"-800"),t.xp6(1),t.Q6J("ngForOf",e.text),t.xp6(1),t.Q6J("ngIf",!e.text)}}const U=[{path:"",component:(()=>{class o{constructor(e,n){this._fuseConfirmationService=e,this.taskService=n,this.username=new p.NI,this.users=[{value:"1",viewValue:"All Users"},{value:"2",viewValue:"user 1"},{value:"3",viewValue:"user 2"},{value:"4",viewValue:"user 3"}],this.taskListArr=[{color:"gray",name:"Setup & Compliance",dataType:r.SETUP},{color:"yellow",name:"Bookkeeping",dataType:r.BOOK},{color:"orange",name:"VAT",dataType:r.VAT},{color:"pink",name:"Annual Accounts",dataType:r.ANNUAL},{color:"green",name:"Self Assessment",dataType:r.SELF}],this.destroyer$=new _.x}ngOnInit(){this.getTaskList(),this.username.setValue(this.users[0].value)}ngOnDestroy(){this.destroyer$.next(),this.destroyer$.complete()}getTaskList(){this.taskService.getTaskList({}).pipe((0,y.R)(this.destroyer$)).subscribe(e=>{const n=e;Object.keys(n).forEach(a=>{this.taskListArr.map((g,c)=>{g.dataType===a&&(this.taskListArr[c].text=n[a].length?n[a].sort((m,d)=>m.priority>d.priority?1:-1):null)})})})}shuffle(e,n,a){this.taskListArr[n].text.splice(a,1),this.taskListArr[n].text.push(e)}transform(e){return`translateY(${100*(e+1)}%)`}markCompleted(e,n,a){this._fuseConfirmationService.open({title:"Are you sure?",message:e.completed?`Mark <b>${e.text}</b> as uncompleted?`:`Mark <b>${e.text}</b> as completed ?`,dismissible:!0,actions:{cancel:{label:"No"},confirm:{label:"Yes",color:"warn"}}}).afterClosed().pipe((0,y.R)(this.destroyer$)).subscribe(c=>{"confirmed"===c&&(e.completed?(e.completed=!1,this.taskListArr[n].text.splice(a,1)):this.moveCompleted(e,n,a))})}moveCompleted(e,n,a){e.completed=!0,this.taskListArr[n].text.push(e)}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(M.R),t.Y36(b.a))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-task-list"]],decls:9,vars:3,consts:[[1,"flex","flex-col","px-6","pt-6"],["for","status",1,"text-xl"],["appearance","none","id","status",1,"w-36"],[1,"text-lg","text-gray-500",3,"formControl"],[3,"value",4,"ngFor","ngForOf"],[1,"flex","w-full","p-6","sm:p-6","flex-wrap","task-lists"],["class","flex-1 mx-2 bg-white rounded-md",4,"ngFor","ngForOf"],[3,"value"],[1,"flex-1","mx-2","bg-white","rounded-md"],[1,"relative","overflow-hidden"],[1,"mb-4","text-xl","font-bold","py-3","px-4","text-center"],[1,"absolute","bottom-0","right-0","w-18","h-18","-m-6"],["svgIcon","heroicons_outline:check-circle"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"click"],[1,"flex","flex-auto","flex-col","px-4","py-3","mb-4"],[1,"flex"],["mat-icon-button",""],[3,"svgIcon"],[1,"ml-2"],["class","text-sm",4,"ngIf"],[1,"items-center","justify-end","flex-wrap","icon-list","mb-2","px-3"],["src","assets/images/logo/logo.png","alt","logo",1,"h-auto","w-12"],["src","assets/images/logo/bespoke.png","alt","bespoke",1,"h-auto","w-8","mx-1"],["src","assets/images/logo/dext.png","alt","dext",1,"h-auto","w-9","mr-1"],["src","assets/images/logo/ltd.png","alt","ltd",1,"h-auto","w-8"],[1,"text-sm"]],template:function(e,n){1&e&&(t.TgZ(0,"div")(1,"div",0)(2,"label",1),t._uU(3,"Select User"),t.qZA(),t.TgZ(4,"mat-form-field",2)(5,"mat-select",3),t.YNc(6,L,2,2,"mat-option",4),t.qZA()()(),t.TgZ(7,"div",5),t.YNc(8,F,8,7,"div",6),t.qZA()()),2&e&&(t.xp6(5),t.Q6J("formControl",n.username),t.xp6(1),t.Q6J("ngForOf",n.users),t.xp6(2),t.Q6J("ngForOf",n.taskListArr))},dependencies:[C.sg,C.O5,p.JJ,p.oH,v.Hw,f.lW,x.KE,h.gD,A.ey],styles:[".task-lists[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content}.task-lists[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{box-shadow:0 10px 15px -3px #00000008,0 4px 6px -2px #0000000d}.task-lists[_ngcontent-%COMP%]   .priority_gray_low[_ngcontent-%COMP%]{background:rgba(128,128,128,.1490196078)}.task-lists[_ngcontent-%COMP%]   .priority_gray_high[_ngcontent-%COMP%]{background:rgba(128,128,128,.3607843137)}.task-lists[_ngcontent-%COMP%]   .priority_yellow_high[_ngcontent-%COMP%]{background:#E0D2C2}.task-lists[_ngcontent-%COMP%]   .priority_yellow_low[_ngcontent-%COMP%]{background:rgba(224,210,194,.3215686275)}.task-lists[_ngcontent-%COMP%]   .priority_orange_high[_ngcontent-%COMP%]{background:rgba(229,204,195,.7490196078)}.task-lists[_ngcontent-%COMP%]   .priority_orange_low[_ngcontent-%COMP%]{background:rgba(229,204,195,.2901960784)}.task-lists[_ngcontent-%COMP%]   .priority_pink_high[_ngcontent-%COMP%]{background:rgba(230,197,210,.7607843137)}.task-lists[_ngcontent-%COMP%]   .priority_pink_low[_ngcontent-%COMP%]{background:rgba(230,197,210,.3411764706)}.task-lists[_ngcontent-%COMP%]   .priority_green_high[_ngcontent-%COMP%]{background:rgba(196,216,204,.6117647059)}.task-lists[_ngcontent-%COMP%]   .priority_green_low[_ngcontent-%COMP%]{background:rgba(196,216,204,.2784313725)}.list-item[_ngcontent-%COMP%]:hover   .icon-list[_ngcontent-%COMP%]{display:flex!important}.icon-list[_ngcontent-%COMP%]{display:none}"],data:{animation:[(0,l.X$)("myTrigger",[(0,l.SB)("fadeInFlash",(0,l.oB)({opacity:"1"})),(0,l.eR)("void => *",[(0,l.oB)({opacity:"0",transform:"translateY(20px)"}),(0,l.jt)("500ms")])])]}}),o})()}];let $=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[k.Bz.forChild(U),k.Bz]}),o})(),S=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[T.m,v.Ps,O.vi,f.ot,x.lN,h.LD,$]}),o})()}}]);